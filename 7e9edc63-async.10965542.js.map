{"version":3,"sources":["../../node_modules/@antv/g6-extension-react/esm/react-node/render18.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as ReactDOM from 'react-dom';\nconst MARK = '__rc_react_root__';\nlet ReactDOMClientPromise = null;\n/**\n * <zh/> 初始化 React 18+ 的 createRoot\n *\n * <en/> Initialize React 18+ createRoot\n * @returns ReactDOMClient\n */\nfunction initReactDOMClient() {\n    if (ReactDOMClientPromise === null) {\n        ReactDOMClientPromise = import('react-dom/client').catch(() => null);\n    }\n    return ReactDOMClientPromise;\n}\n/**\n * <zh/> 切换警告\n *\n * <en/> Toggle warning\n * @param skip <zh/> 是否跳过警告 | <en/> Whether to skip the warning\n */\nfunction toggleWarning(skip) {\n    try {\n        const { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } = ReactDOM;\n        if (__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED &&\n            typeof __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED === 'object') {\n            __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.usingClientEntryPoint = skip;\n        }\n    }\n    catch (_a) {\n        // Silent error\n    }\n}\n/**\n * <zh/> 渲染 React 节点(React 18/19)\n *\n * <en/> Render React node(React 18/19)\n * @param node - <zh/> React 节点 | <en/> React node\n * @param container - <zh/> 容器 | <en/> Container\n */\nexport function render(node, container) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const client = yield initReactDOMClient();\n        if (!(client === null || client === void 0 ? void 0 : client.createRoot)) {\n            throw new Error('React 18+ createRoot not available');\n        }\n        toggleWarning(true);\n        const root = container[MARK] || client.createRoot(container);\n        toggleWarning(false);\n        root.render(node);\n        container[MARK] = root;\n    });\n}\n/**\n * <zh/> 卸载 React 节点(React 18/19)\n *\n * <en/> Unmount React node(React 18/19)\n * @param container - <zh/> 容器 | <en/> Container\n * @returns <zh/> Promise | <en/> Promise\n */\nexport function unmount(container) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // Delay to unmount to avoid React 18 sync warning\n        return Promise.resolve().then(() => {\n            var _a;\n            (_a = container[MARK]) === null || _a === void 0 ? void 0 : _a.unmount();\n            delete container[MARK];\n        });\n    });\n}\n//# sourceMappingURL=render18.js.map"],"names":[],"mappings":"sRAiDgB,MAAM,mBAAN,IAoBA,OAAO,mBAAP,8BA5DU,aATtB,EAAY,AAAC,IAAI,EAAI,IAAI,CAAC,SAAS,EAAK,SAAU,CAAO,CAAE,CAAU,CAAE,CAAC,CAAE,CAAS,EAEnF,OAAO,GAAK,CAAA,GAAM,CAAA,EAAI,OAAM,CAAC,EAAG,SAAU,CAAO,CAAE,CAAM,EACrD,SAAS,EAAU,CAAK,EAAI,GAAI,CAAE,EAAK,EAAU,IAAI,CAAC,IAAS,CAAE,MAAO,EAAG,CAAE,EAAO,GAAI,CAAE,CAC1F,SAAS,EAAS,CAAK,EAAI,GAAI,CAAE,EAAK,EAAU,KAAQ,CAAC,IAAS,CAAE,MAAO,EAAG,CAAE,EAAO,GAAI,CAAE,CAC7F,SAAS,EAAK,CAAM,MAJT,EAIa,EAAO,IAAI,CAAG,EAAQ,EAAO,KAAK,EAAI,AAJnC,CAAA,CAAhB,EAIyD,EAAO,KAAK,YAJpC,EAAI,EAAQ,IAAI,EAAE,SAAU,CAAO,EAAI,EAAQ,GAAQ,EAAC,EAIlB,IAAI,CAAC,EAAW,GAAW,CAC7G,EAAK,AAAC,CAAA,EAAY,EAAU,KAAK,CAAC,EAAS,GAAc,EAAE,CAAA,EAAG,IAAI,IACtE,GACJ,EAEA,IAAM,EAAO,oBACT,EAAwB,KAmB5B,SAAS,EAAc,CAAI,EACvB,GAAI,CACA,GAAM,CAAE,mDAAA,CAAkD,CAAE,CAAG,EAC3D,GACA,AAA8D,UAA9D,OAAO,GACP,CAAA,EAAmD,qBAAqB,CAAG,CAAG,EAEtF,CACA,MAAO,EAAI,CAEX,CACJ,CAQO,SAAS,EAAO,CAAI,CAAE,CAAS,EAClC,OAAO,EAAU,IAAI,CAAE,KAAK,EAAG,KAAK,EAAG,YACnC,IAAM,EAAS,MAhCW,OAA1B,GACA,CAAA,EAAwB,uEAA2B,KAAK,CAAC,IAAM,KAAI,EAEhE,GA8BH,GAAI,CAAE,CAAA,MAAA,EAAuC,KAAK,EAAI,EAAO,UAAU,AAAD,EAClE,MAAM,AAAI,MAAM,sCAEpB,EAAc,CAAA,GACd,IAAM,EAAO,CAAS,CAAC,EAAK,EAAI,EAAO,UAAU,CAAC,GAClD,EAAc,CAAA,GACd,EAAK,MAAM,CAAC,GACZ,CAAS,CAAC,EAAK,CAAG,EACtB,GACJ,CAQO,SAAS,EAAQ,CAAS,EAC7B,OAAO,EAAU,IAAI,CAAE,KAAK,EAAG,KAAK,EAAG,YAEnC,OAAO,QAAQ,OAAO,GAAG,IAAI,CAAC,KAC1B,IAAI,EACJ,AAA2B,OAA1B,CAAA,EAAK,CAAS,CAAC,EAAK,AAAD,GAAe,AAAO,KAAK,IAAZ,GAAyB,EAAG,OAAO,GACtE,OAAO,CAAS,CAAC,EAAK,CAC1B,GACJ,GACJ"}