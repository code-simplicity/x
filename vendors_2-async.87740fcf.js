(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_@ant-design/x"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_@ant-design/x"]||[]).push([["vendors_2"],{"00005e6b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("62b43f89")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"001b37e9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0d25c105")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0032afaa":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{DPR:function(){return E;},addClass:function(){return f;},addStyle:function(){return T;},appendElementType:function(){return P;},clearChildren:function(){return x;},create:function(){return u;},css2Style:function(){return O;},empty:function(){return v;},findParentElement:function(){return L;},getClass:function(){return p;},getContainer:function(){return a;},getDiffRect:function(){return R;},getStyleList:function(){return A;},getViewPortScale:function(){return y;},hasClass:function(){return c;},printCanvas:function(){return b;},remove:function(){return l;},removeClass:function(){return s;},removeStyle:function(){return S;},setChecked:function(){return M;},setClass:function(){return d;},setTransform:function(){return m;},setUnDraggable:function(){return C;},splitWords:function(){return o;},toggleClass:function(){return h;},triggerResize:function(){return g;},trim:function(){return i;}});var{pull:n}=r("5df46fe6").lodashUtil;function a(e){let t=e;return"string"==typeof e&&(t=window.document.getElementById(e)),t;}function i(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"");}function o(e){return i(e).split(/\s+/);}function u(e,t,r){let n=window.document.createElement(e);return t&&(n.className=t||""),r&&r.appendChild(n),n;}function l(e){let t=e.parentNode;t&&t.removeChild(e);}function f(e,t){if(void 0!==e.classList){let r=o(t);for(let t=0,n=r.length;t<n;t++)e.classList.add(r[t]);}else if(!c(e,t)){let r=p(e);d(e,(r?r+" ":"")+t);}}function s(e,t){void 0!==e.classList?o(t).forEach(t=>{e.classList.remove(t);}):d(e,i((" "+p(e)+" ").replace(" "+t+" "," ")));}function c(e,t){if(void 0!==e.classList)return e.classList.contains(t);let r=p(e);return r.length>0&&RegExp("(^|\\s)"+t+"(\\s|$)").test(r);}function d(e,t){e instanceof HTMLElement?e.className=t:e.className.baseVal=t;}function h(e,t,r){void 0===r?c(e,t)?s(e,t):f(e,t):r?f(e,t):s(e,t);}function p(e){return e instanceof SVGElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal;}function v(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild);}var _=function(e){var t;let r=null==(t=null==document?void 0:document.documentElement)?void 0:t.style;if(!r)return e[0];for(let t in e)if(e[t]&&e[t]in r)return e[t];return e[0];}(["transform","WebkitTransform"]);function m(e,t){e.style[_]=t;}function g(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{let e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e);}}function b(e){console.log("%c\n",["padding: "+(e.height/2-8)+"px "+e.width/2+"px;","line-height: "+e.height+"px;","background-image: url("+e.toDataURL()+");"].join(""));}function y(){var e;let t=window.document.querySelector('meta[name="viewport"]');if(!t)return 1;let r=(null==(e=t.content)?void 0:e.split(",")).find(e=>{let[t]=e.split("=");return"initial-scale"===t;});return r?1*r.split("=")[1]:1;}var E=1>y()?1:window.devicePixelRatio;function T(e,t){e.setAttribute("style",`${e.style.cssText}${t}`);}function A(e){return e.split(";").map(e=>e.trim()).filter(e=>e);}function S(e,t){var r;let a=n(A(null!=(r=e.getAttribute("style"))?r:""),...A(t));e.setAttribute("style",a.join(";"));}function O(e){return Object.entries(e).map(([e,t])=>`${e}: ${t}`).join(";");}function R(e,t){return{left:e.left-t.left,top:e.top-t.top,right:t.left+t.width-e.left-e.width,bottom:t.top+t.height-e.top-e.height};}function M(e,t){e.checked=t,t?e.setAttribute("checked","true"):e.removeAttribute("checked");}function x(e){e.innerHTML="";}function C(e){e.setAttribute("draggable","false");}function P(e,t){if("string"==typeof t){let r=document.createElement("div");for(r.innerHTML=t;r.firstChild;)e.append(r.firstChild);}else Array.isArray(t)?e.append(...t):e.append(t);}function L(e,t){var r;let n=Array.isArray(t)?t:[t],a=e;for(;a instanceof Element&&a!==window.document.body;){if(n.find(e=>null==a?void 0:a.matches(e)))return a;a=null!=(r=null==a?void 0:a.parentElement)?r:null;}}},"004bfbe9":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return c;}});var n,a=r("777fffbe"),i=a._(r("a0c669d5")),o=a._(r("b9fd3c65")),u=a._(r("e1e610e4")),l=r("7f434d9f"),f=a._(r("6c8aee75")),s=((n=s||{}).UP="up",n.DOWN="down",n);class c extends f.default{constructor(...e){super(...e),(0,u.default)(this,"texture",void 0),(0,u.default)(this,"mapTexture",void 0),(0,u.default)(this,"positions",void 0),(0,u.default)(this,"indices",void 0),(0,u.default)(this,"timer",void 0),(0,u.default)(this,"spriteTop",void 0),(0,u.default)(this,"spriteUpdate",void 0),(0,u.default)(this,"spriteAnimate",void 0),(0,u.default)(this,"planeGeometryUpdateTriangulation",()=>{let{spriteBottom:e=-10}=this.layer.getLayerConfig(),t=this.spriteUpdate,r=this.spriteTop;for(let n=0;n<this.positions.length;n+=5)this.spriteAnimate===s.UP?(this.positions[n+2]+=t,this.positions[n+2]>r&&(this.positions[n+2]=e)):(this.positions[n+2]-=t,this.positions[n+2]<e&&(this.positions[n+2]=r));return{vertices:this.positions,indices:this.indices,size:5};}),(0,u.default)(this,"updatePosition",()=>{var e;this.planeGeometryUpdateTriangulation();let t=null===(e=this.styleAttributeService.getLayerStyleAttribute("position"))||void 0===e?void 0:e.vertexAttribute;if(t){let e=[];for(let t=0;t<this.positions.length;t+=5)e.push(this.positions[t],this.positions[t+1],this.positions[t+2]);t.updateBuffer({data:e,offset:0});}this.layerService.throttleRenderLayers(),this.timer=requestAnimationFrame(this.updatePosition);}),(0,u.default)(this,"planeGeometryTriangulation",()=>{let{center:e=[120,30],spriteCount:t=100,spriteRadius:r=10}=this.layer.getLayerConfig(),{indices:n,positions:a}=this.initSprite(r,t,...e);return this.positions=a,this.indices=n,{vertices:a,indices:n,size:5};});}initSprite(e=10,t=100,r=120,n=30){let a=[],i=[],o=this.spriteAnimate===s.UP?-this.spriteTop:this.spriteTop;for(let a=0;a<t;a++){let t=Math.random()*o;i.push(...function(t){let a=e*Math.random(),i=e*Math.random();return[-e/2+a+r,-(-e/2+i)+n,t,0,0];}(t));}for(let e=0;e<t;e++)a.push(e);return{indices:a,positions:i};}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,o.default)((0,o.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{opacity:e,mapTexture:t,spriteScale:r=1}=this.layer.getLayerConfig();if(this.mapTexture!==t){var n;this.mapTexture=t,null===(n=this.texture)||void 0===n||n.destroy(),this.textures=[],this.updateTexture(t);}let a={u_opacity:e||1,u_mapFlag:t?1:0,u_Scale:r,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(a);}clearModels(){var e;cancelAnimationFrame(this.timer),null===(e=this.texture)||void 0===e||e.destroy(),this.textures=[];}initModels(){var e=this;return(0,i.default)(function*(){let{mapTexture:t,spriteTop:r=300,spriteUpdate:n=10,spriteAnimate:a=s.DOWN}=e.layer.getLayerConfig();e.initUniformsBuffer(),e.mapTexture=t,e.spriteTop=r,e.spriteUpdate=n,"up"===a?e.spriteAnimate=s.UP:e.spriteAnimate=s.DOWN;let{createTexture2D:i}=e.rendererService;return e.texture=i({height:0,width:0}),e.updateTexture(t),setTimeout(()=>{e.updatePosition();},100),[(yield e.layer.buildLayerModel({moduleName:"geometrySprite",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec3 a_Color;\n\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_mapFlag;\n  float u_Scale;\n};\n\nout vec3 v_Color;\nout float v_d;\n\n#pragma include "projection"\nvoid main() {\n  v_Color = a_Color.xyz;\n  v_d = a_Position.z;\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, a_Position.z, 1.0));\n  gl_PointSize = pow(u_Zoom - 1.0, 2.0) * u_Scale;\n}\n',fragmentShader:"layout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_mapFlag;\n  float u_Scale;\n};\nuniform sampler2D u_texture;\n\nin vec3 v_Color;\nin float v_d;\nout vec4 outputColor;\n\nvoid main() {\n  if (v_d < 0.0) {\n    discard;\n  }\n\n  if (u_mapFlag > 0.0) {\n    outputColor = texture(SAMPLER_2D(u_texture), gl_PointCoord);\n    outputColor.a *= u_opacity;\n  } else {\n    outputColor = vec4(v_Color, u_opacity);\n  }\n}\n",triangulation:e.planeGeometryTriangulation,defines:e.getDefines(),inject:e.getInject(),primitive:l.gl.POINTS,depth:{enable:!1},blend:e.getBlend()}))];})();}buildModels(){var e=this;return(0,i.default)(function*(){return e.initModels();})();}updateTexture(e){let{createTexture2D:t}=this.rendererService;if(e){let r=new Image;r.crossOrigin="anonymous",r.onload=()=>{this.texture=t({data:r,width:r.width,height:r.height,wrapS:l.gl.CLAMP_TO_EDGE,wrapT:l.gl.CLAMP_TO_EDGE}),this.layerService.reRender();},r.src=e;}else this.texture=t({width:1,height:1});}registerBuiltinAttributes(){return"";}}},"00d4b220":function(e,t,r){"use strict";var n=r("abd92112");function a(e,t,r,n,a){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=a,e.readFields(i,this,t);}function i(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],a=t._values[e.readVarint()];t.properties[n]=a;}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos);}e.exports=a,a.types=["Unknown","Point","LineString","Polygon"],a.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,a=1,i=0,o=0,u=0,l=[];e.pos<r;){if(i<=0){var f=e.readVarint();a=7&f,i=f>>3;}if(i--,1===a||2===a)o+=e.readSVarint(),u+=e.readSVarint(),1===a&&(t&&l.push(t),t=[]),t.push(new n(o,u));else if(7===a)t&&t.push(t[0].clone());else throw Error("unknown command "+a);}return t&&l.push(t),l;},a.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,a=0,i=0,o=1/0,u=-1/0,l=1/0,f=-1/0;e.pos<t;){if(n<=0){var s=e.readVarint();r=7&s,n=s>>3;}if(n--,1===r||2===r)a+=e.readSVarint(),i+=e.readSVarint(),a<o&&(o=a),a>u&&(u=a),i<l&&(l=i),i>f&&(f=i);else if(7!==r)throw Error("unknown command "+r);}return[o,l,u,f];},a.prototype.toGeoJSON=function(e,t,r){var n,i,o=this.extent*Math.pow(2,r),u=this.extent*e,l=this.extent*t,f=this.loadGeometry(),s=a.types[this.type];function c(e){for(var t=0;t<e.length;t++){var r=e[t],n=180-(r.y+l)*360/o;e[t]=[(r.x+u)*360/o-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90];}}switch(this.type){case 1:var d=[];for(n=0;n<f.length;n++)d[n]=f[n][0];c(f=d);break;case 2:for(n=0;n<f.length;n++)c(f[n]);break;case 3:for(n=0,f=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,a=[],i=0;i<t;i++){var o=function(e){for(var t,r,n=0,a=0,i=e.length,o=i-1;a<i;o=a++)t=e[a],n+=((r=e[o]).x-t.x)*(t.y+r.y);return n;}(e[i]);0!==o&&(void 0===n&&(n=o<0),n===o<0?(r&&a.push(r),r=[e[i]]):r.push(e[i]));}return r&&a.push(r),a;}(f);n<f.length;n++)for(i=0;i<f[n].length;i++)c(f[n][i]);}1===f.length?f=f[0]:s="Multi"+s;var h={type:"Feature",geometry:{type:s,coordinates:f},properties:this.properties};return"id"in this&&(h.id=this.id),h;};},"00f7e909":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("e1e610e4")),u=n._(r("07a31cab")),l=n._(r("b18bb84b"));class f extends u.default{constructor(...e){super(...e),(0,o.default)(this,"type","LineLayer"),(0,o.default)(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","thetaOffset"]),(0,o.default)(this,"arrowInsertCount",0),(0,o.default)(this,"defaultSourceConfig",{data:[{lng1:100,lat1:30,lng2:130,lat2:30}],options:{parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}}});}buildModels(){var e=this;return(0,i.default)(function*(){let t=e.getModelType();e.layerModel=new l.default[t](e),yield e.initLayerModels();})();}getDefaultConfig(){return({line:{},linearline:{},simple:{},wall:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"},tileLine:{},earthArc3d:{},flowline:{},arrow:{}})[this.getModelType()];}getModelType(){var e;if(this.layerType)return this.layerType;let t=this.styleAttributeService.getLayerStyleAttribute("shape");return(null==t||null===(e=t.scale)||void 0===e?void 0:e.field)||"line";}processData(e){if("simple"!==this.getModelType())return e;let t=[];return e.map(e=>{if(Array.isArray(e.coordinates)&&Array.isArray(e.coordinates[0])&&Array.isArray(e.coordinates[0][0])){let r=(0,a.default)({},e);e.coordinates.map(e=>{t.push((0,a.default)((0,a.default)({},r),{},{coordinates:e}));});}else t.push(e);}),t;}}},"010b7298":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("49fb01c2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"01758e1b":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"LRUCache",{enumerable:!0,get:function(){return n;}});var n=class{constructor(e=50,t){this.limit=e,this.destroy=t||this.defaultDestroy,this.order=[],this.clear();}clear(){this.order.forEach(e=>{this.delete(e);}),this.cache={},this.order=[];}get(e){let t=this.cache[e];return t&&(this.deleteOrder(e),this.appendOrder(e)),t;}set(e,t){this.cache[e]?this.delete(e):Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[e]=t,this.appendOrder(e);}delete(e){let t=this.cache[e];t&&(this.deleteCache(e),this.deleteOrder(e),this.destroy(t,e));}deleteCache(e){delete this.cache[e];}deleteOrder(e){let t=this.order.findIndex(t=>t===e);t>=0&&this.order.splice(t,1);}appendOrder(e){this.order.push(e);}defaultDestroy(e,t){return null;}};},"0177a216":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("97b369e4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"01a23861":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("39252645")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"021b182a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1f13807b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0226dd4a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2eaf321b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"02803cea":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("03b2bbfc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"02c88f3d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9c403144")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"02d69789":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2e1cebd0")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"02efb9d7":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{calendar:function(){return d;},default:function(){return h;}});var n=r("777fffbe"),a=r("852bbaa9"),i=r("c4fb5898"),o=r("9a95e627"),u=a._(r("39721a47")),l=r("d0fac4de"),f=n._(r("bc27b93e"));function s(e){return new Date(e);}function c(e){return e instanceof Date?+e:+new Date(+e);}function d(e,t,r,n,a,i,o,l,h,p){var v=(0,u.default)(),_=v.invert,m=v.domain,g=p(".%L"),b=p(":%S"),y=p("%I:%M"),E=p("%I %p"),T=p("%a %d"),A=p("%b %d"),S=p("%B"),O=p("%Y");function R(e){return(h(e)<e?g:l(e)<e?b:o(e)<e?y:i(e)<e?E:n(e)<e?a(e)<e?T:A:r(e)<e?S:O)(e);}return v.invert=function(e){return new Date(_(e));},v.domain=function(e){return arguments.length?m(Array.from(e,c)):m().map(s);},v.ticks=function(t){var r=m();return e(r[0],r[r.length-1],null==t?10:t);},v.tickFormat=function(e,t){return null==t?R:p(t);},v.nice=function(e){var r=m();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?m((0,f.default)(r,e)):v;},v.copy=function(){return(0,u.copy)(v,d(e,t,r,n,a,i,o,l,h,p));},v;}function h(){return l.initRange.apply(d(i.timeTicks,i.timeTickInterval,i.timeYear,i.timeMonth,i.timeWeek,i.timeDay,i.timeHour,i.timeMinute,i.timeSecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments);}},"0312865a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3ab772e5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"03224ccd":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{timeDay:function(){return i;},timeDays:function(){return o;},unixDay:function(){return f;},unixDays:function(){return s;},utcDay:function(){return u;},utcDays:function(){return l;}});var n=r("d7f30e4c"),a=r("0bb366b0");let i=(0,n.timeInterval)(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*a.durationMinute)/a.durationDay,e=>e.getDate()-1),o=i.range,u=(0,n.timeInterval)(e=>{e.setUTCHours(0,0,0,0);},(e,t)=>{e.setUTCDate(e.getUTCDate()+t);},(e,t)=>(t-e)/a.durationDay,e=>e.getUTCDate()-1),l=u.range,f=(0,n.timeInterval)(e=>{e.setUTCHours(0,0,0,0);},(e,t)=>{e.setUTCDate(e.getUTCDate()+t);},(e,t)=>(t-e)/a.durationDay,e=>Math.floor(e/a.durationDay)),s=f.range;},"03c19ff4":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{MouseLocation:function(){return f;},default:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("506dacbb"));class f extends l.default{constructor(...e){super(...e),(0,i.default)(this,"location",[0,0]),(0,i.default)(this,"onMouseMove",e=>{let t=this.location,r=e.lngLat||e.lnglat,{transform:n}=this.controlOption;r&&(t=[r.lng,r.lat]),this.location=t,n&&(t=n(t)),this.insertLocation2HTML(t),this.emit("locationChange",t);});}getLocation(){return this.location;}getDefault(e){return(0,a.default)((0,a.default)({},super.getDefault(e)),{},{position:o.PositionType.BOTTOMLEFT,transform:([e,t])=>[+(+e).toFixed(6),+(+t).toFixed(6)]});}onAdd(){let e=u.DOM.create("div","l7-control-mouse-location");return e.innerHTML="&nbsp;",this.mapsService.on("mousemove",this.onMouseMove),e;}onRemove(){this.mapsService.off("mousemove",this.onMouseMove);}insertLocation2HTML(e){this.container.innerText=e.join(", ");}}},"04010d14":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("92d7b542")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"04458bc1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("39b96473")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"04a24bae":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return p;}});var n=r("777fffbe"),a=n._(r("c92bc3d3")),i=n._(r("1a66d284")),o=n._(r("910bdb6e")),u=n._(r("a7755ce7")),l=n._(r("9a51e2f7")),f=n._(r("ccba6a2e")),s=n._(r("ac98b261")),c=n._(r("967635f0")),d=n._(r("31a0b34d")),h=n._(r("d9ce4a54")),p={fillImage:f.default,fill:l.default,radar:d.default,image:s.default,normal:c.default,simplePoint:a.default,extrude:u.default,text:h.default,earthFill:o.default,earthExtrude:i.default};},"04c9a2fa":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e0def4ca")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"04ce892b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a79739b7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"04d8323e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("4b19d198"));class o extends i.default{setupShaders(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n",fs:'varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Angle : 0;\nuniform float u_Size : 8;\n\n#pragma include "common"\n\nfloat scale = PI / u_Size;\n\nfloat pattern(float u_Angle, vec2 texSize, vec2 texCoord) {\n  float s = sin(u_Angle), c = cos(u_Angle);\n  vec2 tex = texCoord * texSize - u_Center * texSize;\n  vec2 point = vec2(\n    c * tex.x - s * tex.y,\n    s * tex.x + c * tex.y\n  ) * scale;\n  return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js\nvec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  vec3 cmy = 1.0 - color.rgb;\n  float k = min(cmy.x, min(cmy.y, cmy.z));\n  cmy = (cmy - k) / (1.0 - k);\n  cmy = clamp(\n    cmy * 10.0 - 3.0 + vec3(\n      pattern(u_Angle + 0.26179, texSize, texCoord),\n      pattern(u_Angle + 1.30899, texSize, texCoord),\n      pattern(u_Angle, texSize, texCoord)\n    ),\n    0.0,\n    1.0\n  );\n  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);\n  return vec4(1.0 - cmy - k, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);\n}'});let{vs:e,fs:t,uniforms:r}=this.shaderModuleService.getModule("colorhalftone-pass"),{width:n,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,a.default)((0,a.default)({},r),{},{u_ViewportSize:[n,i]})};}}},"050374c8":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cf10ce98")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0511fccf":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("e1e610e4")),a=class{constructor(e,t,r){(0,n.default)(this,"boxCells",[]),(0,n.default)(this,"xCellCount",void 0),(0,n.default)(this,"yCellCount",void 0),(0,n.default)(this,"boxKeys",void 0),(0,n.default)(this,"bboxes",void 0),(0,n.default)(this,"width",void 0),(0,n.default)(this,"height",void 0),(0,n.default)(this,"xScale",void 0),(0,n.default)(this,"yScale",void 0),(0,n.default)(this,"boxUid",void 0);let a=this.boxCells;this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(let e=0;e<this.xCellCount*this.yCellCount;e++)a.push([]);this.boxKeys=[],this.bboxes=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0;}insert(e,t,r,n,a){this.forEachCell(t,r,n,a,this.insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(a);}query(e,t,r,n,a){return this.queryHitTest(e,t,r,n,!1,a);}hitTest(e,t,r,n,a){return this.queryHitTest(e,t,r,n,!0,a);}insertBoxCell(e,t,r,n,a,i){this.boxCells[a].push(i);}queryHitTest(e,t,r,n,a,i){if(r<0||e>this.width||n<0||t>this.height)return!a&&[];let o=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(a)return!0;for(let e=0;e<this.boxKeys.length;e++)o.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});return i?o.filter(i):o;}return this.forEachCell(e,t,r,n,this.queryCell,o,{hitTest:a,seenUids:{box:{},circle:{}}},i),a?o.length>0:o;}queryCell(e,t,r,n,a,i,o,u){let l=o.seenUids,f=this.boxCells[a];if(null!==f){let a=this.bboxes;for(let s of f)if(!l.box[s]){l.box[s]=!0;let f=4*s;if(e<=a[f+2]&&t<=a[f+3]&&r>=a[f+0]&&n>=a[f+1]&&(!u||u(this.boxKeys[s]))){if(o.hitTest)return i.push(!0),!0;i.push({key:this.boxKeys[s],x1:a[f],y1:a[f+1],x2:a[f+2],y2:a[f+3]});}}}return!1;}forEachCell(e,t,r,n,a,i,o,u){let l=this.convertToXCellCoord(e),f=this.convertToYCellCoord(t),s=this.convertToXCellCoord(r),c=this.convertToYCellCoord(n);for(let d=l;d<=s;d++)for(let l=f;l<=c;l++){let f=this.xCellCount*l+d;if(a.call(this,e,t,r,n,f,i,o,u))return;}}convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)));}convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)));}};},"054c650c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("67a81ad0")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"05a2b55a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2063f77a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"05ef8339":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("00f7e909")),o=n._(r("39cf136b")),u=n._(r("aef3738c"));class l extends u.default{initTileLayer(){var e=this;return(0,a.default)(function*(){let t=e.getSourceOption(),r=t.data.features[0].properties,n=new i.default().source(t.data,t.options).size(1).shape("line").color("red"),a=new o.default({minZoom:e.z-1,maxZoom:e.z+1,textAllowOverlap:!0}).source([r],{parser:{type:"json",x:"x",y:"y"}}).size(20).color("red").shape(e.key).style({stroke:"#fff",strokeWidth:2});yield e.addLayer(n),yield e.addLayer(a),e.isLoaded=!0;})();}getSourceOption(){let e=this.parent.getSource();return{data:{type:"FeatureCollection",features:this.sourceTile.data.layers.testTile.features},options:{parser:{type:"geojson"},transforms:e.transforms}};}}},"060c166d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f20b7ca2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"06221d45":function(e,t,r){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++;}};};},"06434d8e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f2b8b61c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0655c0e1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("19dcff23")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"06a182c2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d9ce65f4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"06a309fa":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return i;},utcYears:function(){return o;}});var n=r("777fffbe")._(r("d365c0f8")),a=(0,n.default)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t);},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear();},function(e){return e.getUTCFullYear();});a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,n.default)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e);}):null;};var i=a,o=a.range;},"06e3dab7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("07d39cdf")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"071bc11b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0a74d29a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"072b13ca":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("41cd6fcc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"072c78a8":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("01a3b977")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"074215d9":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{csvFormat:function(){return o;},csvFormatBody:function(){return u;},csvFormatRow:function(){return f;},csvFormatRows:function(){return l;},csvFormatValue:function(){return s;},csvParse:function(){return a;},csvParseRows:function(){return i;}});var n=(0,r("777fffbe")._(r("4a3fc6ce")).default)(","),a=n.parse,i=n.parseRows,o=n.format,u=n.formatBody,l=n.formatRows,f=n.formatRow,s=n.formatValue;},"07599ede":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d3c635ae")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"07a31cab":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return M;}});var n=r("777fffbe"),a=n._(r("cc661f7c")),i=n._(r("a0c669d5")),o=n._(r("b9fd3c65")),u=n._(r("e1e610e4")),l=r("82a731f4"),f=r("7f434d9f"),s=r("55ff22e1"),c=r("89217383"),d=r("f9311c0b"),h=r("45d50f64"),p=r("5a262fe8"),v=r("731aa3a9"),_=n._(r("11ff2194")),m=n._(r("9b5812ad"));let g=["passes"],b=["moduleName","vertexShader","fragmentShader","defines","inject","triangulation","styleOption","pickingEnabled"],{isEqual:y,isFunction:E,isNumber:T,isObject:A,isPlainObject:S,isUndefined:O}=c.lodashUtil,R=0;class M extends d.EventEmitter{get shaderModuleService(){return this.container.shaderModuleService;}get cameraService(){return this.container.cameraService;}get coordinateService(){return this.container.coordinateSystemService;}get iconService(){return this.container.iconService;}get fontService(){return this.container.fontService;}get pickingService(){return this.container.pickingService;}get rendererService(){return this.container.rendererService;}get layerService(){return this.container.layerService;}get debugService(){return this.container.debugService;}get interactionService(){return this.container.interactionService;}get mapService(){var e;return null===(e=this.container)||void 0===e?void 0:e.mapService;}get normalPassFactory(){return this.container.normalPassFactory;}constructor(e={}){super(),(0,u.default)(this,"id",`${R++}`),(0,u.default)(this,"name",`${R}`),(0,u.default)(this,"parent",void 0),(0,u.default)(this,"coordCenter",void 0),(0,u.default)(this,"type",void 0),(0,u.default)(this,"visible",!0),(0,u.default)(this,"zIndex",0),(0,u.default)(this,"minZoom",void 0),(0,u.default)(this,"maxZoom",void 0),(0,u.default)(this,"inited",!1),(0,u.default)(this,"layerModelNeedUpdate",!1),(0,u.default)(this,"pickedFeatureID",null),(0,u.default)(this,"selectedFeatureID",null),(0,u.default)(this,"styleNeedUpdate",!1),(0,u.default)(this,"rendering",void 0),(0,u.default)(this,"forceRender",!1),(0,u.default)(this,"clusterZoom",0),(0,u.default)(this,"layerType",void 0),(0,u.default)(this,"triangulation",void 0),(0,u.default)(this,"layerPickService",void 0),(0,u.default)(this,"textureService",void 0),(0,u.default)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json"}}}),(0,u.default)(this,"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),(0,u.default)(this,"hooks",{init:new l.AsyncSeriesBailHook,afterInit:new l.SyncBailHook,beforeRender:new l.SyncBailHook,beforeRenderData:new l.AsyncWaterfallHook,afterRender:new l.SyncHook,beforePickingEncode:new l.SyncHook,afterPickingEncode:new l.SyncHook,beforeHighlight:new l.SyncHook(["pickedColor"]),afterHighlight:new l.SyncHook,beforeSelect:new l.SyncHook(["pickedColor"]),afterSelect:new l.SyncHook,beforeDestroy:new l.SyncHook,afterDestroy:new l.SyncHook}),(0,u.default)(this,"models",[]),(0,u.default)(this,"multiPassRenderer",void 0),(0,u.default)(this,"plugins",void 0),(0,u.default)(this,"startInit",!1),(0,u.default)(this,"sourceOption",void 0),(0,u.default)(this,"layerModel",void 0),(0,u.default)(this,"shapeOption",void 0),(0,u.default)(this,"tileLayer",void 0),(0,u.default)(this,"layerChildren",[]),(0,u.default)(this,"masks",[]),(0,u.default)(this,"configService",f.globalConfigService),(0,u.default)(this,"styleAttributeService",void 0),(0,u.default)(this,"layerSource",void 0),(0,u.default)(this,"postProcessingPassFactory",void 0),(0,u.default)(this,"animateOptions",{enable:!1}),(0,u.default)(this,"relativeOrigin",[0,0]),(0,u.default)(this,"originalExtent",[0,0,0,0]),(0,u.default)(this,"absoluteDataArray",[]),(0,u.default)(this,"container",void 0),(0,u.default)(this,"encodedData",void 0),(0,u.default)(this,"currentPickId",null),(0,u.default)(this,"rawConfig",void 0),(0,u.default)(this,"needUpdateConfig",void 0),(0,u.default)(this,"encodeStyleAttribute",{}),(0,u.default)(this,"enableShaderEncodeStyles",[]),(0,u.default)(this,"enableDataEncodeStyles",[]),(0,u.default)(this,"pendingStyleAttributes",[]),(0,u.default)(this,"scaleOptions",{}),(0,u.default)(this,"animateStartTime",void 0),(0,u.default)(this,"animateStatus",!1),(0,u.default)(this,"isDestroyed",!1),(0,u.default)(this,"uniformBuffers",[]),(0,u.default)(this,"encodeDataLength",0),(0,u.default)(this,"sourceEvent",()=>{this.dataState.dataSourceNeedUpdate=!0,this.processRelativeCoordinates();let e=this.getLayerConfig();e&&e.autoFit&&this.fitBounds(e.fitBoundsOptions),this.layerSource.getSourceCfg().autoRender&&setTimeout(()=>{this.reRender();},10);}),this.name=e.name||this.id,this.zIndex=e.zIndex||0,this.rawConfig=e,this.masks=e.maskLayers||[];}addMask(e){this.masks.push(e),this.updateLayerConfig({maskLayers:this.masks}),this.enableMask();}removeMask(e){let t=this.masks.indexOf(e);t>-1&&this.masks.splice(t,1),this.updateLayerConfig({maskLayers:this.masks});}disableMask(){this.updateLayerConfig({enableMask:!1});}enableMask(){this.updateLayerConfig({enableMask:!0});}addMaskLayer(e){this.masks.push(e);}removeMaskLayer(e){let t=this.masks.indexOf(e);t>-1&&this.masks.splice(t,1),e.destroy();}getAttribute(e){return this.styleAttributeService.getLayerStyleAttribute(e);}getLayerConfig(){return this.configService.getLayerConfig(this.id);}updateLayerConfig(e){if(Object.keys(e).map(t=>{t in this.rawConfig&&(this.rawConfig[t]=e[t]);}),this.startInit){let t=this.container.id;this.configService.setLayerConfig(t,this.id,(0,o.default)((0,o.default)((0,o.default)({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),e)),this.needUpdateConfig={};}else this.needUpdateConfig=(0,o.default)((0,o.default)({},this.needUpdateConfig),e);}setContainer(e){this.container=e;}getContainer(){return this.container;}addPlugin(e){return this.plugins.push(e),this;}init(){var e=this;return(0,i.default)(function*(){let t=e.container.id;e.startInit=!0,e.configService.setLayerConfig(t,e.id,e.rawConfig),e.layerType=e.rawConfig.layerType;let{enableMultiPassRenderer:r,passes:n}=e.getLayerConfig();for(let t of(r&&null!=n&&n.length&&n.length>0&&e.mapService.on("mapAfterFrameChange",()=>{e.renderLayers();}),e.postProcessingPassFactory=e.container.postProcessingPassFactory,e.styleAttributeService=e.container.styleAttributeService,r&&(e.multiPassRenderer=e.container.multiPassRenderer,e.multiPassRenderer.setLayer(e)),e.pendingStyleAttributes.forEach(({attributeName:t,attributeField:r,attributeValues:n,updateOptions:a})=>{e.styleAttributeService.updateStyleAttribute(t,{scale:(0,o.default)({field:r},e.splitValuesAndCallbackInAttribute(n,r?void 0:e.getLayerConfig()[t]))},a);}),e.pendingStyleAttributes=[],e.plugins=(0,h.createPlugins)(),e.plugins))t.apply(e,e.container);e.layerPickService=new _.default(e),e.textureService=new m.default(e),e.log(f.IDebugLog.LayerInitStart),yield e.hooks.init.promise(),e.log(f.IDebugLog.LayerInitEnd),e.inited=!0,e.emit("inited",{target:e,type:"inited"}),e.emit("add",{target:e,type:"add"}),e.hooks.afterInit.call();})();}log(e,t="init"){var r;if(this.tileLayer||this.isTileLayer)return;let n=`${this.id}.${t}.${e}`,a={id:this.id,type:this.type};null===(r=this.debugService)||void 0===r||r.log(n,a);}updateModelData(e){e.attributes&&e.elements?this.models.map(t=>{t.updateAttributesAndElements(e.attributes,e.elements);}):console.warn("data error");}setLayerPickService(e){this.layerPickService=e;}prepareBuildModel(){0!==Object.keys(this.needUpdateConfig||{}).length&&this.updateLayerConfig({});let{animateOption:e}=this.getLayerConfig();null!=e&&e.enable&&(this.layerService.startAnimate(),this.animateStatus=!0);}color(e,t,r){return this.updateStyleAttribute("color",e,t,r),this;}texture(e,t,r){return this.updateStyleAttribute("texture",e,t,r),this;}rotate(e,t,r){return this.updateStyleAttribute("rotate",e,t,r),this;}size(e,t,r){return this.updateStyleAttribute("size",e,t,r),this;}filter(e,t,r){let n=this.updateStyleAttribute("filter",e,t,r);return this.dataState.dataSourceNeedUpdate=n&&this.inited,this;}shape(e,t,r){this.shapeOption={field:e,values:t};let n=this.updateStyleAttribute("shape",e,t,r);return this.dataState.dataSourceNeedUpdate=n&&this.inited,this;}label(e,t,r){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:e,attributeValues:t,updateOptions:r}),this;}animate(e){let t={};return A(e)?(t.enable=!0,t=(0,o.default)((0,o.default)({},t),e)):t.enable=e,this.updateLayerConfig({animateOption:t}),this;}source(e,t){return(null==e?void 0:e.type)==="source"?this.setSource(e):(this.sourceOption={data:e,options:t},this.clusterZoom=0),this;}setData(e,t){return this.inited?(this.dataUpdatelog(),this.layerSource.setData(e,t)):this.on("inited",()=>{this.dataUpdatelog(),this.layerSource.setData(e,t);}),this;}dataUpdatelog(){this.log(f.IDebugLog.SourceInitStart,f.ILayerStage.UPDATE),this.layerSource.once("update",()=>{this.log(f.IDebugLog.SourceInitEnd,f.ILayerStage.UPDATE);});}style(e){let{passes:t}=e,r=(0,a.default)(e,g);return t&&(0,v.normalizePasses)(t).forEach(e=>{let t=this.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(e[0]);t&&t.updateOptions(e[1]);}),r.borderColor&&(r.stroke=r.borderColor),r.borderWidth&&(r.strokeWidth=r.borderWidth),Object.keys(r).forEach(e=>{let t=r[e];!Array.isArray(t)||2!==t.length||T(t[0])||T(t[1])||(r[e]={field:t[0],value:t[1]});}),this.encodeStyle(r),this.updateLayerConfig(r),this;}encodeStyle(e){Object.keys(e).forEach(t=>{[...this.enableShaderEncodeStyles,...this.enableDataEncodeStyles].includes(t)&&S(e[t])&&(e[t].field||e[t].value)&&!y(this.encodeStyleAttribute[t],e[t])?(this.encodeStyleAttribute[t]=e[t],this.updateStyleAttribute(t,e[t].field,e[t].value),this.inited&&(this.dataState.dataMappingNeedUpdate=!0)):this.encodeStyleAttribute[t]&&(delete this.encodeStyleAttribute[t],this.dataState.dataSourceNeedUpdate=!0);});}scale(e,t){let r=(0,o.default)({},this.scaleOptions);if(A(e)?this.scaleOptions=(0,o.default)((0,o.default)({},this.scaleOptions),e):this.scaleOptions[e]=t,this.styleAttributeService&&!y(r,this.scaleOptions)){let r=A(e)?e:{[e]:t};this.styleAttributeService.updateScaleAttribute(r);}return this;}renderLayers(){this.rendering=!0,this.layerService.reRender(),this.rendering=!1;}prerender(){}render(e={}){return this.tileLayer?this.tileLayer.render():(this.layerService.beforeRenderData(this),this.encodeDataLength<=0&&!this.forceRender||this.renderModels(e)),this;}renderMultiPass(){var e=this;return(0,i.default)(function*(){(!(e.encodeDataLength<=0)||e.forceRender)&&(e.multiPassRenderer&&e.multiPassRenderer.getRenderFlag()?yield e.multiPassRenderer.render():e.renderModels());})();}active(e){let t={};return t.enableHighlight=!!A(e)||e,A(e)?(t.enableHighlight=!0,e.color&&(t.highlightColor=e.color),e.mix&&(t.activeMix=e.mix)):t.enableHighlight=!!e,this.updateLayerConfig(t),this;}setActive(e,t){if(A(e)){let{x:r=0,y:n=0}=e;this.updateLayerConfig({highlightColor:A(t)?t.color:this.getLayerConfig().highlightColor,activeMix:A(t)?t.mix:this.getLayerConfig().activeMix}),this.pick({x:r,y:n});}else this.updateLayerConfig({pickedFeatureID:e,highlightColor:A(t)?t.color:this.getLayerConfig().highlightColor,activeMix:A(t)?t.mix:this.getLayerConfig().activeMix}),this.hooks.beforeHighlight.call((0,c.encodePickingColor)(e)).then(()=>{setTimeout(()=>{this.reRender();},1);});}select(e){let t={};return t.enableSelect=!!A(e)||e,A(e)?(t.enableSelect=!0,e.color&&(t.selectColor=e.color),e.mix&&(t.selectMix=e.mix)):t.enableSelect=!!e,this.updateLayerConfig(t),this;}setSelect(e,t){if(A(e)){let{x:r=0,y:n=0}=e;this.updateLayerConfig({selectColor:A(t)?t.color:this.getLayerConfig().selectColor,selectMix:A(t)?t.mix:this.getLayerConfig().selectMix}),this.pick({x:r,y:n});}else this.updateLayerConfig({pickedFeatureID:e,selectColor:A(t)?t.color:this.getLayerConfig().selectColor,selectMix:A(t)?t.mix:this.getLayerConfig().selectMix}),this.hooks.beforeSelect.call((0,c.encodePickingColor)(e)).then(()=>{setTimeout(()=>{this.reRender();},1);});}setBlend(e){return this.updateLayerConfig({blend:e}),this.reRender(),this;}show(){return this.updateLayerConfig({visible:!0}),this.reRender(),this.emit("show"),this;}hide(){return this.updateLayerConfig({visible:!1}),this.reRender(),this.emit("hide"),this;}setIndex(e){return this.zIndex=e,this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this;}setCurrentPickId(e){this.currentPickId=e;}getCurrentPickId(){return this.currentPickId;}setCurrentSelectedId(e){this.selectedFeatureID=e;}getCurrentSelectedId(){return this.selectedFeatureID;}isVisible(){let e=this.mapService.getZoom(),{visible:t,minZoom:r=-1/0,maxZoom:n=1/0}=this.getLayerConfig();return!!t&&e>=r&&e<n;}setMultiPass(e,t){if(this.updateLayerConfig({enableMultiPassRenderer:e}),t&&this.updateLayerConfig({passes:t}),e){let{passes:e=[]}=this.getLayerConfig();this.multiPassRenderer=(0,v.createMultiPassRenderer)(this,e,this.postProcessingPassFactory,this.normalPassFactory),this.multiPassRenderer.setRenderFlag(!0);let{width:t,height:r}=this.rendererService.getViewportSize();this.multiPassRenderer.resize(t,r);}return this;}setMinZoom(e){return this.updateLayerConfig({minZoom:e}),this;}getMinZoom(){let{minZoom:e}=this.getLayerConfig();return e;}getMaxZoom(){let{maxZoom:e}=this.getLayerConfig();return e;}get(e){return this.getLayerConfig()[e];}setMaxZoom(e){return this.updateLayerConfig({maxZoom:e}),this;}setAutoFit(e){return this.updateLayerConfig({autoFit:e}),this;}fitBounds(e){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;let t=this.getSource().extent;return t.some(e=>Math.abs(e)===1/0)||this.mapService.fitBounds([[t[0],t[1]],[t[2],t[3]]],e),this;}destroy(e=!0){var t,r,n,a,i;if(this.isDestroyed)return;null===(t=this.layerModel)||void 0===t||t.uniformBuffers.forEach(e=>{e.destroy();}),this.layerChildren.map(e=>e.destroy(!1)),this.layerChildren=[];let{maskfence:o}=this.getLayerConfig();o&&(this.masks.map(e=>e.destroy(!1)),this.masks=[]),this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),null===(r=this.multiPassRenderer)||void 0===r||r.destroy(),this.textureService.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),null===(n=this.layerModel)||void 0===n||n.clearModels(e),null===(a=this.tileLayer)||void 0===a||a.destroy(),this.models=[],null===(i=this.debugService)||void 0===i||i.removeLog(this.id),this.emit("remove",{target:this,type:"remove"}),this.emit("destroy",{target:this,type:"destroy"}),this.removeAllListeners(),this.isDestroyed=!0;}clear(){this.styleAttributeService.clearAllAttributes();}clearModels(){var e;this.models.forEach(e=>e.destroy()),null===(e=this.layerModel)||void 0===e||e.clearModels(),this.models=[];}isDirty(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter(e=>e.needRescale||e.needRemapping||e.needRegenerateVertices).length;}setSource(e){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=e,this.clusterZoom=0,this.inited&&this.layerSource.cluster){let e=this.mapService.getZoom();this.layerSource.updateClusterData(e);}this.layerSource.inited&&this.sourceEvent(),this.layerSource.on("update",({type:e})=>{if(void 0===this.coordCenter){let e=this.layerSource.center;this.coordCenter=e;}if("update"===e){if(this.tileLayer){this.tileLayer.reload();return;}this.sourceEvent();}"inited"===e&&this.processRelativeCoordinates();});}getSource(){return this.layerSource;}getScaleOptions(){return this.scaleOptions;}setEncodedData(e){this.encodedData=e,this.encodeDataLength=e.length;}getEncodedData(){return this.encodedData;}getScale(e){return this.styleAttributeService.getLayerAttributeScale(e);}getLegend(e){var t,r,n;let a=this.styleAttributeService.getLayerStyleAttribute(e);return{type:null===(r=((null==a||null===(t=a.scale)||void 0===t?void 0:t.scalers)||[])[0])||void 0===r||null===(r=r.option)||void 0===r?void 0:r.type,field:null==a||null===(n=a.scale)||void 0===n?void 0:n.field,items:this.getLegendItems(e)};}getLegendItems(e){let t=this.styleAttributeService.getLayerAttributeScale(e);return t?t.invertExtent?t.range().map(r=>({value:t.invertExtent(r),[e]:r})):t.ticks?t.ticks().map(r=>({value:r,[e]:t(r)})):null!=t&&t.domain?t.domain().filter(e=>!O(e)).map(r=>({value:r,[e]:t(r)})):[]:[];}pick({x:e,y:t}){this.interactionService.triggerHover({x:e,y:t});}boxSelect(e,t){this.pickingService.boxPickLayer(this,e,t);}buildLayerModel(e){var t=this;return(0,i.default)(function*(){let{moduleName:r,vertexShader:n,fragmentShader:i,defines:u,inject:l,triangulation:s,styleOption:c,pickingEnabled:d=!0}=e,h=(0,a.default)(e,b);t.shaderModuleService.registerModule(r,{vs:n,fs:i,defines:u,inject:l});let{vs:v,fs:_,uniforms:m}=t.shaderModuleService.getModule(r),{createModel:g}=t.rendererService;return new Promise(e=>{let{attributes:r,elements:n,count:a}=t.styleAttributeService.createAttributesAndIndices(t.encodedData,s,c,t),i=[...t.layerModel.uniformBuffers,...t.rendererService.uniformBuffers];d&&i.push(t.getPickingUniformBuffer());let u=(0,o.default)({attributes:r,uniforms:m,fs:_,vs:v,elements:n,blend:p.BlendTypes[f.BlendType.normal],uniformBuffers:i,textures:t.layerModel.textures},h);a&&(u.count=a),e(g(u));});})();}createAttributes(e){let{triangulation:t}=e,{attributes:r}=this.styleAttributeService.createAttributes(this.encodedData,t);return r;}getTime(){return this.layerService.clock.getDelta();}setAnimateStartTime(){this.animateStartTime=this.layerService.clock.getElapsedTime();}stopAnimate(){this.animateStatus&&(this.layerService.stopAnimate(),this.animateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}));}getLayerAnimateTime(){return this.layerService.clock.getElapsedTime()-this.animateStartTime;}needPick(e){let{enableHighlight:t=!0,enableSelect:r=!0}=this.getLayerConfig(),n=-1!==this.eventNames().indexOf(e)||-1!==this.eventNames().indexOf("un"+e);return("click"===e||"dblclick"===e)&&r&&(n=!0),"mousemove"===e&&(t||-1!==this.eventNames().indexOf("mouseenter")||-1!==this.eventNames().indexOf("unmousemove")||-1!==this.eventNames().indexOf("mouseout"))&&(n=!0),this.isVisible()&&n;}buildModels(){return(0,i.default)(function*(){throw Error("Method not implemented.");})();}rebuildModels(){var e=this;return(0,i.default)(function*(){yield e.buildModels();})();}renderMulPass(e){return(0,i.default)(function*(){yield e.render();})();}renderModels(e={}){return this.encodeDataLength<=0&&!this.forceRender?this.clearModels():(this.hooks.beforeRender.call(),this.models.forEach(t=>{t.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(e),textures:this.layerModel.textures},(null==e?void 0:e.ispick)||!1);}),this.hooks.afterRender.call()),this;}updateStyleAttribute(e,t,r,n){return!y((this.configService.getAttributeConfig(this.id)||{})[e],{field:t,values:r})&&(-1!==["color","size","texture","rotate","filter","label","shape"].indexOf(e)&&this.configService.setAttributeConfig(this.id,{[e]:{field:t,values:r}}),this.startInit?this.styleAttributeService.updateStyleAttribute(e,{scale:(0,o.default)({field:t},this.splitValuesAndCallbackInAttribute(r,this.getLayerConfig()[t]))},n):this.pendingStyleAttributes.push({attributeName:e,attributeField:t,attributeValues:r,updateOptions:n}),!0);}getLayerAttributeConfig(){return this.configService.getAttributeConfig(this.id);}getShaderPickStat(){return this.layerService.getShaderPickStat();}setEarthTime(e){console.warn("empty fn");}processData(e){return e;}getModelType(){throw Error("Method not implemented.");}getDefaultConfig(){return{};}processRelativeCoordinates(){if(!this.getLayerConfig().enableRelativeCoordinates||!this.layerSource||!this.layerSource.data)return;this.absoluteDataArray=[...this.layerSource.data.dataArray];let e=(0,s.processRelativeCoordinates)(this.layerSource.data.dataArray,{enableRelativeCoordinates:!0});this.layerSource.data.dataArray=e.dataArray,this.relativeOrigin=e.relativeOrigin,this.originalExtent=e.originalExtent;}getAbsoluteData(){return this.absoluteDataArray;}getRelativeOrigin(){return this.relativeOrigin;}getOriginalExtent(){return this.originalExtent;}initLayerModels(){var e=this;return(0,i.default)(function*(){e.models.forEach(e=>e.destroy()),e.models=[],e.uniformBuffers.forEach(e=>{e.destroy();}),e.uniformBuffers=[];let t=e.rendererService.createBuffer({data:new Float32Array(20).fill(0),isUBO:!0,label:"pickingUniforms"});e.uniformBuffers.push(t),e.models=yield e.layerModel.initModels();})();}getPickingUniformBuffer(){return this.uniformBuffers[0];}reRender(){this.inited&&this.layerService.reRender();}splitValuesAndCallbackInAttribute(e){return{values:E(e)?void 0:e,callback:E(e)?e:void 0};}}},"07c879ca":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a88d4a7b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"07cace53":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c02d412c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"07cf040a":function(e,t,r){"use strict";var n,a,i,o;r.d(t,"__esModule",{value:!0}),r.e(t,{BlendType:function(){return u;},ILayerStage:function(){return s;},MaskOperation:function(){return f;},StencilType:function(){return l;}});let u=((n={}).normal="normal",n.additive="additive",n.subtractive="subtractive",n.min="min",n.max="max",n.none="none",n),l=((a={}).MULTIPLE="MULTIPLE",a.SINGLE="SINGLE",a),f=((i={}).AND="and",i.OR="or",i),s=((o={}).INIT="init",o.UPDATE="update",o);},"07fbb854":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{SelectControl:function(){return l;},default:function(){return l;}});var n,a=r("777fffbe")._(r("e1e610e4")),i=r("89217383"),o=r("2ca50b8c"),u=((n=u||{}).ActiveOptionClassName="l7-select-control-item-active",n.OptionValueAttrKey="data-option-value",n.OptionIndexAttrKey="data-option-index",n);class l extends o.PopperControl{constructor(...e){super(...e),(0,a.default)(this,"selectValue",[]),(0,a.default)(this,"optionDOMList",void 0),(0,a.default)(this,"createNormalOption",e=>{let t=this.selectValue.includes(e.value),r=i.DOM.create("div",`l7-select-control-item ${t?u.ActiveOptionClassName:""}`);this.getIsMultiple()?r.appendChild(this.createCheckbox(t)):r.appendChild(this.createRadio(t)),e.icon&&r.appendChild(e.icon);let n=i.DOM.create("span");return n.innerText=e.text,r.appendChild(n),r;}),(0,a.default)(this,"onItemClick",e=>{if(this.getIsMultiple()){let t=this.selectValue.findIndex(t=>t===e.value);t>-1?this.selectValue.splice(t,1):this.selectValue=[...this.selectValue,e.value];}else this.selectValue=[e.value];this.setSelectValue(this.selectValue);});}setOptions(e){super.setOptions(e);let{options:t}=e;t&&this.popper.setContent(this.getPopperContent(t));}onAdd(){let e=super.onAdd(),{defaultValue:t}=this.controlOption;return t&&(this.selectValue=this.transSelectValue(t)),this.popper.setContent(this.getPopperContent(this.controlOption.options)),e;}getSelectValue(){return this.getIsMultiple()?this.selectValue:this.selectValue[0];}setSelectValue(e,t=!0){let r=this.transSelectValue(e);this.optionDOMList.forEach(e=>{let t=e.getAttribute(u.OptionValueAttrKey),n=e.querySelector("input[type=checkbox]"),a=e.querySelector("input[type=radio]"),o=r.includes(t),l=(t,r)=>{i.DOM.toggleClass(e,u.ActiveOptionClassName,r),t&&i.DOM.setChecked(t,r);};l(n,o),l(a,o);}),this.selectValue=r,t&&this.emit("selectChange",this.getIsMultiple()?r:r[0]);}getIsMultiple(){return!1;}getPopperContent(e){let t=this.isImageOptions(),r=i.DOM.create("div",t?"l7-select-control--image":"l7-select-control--normal");this.getIsMultiple()&&i.DOM.addClass(r,"l7-select-control--multiple");let n=e.map((e,r)=>{let n=t?this.createImageOption(e):this.createNormalOption(e);return n.setAttribute(u.OptionValueAttrKey,e.value),n.setAttribute(u.OptionIndexAttrKey,window.String(r)),n.addEventListener("click",this.onItemClick.bind(this,e)),n;});return r.append(...n),this.optionDOMList=n,r;}createImageOption(e){let t=this.selectValue.includes(e.value),r=i.DOM.create("div",`l7-select-control-item ${t?u.ActiveOptionClassName:""}`),n=i.DOM.create("img");n.setAttribute("src",e.img),i.DOM.setUnDraggable(n),r.appendChild(n);let a=i.DOM.create("div","l7-select-control-item-row");this.getIsMultiple()&&r.appendChild(this.createCheckbox(t));let o=i.DOM.create("span");return o.innerText=e.text,a.appendChild(o),r.appendChild(a),r;}createCheckbox(e){let t=i.DOM.create("input");return t.setAttribute("type","checkbox"),e&&i.DOM.setChecked(t,!0),t;}createRadio(e){let t=i.DOM.create("input");return t.setAttribute("type","radio"),e&&i.DOM.setChecked(t,!0),t;}isImageOptions(){return!!this.controlOption.options.find(e=>e.img);}transSelectValue(e){return Array.isArray(e)?e:[e];}}},"080a82d7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ad85481e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"085db919":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4fc355fa")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"087ba13d":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"SceneEventList",{enumerable:!0,get:function(){return n;}});let n=["loaded","fontloaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"];},"088f1312":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6f648e16")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"08b2199c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return i;},prefixExponent:function(){return n;}});var n,a=r("b38ee420");function i(e,t){var r=(0,a.formatDecimalParts)(e,t);if(!r)return e+"";var i=r[0],o=r[1],u=o-(n=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,l=i.length;return u===l?i:u>l?i+Array(u-l+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+Array(1-u).join("0")+(0,a.formatDecimalParts)(e,Math.max(0,t+u-1))[0];}},"08ff67ec":function(e,t,r){},"0933c4a6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1dd9d92a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"09451e61":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=n._(r("6c8aee75"));class f extends l.default{constructor(...e){super(...e),(0,o.default)(this,"texture",void 0),(0,o.default)(this,"radian",0),(0,o.default)(this,"planeGeometryTriangulation",()=>{let{center:e=[120,30]}=this.layer.getLayerConfig();return{size:4,indices:[0,1,2,2,3,0],vertices:[...e,1,1,...e,0,1,...e,0,0,...e,1,0]};});}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,EXTRUDE:9,UV:10});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{opacity:e,width:t=1,height:r=1,raisingHeight:n=0}=this.layer.getLayerConfig(),a=1;"amap"===this.mapService.getType()&&(a=-1),this.radian=a*Math.PI*(this.mapService.getRotation()%360)/180;let i={u_size:[t,r],u_raisingHeight:Number(n),u_rotation:this.radian,u_opacity:e||1,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(i);}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy();}initModels(){var e=this;return(0,a.default)(function*(){let{drawCanvas:t}=e.layer.getLayerConfig(),{createTexture2D:r}=e.rendererService;return e.texture=r({height:0,width:0}),t&&e.updateTexture(t),e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"geometryBillboard",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_size;\n  float u_raisingHeight;\n  float u_rotation;\n  float u_opacity;\n};\n\nout vec2 v_uv;\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "rotation_2d"\nvoid main() {\n  vec3 extrude = a_Extrude;\n  v_uv = a_Uv;\n  float raiseHeight = u_raisingHeight;\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n    raiseHeight = u_raisingHeight * mapboxZoomScale;\n  }\n\n  // \u8BA1\u7B97\u7ECF\u7EAC\u5EA6\u70B9\u4F4D\u5750\u6807\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n\n  // \u8BA1\u7B97\u7ED5 z \u8F74\u65CB\u8F6C\u540E\u7684\u504F\u79FB\n  vec2 offsetXY = project_pixel(rotate_matrix(vec2(extrude.x * u_size.x, 0.0), u_rotation));\n  // \u7ED5 z \u8F74\u65CB\u8F6C\n  float x = project_pos.x + offsetXY.x;\n  float y = project_pos.y + offsetXY.y;\n  // z \u8F74\u4E0D\u53C2\u4E0E\u65CB\u8F6C\n  float z = project_pixel(extrude.y * u_size.y + raiseHeight);\n\n  gl_Position = project_common_position_to_clipspace(vec4(x, y, z, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'layout(std140) uniform commonUniforms {\n  vec2 u_size;\n  float u_raisingHeight;\n  float u_rotation;\n  float u_opacity;\n};\n\nuniform sampler2D u_texture;\n\nin vec2 v_uv;\nout vec4 outputColor;\n\n#pragma include "picking"\nvoid main() {\n  outputColor = texture(SAMPLER_2D(u_texture), vec2(v_uv.x, 1.0 - v_uv.y));\n  outputColor.a *= u_opacity;\n  outputColor = filterColor(outputColor);\n}\n',triangulation:e.planeGeometryTriangulation,defines:e.getDefines(),inject:e.getInject(),primitive:u.gl.TRIANGLES,depth:{enable:!0}}))];})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initModels();})();}updateTexture(e){let{createTexture2D:t}=this.rendererService,{canvasWidth:r=1,canvasHeight:n=1}=this.layer.getLayerConfig(),a=document.createElement("canvas");a.width=r,a.height=n,a.getContext("2d")&&(e(a),this.texture=t({data:a,width:a.width,height:a.height,wrapS:u.gl.CLAMP_TO_EDGE,wrapT:u.gl.CLAMP_TO_EDGE}),this.layerService.reRender());}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"extrude",type:u.AttributeType.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:3,update:(e,t,r,n)=>{let a=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],i=n%4*3;return[a[i],a[i+1],a[i+2]];}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:u.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:2,update:(e,t,r)=>[r[2],r[3]]}});}}},"094808fa":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ef9befdc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"097d13bf":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("25e528e4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"09a26100":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("694383a3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"09cc848a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("378174f7");function a(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t;}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L);}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t;}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L));}function o(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0};}function u(e){var t=e.dateTime,r=e.date,u=e.time,f=e.periods,s=e.days,c=e.shortDays,d=e.months,h=e.shortMonths,Y=p(f),eh=v(f),eO=p(s),eR=v(s),eM=p(c),ex=v(c),eC=p(d),eP=v(d),eL=p(h),ew=v(h),eI={a:function(e){return c[e.getDay()];},A:function(e){return s[e.getDay()];},b:function(e){return h[e.getMonth()];},B:function(e){return d[e.getMonth()];},c:null,d:F,e:F,f:G,g:Q,G:ee,H:B,I:U,j:j,L:k,m:z,M:V,p:function(e){return f[+(e.getHours()>=12)];},q:function(e){return 1+~~(e.getMonth()/3);},Q:eA,s:eS,S:H,u:X,U:W,V:q,w:Z,W:K,x:null,X:null,y:$,Y:J,Z:et,"%":eT},eN={a:function(e){return c[e.getUTCDay()];},A:function(e){return s[e.getUTCDay()];},b:function(e){return h[e.getUTCMonth()];},B:function(e){return d[e.getUTCMonth()];},c:null,d:er,e:er,f:eu,g:eg,G:ey,H:en,I:ea,j:ei,L:eo,m:el,M:ef,p:function(e){return f[+(e.getUTCHours()>=12)];},q:function(e){return 1+~~(e.getUTCMonth()/3);},Q:eA,s:eS,S:es,u:ec,U:ed,V:ep,w:ev,W:e_,x:null,X:null,y:em,Y:eb,Z:eE,"%":eT},eD={a:function(e,t,r){var n=eM.exec(t.slice(r));return n?(e.w=ex[n[0].toLowerCase()],r+n[0].length):-1;},A:function(e,t,r){var n=eO.exec(t.slice(r));return n?(e.w=eR[n[0].toLowerCase()],r+n[0].length):-1;},b:function(e,t,r){var n=eL.exec(t.slice(r));return n?(e.m=ew[n[0].toLowerCase()],r+n[0].length):-1;},B:function(e,t,r){var n=eC.exec(t.slice(r));return n?(e.m=eP[n[0].toLowerCase()],r+n[0].length):-1;},c:function(e,r,n){return eU(e,t,r,n);},d:R,e:R,f:w,g:T,G:E,H:x,I:x,j:M,L:L,m:O,M:C,p:function(e,t,r){var n=Y.exec(t.slice(r));return n?(e.p=eh[n[0].toLowerCase()],r+n[0].length):-1;},q:S,Q:N,s:D,S:P,u:m,U:g,V:b,w:_,W:y,x:function(e,t,n){return eU(e,r,t,n);},X:function(e,t,r){return eU(e,u,t,r);},y:T,Y:E,Z:A,"%":I};function eF(e,t){return function(r){var n,a,i,o=[],u=-1,f=0,s=e.length;for(r instanceof Date||(r=new Date(+r));++u<s;)37===e.charCodeAt(u)&&(o.push(e.slice(f,u)),null!=(a=l[n=e.charAt(++u)])?n=e.charAt(++u):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),o.push(n),f=u+1);return o.push(e.slice(f,u)),o.join("");};}function eB(e,t){return function(r){var u,l,f=o(1900,void 0,1);if(eU(f,e,r+="",0)!=r.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(1e3*f.s+("L"in f?f.L:0));if(!t||"Z"in f||(f.Z=0),"p"in f&&(f.H=f.H%12+12*f.p),void 0===f.m&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(u=(l=(u=i(o(f.y,0,1))).getUTCDay())>4||0===l?n.utcMonday.ceil(u):(0,n.utcMonday)(u),u=n.utcDay.offset(u,(f.V-1)*7),f.y=u.getUTCFullYear(),f.m=u.getUTCMonth(),f.d=u.getUTCDate()+(f.w+6)%7):(u=(l=(u=a(o(f.y,0,1))).getDay())>4||0===l?n.timeMonday.ceil(u):(0,n.timeMonday)(u),u=n.timeDay.offset(u,(f.V-1)*7),f.y=u.getFullYear(),f.m=u.getMonth(),f.d=u.getDate()+(f.w+6)%7);}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:"W"in f?1:0),l="Z"in f?i(o(f.y,0,1)).getUTCDay():a(o(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(l+5)%7:f.w+7*f.U-(l+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,i(f)):a(f);};}function eU(e,t,r,n){for(var a,i,o=0,u=t.length,f=r.length;o<u;){if(n>=f)return -1;if(37===(a=t.charCodeAt(o++))){if(!(i=eD[(a=t.charAt(o++))in l?t.charAt(o++):a])||(n=i(e,r,n))<0)return -1;}else if(a!=r.charCodeAt(n++))return -1;}return n;}return eI.x=eF(r,eI),eI.X=eF(u,eI),eI.c=eF(t,eI),eN.x=eF(r,eN),eN.X=eF(u,eN),eN.c=eF(t,eN),{format:function(e){var t=eF(e+="",eI);return t.toString=function(){return e;},t;},parse:function(e){var t=eB(e+="",!1);return t.toString=function(){return e;},t;},utcFormat:function(e){var t=eF(e+="",eN);return t.toString=function(){return e;},t;},utcParse:function(e){var t=eB(e+="",!0);return t.toString=function(){return e;},t;}};}var l={"-":"",_:" ",0:"0"},f=/^\s*\d+/,s=/^%/,c=/[\\^$*+?|[\]().{}]/g;function d(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?Array(r-i+1).join(t)+a:a);}function h(e){return e.replace(c,"\\$&");}function p(e){return RegExp("^(?:"+e.map(h).join("|")+")","i");}function v(e){for(var t={},r=-1,n=e.length;++r<n;)t[e[r].toLowerCase()]=r;return t;}function _(e,t,r){var n=f.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1;}function m(e,t,r){var n=f.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1;}function g(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1;}function b(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1;}function y(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1;}function E(e,t,r){var n=f.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1;}function T(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1;}function A(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1;}function S(e,t,r){var n=f.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1;}function O(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1;}function R(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1;}function M(e,t,r){var n=f.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1;}function x(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1;}function C(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1;}function P(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1;}function L(e,t,r){var n=f.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1;}function w(e,t,r){var n=f.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1;}function I(e,t,r){var n=s.exec(t.slice(r,r+1));return n?r+n[0].length:-1;}function N(e,t,r){var n=f.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1;}function D(e,t,r){var n=f.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1;}function F(e,t){return d(e.getDate(),t,2);}function B(e,t){return d(e.getHours(),t,2);}function U(e,t){return d(e.getHours()%12||12,t,2);}function j(e,t){return d(1+n.timeDay.count((0,n.timeYear)(e),e),t,3);}function k(e,t){return d(e.getMilliseconds(),t,3);}function G(e,t){return k(e,t)+"000";}function z(e,t){return d(e.getMonth()+1,t,2);}function V(e,t){return d(e.getMinutes(),t,2);}function H(e,t){return d(e.getSeconds(),t,2);}function X(e){var t=e.getDay();return 0===t?7:t;}function W(e,t){return d(n.timeSunday.count((0,n.timeYear)(e)-1,e),t,2);}function Y(e){var t=e.getDay();return t>=4||0===t?(0,n.timeThursday)(e):n.timeThursday.ceil(e);}function q(e,t){return e=Y(e),d(n.timeThursday.count((0,n.timeYear)(e),e)+(4===(0,n.timeYear)(e).getDay()),t,2);}function Z(e){return e.getDay();}function K(e,t){return d(n.timeMonday.count((0,n.timeYear)(e)-1,e),t,2);}function $(e,t){return d(e.getFullYear()%100,t,2);}function Q(e,t){return d((e=Y(e)).getFullYear()%100,t,2);}function J(e,t){return d(e.getFullYear()%1e4,t,4);}function ee(e,t){var r=e.getDay();return d((e=r>=4||0===r?(0,n.timeThursday)(e):n.timeThursday.ceil(e)).getFullYear()%1e4,t,4);}function et(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+d(t/60|0,"0",2)+d(t%60,"0",2);}function er(e,t){return d(e.getUTCDate(),t,2);}function en(e,t){return d(e.getUTCHours(),t,2);}function ea(e,t){return d(e.getUTCHours()%12||12,t,2);}function ei(e,t){return d(1+n.utcDay.count((0,n.utcYear)(e),e),t,3);}function eo(e,t){return d(e.getUTCMilliseconds(),t,3);}function eu(e,t){return eo(e,t)+"000";}function el(e,t){return d(e.getUTCMonth()+1,t,2);}function ef(e,t){return d(e.getUTCMinutes(),t,2);}function es(e,t){return d(e.getUTCSeconds(),t,2);}function ec(e){var t=e.getUTCDay();return 0===t?7:t;}function ed(e,t){return d(n.utcSunday.count((0,n.utcYear)(e)-1,e),t,2);}function eh(e){var t=e.getUTCDay();return t>=4||0===t?(0,n.utcThursday)(e):n.utcThursday.ceil(e);}function ep(e,t){return e=eh(e),d(n.utcThursday.count((0,n.utcYear)(e),e)+(4===(0,n.utcYear)(e).getUTCDay()),t,2);}function ev(e){return e.getUTCDay();}function e_(e,t){return d(n.utcMonday.count((0,n.utcYear)(e)-1,e),t,2);}function em(e,t){return d(e.getUTCFullYear()%100,t,2);}function eg(e,t){return d((e=eh(e)).getUTCFullYear()%100,t,2);}function eb(e,t){return d(e.getUTCFullYear()%1e4,t,4);}function ey(e,t){var r=e.getUTCDay();return d((e=r>=4||0===r?(0,n.utcThursday)(e):n.utcThursday.ceil(e)).getUTCFullYear()%1e4,t,4);}function eE(){return"+0000";}function eT(){return"%";}function eA(e){return+e;}function eS(e){return Math.floor(+e/1e3);}},"0a575694":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5a3caf0e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0a98ad4e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("299544da")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0aa51e1c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{coordEach:function(){return function e(t,r,n){if(null!==t)for(var a,i,o,u,l,f,s,c,d=0,h=0,p=t.type,v="FeatureCollection"===p,_="Feature"===p,m=v?t.features.length:1,g=0;g<m;g++){l=(c=!!(s=v?t.features[g].geometry:_?t.geometry:t)&&"GeometryCollection"===s.type)?s.geometries.length:1;for(var b=0;b<l;b++){var y=0,E=0;if(null!==(u=c?s.geometries[b]:s)){f=u.coordinates;var T=u.type;switch(d=n&&("Polygon"===T||"MultiPolygon"===T)?1:0,T){case null:break;case"Point":if(!1===r(f,h,g,y,E))return!1;h++,y++;break;case"LineString":case"MultiPoint":for(a=0;a<f.length;a++){if(!1===r(f[a],h,g,y,E))return!1;h++,"MultiPoint"===T&&y++;}"LineString"===T&&y++;break;case"Polygon":case"MultiLineString":for(a=0;a<f.length;a++){for(i=0;i<f[a].length-d;i++){if(!1===r(f[a][i],h,g,y,E))return!1;h++;}"MultiLineString"===T&&y++,"Polygon"===T&&E++;}"Polygon"===T&&y++;break;case"MultiPolygon":for(a=0;a<f.length;a++){for(i=0,E=0;i<f[a].length;i++){for(o=0;o<f[a][i].length-d;o++){if(!1===r(f[a][i][o],h,g,y,E))return!1;h++;}E++;}y++;}break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)if(!1===e(u.geometries[a],r,n))return!1;break;default:throw Error("Unknown Geometry Type");}}}}};},flattenEach:function(){return a;}});var n=r("3e649c46");function a(e,t){!function(e,t){var r,n,a,i,o,u,l,f,s,c,d=0,h="FeatureCollection"===e.type,p="Feature"===e.type,v=h?e.features.length:1;for(r=0;r<v;r++){for(a=0,u=h?e.features[r].geometry:p?e.geometry:e,f=h?e.features[r].properties:p?e.properties:{},s=h?e.features[r].bbox:p?e.bbox:void 0,c=h?e.features[r].id:p?e.id:void 0,o=(l=!!u&&"GeometryCollection"===u.type)?u.geometries.length:1;a<o;a++){if(null===(i=l?u.geometries[a]:u)){if(!1===t(null,d,f,s,c))return!1;continue;}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,d,f,s,c))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],d,f,s,c))return!1;break;default:throw Error("Unknown Geometry Type");}}d++;}}(e,function(e,r,a,i,o){var u,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":if(!1===t((0,n.feature)(e,a,{bbox:i,id:o}),r,0))return!1;return;}switch(l){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon";}for(var f=0;f<e.coordinates.length;f++){var s={type:u,coordinates:e.coordinates[f]};if(!1===t((0,n.feature)(s,a),r,f))return!1;}});}},"0af566ab":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("477eb16c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0b461d77":function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates;}else if(e.coordinates)return e.coordinates;throw Error("coords must be GeoJSON Feature, Geometry Object or an Array");}function a(e){return"Feature"===e.type?e.geometry:e;}r.d(t,"__esModule",{value:!0}),r.e(t,{getCoords:function(){return n;},getGeom:function(){return a;}});},"0b4b7054":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("11cac267")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0b73ce5a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("430f3623")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0b905e48":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d1ee256f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0b9641a2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c6ef3bc1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0bb366b0":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{durationDay:function(){return o;},durationHour:function(){return i;},durationMinute:function(){return a;},durationMonth:function(){return l;},durationSecond:function(){return n;},durationWeek:function(){return u;},durationYear:function(){return f;}});let n=1e3,a=6e4,i=36e5,o=864e5,u=6048e5,l=2592e6,f=31536e6;},"0c6296a6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1a7f81ad")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0c8d4d7e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8fa73b23")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0d038076":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe"),a=r("2ecdf156"),i=n._(r("3fb324f1"));function o(e,t){let r=(0,a.csvParse)(e);return(0,i.default)(r,t);}},"0d0b03c7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("659f25e9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0d0b9193":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("af21b0e3"),r("7b9cfd4c");},"0d1294d4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e9935cd5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0d1599a1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2ffefcc7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0d262ef3":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4f9c14d4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0d47154c":function(e,t,r){"use strict";function n(e,t){var r,n;let a,i,o=0,u=[];for(let t=0;t<e.length-1;t++){let r=e[t],n=e[t+1],a=Math.sqrt(Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2)),i=o;o+=a,u.push({p1:r,p2:n,totalDistance:o,distance:a,lastTotalDistance:i});}let l=o*t;for(let e of u)if(e.totalDistance>l){let t=e.p1,o=(r=e.p2,n=(l-e.lastTotalDistance)/e.distance,[r[0]*n+t[0]*(1-n),r[1]*n+t[1]*(1-n)]);a=o[0],i=o[1];break;}return{lng:a,lat:i,height:0};}r.d(t,"__esModule",{value:!0}),r.d(t,"pathLineAtOffset",{enumerable:!0,get:function(){return n;}});},"0d56bbd2":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("7f434d9f"),a=r("a23649c0"),i=class{constructor(e,t){this.isDestroy=!1;let{data:r,type:i=n.gl.UNSIGNED_BYTE,width:o,height:u,flipY:l=!1,format:f=n.gl.RGBA,mipmap:s=!1,wrapS:c=n.gl.CLAMP_TO_EDGE,wrapT:d=n.gl.CLAMP_TO_EDGE,aniso:h=0,alignment:p=1,premultiplyAlpha:v=!1,mag:_=n.gl.NEAREST,min:m=n.gl.NEAREST,colorSpace:g=n.gl.BROWSER_DEFAULT_WEBGL,x:b=0,y=0,copy:E=!1}=t;this.width=o,this.height=u;let T={width:o,height:u,type:a.dataTypeMap[i],format:a.formatMap[f],wrapS:a.wrapModeMap[c],wrapT:a.wrapModeMap[d],mag:a.filterMap[_],min:a.filterMap[m],alignment:p,flipY:l,colorSpace:a.colorSpaceMap[g],premultiplyAlpha:v,aniso:h,x:b,y,copy:E};r&&(T.data=r),"number"==typeof s?T.mipmap=a.mipmapMap[s]:"boolean"==typeof s&&(T.mipmap=s),this.texture=e.texture(T);}get(){return this.texture;}update(e={}){this.texture(e);}bind(){this.texture._texture.bind();}resize({width:e,height:t}){this.texture.resize(e,t),this.width=e,this.height=t;}getSize(){return[this.width,this.height];}destroy(){var e;this.isDestroy||null==(e=this.texture)||e.destroy(),this.isDestroy=!0;}};},"0d6fb0ad":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2b80bba7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0d8cb97a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{copy:function(){return o;},default:function(){return function e(){var t=(0,i.linearish)((function(){var e,t,r,a,i,o=0,u=1,l=n.identity,f=!1;function s(t){return isNaN(t=+t)?i:l(0===r?.5:(t=(a(t)-e)*r,f?Math.max(0,Math.min(1,t)):t));}return s.domain=function(n){return arguments.length?(e=a(o=+n[0]),t=a(u=+n[1]),r=e===t?0:1/(t-e),s):[o,u];},s.clamp=function(e){return arguments.length?(f=!!e,s):f;},s.interpolator=function(e){return arguments.length?(l=e,s):l;},s.unknown=function(e){return arguments.length?(i=e,s):i;},function(n){return a=n,e=n(o),t=n(u),r=e===t?0:1/(t-e),s;};})()(n.identity));return t.copy=function(){return o(t,e());},a.initInterpolator.apply(t,arguments);};}});var n=r("4e33fd57"),a=r("5f49fc8a"),i=r("6c817216");function o(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown());}r("2864a46a"),r("a3fdf0b1"),r("e1627662");},"0da7f664":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{degrees:function(){return a;},radians:function(){return n;}});let n=Math.PI/180,a=180/Math.PI;},"0dc01725":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e48c1104")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0e27f0c3":function(e,t,r){"use strict";function n(e,t){return function(r,n){for(var a=r.length,i=[],o=0,u=e[0],l=0;a>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),i.push(r.substring(a-=u,a+u)),!((l+=u+1)>n));)u=e[o=(o+1)%e.length];return i.reverse().join(t);};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"0e414e56":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{computeMiter:function(){return s;},computeNormal:function(){return c;},default:function(){return p;},direction:function(){return d;}});var n=r("777fffbe")._(r("e1e610e4")),a=r("89217383"),i=r("49f29790");let o=i.vec2.create();i.vec2.create();let u=i.vec2.create(),l=i.vec2.create(),f=i.vec2.create();function s(e,t,r,n,a){i.vec2.add(e,r,n),i.vec2.normalize(e,e),t=i.vec2.fromValues(-e[1],e[0]);let o=i.vec2.fromValues(-r[1],r[0]);return[a/i.vec2.dot(t,o),t];}function c(e,t){return i.vec2.set(e,-t[1],t[0]);}function d(e,t,r){return i.vec2.sub(e,t,r),i.vec2.normalize(e,e),e;}function h(e,t){return e[0]===t[0]&&e[1]===t[1];}class p{constructor(e={}){(0,n.default)(this,"complex",void 0),(0,n.default)(this,"join",void 0),(0,n.default)(this,"cap",void 0),(0,n.default)(this,"miterLimit",void 0),(0,n.default)(this,"thickness",void 0),(0,n.default)(this,"normal",void 0),(0,n.default)(this,"lastFlip",-1),(0,n.default)(this,"miter",i.vec2.fromValues(0,0)),(0,n.default)(this,"started",!1),(0,n.default)(this,"dash",!1),(0,n.default)(this,"totalDistance",0),(0,n.default)(this,"currentIndex",0),this.join=e.join||"miter",this.cap=e.cap||"butt",this.miterLimit=e.miterLimit||10,this.thickness=e.thickness||1,this.dash=e.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]};}simpleExtrude(e){let t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;let r=e.length,n=t.startIndex;for(let a=1;a<r;a++){let r=e[a-1],i=e[a],o=a<e.length-1?e[a+1]:null,u=this.simpleSegment(t,n,r,i,o);n+=u;}if(this.dash)for(let e=0;e<t.positions.length/6;e++)t.positions[6*e+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t;}extrude(e){let t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;let r=e.length,n=t.startIndex;for(let a=1;a<r;a++){let r=e[a-1],i=e[a],o=a<e.length-1?e[a+1]:null,u=this.segment(t,n,r,i,o);n+=u;}if(this.dash)for(let e=0;e<t.positions.length/6;e++)t.positions[6*e+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t;}simpleSegment(e,t,r,n,o){let p=0,v=e.indices,_=e.positions,m=e.normals,g=(0,a.aProjectFlat)([n[0],n[1]]),b=(0,a.aProjectFlat)([r[0],r[1]]);d(u,g,b);let y=0;if(this.dash&&(y=this.lineSegmentDistance(g,b),this.totalDistance+=y),this.normal||(this.normal=i.vec2.create(),c(this.normal,u)),this.started||(this.started=!0,this.extrusions(_,m,r,this.normal,this.thickness,this.totalDistance-y)),v.push(t+0,t+1,t+2),o){let e=(0,a.aProjectFlat)([o[0],o[1]]);h(g,e)&&i.vec2.add(e,g,i.vec2.normalize(e,i.vec2.subtract(e,g,b))),d(l,e,g);let[r,c]=s(f,i.vec2.create(),u,l,this.thickness),y=0>i.vec2.dot(f,this.normal)?-1:1;this.extrusions(_,m,n,c,r,this.totalDistance),v.push(...1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3]),y=-1,i.vec2.copy(this.normal,c),p+=2,this.lastFlip=y;}else c(this.normal,u),this.extrusions(_,m,n,this.normal,this.thickness,this.totalDistance),v.push(...1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3]),p+=2;return p;}segment(e,t,r,n,p){let v=0,_=e.indices,m=e.positions,g=e.normals,b="square"===this.cap,y="bevel"===this.join,E=(0,a.aProjectFlat)([n[0],n[1]]),T=(0,a.aProjectFlat)([r[0],r[1]]);d(u,E,T);let A=0;if(this.dash&&(A=this.lineSegmentDistance(E,T),this.totalDistance+=A),this.normal||(this.normal=i.vec2.create(),c(this.normal,u)),!this.started){if(this.started=!0,b){let e=i.vec2.create(),t=i.vec2.create();i.vec2.add(e,this.normal,u),i.vec2.add(t,this.normal,u),g.push(t[0],t[1],0),g.push(e[0],e[1],0),m.push(r[0],r[1],0|r[2],this.totalDistance-A,-this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),m.push(r[0],r[1],0|r[2],this.totalDistance-A,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++;}else this.extrusions(m,g,r,this.normal,this.thickness,this.totalDistance-A);}if(_.push(t+0,t+1,t+2),p){let e=(0,a.aProjectFlat)([p[0],p[1]]);h(E,e)&&i.vec2.add(e,E,i.vec2.normalize(e,i.vec2.subtract(e,E,T))),d(l,e,E);let[r,b]=s(f,i.vec2.create(),u,l,this.thickness),A=0>i.vec2.dot(f,this.normal)?-1:1,S=y;!S&&"miter"===this.join&&r>this.miterLimit&&(S=!0),S?(g.push(this.normal[0],this.normal[1],0),g.push(b[0],b[1],0),m.push(n[0],n[1],0|n[2],this.totalDistance,-this.thickness*A,0|n[2]),this.complex.indexes.push(this.currentIndex),m.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness*A,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,_.push(...this.lastFlip!==-A?[t,t+2,t+3]:[t+2,t+1,t+3]),_.push(t+2,t+3,t+4),c(o,l),i.vec2.copy(this.normal,o),g.push(this.normal[0],this.normal[1],0),m.push(n[0],n[1],0|n[2],this.totalDistance,-this.thickness*A,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,v+=3):(this.extrusions(m,g,n,b,r,this.totalDistance),_.push(...1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3]),A=-1,i.vec2.copy(this.normal,b),v+=2),this.lastFlip=A;}else{if(c(this.normal,u),b){let e=i.vec2.create(),t=i.vec2.create();i.vec2.sub(t,u,this.normal),i.vec2.add(e,u,this.normal),g.push(t[0],t[1],0),g.push(e[0],e[1],0),m.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),m.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++;}else this.extrusions(m,g,n,this.normal,this.thickness,this.totalDistance);_.push(...1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3]),v+=2;}return v;}extrusions(e,t,r,n,a,i){t.push(n[0],n[1],0),t.push(n[0],n[1],0),e.push(r[0],r[1],0|r[2],i,-a,0|r[2]),this.complex.indexes.push(this.currentIndex),e.push(r[0],r[1],0|r[2],i,a,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++;}lineSegmentDistance(e,t){let r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n);}}},"0e58eecd":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8f42cb71")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0e87104f":function(e,t,r){"use strict";function n(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r;};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"0f07acd9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b88249f2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0f1ae6b2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3801f358")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0f29e3ff":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("b9fd3c65"));class a{apply(e){e.hooks.beforeRender.tap("LayerAnimateStylePlugin",()=>{e.animateStatus&&e.models.forEach(t=>{t.addUniforms((0,n.default)({},e.layerModel.getAnimateUniforms()));});});}}},"0f31f195":function(e,t,r){"use strict";function n(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t];});};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"0fc51011":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d7f3f7b7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"0fe7eb19":function(e,t,r){},"101983a5":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9ac0cea9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"10af15b9":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"Wind",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=r("852bbaa9"),i=n._(r("e1e610e4")),o=a._(r("af5e84b7")),u=r("34ad86b6");function l(e){let t=document.createElement("canvas"),r=t.getContext("2d");t.width=256,t.height=1;let n=r.createLinearGradient(0,0,256,0);for(let t of Object.keys(e))n.addColorStop(+t,e[+t]);return r.fillStyle=n,r.fillRect(0,0,256,1),t=null,new Uint8Array(r.getImageData(0,0,256,1).data);}function f(e,t,r,n){e.bindBuffer(e.ARRAY_BUFFER,t),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,n,e.FLOAT,!1,0,0);}function s(e,t,r){e.bindFramebuffer(e.FRAMEBUFFER,t),r&&e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);}class c{constructor(e){(0,i.default)(this,"width",512),(0,i.default)(this,"height",512),(0,i.default)(this,"pixels",void 0),(0,i.default)(this,"fadeOpacity",void 0),(0,i.default)(this,"speedFactor",void 0),(0,i.default)(this,"dropRate",void 0),(0,i.default)(this,"dropRateBump",void 0),(0,i.default)(this,"gl",void 0),(0,i.default)(this,"drawProgram",void 0),(0,i.default)(this,"fullScreenProgram",void 0),(0,i.default)(this,"updateProgram",void 0),(0,i.default)(this,"rampColors",void 0),(0,i.default)(this,"numParticles",65536),(0,i.default)(this,"numParticlesSize",void 0),(0,i.default)(this,"particleStateResolution",void 0),(0,i.default)(this,"quadBuffer",void 0),(0,i.default)(this,"particleIndexBuffer",void 0),(0,i.default)(this,"framebuffer",void 0),(0,i.default)(this,"colorRampTexture",void 0),(0,i.default)(this,"backgroundTexture",void 0),(0,i.default)(this,"screenTexture",void 0),(0,i.default)(this,"particleStateTexture0",void 0),(0,i.default)(this,"particleStateTexture1",void 0),(0,i.default)(this,"windTexture",void 0),(0,i.default)(this,"windData",void 0),this.gl=e.glContext,this.width=e.imageWidth,this.height=e.imageHeight,this.fadeOpacity=e.fadeOpacity,this.speedFactor=e.speedFactor,this.dropRate=e.dropRate,this.dropRateBump=e.dropRateBump,this.rampColors=e.rampColors,this.init();}init(){let e=this.gl;this.fadeOpacity=.996,this.speedFactor=.25,this.dropRate=.003,this.dropRateBump=.01,this.drawProgram=o.createProgram(e,u.drawVert,u.drawFrag),this.fullScreenProgram=o.createProgram(e,u.fullScreenVert,u.fullScreenFrag),this.updateProgram=o.createProgram(e,u.updateVert,u.updateFrag),this.quadBuffer=o.createBuffer(e,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])),this.framebuffer=e.createFramebuffer(),this.colorRampTexture=o.createTexture(this.gl,this.gl.LINEAR,l(this.rampColors),16,16);let t=new Uint8Array(this.width*this.height*4);this.backgroundTexture=o.createTexture(e,e.NEAREST,t,this.width,this.height),this.screenTexture=o.createTexture(e,e.NEAREST,t,this.width,this.height);let r=this.particleStateResolution=Math.ceil(Math.sqrt(this.numParticles));this.numParticlesSize=r*r;let n=new Uint8Array(4*this.numParticlesSize);for(let e=0;e<n.length;e++)n[e]=Math.floor(256*Math.random());this.particleStateTexture0=o.createTexture(e,e.NEAREST,n,r,r),this.particleStateTexture1=o.createTexture(e,e.NEAREST,n,r,r);let a=new Float32Array(this.numParticlesSize);for(let e=0;e<this.numParticlesSize;e++)a[e]=e;this.particleIndexBuffer=o.createBuffer(e,a);}setWind(e){this.windData=e,this.windTexture=o.createDataTexture(this.gl,this.gl.LINEAR,e.image);}updateParticelNum(e){let t=this.gl;if(e!==this.numParticles){this.numParticles=e;let r=this.particleStateResolution=Math.ceil(Math.sqrt(this.numParticles));this.numParticlesSize=r*r;let n=new Uint8Array(4*this.numParticlesSize);for(let e=0;e<n.length;e++)n[e]=Math.floor(256*Math.random());this.particleStateTexture0=o.createTexture(t,t.NEAREST,n,r,r),this.particleStateTexture1=o.createTexture(t,t.NEAREST,n,r,r);let a=new Float32Array(this.numParticlesSize);for(let e=0;e<this.numParticlesSize;e++)a[e]=e;this.particleIndexBuffer=o.createBuffer(t,a);}}updateWindDir(e,t,r,n){this.windData.uMin=e,this.windData.uMax=t,this.windData.vMin=r,this.windData.vMax=n;}updateColorRampTexture(e){if(this.isColorChanged(e)){this.rampColors=e;let t=this.gl;t.deleteTexture(this.colorRampTexture),this.colorRampTexture=o.createTexture(t,t.LINEAR,l(e),16,16);}}isColorChanged(e){for(let t of Object.keys(e)){let r=Number(t);if(!this.rampColors[r]||this.rampColors[r]&&this.rampColors[r]!==e[r])return!0;}return!1;}reSize(e,t){if(e!==this.width||t!==this.height){let r=this.gl;r.deleteTexture(this.backgroundTexture),r.deleteTexture(this.screenTexture),this.width=e,this.height=t;let n=new Uint8Array(e*t*4);this.backgroundTexture=o.createTexture(r,r.NEAREST,n,e,t),this.screenTexture=o.createTexture(r,r.NEAREST,n,e,t);}}draw(){var e;if(null===(e=this.windData)||void 0===e||!e.image)return{d:new Uint8Array([0,0,0,0]),w:1,h:1};{let e=this.gl;return o.bindTexture(e,this.windTexture,0),o.bindTexture(e,this.particleStateTexture0,1),this.drawScreen(),this.updateParticles(),{d:this.pixels,w:this.width,h:this.height};}}drawScreen(){let e=this.gl;s(e,this.framebuffer,this.screenTexture),e.viewport(0,0,this.width,this.height),e.disable(e.BLEND),this.drawFullTexture(this.backgroundTexture,this.fadeOpacity),this.drawParticles(),this.pixels=new Uint8Array(4*this.width*this.height),e.readPixels(0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.pixels),s(e,null,null),e.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height);let t=this.backgroundTexture;this.backgroundTexture=this.screenTexture,this.screenTexture=t;}drawFullTexture(e,t){let r=this.gl,n=this.fullScreenProgram;r.useProgram(n),r.bindBuffer(r.ARRAY_BUFFER,this.quadBuffer),r.vertexAttribPointer(n.a_pos,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(n.a_pos),r.bindBuffer(r.ARRAY_BUFFER,null),o.bindTexture(r,e,2),r.uniform1i(n.u_screen,2),r.uniform1f(n.u_opacity,t),r.drawArrays(r.TRIANGLES,0,6);}drawParticles(){let e=this.gl,t=this.drawProgram;e.useProgram(t),f(e,this.particleIndexBuffer,t.a_index,1),o.bindTexture(e,this.colorRampTexture,2),e.uniform1i(t.u_wind,0),e.uniform1i(t.u_particles,1),e.uniform1i(t.u_color_ramp,2),e.uniform1f(t.u_particles_res,this.particleStateResolution),e.uniform2f(t.u_wind_min,this.windData.uMin,this.windData.vMin),e.uniform2f(t.u_wind_max,this.windData.uMax,this.windData.vMax),e.drawArrays(e.POINTS,0,this.numParticlesSize);}updateParticles(){let e=this.gl;s(e,this.framebuffer,this.particleStateTexture1),e.viewport(0,0,this.particleStateResolution,this.particleStateResolution);let t=this.updateProgram;e.useProgram(t),f(e,this.quadBuffer,t.a_pos,2),e.uniform1i(t.u_wind,0),e.uniform1i(t.u_particles,1),e.uniform1f(t.u_rand_seed,Math.random()),e.uniform2f(t.u_wind_res,2*this.windData.image.width,2*this.windData.image.height),e.uniform2f(t.u_wind_min,this.windData.uMin,this.windData.vMin),e.uniform2f(t.u_wind_max,this.windData.uMax,this.windData.vMax),e.uniform1f(t.u_speed_factor,this.speedFactor),e.uniform1f(t.u_drop_rate,this.dropRate),e.uniform1f(t.u_drop_rate_bump,this.dropRateBump),e.drawArrays(e.TRIANGLES,0,6);let r=this.particleStateTexture0;this.particleStateTexture0=this.particleStateTexture1,this.particleStateTexture1=r,s(e,null,null);}destroy(){this.gl.deleteBuffer(this.quadBuffer),this.gl.deleteBuffer(this.particleIndexBuffer),this.gl.deleteFramebuffer(this.framebuffer),this.gl.deleteShader(this.drawProgram.vertexShader),this.gl.deleteShader(this.drawProgram.fragmentShader),this.gl.deleteProgram(this.drawProgram),this.gl.deleteShader(this.fullScreenProgram.vertexShader),this.gl.deleteShader(this.fullScreenProgram.fragmentShader),this.gl.deleteProgram(this.fullScreenProgram),this.gl.deleteShader(this.updateProgram.vertexShader),this.gl.deleteShader(this.updateProgram.fragmentShader),this.gl.deleteProgram(this.updateProgram),this.gl.deleteTexture(this.colorRampTexture),this.gl.deleteTexture(this.backgroundTexture),this.gl.deleteTexture(this.screenTexture),this.gl.deleteTexture(this.particleStateTexture0),this.gl.deleteTexture(this.particleStateTexture1),this.gl.deleteTexture(this.windTexture);}}},"10f1e745":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ff4fa117")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"10f26fb8":function(e,t,r){"use strict";e.exports=function(e){function t(){}var r={log:t,warn:t,error:t};if(!e&&window.console){var n=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var r=0;r<arguments.length;r++)e(arguments[r]);};};n(r,"log"),n(r,"warn"),n(r,"error");}return r;};},"10f65416":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c3b71d7a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"110e39a1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("89f68c62")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"11eedffb":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e7005ffb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"11ff2194":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("e1e610e4")),u=r("89217383");class l{constructor(e){(0,o.default)(this,"layer",void 0),this.layer=e;}pickRender(e){let t=this.layer.getContainer().layerService,r=this.layer;if(r.tileLayer)return r.tileLayer.pickRender(e);r.hooks.beforePickingEncode.call(),t.renderTileLayerMask(r),r.renderModels({ispick:!0}),r.hooks.afterPickingEncode.call();}pick(e,t){var r=this;return(0,i.default)(function*(){let n=r.layer.getContainer().pickingService;return"RasterLayer"===e.type?r.pickRasterLayer(e,t):(r.pickRender(t),n.pickFromPickingFBO(e,t));})();}pickRasterLayer(e,t,r){let n=this.layer.getContainer(),i=n.pickingService,o=n.mapService,l=this.layer.getSource().extent,f=(0,u.lngLatInExtent)(t.lngLat,l),s={x:t.x,y:t.y,type:t.type,lngLat:t.lngLat,target:t,rasterValue:null},c=r||e;if(!f)return s.type="mousemove"===t.type?"mouseout":"un"+t.type,i.triggerHoverOnLayer(c,(0,a.default)((0,a.default)({},s),{},{type:"unpick"})),i.triggerHoverOnLayer(c,s),!1;{let r=this.readRasterValue(e,l,o,t.x,t.y);return s.rasterValue=r,i.triggerHoverOnLayer(c,s),!0;}}readRasterValue(e,t,r,n,a){let i=e.getSource().data.dataArray[0],[o=0,u=0,l=10,f=-10]=t,s=r.lngLatToContainer([o,u]),c=r.lngLatToContainer([l,f]),d=c.x-s.x,h=s.y-c.y,p=[(n-s.x)/d,(a-c.y)/h],v=i.width||1,_=i.height||1,m=Math.floor(p[0]*v),g=Math.max(0,Math.floor(p[1]*_)-1)*v+m;return i.data[g];}selectFeature(e){let t=this.layer,[r,n,a]=e;t.hooks.beforeSelect.call([r,n,a]);}highlightPickedFeature(e){let[t,r,n]=e;this.layer.hooks.beforeHighlight.call([t,r,n]);}getFeatureById(e){return this.layer.getSource().getFeatureById(e);}}},"12a38df8":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8a546260")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"12d35fc6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("66c66bb7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"12d4a3e0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("07f0da28")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"131699db":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0dfcfa63")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"132855c7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6a4cabd0")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"132a6da3":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{color:function(){return a.default;},cubehelix:function(){return o.default;},hcl:function(){return i.hcl;},rgb:function(){return a.rgb;}});var n=r("777fffbe"),a=r("852bbaa9")._(r("2d6f995c")),i=r("2702a094"),o=n._(r("8bc068ac"));},"1333cc9c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});var n={image:r("777fffbe")._(r("67d8a09f")).default};},"1360e746":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9b0356dd")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"13736daf":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9979ea57")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"13c3ad69":function(e,t,r){"use strict";function n(e,t){e.forEach(e=>{t[e]&&(t[e]=t[e].bind(t));});}r.d(t,"__esModule",{value:!0}),r.e(t,{FrequencyController:function(){return a;},bindAll:function(){return n;}});var a=class{constructor(e=16){this.duration=16,this.timestamp=new Date().getTime(),this.duration=e;}run(e){let t=new Date().getTime(),r=t-this.timestamp;this.timestamp=t,r>=this.duration&&e();}};},"1423b534":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("430de26c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"145aaa7b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f1ec6893")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"14a379fa":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"CanvasContextTypeMap",{enumerable:!0,get:function(){return n;}});let n={canvas2d:"2d",webgl:"webgl",webgl2:"webgl2",webgpu:"webgpu"};},"14c127aa":function(e,t,r){"use strict";function n(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r);};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"15d3bef5":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});var n=class{constructor(e,t){let{buffer:r,offset:n,stride:a,normalized:i,size:o,divisor:u,shaderLocation:l}=t;this.buffer=r,this.attribute={shaderLocation:l,buffer:r.get(),offset:n||0,stride:a||0,normalized:i||!1,divisor:u||0},o&&(this.attribute.size=o);}get(){return this.buffer;}updateBuffer(e){this.buffer.subData(e);}destroy(){this.buffer.destroy();}};},"15ef2651":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("777fffbe"),a=n._(r("fcd2eb78")),i=n._(r("8bdf14aa")),o=n._(r("209caa3e")),u={raster:a.default,rasterRgb:i.default,raster3d:a.default,rasterTerrainRgb:o.default};},16078358:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2100aed1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1639357f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("29fdb5ae")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"16d1dd38":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7510369d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1742e100":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2db7fe91")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"178c66e7":function(e,t,r){},"17ba9a12":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4b38fdd7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"17bbb455":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("16cb44d3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"18006a9e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("49dc0d88")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},18291793:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("af21b0e3"),a=r("6f39512d");function i(e,t,r,i){var o,u=(0,n.tickStep)(e,t,r);switch((i=(0,a.formatSpecifier)(null==i?",f":i)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(o=(0,a.precisionPrefix)(u,l))||(i.precision=o),(0,a.formatPrefix)(i,l);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=(0,a.precisionRound)(u,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=(0,a.precisionFixed)(u))||(i.precision=o-("%"===i.type)*2);}return(0,a.format)(i);}},"1833399e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8fcba40a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"184ce7b5":function(e,t,r){"use strict";function n(e){return e;}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"184d1c4d":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{durationDay:function(){return o;},durationHour:function(){return i;},durationMinute:function(){return a;},durationSecond:function(){return n;},durationWeek:function(){return u;}});var n=1e3,a=6e4,i=36e5,o=864e5,u=6048e5;},"189c06fa":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3b4a296b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"18fb4214":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("92c0f43b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"192128f8":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("431363f1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"19639f7d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("818e90f8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1974a543":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("da37a574")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1985a380":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("138368ac")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"19898f67":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return g;}});var n=r("42f7077b"),a=r("7f434d9f"),i=r("89217383"),o=r("a23649c0"),u=Object.defineProperty,l=Object.defineProperties,f=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))c.call(t,r)&&h(e,r,t[r]);if(s)for(var r of s(t))d.call(t,r)&&h(e,r,t[r]);return e;},v=(e,t)=>l(e,f(t)),{isPlainObject:_,isTypedArray:m}=i.lodashUtil,g=class{constructor(e,t){this.destroyed=!1,this.uniforms={},this.reGl=e;let{vs:r,fs:i,attributes:u,uniforms:l,primitive:f,count:s,elements:c,depth:d,cull:h,instances:p}=t,v={platformString:"WebGL1",glslVersion:"#version 100",explicitBindingLocations:!1,separateSamplerTextures:!1,viewportOrigin:n.ViewportOrigin.LOWER_LEFT,clipSpaceNearZ:n.ClipSpaceNearZ.NEGATIVE_ONE,supportMRT:!1},_={};this.options=t,l&&(this.uniforms=this.extractUniforms(l),Object.keys(l).forEach(t=>{_[t]=e.prop(t);}));let m={};Object.keys(u).forEach(e=>{m[e]=u[e].get();});let g={attributes:m,frag:(0,a.removeDuplicateUniforms)((0,n.preprocessShader_GLSL)(v,"frag",i,null,!1)),uniforms:_,vert:(0,a.removeDuplicateUniforms)((0,n.preprocessShader_GLSL)(v,"vert",r,null,!1)),colorMask:e.prop("colorMask"),lineWidth:1,blend:{enable:e.prop("blend.enable"),func:e.prop("blend.func"),equation:e.prop("blend.equation"),color:e.prop("blend.color")},stencil:{enable:e.prop("stencil.enable"),mask:e.prop("stencil.mask"),func:e.prop("stencil.func"),opFront:e.prop("stencil.opFront"),opBack:e.prop("stencil.opBack")},primitive:o.primitiveMap[void 0===f?a.gl.TRIANGLES:f]};p&&(g.instances=p),s?g.count=s:c&&(g.elements=c.get()),this.initDepthDrawParams({depth:d},g),this.initCullDrawParams({cull:h},g),this.drawCommand=e(g),this.drawParams=g;}updateAttributesAndElements(e,t){let r={};Object.keys(e).forEach(t=>{r[t]=e[t].get();}),this.drawParams.attributes=r,this.drawParams.elements=t.get(),this.drawCommand=this.reGl(this.drawParams);}updateAttributes(e){let t={};Object.keys(e).forEach(r=>{t[r]=e[r].get();}),this.drawParams.attributes=t,this.drawCommand=this.reGl(this.drawParams);}addUniforms(e){this.uniforms=p(p({},this.uniforms),this.extractUniforms(e));}draw(e,t){if(this.drawParams.attributes&&0===Object.keys(this.drawParams.attributes).length)return;let r=p(p({},this.uniforms),this.extractUniforms(e.uniforms||{})),n={};Object.keys(r).forEach(e=>{let t=typeof r[e];"boolean"===t||"number"===t||Array.isArray(r[e])||r[e].BYTES_PER_ELEMENT?n[e]=r[e]:n[e]=r[e].get();}),n.blend=t?this.getBlendDrawParams({blend:{enable:!1}}):this.getBlendDrawParams(e),n.stencil=this.getStencilDrawParams(e),n.colorMask=this.getColorMaskDrawParams(e,t),this.drawCommand(n);}destroy(){var e,t;null==(t=null==(e=this.drawParams)?void 0:e.elements)||t.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach(e=>{null==e||e.destroy();}),this.destroyed=!0;}initDepthDrawParams({depth:e},t){e&&(t.depth={enable:void 0===e.enable||!!e.enable,mask:void 0===e.mask||!!e.mask,func:o.depthFuncMap[e.func||a.gl.LESS],range:e.range||[0,1]});}getBlendDrawParams({blend:e}){let{enable:t,func:r,equation:n,color:i=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:o.blendFuncMap[r&&r.srcRGB||a.gl.SRC_ALPHA],srcAlpha:o.blendFuncMap[r&&r.srcAlpha||a.gl.SRC_ALPHA],dstRGB:o.blendFuncMap[r&&r.dstRGB||a.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:o.blendFuncMap[r&&r.dstAlpha||a.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:o.blendEquationMap[n&&n.rgb||a.gl.FUNC_ADD],alpha:o.blendEquationMap[n&&n.alpha||a.gl.FUNC_ADD]},color:i};}getStencilDrawParams({stencil:e}){let{enable:t,mask:r=-1,func:n={cmp:a.gl.ALWAYS,ref:0,mask:-1},opFront:i={fail:a.gl.KEEP,zfail:a.gl.KEEP,zpass:a.gl.KEEP},opBack:u={fail:a.gl.KEEP,zfail:a.gl.KEEP,zpass:a.gl.KEEP}}=e||{};return{enable:!!t,mask:r,func:v(p({},n),{cmp:o.stencilFuncMap[n.cmp]}),opFront:{fail:o.stencilOpMap[i.fail],zfail:o.stencilOpMap[i.zfail],zpass:o.stencilOpMap[i.zpass]},opBack:{fail:o.stencilOpMap[u.fail],zfail:o.stencilOpMap[u.zfail],zpass:o.stencilOpMap[u.zpass]}};}getColorMaskDrawParams({stencil:e},t){return(null==e?void 0:e.enable)&&e.opFront&&!t?[!1,!1,!1,!1]:[!0,!0,!0,!0];}initCullDrawParams({cull:e},t){if(e){let{enable:r,face:n=a.gl.BACK}=e;t.cull={enable:!!r,face:o.cullFaceMap[n]};}}extractUniforms(e){let t={};return Object.keys(e).forEach(r=>{this.extractUniformsRecursively(r,e[r],t,"");}),t;}extractUniformsRecursively(e,t,r,n){if(null===t||"number"==typeof t||"boolean"==typeof t||Array.isArray(t)&&"number"==typeof t[0]||m(t)||""===t||"resize"in t){r[`${n&&n+"."}${e}`]=t;return;}_(t)&&Object.keys(t).forEach(a=>{this.extractUniformsRecursively(a,t[a],r,`${n&&n+"."}${e}`);}),Array.isArray(t)&&t.forEach((t,a)=>{Object.keys(t).forEach(i=>{this.extractUniformsRecursively(i,t[i],r,`${n&&n+"."}${e}[${a}]`);});});}};},"19ff8c2c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("27b06689")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1a119c4f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d6733bea")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1a2bb77e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{autoType:function(){return i.default;},dsvFormat:function(){return a.default;}});var n=r("777fffbe"),a=n._(r("eac4aa94")),i=n._(r("3912f6f4"));},"1a66d284":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("6c8aee75")),f=r("f9b12b3c"),s=r("cb029c45");let{isNumber:c}=u.lodashUtil;class d extends l.default{constructor(...e){super(...e),(0,i.default)(this,"raiseCount",0),(0,i.default)(this,"raiseRepeat",0);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,POS:10,NORMAL:11});}getCommonUniformsInfo(){let{animateOption:e={enable:!1,speed:.01,repeat:!1},opacity:t=1,sourceColor:r,targetColor:n,pickLight:a=!1,heightfixed:i=!0,opacityLinear:o={enable:!1,dir:"up"},lightEnable:l=!0}=this.layer.getLayerConfig(),f=0,s=[0,0,0,0],d=[0,0,0,0];if(r&&n&&(s=(0,u.rgb2arr)(r),d=(0,u.rgb2arr)(n),f=1),this.raiseCount<1&&this.raiseRepeat>0&&e.enable){let{speed:t=.01}=e;this.raiseCount+=t,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1);}let h={u_sourceColor:s,u_targetColor:d,u_linearColor:f,u_pickLight:Number(a),u_heightfixed:Number(i),u_r:e.enable&&this.raiseRepeat>0?this.raiseCount:1,u_opacity:c(t)?t:1,u_opacitylinear:Number(o.enable),u_opacitylinear_dir:"up"===o.dir?1:0,u_lightEnable:Number(l)};return this.getUniformsBufferInfo(h);}initModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){let{animateOption:{repeat:t=1}}=e.layer.getLayerConfig();return e.raiseRepeat=t,[(yield e.layer.buildLayerModel({moduleName:"pointEarthExtrude",vertexShader:'precision highp float;\n\n#define pi 3.1415926535\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;\nlayout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\n\nlayout(std140) uniform commonUniform {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor: 0;\n  float u_heightfixed: 0.0; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A\n  float u_globel;\n  float u_r;\n  float u_pickLight: 0.0;\n  float u_opacitylinear: 0.0;\n  float u_opacitylinear_dir: 1.0;\n  float u_lightEnable: 1.0;\n};\n\nout vec4 v_color;\nout float v_lightWeight;\nout float v_barLinearZ;\n// \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143\n\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nfloat getYRadian(float x, float z) {\n  if(x > 0.0 && z > 0.0) {\n    return atan(x/z);\n  } else if(x > 0.0 && z <= 0.0){\n    return atan(-z/x) + pi/2.0;\n  } else if(x <= 0.0 && z <= 0.0) {\n    return  pi + atan(x/z); //atan(x/z) +\n  } else {\n    return atan(z/-x) + pi*3.0/2.0;\n  }\n}\n\nfloat getXRadian(float y, float r) {\n  return atan(y/r);\n}\n\nvoid main() {\n\n  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97\n  vec3 size = a_Size * a_Position;\n\n  // a_Position.z \u662F\u5728\u6784\u5EFA\u7F51\u683C\u7684\u65F6\u5019\u4F20\u5165\u7684\u6807\u51C6\u503C 0 - 1\uFF0C\u5728\u63D2\u503C\u5668\u63D2\u503C\u53EF\u4EE5\u83B7\u53D6 0\uFF5E1 \u7EBF\u6027\u6E10\u53D8\u7684\u503C\n  v_barLinearZ =  a_Position.z;\n\n  vec3 offset = size; // \u63A7\u5236\u5706\u67F1\u4F53\u7684\u5927\u5C0F - \u4ECE\u6807\u51C6\u5355\u4F4D\u5706\u67F1\u4F53\u8FDB\u884C\u504F\u79FB\n  if(u_heightfixed < 1.0) { // \u5706\u67F1\u4F53\u4E0D\u56FA\u5B9A\u9AD8\u5EA6\n    //\n  } else {// \u5706\u67F1\u4F53\u56FA\u5B9A\u9AD8\u5EA6 \uFF08 \u5904\u7406 mapbox \uFF09\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);\n    }\n  }\n\n\n  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));\n\n  // u_r \u63A7\u5236\u5706\u67F1\u7684\u751F\u957F\n  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);\n\n  // \u5706\u67F1\u5149\u7167\u6548\u679C\n  float lightWeight = 1.0;\n  if(u_lightEnable > 0.0) { // \u53D6\u6D88\u4E09\u5143\u8868\u8FBE\u5F0F\uFF0C\u589E\u5F3A\u5065\u58EE\u6027\n    lightWeight = calc_lighting(pos);\n  }\n  v_lightWeight = lightWeight;\n  // \u8BBE\u7F6E\u5706\u67F1\u7684\u5E95\u8272\n  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272\n    v_color = mix(u_sourceColor, u_targetColor, v_barLinearZ);\n    v_color.rgb *= lightWeight;\n  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272\n     v_color = a_Color;\n  }\n  v_color.a *= u_opacity;\n\n\n  // \u5728\u5730\u7403\u6A21\u5F0F\u4E0B\uFF0C\u5C06\u539F\u672C\u5782\u76F4\u4E8E xy \u5E73\u9762\u7684\u5706\u67F1\u8C03\u6574\u59FF\u6001\u5230\u9002\u5E94\u5706\u7684\u89D2\u5EA6\n  //\u65CB\u8F6C\u77E9\u9635mx\uFF0C\u521B\u5EFA\u7ED5x\u8F74\u65CB\u8F6C\u77E9\u9635\n  float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);\n  float xRadian = getXRadian(a_Pos.y, r);\n  float xcos = cos(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C\n  float xsin = sin(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C\n  mat4 mx = mat4(\n    1,0,0,0,\n    0,xcos,-xsin,0,\n    0,xsin,xcos,0,\n    0,0,0,1);\n\n  //\u65CB\u8F6C\u77E9\u9635my\uFF0C\u521B\u5EFA\u7ED5y\u8F74\u65CB\u8F6C\u77E9\u9635\n  float yRadian = getYRadian(a_Pos.x, a_Pos.z);\n  float ycos = cos(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C\n  float ysin = sin(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C\n  mat4 my = mat4(\n    ycos,0,-ysin,0,\n    0,1,0,0,\n    ysin,0,ycos,0,\n    0,0,0,1);\n\n  gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);\n\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'precision highp float;\nin vec4 v_color;\n\n#pragma include "picking"\n\nlayout(std140) uniform commonUniform {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor: 0;\n  float u_heightfixed: 0.0; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A\n  float u_globel;\n  float u_r;\n  float u_pickLight: 0.0;\n  float u_opacitylinear: 0.0;\n  float u_opacitylinear_dir: 1.0;\n  float u_lightEnable: 1.0;\n};\nin float v_lightWeight;\nin float v_barLinearZ;\nout vec4 outputColor;\nvoid main() {\n\n   outputColor = v_color;\n\n  // \u5F00\u542F\u900F\u660E\u5EA6\u6E10\u53D8\n  if(u_opacitylinear > 0.0) {\n    outputColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - v_barLinearZ): v_barLinearZ;\n  }\n\n  // picking\n  if(u_pickLight > 0.0) {\n    outputColor = filterColorAlpha(outputColor, v_lightWeight);\n  } else {\n    outputColor = filterColor(outputColor);\n  }\n}\n',triangulation:f.PointExtrudeTriangulation,depth:{enable:!0},defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:o.gl.FRONT},blend:e.getBlend()}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:o.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:e=>{let{size:t}=e;if(!t)return[2,2,2];{let e=[];return Array.isArray(t)&&(e=2===t.length?[t[0],t[0],t[1]]:t),Array.isArray(t)||(e=[t,t,t]),e;}}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:o.AttributeType.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:(e,t,r,n,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:o.AttributeType.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:e=>{let t=(0,u.calculateCentroid)(e.coordinates);return(0,s.lglt2xyz)([t[0],t[1]]);}}});}}},"1aadce01":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("919b12be")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1b58e168":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3ee8dcd1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1b6d1f8b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("182cb7f7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1c3f9c17":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c416878d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1c8fdc6f":function(e,t,r){"use strict";var n="_erd";e.exports={initState:function(e){return e[n]={},e[n];},getState:function(e){return e[n];},cleanState:function(e){delete e[n];}};},"1cb659f6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("504dbfb3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1cbf083d":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return p;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=r("89217383"),f=r("49f29790"),s=n._(r("6c8aee75")),c=r("f9b12b3c"),d=r("4ebc75b9");let{isEqual:h}=l.lodashUtil;class p extends s.default{constructor(...e){super(...e),(0,o.default)(this,"texture",void 0),(0,o.default)(this,"colorTexture",void 0),(0,o.default)(this,"heatmapFramerBuffer",void 0),(0,o.default)(this,"heatmapTexture",void 0),(0,o.default)(this,"intensityModel",void 0),(0,o.default)(this,"colorModel",void 0),(0,o.default)(this,"shapeType",void 0),(0,o.default)(this,"preRampColors",void 0),(0,o.default)(this,"colorModelUniformBuffer",[]),(0,o.default)(this,"heat3DModelUniformBuffer",[]);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,UV:10,DIR:11});}prerender(){let{clear:e,useFramebuffer:t}=this.rendererService;t(this.heatmapFramerBuffer,()=>{e({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.heatmapFramerBuffer}),this.drawIntensityMode();});}render(e){let{rampColors:t}=this.layer.getLayerConfig();h(this.preRampColors,t)||this.updateColorTexture(),"heatmap"===this.shapeType?this.drawHeatMap(e):this.draw3DHeatMap(e);}getUninforms(){throw Error("Method not implemented.");}initModels(){var e=this;return(0,i.default)(function*(){var t;let{createFramebuffer:r,getViewportSize:n,createTexture2D:a}=e.rendererService,i=e.styleAttributeService.getLayerStyleAttribute("shape"),o=(null==i||null===(t=i.scale)||void 0===t?void 0:t.field)||"heatmap";e.shapeType=o,e.intensityModel=yield e.buildHeatMapIntensity(),e.colorModel="heatmap"===o?e.buildHeatmap():e.build3dHeatMap();let{width:l,height:f}=n();return e.heatmapTexture=a({width:Math.floor(l/4),height:Math.floor(f/4),wrapS:u.gl.CLAMP_TO_EDGE,wrapT:u.gl.CLAMP_TO_EDGE,min:u.gl.LINEAR,mag:u.gl.LINEAR,usage:u.TextureUsage.RENDER_TARGET}),e.heatmapFramerBuffer=r({color:e.heatmapTexture,depth:!0,width:Math.floor(l/4),height:Math.floor(f/4)}),e.updateColorTexture(),[e.intensityModel,e.colorModel];})();}buildModels(){var e=this;return(0,i.default)(function*(){return e.initModels();})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"dir",type:u.AttributeType.Attribute,descriptor:{name:"a_Dir",shaderLocation:this.attributeLocation.DIR,buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:u.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:1,update:e=>{let{size:t=1}=e;return[t];}}});}buildHeatMapIntensity(){var e=this;return(0,i.default)(function*(){return e.uniformBuffers=[e.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})],e.layer.triangulation=c.HeatmapTriangulation,yield e.layer.buildLayerModel({moduleName:"heatmapIntensity",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_DIR) in vec2 a_Dir;\n\nlayout(std140) uniform commonUniforms {\n  float u_radius;\n  float u_intensity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n};\n\nout vec2 v_extrude;\nout float v_weight;\n\n#define GAUSS_COEF (0.3989422804014327)\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  vec3 picking_color_placeholder = u_PickingColor;\n\n  v_weight = a_Size;\n  float ZERO = 1.0 / 255.0 / 16.0;\n  float extrude_x = a_Dir.x * 2.0 - 1.0;\n  float extrude_y = a_Dir.y * 2.0 - 1.0;\n  vec2 extrude_dir = normalize(vec2(extrude_x, extrude_y));\n  float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 2.5;\n  v_extrude = extrude_dir * S;\n\n  vec2 offset = project_pixel(v_extrude * u_radius);\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n}\n',fragmentShader:"layout(std140) uniform commonUniforms {\n  float u_radius;\n  float u_intensity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n};\n\nin vec2 v_extrude;\nin float v_weight;\nout vec4 outputColor;\n#define GAUSS_COEF (0.3989422804014327)\n\nvoid main() {\n  float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n  float val = v_weight * u_intensity * GAUSS_COEF * exp(d);\n  outputColor = vec4(val, 1.0, 1.0, 1.0);\n}\n",triangulation:c.HeatmapTriangulation,defines:e.getDefines(),depth:{enable:!1},cull:{enable:!0,face:u.gl.FRONT}});})();}buildHeatmap(){this.shaderModuleService.registerModule("heatmapColor",{vs:'layout(location = 0) in vec3 a_Position;\nlayout(location = 10) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n  float u_common_uniforms_padding3;\n};\n\n#pragma include "scene_uniforms"\n\nout vec2 v_texCoord;\nvoid main() {\n  v_texCoord = a_Uv;\n  #ifdef VIEWPORT_ORIGIN_TL\n  v_texCoord.y = 1.0 - v_texCoord.y;\n  #endif\n\n  gl_Position = vec4(a_Position.xy, 0, 1.0);\n}\n',fs:'uniform sampler2D u_texture; // \u70ED\u529B\u5F3A\u5EA6\u56FE\nuniform sampler2D u_colorTexture; // \u6839\u636E\u5F3A\u5EA6\u5206\u5E03\u7684\u8272\u5E26\n\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n  float u_common_uniforms_padding3;\n};\nin vec2 v_texCoord;\nout vec4 outputColor;\n\n#pragma include "scene_uniforms"\n\nfloat getBlurIndusty() {\n  float vW = 2.0 / u_ViewportSize.x;\n  float vH = 2.0 / u_ViewportSize.y;\n  vec2 vUv = v_texCoord;\n  float i11 = texture(SAMPLER_2D(u_texture), vec2(vUv.x - 1.0 * vW, vUv.y + 1.0 * vH)).r;\n  float i12 = texture(SAMPLER_2D(u_texture), vec2(vUv.x - 0.0 * vW, vUv.y + 1.0 * vH)).r;\n  float i13 = texture(SAMPLER_2D(u_texture), vec2(vUv.x + 1.0 * vW, vUv.y + 1.0 * vH)).r;\n\n  float i21 = texture(SAMPLER_2D(u_texture), vec2(vUv.x - 1.0 * vW, vUv.y)).r;\n  float i22 = texture(SAMPLER_2D(u_texture), vec2(vUv.x, vUv.y)).r;\n  float i23 = texture(SAMPLER_2D(u_texture), vec2(vUv.x + 1.0 * vW, vUv.y)).r;\n\n  float i31 = texture(SAMPLER_2D(u_texture), vec2(vUv.x - 1.0 * vW, vUv.y - 1.0 * vH)).r;\n  float i32 = texture(SAMPLER_2D(u_texture), vec2(vUv.x - 0.0 * vW, vUv.y - 1.0 * vH)).r;\n  float i33 = texture(SAMPLER_2D(u_texture), vec2(vUv.x + 1.0 * vW, vUv.y - 1.0 * vH)).r;\n\n  return (i11 + i12 + i13 + i21 + i21 + i22 + i23 + i31 + i32 + i33) / 9.0;\n}\n\nvoid main() {\n  // float intensity = texture(u_texture, v_texCoord).r;\n  float intensity = getBlurIndusty();\n  vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(intensity, 0.0));\n  outputColor = color;\n  outputColor.a = color.a * smoothstep(0.0, 0.1, intensity) * u_opacity;\n}\n'}),this.colorModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})];let{vs:e,fs:t,uniforms:r}=this.shaderModuleService.getModule("heatmapColor"),{createAttribute:n,createElements:i,createBuffer:o,createModel:l}=this.rendererService;return l({vs:e,fs:t,uniformBuffers:[...this.colorModelUniformBuffer,...this.rendererService.uniformBuffers],attributes:{a_Position:n({shaderLocation:this.attributeLocation.POSITION,buffer:o({data:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],type:u.gl.FLOAT}),size:3}),a_Uv:n({shaderLocation:this.attributeLocation.UV,buffer:o({data:[0,1,1,1,0,0,1,0],type:u.gl.FLOAT}),size:2})},uniforms:(0,a.default)({},r),depth:{enable:!1},elements:i({data:[0,2,1,2,3,1],type:u.gl.UNSIGNED_INT,count:6})});}build3dHeatMap(){let{getViewportSize:e}=this.rendererService,{width:t,height:r}=e(),n=(0,d.heatMap3DTriangulation)(t/4,r/4);this.shaderModuleService.registerModule("heatmap3dColor",{vs:'layout(location = 0) in vec3 a_Position;\nlayout(location = 10) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  mat4 u_ViewProjectionMatrixUncentered;\n  mat4 u_InverseViewProjectionMatrix;\n  float u_opacity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n  float u_common_uniforms_padding3;\n};\n\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\n\nout vec2 v_texCoord;\nout float v_intensity;\n\nvec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {\n  float t2 = t * t;\n  float one_minus_t = 1.0 - t;\n  float one_minus_t2 = one_minus_t * one_minus_t;\n  return P0 * one_minus_t2 * one_minus_t +\n  P1 * 3.0 * t * one_minus_t2 +\n  P2 * 3.0 * t2 * one_minus_t +\n  P3 * t2 * t;\n}\nvec2 toBezier(float t, vec4 p) {\n  return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));\n}\n\n#pragma include "projection"\n#pragma include "project"\n\nvoid main() {\n  v_texCoord = a_Uv;\n\n  vec2 pos = a_Uv * vec2(2.0) - vec2(1.0); // \u5C06\u539F\u672C 0 -> 1 \u7684 uv \u8F6C\u6362\u4E3A -1 -> 1 \u7684\u6807\u51C6\u5750\u6807\u7A7A\u95F4\uFF08NDC\uFF09\n\n  vec4 p1 = vec4(pos, 0.0, 1.0); // x/y \u5E73\u9762\u4E0A\u7684\u70B9\uFF08z == 0\uFF09\u53EF\u4EE5\u8BA4\u4E3A\u662F\u4E09\u7EF4\u4E0A\u7684\u70B9\u88AB\u6295\u5F71\u5230\u5E73\u9762\u540E\u7684\u70B9\n  vec4 p2 = vec4(pos, 1.0, 1.0); // \u5E73\u884C\u4E8Ex/y\u5E73\u9762\u3001z==1 \u7684\u5E73\u9762\u4E0A\u7684\u70B9\n\n  vec4 inverseP1 = u_InverseViewProjectionMatrix * p1; // \u6839\u636E\u89C6\u56FE\u6295\u5F71\u77E9\u9635\u7684\u9006\u77E9\u9635\u5E73\u9762\u4E0A\u7684\u53CD\u7B97\u51FA\u4E09\u7EF4\u7A7A\u95F4\u4E2D\u7684\u70B9\uFF08p1\u5E73\u9762\u4E0A\u7684\u70B9\uFF09\n  vec4 inverseP2 = u_InverseViewProjectionMatrix * p2;\n\n  inverseP1 = inverseP1 / inverseP1.w; // \u5F52\u4E00\u5316\u64CD\u4F5C\uFF08\u5F52\u4E00\u5316\u540E\u4E3A\u4E16\u754C\u5750\u6807\uFF09\n  inverseP2 = inverseP2 / inverseP2.w;\n\n  float zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z); // ??\n  vec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);\n\n  vec4 b = vec4(0.5, 0.0, 1.0, 0.5);\n  float fh;\n\n  v_intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;\n  fh = toBezier(v_intensity, b).y;\n  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.0), 1.0);\n\n}\n',fs:"layout(std140) uniform commonUniforms {\n  mat4 u_ViewProjectionMatrixUncentered;\n  mat4 u_InverseViewProjectionMatrix;\n  float u_opacity;\n  float u_common_uniforms_padding1;\n  float u_common_uniforms_padding2;\n  float u_common_uniforms_padding3;\n};\n\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\n\nin vec2 v_texCoord;\nin float v_intensity;\nout vec4 outputColor;\n\nvoid main() {\n  float intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;\n  vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(intensity, 0));\n  outputColor = color;\n  // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;\n  outputColor.a = color.a * smoothstep(0.0, 0.1, intensity) * u_opacity;\n}\n"}),this.heat3DModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(36).fill(0),isUBO:!0})];let{vs:i,fs:o,uniforms:l}=this.shaderModuleService.getModule("heatmap3dColor"),{createAttribute:f,createElements:s,createBuffer:c,createModel:h}=this.rendererService;return h({vs:i,fs:o,attributes:{a_Position:f({shaderLocation:this.attributeLocation.POSITION,buffer:c({data:n.vertices,type:u.gl.FLOAT}),size:3}),a_Uv:f({shaderLocation:this.attributeLocation.UV,buffer:c({data:n.uvs,type:u.gl.FLOAT}),size:2})},primitive:u.gl.TRIANGLES,uniformBuffers:[...this.heat3DModelUniformBuffer,...this.rendererService.uniformBuffers],uniforms:(0,a.default)({},l),depth:{enable:!0},blend:{enable:!0,func:{srcRGB:u.gl.SRC_ALPHA,srcAlpha:1,dstRGB:u.gl.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},elements:s({data:n.indices,type:u.gl.UNSIGNED_INT,count:n.indices.length})});}drawIntensityMode(){var e;let{intensity:t=10,radius:r=5}=this.layer.getLayerConfig();this.uniformBuffers[0].subData({offset:0,data:[r,t]}),this.layerService.beforeRenderData(this.layer),this.layer.hooks.beforeRender.call(),null===(e=this.intensityModel)||void 0===e||e.draw({uniforms:{u_radius:r,u_intensity:t},blend:{enable:!0,func:{srcRGB:u.gl.ONE,srcAlpha:1,dstRGB:u.gl.ONE,dstAlpha:1}},stencil:{enable:!1,mask:255,func:{cmp:514,ref:1,mask:255}}}),this.layer.hooks.afterRender.call();}drawHeatMap(e){var t;let{opacity:r=1}=this.layer.getLayerConfig(),n={u_opacity:r,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer},a=[this.heatmapTexture,this.colorTexture];this.colorModelUniformBuffer[0].subData({offset:0,data:[r]}),null===(t=this.colorModel)||void 0===t||t.draw({uniforms:n,textures:a,blend:this.getBlend(),stencil:this.getStencil(e)});}draw3DHeatMap(e){var t;let{opacity:r=1}=this.layer.getLayerConfig(),n=f.mat4.create();f.mat4.invert(n,this.cameraService.getViewProjectionMatrixUncentered());let a={u_opacity:r,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer,u_ViewProjectionMatrixUncentered:this.cameraService.getViewProjectionMatrixUncentered(),u_InverseViewProjectionMatrix:[...n]};this.heat3DModelUniformBuffer[0].subData({offset:0,data:[...a.u_ViewProjectionMatrixUncentered,...a.u_InverseViewProjectionMatrix,r]});let i=[this.heatmapTexture,this.colorTexture];null===(t=this.colorModel)||void 0===t||t.draw({uniforms:a,textures:i,blend:{enable:!0,func:{srcRGB:u.gl.SRC_ALPHA,srcAlpha:1,dstRGB:u.gl.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},stencil:this.getStencil(e)});}updateColorTexture(){let{createTexture2D:e}=this.rendererService;this.texture&&this.texture.destroy();let{rampColors:t}=this.layer.getLayerConfig(),r=(0,l.generateColorRamp)(t);this.colorTexture=e({data:r.data,usage:u.TextureUsage.SAMPLED,width:r.width,height:r.height,wrapS:u.gl.CLAMP_TO_EDGE,wrapT:u.gl.CLAMP_TO_EDGE,min:u.gl.NEAREST,mag:u.gl.NEAREST,flipY:!1,unorm:!0}),this.preRampColors=t;}}},"1cc1ddc3":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return o;},seconds:function(){return u;}});var n=r("777fffbe")._(r("d365c0f8")),a=r("184d1c4d"),i=(0,n.default)(function(e){e.setTime(e-e.getMilliseconds());},function(e,t){e.setTime(+e+t*a.durationSecond);},function(e,t){return(t-e)/a.durationSecond;},function(e){return e.getUTCSeconds();}),o=i,u=i.range;},"1cd1219b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c436f9c6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1cdf190c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8ae7213d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1d053cb4":function(e,t,r){},"1d2239aa":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("49324629")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1d409cdf":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("16bc9ad4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1d5ce969":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=n._(r("55ff22e1"));class l{constructor(){(0,i.default)(this,"mapService",void 0);}apply(e){var t=this;this.mapService=e.getContainer().mapService,e.hooks.init.tapPromise("DataSourcePlugin",(0,a.default)(function*(){e.log(o.IDebugLog.SourceInitStart,o.ILayerStage.INIT);let r=e.getSource();if(!r){let{data:t,options:n}=e.sourceOption||e.defaultSourceConfig;r=new u.default(t,n),e.setSource(r);}r.inited?(t.updateClusterData(e),e.log(o.IDebugLog.SourceInitEnd,o.ILayerStage.INIT)):yield new Promise(n=>{r.on("update",r=>{"inited"===r.type&&(t.updateClusterData(e),e.log(o.IDebugLog.SourceInitEnd,o.ILayerStage.INIT)),n(null);});});})),e.hooks.beforeRenderData.tapPromise("DataSourcePlugin",(0,a.default)(function*(){let r=t.updateClusterData(e),n=e.dataState.dataSourceNeedUpdate;return e.dataState.dataSourceNeedUpdate=!1,r||n;}));}updateClusterData(e){if(e.isTileLayer||e.tileLayer||!e.getSource())return!1;let t=e.getSource(),r=t.cluster,{zoom:n=0}=t.clusterOptions,a=this.mapService.getZoom()-1,i=e.dataState.dataSourceNeedUpdate;return r&&i&&t.updateClusterData(Math.floor(a)),!!(r&&Math.abs(e.clusterZoom-a)>=1)&&(n!==Math.floor(a)&&t.updateClusterData(Math.floor(a)),e.clusterZoom=a,!0);}}},"1d84bec8":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fb930538")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1d8fed69":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return _;}});var n=r("777fffbe"),a=r("42f7077b"),i=r("89217383"),o=n._(r("15d3bef5")),u=n._(r("28d2e114")),l=r("899e3e75"),f=n._(r("d800620f")),s=n._(r("3c7c5152")),c=n._(r("d959e41e")),d=n._(r("64c7acbf")),h=r("d56d885f"),p=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),{isUndefined:v}=i.lodashUtil,_=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>this.device.queryVendorInfo().platformString,this.createModel=e=>new c.default(this.device,e,this),this.createAttribute=e=>new o.default(this.device,e),this.createBuffer=e=>new u.default(this.device,e),this.createElements=e=>new f.default(this.device,e),this.createTexture2D=e=>new d.default(this.device,e),this.createFramebuffer=e=>new s.default(this.device,e),this.useFramebuffer=(e,t)=>{this.currentFramebuffer=e,this.beginFrame(),t(),this.endFrame(),this.currentFramebuffer=null;},this.useFramebufferAsync=(e,t)=>p(this,null,function*(){this.currentFramebuffer=e,this.preRenderPass=this.renderPass,this.beginFrame(),yield t(),this.endFrame(),this.currentFramebuffer=null,this.renderPass=this.preRenderPass;}),this.clear=e=>{let{color:t,depth:r,stencil:n,framebuffer:a=null}=e;if(a)a.clearOptions={color:t,depth:r,stencil:n};else{let e=this.queryVerdorInfo();if("WebGL1"===e){let e=this.getGLContext();v(n)?v(r)||(e.clearDepth(r),e.clear(e.DEPTH_BUFFER_BIT)):(e.clearStencil(n),e.clear(e.STENCIL_BUFFER_BIT));}else if("WebGL2"===e){let e=this.getGLContext();v(n)?v(r)||e.clearBufferfv(e.DEPTH,0,[r]):e.clearBufferiv(e.STENCIL,0,[n]);}}},this.viewport=({width:e,height:t})=>{this.swapChain.configureSwapChain(e,t),this.createMainColorDepthRT(e,t),this.width=e,this.height=t;},this.readPixels=e=>{let{framebuffer:t,x:r,y:n,width:i,height:o}=e,u=this.device.createReadback(),l=t.colorTexture,f=u.readTextureSync(l,r,this.viewportOrigin===a.ViewportOrigin.LOWER_LEFT?n:this.height-n,i,o,new Uint8Array(i*o*4));if(this.viewportOrigin!==a.ViewportOrigin.LOWER_LEFT)for(let e=0;e<f.length;e+=4){let t=f[e];f[e]=f[e+2],f[e+2]=t;}return u.destroy(),f;},this.readPixelsAsync=e=>p(this,null,function*(){let{framebuffer:t,x:r,y:n,width:i,height:o}=e,u=this.device.createReadback(),l=t.colorTexture,f=yield u.readTexture(l,r,this.viewportOrigin===a.ViewportOrigin.LOWER_LEFT?n:this.height-n,i,o,new Uint8Array(i*o*4));if(this.viewportOrigin!==a.ViewportOrigin.LOWER_LEFT)for(let e=0;e<f.length;e+=4){let t=f[e];f[e]=f[e+2],f[e+2]=t;}return u.destroy(),f;}),this.getViewportSize=()=>({width:this.width,height:this.height}),this.getContainer=()=>{var e;return null==(e=this.canvas)?void 0:e.parentElement;},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.device.gl,this.destroy=()=>{var e;this.canvas=null,null==(e=this.uniformBuffers)||e.forEach(e=>{e.destroy();}),this.device.destroy(),this.renderCache.destroy();};}init(e,t){return p(this,null,function*(){let{enableWebGPU:r,shaderCompilerPath:n,antialias:i}=t;this.canvas=e;let o=r?new a.WebGPUDeviceContribution({shaderCompilerPath:n}):new a.WebGLDeviceContribution({targets:["webgl2","webgl1"],antialias:i,onContextLost(e){console.warn("context lost",e);},onContextCreationError(e){console.warn("context creation error",e);},onContextRestored(e){console.warn("context restored",e);}}),u=yield o.createSwapChain(e);u.configureSwapChain(e.width,e.height),this.device=u.getDevice(),this.swapChain=u,this.renderCache=new l.RenderCache(this.device),this.currentFramebuffer=null,this.viewportOrigin=this.device.queryVendorInfo().viewportOrigin;let f=this.device.gl;this.extensionObject={OES_texture_float:!(0,h.isWebGL2)(f)&&this.device.OES_texture_float},this.createMainColorDepthRT(e.width,e.height);});}createMainColorDepthRT(e,t){this.mainColorRT&&this.mainColorRT.destroy(),this.mainDepthRT&&this.mainDepthRT.destroy(),this.mainColorRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:a.Format.U8_RGBA_RT,width:e,height:t,usage:a.TextureUsage.RENDER_TARGET})),this.mainDepthRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:a.Format.D24_S8,width:e,height:t,usage:a.TextureUsage.RENDER_TARGET}));}beginFrame(){this.device.beginFrame();let{currentFramebuffer:e,swapChain:t,mainColorRT:r,mainDepthRT:n}=this,i=e?e.colorRenderTarget:r,o=e?null:t.getOnscreenTexture(),u=e?e.depthRenderTarget:n,{color:l=[0,0,0,0],depth:f=1,stencil:s=0}=(null==e?void 0:e.clearOptions)||{},c=i?(0,a.colorNewFromRGBA)(255*l[0],255*l[1],255*l[2],l[3]):a.TransparentBlack,d=this.device.createRenderPass({colorAttachment:[i],colorResolveTo:[o],colorClearColor:[c],colorStore:[!0],depthStencilAttachment:u,depthClearValue:u?f:void 0,stencilClearValue:u?s:void 0});this.renderPass=d;}endFrame(){this.device.submitPass(this.renderPass),this.device.endFrame();}getPointSizeRange(){let e=this.device.gl;return e.getParameter(e.ALIASED_POINT_SIZE_RANGE);}testExtension(e){return!!this.getGLContext().getExtension(e);}setState(){}setBaseState(){}setCustomLayerDefaults(){}setDirty(e){this.isDirty=e;}getDirty(){return this.isDirty;}};},"1df8592a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fc5faa48")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1e292c2e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("81801401"),r("6c817216");},"1e498716":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f4ca32df")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1e5b40e9":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("7f434d9f"),a=r("a23649c0"),i=class{constructor(e,t){let{data:r,usage:i,type:o,count:u}=t;this.elements=e.elements({data:r,usage:a.usageMap[i||n.gl.STATIC_DRAW],type:a.dataTypeMap[o||n.gl.UNSIGNED_BYTE],count:u});}get(){return this.elements;}subData({data:e}){this.elements.subdata(e);}destroy(){}};},"1ea6650d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9f32e1e8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1f3e8e31":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0ffe23b3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1f408dd0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("34bb2486")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1f729ba6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("93a66b84")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1f87d2dc":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Color:function(){return a;},Rgb:function(){return O;},brighter:function(){return o;},darker:function(){return i;},default:function(){return y;},hsl:function(){return L;},hslConvert:function(){return P;},rgb:function(){return S;},rgbConvert:function(){return A;}});var n=r("852bbaa9")._(r("cbb6b347"));function a(){}var i=.7,o=1.4285714285714286,u="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3,8})$/,c=RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=RegExp("^rgb\\("+[f,f,f]+"\\)$"),h=RegExp("^rgba\\("+[u,u,u,l]+"\\)$"),p=RegExp("^rgba\\("+[f,f,f,l]+"\\)$"),v=RegExp("^hsl\\("+[l,f,f]+"\\)$"),_=RegExp("^hsla\\("+[l,f,f,l]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex();}function b(){return this.rgb().formatRgb();}function y(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=s.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?E(t):3===r?new O(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?T(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?T(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=c.exec(e))?new O(t[1],t[2],t[3],1):(t=d.exec(e))?new O(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?T(t[1],t[2],t[3],t[4]):(t=p.exec(e))?T(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=v.exec(e))?C(t[1],t[2]/100,t[3]/100,1):(t=_.exec(e))?C(t[1],t[2]/100,t[3]/100,t[4]):m.hasOwnProperty(e)?E(m[e]):"transparent"===e?new O(NaN,NaN,NaN,0):null;}function E(e){return new O(e>>16&255,e>>8&255,255&e,1);}function T(e,t,r,n){return n<=0&&(e=t=r=NaN),new O(e,t,r,n);}function A(e){return(e instanceof a||(e=y(e)),e)?new O((e=e.rgb()).r,e.g,e.b,e.opacity):new O;}function S(e,t,r,n){return 1==arguments.length?A(e):new O(e,t,r,null==n?1:n);}function O(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n;}function R(){return"#"+x(this.r)+x(this.g)+x(this.b);}function M(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")");}function x(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16);}function C(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new w(e,t,r,n);}function P(e){if(e instanceof w)return new w(e.h,e.s,e.l,e.opacity);if(e instanceof a||(e=y(e)),!e)return new w;if(e instanceof w)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),u=NaN,l=o-i,f=(o+i)/2;return l?(u=t===o?(r-n)/l+(r<n)*6:r===o?(n-t)/l+2:(t-r)/l+4,l/=f<.5?o+i:2-o-i,u*=60):l=f>0&&f<1?0:u,new w(u,l,f,e.opacity);}function L(e,t,r,n){return 1==arguments.length?P(e):new w(e,t,r,null==n?1:n);}function w(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n;}function I(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255;}(0,n.default)(a,y,{copy:function(e){return Object.assign(new this.constructor,this,e);},displayable:function(){return this.rgb().displayable();},hex:g,formatHex:g,formatHsl:function(){return P(this).formatHsl();},formatRgb:b,toString:b}),(0,n.default)(O,S,(0,n.extend)(a,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new O(this.r*e,this.g*e,this.b*e,this.opacity);},darker:function(e){return e=null==e?i:Math.pow(i,e),new O(this.r*e,this.g*e,this.b*e,this.opacity);},rgb:function(){return this;},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1;},hex:R,formatHex:R,formatRgb:M,toString:M})),(0,n.default)(w,L,(0,n.extend)(a,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new w(this.h,this.s,this.l*e,this.opacity);},darker:function(e){return e=null==e?i:Math.pow(i,e),new w(this.h,this.s,this.l*e,this.opacity);},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new O(I(e>=240?e-240:e+120,a,n),I(e,a,n),I(e<120?e+240:e-120,a,n),this.opacity);},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1;},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")");}}));},"1fb90505":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("954ae4e8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1fbdeb2c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1421156b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"1fe8cae2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6f60d4de")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"204be2e9":function(e,t,r){"use strict";function n(e){if(0===e.length)throw Error("max requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]>t&&(t=e[r]);return 1*t;}function a(e){if(0===e.length)throw Error("min requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]<t&&(t=e[r]);return 1*t;}function i(e){if(0===e.length)return 0;let t=1*e[0];for(let r=1;r<e.length;r++)t+=1*e[r];return t;}function o(e){if(0===e.length)throw Error("mean requires at least one data point");return i(e)/e.length;}function u(e){if(0===e.length)throw Error("mean requires at least one data point");if(e.length<3)return e[0];e.sort();let t=e[0],r=NaN,n=0,a=1;for(let i=1;i<e.length+1;i++)e[i]!==t?(a>n&&(n=a,r=t),a=1,t=e[i]):a++;return 1*r;}r.d(t,"__esModule",{value:!0}),r.e(t,{getColumn:function(){return f;},getSatByColumn:function(){return s;},max:function(){return n;},mean:function(){return o;},min:function(){return a;},mode:function(){return u;},statMap:function(){return l;},sum:function(){return i;}});var l={min:a,max:n,mean:o,sum:i,mode:u};function f(e,t){return e.map(e=>e[t]);}function s(e,t){return l[e](t);}},"209caa3e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("6c8aee75")),f=r("f9b12b3c");class s extends l.default{constructor(...e){super(...e),(0,i.default)(this,"texture",void 0);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9});}getCommonUniformsInfo(){let{opacity:e,clampLow:t=!0,clampHigh:r=!0,noDataValue:n=-9999999,domain:a,rampColors:i,colorTexture:o,rScaler:l=6553.6,gScaler:f=25.6,bScaler:s=.1,offset:c=1e4}=this.layer.getLayerConfig(),d=a||(0,u.getDefaultDomain)(i),h=o;o?this.layer.textureService.setColorTexture(o,i,d):h=this.layer.textureService.getColorTexture(i,d);let p={u_unpack:[l,f,s,c],u_domain:d,u_opacity:e||1,u_noDataValue:n,u_clampLow:t,u_clampHigh:void 0!==r?r:t,u_texture:this.texture,u_colorTexture:h};return this.textures=[this.texture,h],this.getUniformsBufferInfo(p);}initModels(){var e=this;return(0,a.default)(function*(){e.initUniformsBuffer();let t=e.layer.getSource(),{createTexture2D:r}=e.rendererService,n=yield t.data.images;return e.texture=r({data:n[0],width:n[0].width,height:n[0].height,min:o.gl.LINEAR,mag:o.gl.LINEAR}),[(yield e.layer.buildLayerModel({moduleName:"RasterTileDataImage",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_unpack;\n  vec2 u_domain;\n  float u_opacity;\n  float u_noDataValue;\n  float u_clampLow;\n  float u_clampHigh;\n};\nout vec2 v_texCoord;\n#pragma include "projection"\n\nvoid main() {\n  v_texCoord = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n}\n',fragmentShader:"uniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_unpack;\n  vec2 u_domain;\n  float u_opacity;\n  float u_noDataValue;\n  float u_clampLow;\n  float u_clampHigh;\n};\n\nin vec2 v_texCoord;\nout vec4 outputColor;\n\nfloat getElevation(vec2 coord, float bias) {\n  // Convert encoded elevation value to meters\n  vec4 data = texture(SAMPLER_2D(u_texture), coord, bias) * 255.0;\n  data.a = -1.0;\n  return dot(data, u_unpack);\n}\n\nvec4 getColor(float value) {\n  float normalisedValue = (value - u_domain[0]) / (u_domain[1] - u_domain[0]);\n  vec2 coord = vec2(normalisedValue, 0);\n  return texture(SAMPLER_2D(u_colorTexture), coord);\n}\n\nvoid main() {\n  float value = getElevation(v_texCoord, 0.0);\n  if (value == u_noDataValue) {\n    outputColor = vec4(0.0, 0, 0, 0.0);\n  } else if (u_clampLow < 0.5 && value < u_domain[0] || u_clampHigh < 0.5 && value > u_domain[1]) {\n    outputColor = vec4(0.0, 0, 0, 0.0);\n  } else {\n    outputColor = getColor(value);\n    outputColor.a = outputColor.a * u_opacity;\n    if (outputColor.a < 0.01) discard;\n  }\n}\n",defines:e.getDefines(),triangulation:f.RasterImageTriangulation,primitive:o.gl.TRIANGLES,depth:{enable:!1}}))];})();}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initModels();})();}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:o.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}});}}},"20b766b6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dcadae6f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"20babc76":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d36168f1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"20c20b90":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a067518e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"20ff21b3":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("a1276e8e");function a(e,t){var r=(0,n.formatDecimalParts)(e,t);if(!r)return e+"";var a=r[0],i=r[1];return i<0?"0."+Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+Array(i-a.length+2).join("0");}},"219cabe6":function(e,t,r){"use strict";function n(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a;};}function a(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView);}r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return n;},isNumberArray:function(){return a;}});},"21c5b1ec":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("478549ad")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"21ca276f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f44afdda")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"21cf9f19":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4f240087")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"225057d9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e96d8e43")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"225bdc95":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("149ceed6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"22f2fd70":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4e49cb67")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"23aff878":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9e5fbb6a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"23d68b83":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("684cc9ff")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"24642c1d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("57d21880")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"247845b1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("68475c73")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2535d5e7":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("7f434d9f"),a=r("a23649c0"),i=class{constructor(e,t){this.isDestroyed=!1;let{data:r,usage:i,type:o}=t;this.buffer=e.buffer({data:r,usage:a.usageMap[i||n.gl.STATIC_DRAW],type:a.dataTypeMap[o||n.gl.UNSIGNED_BYTE]});}get(){return this.buffer;}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0;}subData({data:e,offset:t}){this.buffer.subdata(e,t);}};},"253de03f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("6b18bdce"),a=r("68cc65c7");function i(e,t){let r,i,o;let{extent:u=[121.168,30.2828,121.384,30.4219],coordinates:l,width:f,height:s,min:c,max:d,format:h,operation:p}=t;if(void 0===h||(0,a.isNumberArray)(e))r=Array.from(e),i=f,o=s;else{let t=Array.isArray(e)?e:[e];r=(0,n.bandsOperation)(t,h,p);}return{_id:1,dataArray:[{_id:1,data:r,width:i,height:o,min:c,max:d,coordinates:(0,a.extentToCoord)(l,u)}]};}},"2559c42b":function(e,t,r){"use strict";function n(e){let t=0;e+="x";let r=Math.floor(65745979961613.07);for(let n=0;n<e.length;n++)t>r&&(t=Math.floor(t/137)),t=131*t+e.charCodeAt(n);return t;}function a(e){e=e.toString();let t=5381,r=e.length;for(;r;)t=33*t^e.charCodeAt(--r);return t>>>0;}function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16);});}r.d(t,"__esModule",{value:!0}),r.e(t,{BKDRHash:function(){return n;},djb2hash:function(){return a;},guid:function(){return i;}});},"260a48a7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("56e4f904")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2646a05f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9f596817")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"268f8aa8":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("63aeb339")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"26f667df":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("03827e84")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2702a094":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Hcl:function(){return g;},Lab:function(){return d;},default:function(){return c;},hcl:function(){return m;}});var n=r("852bbaa9")._(r("a5c6da28")),a=r("2d6f995c"),i=r("0da7f664");let o=4/29,u=6/29,l=6/29*3*(6/29),f=6/29*(6/29)*(6/29);function s(e){if(e instanceof d)return new d(e.l,e.a,e.b,e.opacity);if(e instanceof g)return b(e);e instanceof a.Rgb||(e=(0,a.rgbConvert)(e));var t,r,n=_(e.r),i=_(e.g),o=_(e.b),u=h((.2225045*n+.7168786*i+.0606169*o)/1);return n===i&&i===o?t=r=u:(t=h((.4360747*n+.3850649*i+.1430804*o)/.96422),r=h((.0139322*n+.0971045*i+.7141733*o)/.82521)),new d(116*u-16,500*(t-u),200*(u-r),e.opacity);}function c(e,t,r,n){return 1==arguments.length?s(e):new d(e,t,r,null==n?1:n);}function d(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n;}function h(e){return e>f?Math.pow(e,1/3):e/l+o;}function p(e){return e>u?e*e*e:l*(e-o);}function v(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055);}function _(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);}function m(e,t,r,n){return 1==arguments.length?function(e){if(e instanceof g)return new g(e.h,e.c,e.l,e.opacity);if(e instanceof d||(e=s(e)),0===e.a&&0===e.b)return new g(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*i.degrees;return new g(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity);}(e):new g(e,t,r,null==n?1:n);}function g(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n;}function b(e){if(isNaN(e.h))return new d(e.l,0,0,e.opacity);var t=e.h*i.radians;return new d(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity);}(0,n.default)(d,c,(0,n.extend)(a.Color,{brighter(e){return new d(this.l+18*(null==e?1:e),this.a,this.b,this.opacity);},darker(e){return new d(this.l-18*(null==e?1:e),this.a,this.b,this.opacity);},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=.96422*p(t),e=1*p(e),r=.82521*p(r),new a.Rgb(v(3.1338561*t-1.6168667*e-.4906146*r),v(-.9787684*t+1.9161415*e+.033454*r),v(.0719453*t-.2289914*e+1.4052427*r),this.opacity);}})),(0,n.default)(g,m,(0,n.extend)(a.Color,{brighter(e){return new g(this.h,this.c,this.l+18*(null==e?1:e),this.opacity);},darker(e){return new g(this.h,this.c,this.l-18*(null==e?1:e),this.opacity);},rgb(){return b(this).rgb();}}));},"27c0581c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("56419ab1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"27f5f96a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6554be32")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"28166c36":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f29e2f48")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"28433b80":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("4b19d198"));class o extends i.default{setupShaders(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Scale : 10;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js\nvec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;\n  tex.y /= 0.866025404;\n  tex.x -= tex.y * 0.5;\n  vec2 a;\n  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {\n    a = vec2(floor(tex.x), floor(tex.y));\n  }\n  else a = vec2(ceil(tex.x), ceil(tex.y));\n  vec2 b = vec2(ceil(tex.x), floor(tex.y));\n  vec2 c = vec2(floor(tex.x), ceil(tex.y));\n  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\n  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\n  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\n  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\n  float alen = length(TEX - A);\n  float blen = length(TEX - B);\n  float clen = length(TEX - C);\n  vec2 choice;\n  if (alen < blen) {\n    if (alen < clen) choice = a;\n    else choice = c;\n  } else {\n    if (blen < clen) choice = b;\n    else choice = c;\n  }\n  choice.x += choice.y * 0.5;\n  choice.y *= 0.866025404;\n  choice *= u_Scale / texSize;\n  return texture2D(texture, choice + u_Center);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}"});let{vs:e,fs:t,uniforms:r}=this.shaderModuleService.getModule("hexagonalpixelate-pass"),{width:n,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,a.default)((0,a.default)({},r),{},{u_ViewportSize:[n,i]})};}}},"2864a46a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return function e(){var t=v((0,u.transformer)()).domain([1,10]);return t.copy=function(){return(0,u.copy)(t,e()).base(t.base());},l.initRange.apply(t,arguments),t;};},loggish:function(){return v;}});var n=r("777fffbe"),a=r("af21b0e3"),i=r("6f39512d"),o=n._(r("8f36d1cd")),u=r("4e33fd57"),l=r("5f49fc8a");function f(e){return Math.log(e);}function s(e){return Math.exp(e);}function c(e){return-Math.log(-e);}function d(e){return-Math.exp(-e);}function h(e){return isFinite(e)?+("1e"+e):e<0?0:e;}function p(e){return function(t){return-e(-t);};}function v(e){var t,r,n=e(f,s),u=n.domain,l=10;function v(){var a,i;return t=(a=l)===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(e){return Math.log(e)/a;}),r=10===(i=l)?h:i===Math.E?Math.exp:function(e){return Math.pow(i,e);},u()[0]<0?(t=p(t),r=p(r),e(c,d)):e(f,s),n;}return n.base=function(e){return arguments.length?(l=+e,v()):l;},n.domain=function(e){return arguments.length?(u(e),v()):u();},n.ticks=function(e){var n,i=u(),o=i[0],f=i[i.length-1];(n=f<o)&&(h=o,o=f,f=h);var s,c,d,h=t(o),p=t(f),v=null==e?10:+e,_=[];if(!(l%1)&&p-h<v){if(h=Math.round(h)-1,p=Math.round(p)+1,o>0){for(;h<p;++h)for(c=1,s=r(h);c<l;++c)if(!((d=s*c)<o)){if(d>f)break;_.push(d);}}else for(;h<p;++h)for(c=l-1,s=r(h);c>=1;--c)if(!((d=s*c)<o)){if(d>f)break;_.push(d);}}else _=(0,a.ticks)(h,p,Math.min(p-h,v)).map(r);return n?_.reverse():_;},n.tickFormat=function(e,a){if(null==a&&(a=10===l?".0e":","),"function"!=typeof a&&(a=(0,i.format)(a)),e===1/0)return a;null==e&&(e=10);var o=Math.max(1,l*e/n.ticks().length);return function(e){var n=e/r(Math.round(t(e)));return n*l<l-.5&&(n*=l),n<=o?a(e):"";};},n.nice=function(){return u((0,o.default)(u(),{floor:function(e){return r(Math.floor(t(e)));},ceil:function(e){return r(Math.ceil(t(e)));}}));},n;}},"28794a8a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{utcFriday:function(){return c;},utcFridays:function(){return g;},utcMonday:function(){return u;},utcMondays:function(){return p;},utcSaturday:function(){return d;},utcSaturdays:function(){return b;},utcSunday:function(){return o;},utcSundays:function(){return h;},utcThursday:function(){return s;},utcThursdays:function(){return m;},utcTuesday:function(){return l;},utcTuesdays:function(){return v;},utcWednesday:function(){return f;},utcWednesdays:function(){return _;}});var n=r("777fffbe")._(r("d365c0f8")),a=r("184d1c4d");function i(e){return(0,n.default)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0);},function(e,t){e.setUTCDate(e.getUTCDate()+7*t);},function(e,t){return(t-e)/a.durationWeek;});}var o=i(0),u=i(1),l=i(2),f=i(3),s=i(4),c=i(5),d=i(6),h=o.range,p=u.range,v=l.range,_=f.range,m=s.range,g=c.range,b=d.range;},"287b2dde":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ca7157e3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"28aadd8c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a6c54a73")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"28d2e114":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("42f7077b"),a=r("7f434d9f"),i=r("edce773c"),o=r("9fd1781f"),u=class{constructor(e,t){let r;this.isDestroyed=!1;let{data:u,usage:l,type:f,isUBO:s,label:c}=t;r=(0,o.isTypedArray)(u)?u:new i.typedArrayCtorMap[this.type||a.gl.FLOAT](u),this.type=f,this.size=r.byteLength,this.buffer=e.createBuffer({viewOrSize:r,usage:s?n.BufferUsage.UNIFORM:n.BufferUsage.VERTEX,hint:i.hintMap[l||a.gl.STATIC_DRAW]}),c&&e.setResourceName(this.buffer,c);}get(){return this.buffer;}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0;}subData({data:e,offset:t}){let r;r=(0,o.isTypedArray)(e)?e:new i.typedArrayCtorMap[this.type||a.gl.FLOAT](e),this.buffer.setSubData(t,new Uint8Array(r.buffer));}};},"2926bb9e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("38578ff9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"293888e7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("49570635")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"295ba466":function(e,t,r){"use strict";var n=r("1c3732b0").default,a=r("91c615af").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scriptUrl,r=e.extraCommonProps,n=void 0===r?{}:r;t&&"undefined"!=typeof document&&"undefined"!=typeof window&&"function"==typeof document.createElement&&(Array.isArray(t)?c(t.reverse()):c([t]));var a=u.forwardRef(function(e,t){var r=e.type,a=e.children,s=(0,o.default)(e,f),c=null;return e.type&&(c=u.createElement("use",{xlinkHref:"#".concat(r)})),a&&(c=a),u.createElement(l.default,(0,i.default)({},n,s,{ref:t}),c);});return a.displayName="Iconfont",a;};var i=n(r("54391344")),o=n(r("ad35a619")),u=a(r("896e0d47")),l=n(r("6986045b")),f=["type","children"],s=new Set;function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e[t];if("string"==typeof r&&r.length&&!s.has(r)){var n=document.createElement("script");n.setAttribute("src",r),n.setAttribute("data-namespace",r),e.length>t+1&&(n.onload=function(){c(e,t+1);},n.onerror=function(){c(e,t+1);}),s.add(r),document.body.appendChild(n);}}},"299027d1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("407a10af")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},29954281:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0787c29c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"29d44e7c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("083e981a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2a3a2be0":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return o;},prefix:function(){return n;}});var n="$";function a(){}function i(e,t){var r=new a;if(e instanceof a)e.each(function(e,t){r.set(t,e);});else if(Array.isArray(e)){var n,i=-1,o=e.length;if(null==t)for(;++i<o;)r.set(i,e[i]);else for(;++i<o;)r.set(t(n=e[i],i,e),n);}else if(e)for(var u in e)r.set(u,e[u]);return r;}a.prototype=i.prototype={constructor:a,has:function(e){return n+e in this;},get:function(e){return this[n+e];},set:function(e,t){return this[n+e]=t,this;},remove:function(e){var t=n+e;return t in this&&delete this[t];},clear:function(){for(var e in this)e[0]===n&&delete this[e];},keys:function(){var e=[];for(var t in this)t[0]===n&&e.push(t.slice(1));return e;},values:function(){var e=[];for(var t in this)t[0]===n&&e.push(this[t]);return e;},entries:function(){var e=[];for(var t in this)t[0]===n&&e.push({key:t.slice(1),value:this[t]});return e;},size:function(){var e=0;for(var t in this)t[0]===n&&++e;return e;},empty:function(){for(var e in this)if(e[0]===n)return!1;return!0;},each:function(e){for(var t in this)t[0]===n&&e(this[t],t.slice(1),this);}};var o=i;},"2a542109":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("35fa5653")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2a9ba5fa":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2d69942e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2aeb7e56":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("53301738")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2b63ccdb":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("96079d61")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2b66ae60":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});class n{apply(e){e.hooks.beforeRender.tap("UpdateModelPlugin",()=>{e.layerModel&&e.layerModel.needUpdate().then(t=>{t&&e.renderLayers();});}),e.hooks.afterRender.tap("UpdateModelPlugin",()=>{e.layerModelNeedUpdate=!1;});}}},"2b94425b":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("777fffbe")._(r("a0c669d5")),a=r("7f434d9f");class i{build(e){return(0,n.default)(function*(){e.prepareBuildModel(),yield e.buildModels();})();}initLayerModel(e){var t=this;return(0,n.default)(function*(){yield t.build(e),e.styleNeedUpdate=!1;})();}prepareLayerModel(e){var t=this;return(0,n.default)(function*(){yield t.build(e),e.styleNeedUpdate=!1;})();}apply(e){var t,r=this;e.hooks.init.tapPromise("LayerModelPlugin",(0,n.default)(function*(){if(e.getSource().isTile){e.prepareBuildModel();return;}e.log(a.IDebugLog.BuildModelStart,a.ILayerStage.INIT),yield r.initLayerModel(e),e.log(a.IDebugLog.BuildModelEnd,a.ILayerStage.INIT);})),e.hooks.beforeRenderData.tapPromise("LayerModelPlugin",(t=(0,n.default)(function*(t){return!!t&&!e.getSource().isTile&&(e.log(a.IDebugLog.BuildModelStart,a.ILayerStage.UPDATE),yield r.prepareLayerModel(e),e.log(a.IDebugLog.BuildModelEnd,a.ILayerStage.UPDATE),!0);}),function(e){return t.apply(this,arguments);}));}}},"2bb20ead":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d395283f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2bcf52c6":function(e,t,r){},"2c3dcbd8":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3ab09da3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2c5333bd":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e93862db")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2c852de3":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a7461ff4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2c8ca356":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("17ca128c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2c954f9f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0e6b0f47")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2ca50b8c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{PopperControl:function(){return f;},default:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("32c4d86d"),u=n._(r("e46f20cf"));let l={topleft:"right-start",topcenter:"bottom",topright:"left-start",bottomleft:"right-end",bottomcenter:"top",bottomright:"left-end",lefttop:"bottom-start",leftcenter:"right",leftbottom:"top-start",righttop:"bottom-end",rightcenter:"left",rightbottom:"top-end"};class f extends u.default{constructor(...e){super(...e),(0,i.default)(this,"popper",void 0);}getPopper(){return this.popper;}hide(){this.popper.hide(),super.hide();}getDefault(e){var t;let r=super.getDefault(e),n=null!==(t=null==e?void 0:e.position)&&void 0!==t?t:r.position;return(0,a.default)((0,a.default)({},super.getDefault(e)),{},{popperPlacement:n instanceof Element?"bottom":l[n],popperTrigger:"click"});}onAdd(){let e=super.onAdd();return this.initPopper(),e;}onRemove(){this.popper.destroy();}initPopper(){let{popperClassName:e,popperPlacement:t,popperTrigger:r}=this.controlOption,n=this.mapsService.getMapContainer();return this.popper=new o.Popper(this.button,{className:e,placement:t,trigger:r,container:n,unique:!0}),this.popper.on("show",()=>{this.emit("popperShow",this);}).on("hide",()=>{this.emit("popperHide",this);}),this.popper;}setOptions(e){if(super.setOptions(e),this.checkUpdateOption(e,["popperPlacement","popperTrigger","popperClassName"])){let e=this.popper.getContent();this.popper.destroy(),this.initPopper(),this.popper.setContent(e);}}}},"2d4ff77d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f89980c5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2d6aa4a7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("571324d9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2d6f995c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Color:function(){return a;},Rgb:function(){return O;},brighter:function(){return o;},darker:function(){return i;},default:function(){return y;},hsl:function(){return I;},hslConvert:function(){return w;},rgb:function(){return S;},rgbConvert:function(){return A;}});var n=r("852bbaa9")._(r("a5c6da28"));function a(){}var i=.7,o=1.4285714285714286,u="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",f="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3,8})$/,c=RegExp(`^rgb\\(${u},${u},${u}\\)$`),d=RegExp(`^rgb\\(${f},${f},${f}\\)$`),h=RegExp(`^rgba\\(${u},${u},${u},${l}\\)$`),p=RegExp(`^rgba\\(${f},${f},${f},${l}\\)$`),v=RegExp(`^hsl\\(${l},${f},${f}\\)$`),_=RegExp(`^hsla\\(${l},${f},${f},${l}\\)$`),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex();}function b(){return this.rgb().formatRgb();}function y(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=s.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?E(t):3===r?new O(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?T(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?T(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=c.exec(e))?new O(t[1],t[2],t[3],1):(t=d.exec(e))?new O(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?T(t[1],t[2],t[3],t[4]):(t=p.exec(e))?T(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=v.exec(e))?L(t[1],t[2]/100,t[3]/100,1):(t=_.exec(e))?L(t[1],t[2]/100,t[3]/100,t[4]):m.hasOwnProperty(e)?E(m[e]):"transparent"===e?new O(NaN,NaN,NaN,0):null;}function E(e){return new O(e>>16&255,e>>8&255,255&e,1);}function T(e,t,r,n){return n<=0&&(e=t=r=NaN),new O(e,t,r,n);}function A(e){return(e instanceof a||(e=y(e)),e)?new O((e=e.rgb()).r,e.g,e.b,e.opacity):new O;}function S(e,t,r,n){return 1==arguments.length?A(e):new O(e,t,r,null==n?1:n);}function O(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n;}function R(){return`#${P(this.r)}${P(this.g)}${P(this.b)}`;}function M(){let e=x(this.opacity);return`${1===e?"rgb(":"rgba("}${C(this.r)}, ${C(this.g)}, ${C(this.b)}${1===e?")":`, ${e})`}`;}function x(e){return isNaN(e)?1:Math.max(0,Math.min(1,e));}function C(e){return Math.max(0,Math.min(255,Math.round(e)||0));}function P(e){return((e=C(e))<16?"0":"")+e.toString(16);}function L(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new N(e,t,r,n);}function w(e){if(e instanceof N)return new N(e.h,e.s,e.l,e.opacity);if(e instanceof a||(e=y(e)),!e)return new N;if(e instanceof N)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),u=NaN,l=o-i,f=(o+i)/2;return l?(u=t===o?(r-n)/l+(r<n)*6:r===o?(n-t)/l+2:(t-r)/l+4,l/=f<.5?o+i:2-o-i,u*=60):l=f>0&&f<1?0:u,new N(u,l,f,e.opacity);}function I(e,t,r,n){return 1==arguments.length?w(e):new N(e,t,r,null==n?1:n);}function N(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n;}function D(e){return(e=(e||0)%360)<0?e+360:e;}function F(e){return Math.max(0,Math.min(1,e||0));}function B(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255;}(0,n.default)(a,y,{copy(e){return Object.assign(new this.constructor,this,e);},displayable(){return this.rgb().displayable();},hex:g,formatHex:g,formatHex8:function(){return this.rgb().formatHex8();},formatHsl:function(){return w(this).formatHsl();},formatRgb:b,toString:b}),(0,n.default)(O,S,(0,n.extend)(a,{brighter(e){return e=null==e?o:Math.pow(o,e),new O(this.r*e,this.g*e,this.b*e,this.opacity);},darker(e){return e=null==e?i:Math.pow(i,e),new O(this.r*e,this.g*e,this.b*e,this.opacity);},rgb(){return this;},clamp(){return new O(C(this.r),C(this.g),C(this.b),x(this.opacity));},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1;},hex:R,formatHex:R,formatHex8:function(){return`#${P(this.r)}${P(this.g)}${P(this.b)}${P((isNaN(this.opacity)?1:this.opacity)*255)}`;},formatRgb:M,toString:M})),(0,n.default)(N,I,(0,n.extend)(a,{brighter(e){return e=null==e?o:Math.pow(o,e),new N(this.h,this.s,this.l*e,this.opacity);},darker(e){return e=null==e?i:Math.pow(i,e),new N(this.h,this.s,this.l*e,this.opacity);},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new O(B(e>=240?e-240:e+120,a,n),B(e,a,n),B(e<120?e+240:e-120,a,n),this.opacity);},clamp(){return new N(D(this.h),F(this.s),F(this.l),x(this.opacity));},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1;},formatHsl(){let e=x(this.opacity);return`${1===e?"hsl(":"hsla("}${D(this.h)}, ${100*F(this.s)}%, ${100*F(this.l)}%${1===e?")":`, ${e})`}`;}}));},"2d81a91e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{parseCss:function(){return i;},parseSvg:function(){return o;}});var n,a=r("852bbaa9")._(r("a34f47f9"));function i(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?a.identity:(0,a.default)(t.a,t.b,t.c,t.d,t.e,t.f);}function o(e){return null==e?a.identity:(n||(n=document.createElementNS("http://www.w3.org/2000/svg","g")),n.setAttribute("transform",e),e=n.transform.baseVal.consolidate())?(e=e.matrix,(0,a.default)(e.a,e.b,e.c,e.d,e.e,e.f)):a.identity;}},"2e172474":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dc6d6551")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2e193f96":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b7a927a0")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2e317013":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("04237e0c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2e92852d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("adb10be2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2ecdf156":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"csvParse",{enumerable:!0,get:function(){return n.csvParse;}});var n=r("074215d9");},"2f0c4a91":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe")._(r("e1e610e4")),a=r("7f434d9f"),i=r("89217383"),o=r("9eb83a1c");let{isNumber:u}=i.lodashUtil,l={ENCODE:1,HIGHLIGHT:2};class f{constructor(){(0,n.default)(this,"pickingUniformMap",void 0);}pickOption2Array(){let e=[];return this.pickingUniformMap.forEach(t=>{u(t)?e.push(t):e.push(...t);}),e;}updatePickOption(e,t){Object.keys(e).forEach(t=>{this.pickingUniformMap.set(t,e[t]);});let r=t.getLayerConfig().pickingBuffer||0,n=Number(t.getShaderPickStat());this.pickingUniformMap.set("u_PickingBuffer",r),this.pickingUniformMap.set("u_shaderPick",n),t.getPickingUniformBuffer().subData({offset:0,data:this.pickOption2Array()});}apply(e,{styleAttributeService:t}){this.pickingUniformMap=new Map([["u_HighlightColor",[1,0,0,1]],["u_SelectColor",[1,0,0,1]],["u_PickingColor",[0,0,0]],["u_PickingStage",0],["u_CurrentSelectedId",[0,0,0]],["u_PickingThreshold",10],["u_PickingBuffer",0],["u_shaderPick",0],["u_activeMix",0]]),e.hooks.init.tapPromise("PixelPickingPlugin",()=>{let{enablePicking:r}=e.getLayerConfig();t.registerStyleAttribute({name:"pickingColor",type:a.AttributeType.Attribute,descriptor:{name:"a_PickingColor",shaderLocation:o.COMMON_ATTRIBUTE_LOCATION.PICKING_COLOR,buffer:{data:[],type:a.gl.FLOAT},size:3,update:e=>{let{id:t}=e;return r?(0,i.encodePickingColor)(t):[0,0,0];}}});}),e.hooks.beforePickingEncode.tap("PixelPickingPlugin",()=>{let{enablePicking:t}=e.getLayerConfig();t&&e.isVisible()&&(this.updatePickOption({u_PickingStage:l.ENCODE},e),e.models.forEach(e=>e.addUniforms({u_PickingStage:l.ENCODE})));}),e.hooks.afterPickingEncode.tap("PixelPickingPlugin",()=>{let{enablePicking:t}=e.getLayerConfig();t&&e.isVisible()&&(this.updatePickOption({u_PickingStage:l.HIGHLIGHT},e),e.models.forEach(e=>e.addUniforms({u_PickingStage:l.HIGHLIGHT})));}),e.hooks.beforeHighlight.tap("PixelPickingPlugin",t=>{let{highlightColor:r,activeMix:n=0}=e.getLayerConfig(),a="string"==typeof r?(0,i.rgb2arr)(r):r||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:(0,i.decodePickingColor)(new Uint8Array(t))});let o={u_PickingStage:l.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:a.map(e=>255*e),u_activeMix:n};this.updatePickOption(o,e),e.models.forEach(e=>e.addUniforms(o));}),e.hooks.beforeSelect.tap("PixelPickingPlugin",t=>{let{selectColor:r,selectMix:n=0}=e.getLayerConfig(),a="string"==typeof r?(0,i.rgb2arr)(r):r||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:(0,i.decodePickingColor)(new Uint8Array(t))});let o={u_PickingStage:l.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:a.map(e=>255*e),u_activeMix:n,u_CurrentSelectedId:t,u_SelectColor:a.map(e=>255*e)};this.updatePickOption(o,e),e.models.forEach(e=>e.addUniforms(o));});}}},"2f0fe9fc":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dff481a5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2f5074d6":function(e,t,r){"use strict";var n=r("aff8928e").forEach;e.exports=function(e){var t,r,a,i,o=(e=e||{}).reporter,u=e.batchProcessor,l=e.stateHandler.getState;e.stateHandler.hasState;var f=e.idHandler;if(!u)throw Error("Missing required dependency: batchProcessor");if(!o)throw Error("Missing required dependency: reporter.");var s=((t=document.createElement("div")).style.cssText=h(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]),(r=document.createElement("div")).style.cssText=h(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),r.appendChild(t),document.body.insertBefore(r,document.body.firstChild),a=500-r.clientWidth,i=500-r.clientHeight,document.body.removeChild(r),{width:a,height:i}),c="erd_scroll_detection_container";function d(e){!function(e,t,r){if(!e.getElementById(t)){var n,a,i,o=r+"_animation",u="/* Created by the element-resize-detector library. */\n";u+="."+r+" > div::-webkit-scrollbar { "+h(["display: none"])+" }\n\n"+("."+r+"_animation_active { ")+h(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+o,"animation-name: "+o])+" }\n@-webkit-keyframes "+o+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n@keyframes "+o+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",n=u,a=a||function(t){e.head.appendChild(t);},(i=e.createElement("style")).innerHTML=n,i.id=t,a(i);}}(e,"erd_scroll_detection_scrollbar_style",c);}function h(t){var r=e.important?" !important; ":"; ";return(t.join(r)+r).trim();}function p(e,t,r){if(e.addEventListener)e.addEventListener(t,r);else{if(!e.attachEvent)return o.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+t,r);}}function v(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r);else{if(!e.detachEvent)return o.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+t,r);}}function _(e){return l(e).container.childNodes[0].childNodes[0].childNodes[0];}function m(e){return l(e).container.childNodes[0].childNodes[0].childNodes[1];}return d(window.document),{makeDetectable:function(e,t,r){var a,i,d;function v(){if(e.debug){var r=Array.prototype.slice.call(arguments);if(r.unshift(f.get(t),"Scroll: "),o.log.apply)o.log.apply(null,r);else for(var n=0;n<r.length;n++)o.log(r[n]);}}function g(e){var t=l(e).container.childNodes[0],r=window.getComputedStyle(t);return!r.width||-1===r.width.indexOf("px");}function b(){var e=window.getComputedStyle(t),r={};return r.position=e.position,r.width=t.offsetWidth,r.height=t.offsetHeight,r.top=e.top,r.right=e.right,r.bottom=e.bottom,r.left=e.left,r.widthCSS=e.width,r.heightCSS=e.height,r;}function y(){if(v("storeStyle invoked."),!l(t)){v("Aborting because element has been uninstalled");return;}var e=b();l(t).style=e;}function E(e,t,r){l(e).lastWidth=t,l(e).lastHeight=r;}function T(){return 2*s.width+1;}function A(){return 2*s.height+1;}function S(e,t,r){var n=_(e),a=m(e),i=t+10+T(),o=r+10+A(),u=2*t+T(),l=2*r+A();n.scrollLeft=i,n.scrollTop=o,a.scrollLeft=u,a.scrollTop=l;}function O(){var e=l(t).container;if(!e){(e=document.createElement("div")).className=c,e.style.cssText=h(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),l(t).container=e,r=e,r.className+=" "+c+"_animation_active",t.appendChild(e);var r,n=function(){l(t).onRendered&&l(t).onRendered();};p(e,"animationstart",n),l(t).onAnimationStart=n;}return e;}function R(){if(v("Injecting elements"),!l(t)){v("Aborting because element has been uninstalled");return;}!function(){var r=l(t).style;if("static"===r.position){t.style.setProperty("position","relative",e.important?"important":"");var n=function(e,t,r,n){var a=r[n];"auto"!==a&&"0"!==a.replace(/[^-\d\.]/g,"")&&(e.warn("An element that is positioned static has style."+n+"="+a+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+n+" will be set to 0. Element: ",t),t.style[n]=0);};n(o,t,r,"top"),n(o,t,r,"right"),n(o,t,r,"bottom"),n(o,t,r,"left");}}();var r,n,a,i,u=l(t).container;u||(u=O());var f=s.width,d=s.height,_=h(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),m=h(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat((r=-(1+f),n=-(1+d),a=-d,["left: "+(r=r?r+"px":"0"),"top: "+(n=n?n+"px":"0"),"right: "+(i=(i=-f)?i+"px":"0"),"bottom: "+(a=a?a+"px":"0")]))),g=h(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),b=h(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),y=h(["position: absolute","left: 0","top: 0"]),E=h(["position: absolute","width: 200%","height: 200%"]),T=document.createElement("div"),A=document.createElement("div"),S=document.createElement("div"),R=document.createElement("div"),M=document.createElement("div"),x=document.createElement("div");function C(){var e=l(t);e&&e.onExpand?e.onExpand():v("Aborting expand scroll handler: element has been uninstalled");}function P(){var e=l(t);e&&e.onShrink?e.onShrink():v("Aborting shrink scroll handler: element has been uninstalled");}T.dir="ltr",T.style.cssText=_,T.className=c,A.className=c,A.style.cssText=m,S.style.cssText=g,R.style.cssText=y,M.style.cssText=b,x.style.cssText=E,S.appendChild(R),M.appendChild(x),A.appendChild(S),A.appendChild(M),T.appendChild(A),u.appendChild(T),p(S,"scroll",C),p(M,"scroll",P),l(t).onExpandScroll=C,l(t).onShrinkScroll=P;}function M(){function r(t,r,n){var a=_(t).childNodes[0],i=r+10+T(),o=n+10+A();a.style.setProperty("width",i+"px",e.important?"important":""),a.style.setProperty("height",o+"px",e.important?"important":"");}function a(n){var a=t.offsetWidth,s=t.offsetHeight,c=a!==l(t).lastWidth||s!==l(t).lastHeight;v("Storing current size",a,s),E(t,a,s),u.add(0,function(){if(c){if(!l(t)){v("Aborting because element has been uninstalled");return;}if(!i()){v("Aborting because element container has not been initialized");return;}if(e.debug){var n=t.offsetWidth,u=t.offsetHeight;(n!==a||u!==s)&&o.warn(f.get(t),"Scroll: Size changed before updating detector elements.");}r(t,a,s);}}),u.add(1,function(){if(!l(t)){v("Aborting because element has been uninstalled");return;}if(!i()){v("Aborting because element container has not been initialized");return;}S(t,a,s);}),c&&n&&u.add(2,function(){if(!l(t)){v("Aborting because element has been uninstalled");return;}if(!i()){v("Aborting because element container has not been initialized");return;}n();});}function i(){return!!l(t).container;}function s(){v("notifyListenersIfNeeded invoked");var e=l(t);return void 0===l(t).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?v("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?v("Not notifying: Size already notified"):void(v("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,n(l(t).listeners,function(e){e(t);}));}function c(){if(v("Scroll detected."),g(t)){v("Scroll event fired while unrendered. Ignoring...");return;}a(s);}if(v("registerListenersAndPositionElements invoked."),!l(t)){v("Aborting because element has been uninstalled");return;}l(t).onRendered=function(){if(v("startanimation triggered."),g(t)){v("Ignoring since element is still unrendered...");return;}v("Element rendered.");var e=_(t),r=m(t);(0===e.scrollLeft||0===e.scrollTop||0===r.scrollLeft||0===r.scrollTop)&&(v("Scrollbars out of sync. Updating detector elements..."),a(s));},l(t).onExpand=c,l(t).onShrink=c;var d=l(t).style;r(t,d.width,d.height);}function x(){if(v("finalizeDomMutation invoked."),!l(t)){v("Aborting because element has been uninstalled");return;}var e=l(t).style;E(t,e.width,e.height),S(t,e.width,e.height);}function C(){r(t);}function P(){var e;v("Installing..."),l(t).listeners=[],e=b(),l(t).startSize={width:e.width,height:e.height},v("Element start size",l(t).startSize),u.add(0,y),u.add(1,R),u.add(2,M),u.add(3,x),u.add(4,C);}r||(r=t,t=e,e=null),e=e||{},(v("Making detectable..."),(d=(i=a=t).getRootNode&&i.getRootNode().contains(i),(i===i.ownerDocument.body||i.ownerDocument.body.contains(i)||d)&&null!==window.getComputedStyle(a))?1:0)?P():(v("Element is detached"),O(),v("Waiting until element is attached..."),l(t).onRendered=function(){v("Element is now attached"),P();});},addListener:function(e,t){if(!l(e).listeners.push)throw Error("Cannot add listener to an element that is not detectable.");l(e).listeners.push(t);},uninstall:function(e){var t=l(e);t&&(t.onExpandScroll&&v(_(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&v(m(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&v(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container));},initDocument:d};};},"2f7533d2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d2d15b93")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"2fa13772":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe"),a=r("3fb4fdb6"),i=n._(r("83cdc5bc"));class o extends i.default{getType(){return a.PassType.Normal;}getName(){return"render";}init(e,t){super.init(e,t);}render(e){let{useFramebuffer:t,clear:r}=this.rendererService,n=e.multiPassRenderer.getPostProcessor().getReadFBO();t(n,()=>{r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:n}),e.multiPassRenderer.setRenderFlag(!1),e.models.forEach(t=>{t.draw({uniforms:e.layerModel.getUninforms()});}),e.multiPassRenderer.setRenderFlag(!0);});}}},30626956:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("33509b52")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"30a351b0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("48f59b59")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"30ac520a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("16e79f22")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"30dd3fbc":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("69dfaa89")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"311c88c3":function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1;}function u(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var u=new o(r,n||e,i),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],u]:e._events[l].push(u):(e._events[l]=u,e._eventsCount++),e;}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t];}function f(){this._events=new i,this._eventsCount=0;}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1)),f.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r;},f.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o;},f.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0;},f.prototype.emit=function(e,t,r,n,i,o){var u=a?a+e:e;if(!this._events[u])return!1;var l,f,s=this._events[u],c=arguments.length;if(s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,r),!0;case 4:return s.fn.call(s.context,t,r,n),!0;case 5:return s.fn.call(s.context,t,r,n,i),!0;case 6:return s.fn.call(s.context,t,r,n,i,o),!0;}for(f=1,l=Array(c-1);f<c;f++)l[f-1]=arguments[f];s.fn.apply(s.context,l);}else{var d,h=s.length;for(f=0;f<h;f++)switch(s[f].once&&this.removeListener(e,s[f].fn,void 0,!0),c){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,t);break;case 3:s[f].fn.call(s[f].context,t,r);break;case 4:s[f].fn.call(s[f].context,t,r,n);break;default:if(!l)for(d=1,l=Array(c-1);d<c;d++)l[d-1]=arguments[d];s[f].fn.apply(s[f].context,l);}}return!0;},f.prototype.on=function(e,t,r){return u(this,e,t,r,!1);},f.prototype.once=function(e,t,r){return u(this,e,t,r,!0);},f.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,i);else{for(var u=0,f=[],s=o.length;u<s;u++)(o[u].fn!==t||n&&!o[u].once||r&&o[u].context!==r)&&f.push(o[u]);f.length?this._events[i]=1===f.length?f[0]:f:l(this,i);}return this;},f.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this;},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=a,f.EventEmitter=f,void 0!==e&&(e.exports=f);},31609833:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d9fd786e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"31675b78":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f7666f08")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3176afc1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("07edbc07")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"31952d5a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5a0f239d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"31a0b34d":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=r("7f434d9f"),o=n._(r("6c8aee75")),u=r("34540526"),l=r("f9b12b3c");class f extends o.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10});}getCommonUniformsInfo(){let{blend:e,speed:t=1,unit:r="pixel"}=this.layer.getLayerConfig(),n={u_additive:"additive"===e?1:0,u_size_unit:u.SizeUnitType[r],u_speed:t,u_time:this.layer.getLayerAnimateTime()};return this.getUniformsBufferInfo(n);}getAnimateUniforms(){return{};}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),l.PointFillTriangulation);}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"pointRadar",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\n\nlayout(std140) uniform commonUniorm {\n  float u_additive;\n  float u_size_unit;\n  float u_speed: 1.0;\n  float u_time;\n};\n\nout vec4 v_data;\nout vec4 v_color;\nout float v_radius;\nout vec2 v_extrude;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  float newSize = setPickingSize(a_Size);\n\n  float time = u_time * u_speed;\n  mat2 rotateMatrix = mat2(\n    cos(time), sin(time),\n    -sin(time), cos(time)\n  );\n  v_extrude = rotateMatrix * a_Extrude.xy;\n\n  v_color = a_Color;\n  v_color.a *= opacity;\n\n  float blur = 0.0;\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, blur);\n\n  if(u_size_unit == 1.) {\n    newSize = newSize  * u_PixelsPerMeter.z;\n  }\n  v_radius = newSize;\n\n  vec2 offset = (a_Extrude.xy * (newSize));\n\n  offset = project_pixel(offset);\n\n  v_data = vec4(a_Extrude.x, a_Extrude.y, antialiasblur, -1.0);\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'\nlayout(std140) uniform commonUniorm{\n  float u_additive;\n  float u_size_unit;\n  float u_speed: 1.0;\n  float u_time;\n};\nin vec4 v_data;\nin vec4 v_color;\nin float v_radius;\nin vec2 v_extrude;\n#pragma include "sdf_2d"\n#pragma include "picking"\n\nout vec4 outputColor;\n\nvoid main() {\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius);\n\n  float outer_df = sdCircle(v_data.xy, 1.0);\n  float inner_df = sdCircle(v_data.xy, r);\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  outputColor = vec4(v_color.rgb, v_color.a);\n\n  if(u_additive > 0.0) {\n    outputColor *= opacity_t;\n  } else {\n    outputColor.a *= opacity_t;\n  }\n\n  if(outputColor.a > 0.0) {\n    outputColor = filterColor(outputColor);\n  }\n\n  vec2 extrude =  v_extrude;\n  vec2 dir = normalize(extrude);\n  vec2 baseDir = vec2(1.0, 0.0);\n  float pi = 3.14159265359;\n  float flag = sign(dir.y);\n  float rades = dot(dir, baseDir);\n  float radar_v = (flag - 1.0) * -0.5 * acos(rades)/pi;\n  // simple AA\n  if(radar_v > 0.99) {\n    radar_v = 1.0 - (radar_v - 0.99)/0.01;\n  }\n\n  outputColor.a *= radar_v;\n}\n',triangulation:l.PointFillTriangulation,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}}))];})();}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0];}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:i.AttributeType.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:3,update:(e,t,r,n)=>{let a=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],i=n%4*3;return[a[i],a[i+1],a[i+2]];}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:i.AttributeType.Attribute,descriptor:{shaderLocation:this.attributeLocation.SIZE,name:"a_Size",buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t];}}});}}},"31f8852f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4a36e7a7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"32448ded":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7a32c6c0")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"32966fc4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e0f38fe2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"32be59f7":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("8a479a90");function a(e){var t=e.length;return function(r){var a=Math.floor(((r%=1)<0?++r:r)*t),i=e[(a+t-1)%t],o=e[a%t],u=e[(a+1)%t],l=e[(a+2)%t];return(0,n.basis)((r-a/t)*t,i,o,u,l);};}},"32c4d86d":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"Popper",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe")._(r("e1e610e4")),a=r("89217383"),i=r("8174e190");class o extends i.EventEmitter{get buttonRect(){return this.button.getBoundingClientRect();}constructor(e,t){super(),(0,n.default)(this,"popperDOM",void 0),(0,n.default)(this,"contentDOM",void 0),(0,n.default)(this,"button",void 0),(0,n.default)(this,"option",void 0),(0,n.default)(this,"isShow",!1),(0,n.default)(this,"content",void 0),(0,n.default)(this,"timeout",null),(0,n.default)(this,"show",()=>(this.isShow||!this.contentDOM.innerHTML||(this.resetPopperPosition(),a.DOM.removeClass(this.popperDOM,"l7-popper-hide"),this.isShow=!0,this.option.unique&&o.conflictPopperList.forEach(e=>{e!==this&&e.isShow&&e.hide();}),this.emit("show"),window.addEventListener("pointerdown",this.onPopperUnClick)),this)),(0,n.default)(this,"hide",()=>(this.isShow&&(a.DOM.addClass(this.popperDOM,"l7-popper-hide"),this.isShow=!1,this.emit("hide"),window.removeEventListener("pointerdown",this.onPopperUnClick)),this)),(0,n.default)(this,"setHideTimeout",()=>{this.timeout||(this.timeout=window.setTimeout(()=>{this.isShow&&(this.hide(),this.timeout=null);},300));}),(0,n.default)(this,"clearHideTimeout",()=>{this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null);}),(0,n.default)(this,"onBtnClick",()=>{this.isShow?this.hide():this.show();}),(0,n.default)(this,"onPopperUnClick",e=>{a.DOM.findParentElement(e.target,[".l7-button-control",".l7-popper-content"])||this.hide();}),(0,n.default)(this,"onBtnMouseLeave",()=>{this.setHideTimeout();}),(0,n.default)(this,"onBtnMouseMove",()=>{this.clearHideTimeout(),this.isShow||this.show();}),this.button=e,this.option=t,this.init(),t.unique&&o.conflictPopperList.push(this);}getPopperDOM(){return this.popperDOM;}getIsShow(){return this.isShow;}getContent(){return this.content;}setContent(e){"string"==typeof e?this.contentDOM.innerHTML=e:e instanceof HTMLElement&&(a.DOM.clearChildren(this.contentDOM),this.contentDOM.appendChild(e)),this.content=e;}init(){let{trigger:e}=this.option;this.popperDOM=this.createPopper(),"click"===e?this.button.addEventListener("click",this.onBtnClick):(this.button.addEventListener("mousemove",this.onBtnMouseMove),this.button.addEventListener("mouseleave",this.onBtnMouseLeave),this.popperDOM.addEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.addEventListener("mouseleave",this.onBtnMouseLeave));}destroy(){this.button.removeEventListener("click",this.onBtnClick),this.button.removeEventListener("mousemove",this.onBtnMouseMove),this.button.removeEventListener("mousemove",this.onBtnMouseLeave),this.popperDOM.removeEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.removeEventListener("mouseleave",this.onBtnMouseLeave),a.DOM.remove(this.popperDOM);}resetPopperPosition(){let e={},{container:t,offset:r=[0,0],placement:n}=this.option,[i,o]=r,u=this.button.getBoundingClientRect(),l=t.getBoundingClientRect(),{left:f,right:s,top:c,bottom:d}=a.DOM.getDiffRect(u,l),h=!1,p=!1;/^(left|right)/.test(n)?(n.includes("left")?e.right=`${u.width+s}px`:n.includes("right")&&(e.left=`${u.width+f}px`),n.includes("start")?e.top=`${c}px`:n.includes("end")?e.bottom=`${d}px`:(e.top=`${c+u.height/2}px`,p=!0,e.transform=`translate(${i}px, calc(${o}px - 50%))`)):/^(top|bottom)/.test(n)&&(n.includes("top")?e.bottom=`${u.height+d}px`:n.includes("bottom")&&(e.top=`${u.height+c}px`),n.includes("start")?e.left=`${f}px`:n.includes("end")?e.right=`${s}px`:(e.left=`${f+u.width/2}px`,h=!0,e.transform=`translate(calc(${i}px - 50%), ${o}px)`)),e.transform=`translate(calc(${i}px - ${h?"50%":"0%"}), calc(${o}px - ${p?"50%":"0%"})`;let v=n.split("-");v.length&&a.DOM.addClass(this.popperDOM,v.map(e=>`l7-popper-${e}`).join(" ")),a.DOM.addStyle(this.popperDOM,a.DOM.css2Style(e));}createPopper(){let{container:e,className:t="",content:r}=this.option,n=a.DOM.create("div",`l7-popper l7-popper-hide ${t}`),i=a.DOM.create("div","l7-popper-content"),o=a.DOM.create("div","l7-popper-arrow");return n.appendChild(i),n.appendChild(o),e.appendChild(n),this.popperDOM=n,this.contentDOM=i,r&&this.setContent(r),n;}}(0,n.default)(o,"conflictPopperList",[]);},"330af8ea":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("14c6412f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3360e3bc":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7d556002")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"337f5f91":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e7e54812")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"33f043f6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("099b86b6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"33f06efb":function(e,t,r){"use strict";e.exports=a;var n=r("38705aec");function a(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length;}a.Varint=0,a.Fixed64=1,a.Bytes=2,a.Fixed32=5;var i="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");function o(e){return e.type===a.Bytes?e.readVarint()+e.pos:e.pos+1;}function u(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var a=r.pos-1;a>=e;a--)r.buf[a+n]=r.buf[a];}function l(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r]);}function f(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r]);}function s(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r]);}function c(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r]);}function d(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r]);}function h(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r]);}function p(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r]);}function v(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r]);}function _(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r]);}function m(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3];}function g(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24;}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24);}a.prototype={destroy:function(){this.buf=null;},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),a=n>>3,i=this.pos;this.type=7&n,e(a,t,this),this.pos===i&&this.skip(n);}return t;},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos);},readFixed32:function(){var e=m(this.buf,this.pos);return this.pos+=4,e;},readSFixed32:function(){var e=b(this.buf,this.pos);return this.pos+=4,e;},readFixed64:function(){var e=m(this.buf,this.pos)+4294967296*m(this.buf,this.pos+4);return this.pos+=8,e;},readSFixed64:function(){var e=m(this.buf,this.pos)+4294967296*b(this.buf,this.pos+4);return this.pos+=8,e;},readFloat:function(){var e=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e;},readDouble:function(){var e=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e;},readVarint:function(e){var t,r,n=this.buf;return(t=127&(r=n[this.pos++]),r<128)?t:(t|=(127&(r=n[this.pos++]))<<7,r<128)?t:(t|=(127&(r=n[this.pos++]))<<14,r<128)?t:(t|=(127&(r=n[this.pos++]))<<21,r<128)?t:function(e,t,r){var n,a,i,o,u=r.buf;if(i=(112&(o=u[r.pos++]))>>4,o<128||(i|=(127&(o=u[r.pos++]))<<3,o<128)||(i|=(127&(o=u[r.pos++]))<<10,o<128)||(i|=(127&(o=u[r.pos++]))<<17,o<128)||(i|=(127&(o=u[r.pos++]))<<24,o<128)||(i|=(1&(o=u[r.pos++]))<<31,o<128)){return n=e,a=i,t?4294967296*a+(n>>>0):(a>>>0)*4294967296+(n>>>0);}throw Error("Expected varint not more than 10 bytes");}(t|=(15&(r=n[this.pos]))<<28,e,this);},readVarint64:function(){return this.readVarint(!0);},readSVarint:function(){var e=this.readVarint();return e%2==1?-((e+1)/2):e/2;},readBoolean:function(){return!!this.readVarint();},readString:function(){var e,t=this.readVarint()+this.pos,r=this.pos;return(this.pos=t,t-r>=12&&i)?(e=this.buf,i.decode(e.subarray(r,t))):function(e,t,r){for(var n="",a=t;a<r;){var i,o,u,l=e[a],f=null,s=l>239?4:l>223?3:l>191?2:1;if(a+s>r)break;1===s?l<128&&(f=l):2===s?(192&(i=e[a+1]))==128&&(f=(31&l)<<6|63&i)<=127&&(f=null):3===s?(i=e[a+1],o=e[a+2],(192&i)==128&&(192&o)==128&&((f=(15&l)<<12|(63&i)<<6|63&o)<=2047||f>=55296&&f<=57343)&&(f=null)):4===s&&(i=e[a+1],o=e[a+2],u=e[a+3],(192&i)==128&&(192&o)==128&&(192&u)==128&&((f=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&u)<=65535||f>=1114112)&&(f=null)),null===f?(f=65533,s=1):f>65535&&(f-=65536,n+=String.fromCharCode(f>>>10&1023|55296),f=56320|1023&f),n+=String.fromCharCode(f),a+=s;}return n;}(this.buf,r,t);},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t;},readPackedVarint:function(e,t){if(this.type!==a.Bytes)return e.push(this.readVarint(t));var r=o(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e;},readPackedSVarint:function(e){if(this.type!==a.Bytes)return e.push(this.readSVarint());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e;},readPackedBoolean:function(e){if(this.type!==a.Bytes)return e.push(this.readBoolean());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e;},readPackedFloat:function(e){if(this.type!==a.Bytes)return e.push(this.readFloat());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e;},readPackedDouble:function(e){if(this.type!==a.Bytes)return e.push(this.readDouble());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e;},readPackedFixed32:function(e){if(this.type!==a.Bytes)return e.push(this.readFixed32());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e;},readPackedSFixed32:function(e){if(this.type!==a.Bytes)return e.push(this.readSFixed32());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e;},readPackedFixed64:function(e){if(this.type!==a.Bytes)return e.push(this.readFixed64());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e;},readPackedSFixed64:function(e){if(this.type!==a.Bytes)return e.push(this.readSFixed64());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e;},skip:function(e){var t=7&e;if(t===a.Varint)for(;this.buf[this.pos++]>127;);else if(t===a.Bytes)this.pos=this.readVarint()+this.pos;else if(t===a.Fixed32)this.pos+=4;else if(t===a.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+t);},writeTag:function(e,t){this.writeVarint(e<<3|t);},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t;}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length);},writeFixed32:function(e){this.realloc(4),g(this.buf,e,this.pos),this.pos+=4;},writeSFixed32:function(e){this.realloc(4),g(this.buf,e,this.pos),this.pos+=4;},writeFixed64:function(e){this.realloc(8),g(this.buf,-1&e,this.pos),g(this.buf,Math.floor(23283064365386963e-26*e),this.pos+4),this.pos+=8;},writeSFixed64:function(e){this.realloc(8),g(this.buf,-1&e,this.pos),g(this.buf,Math.floor(23283064365386963e-26*e),this.pos+4),this.pos+=8;},writeVarint:function(e){if((e=+e||0)>268435455||e<0){!function(e,t){var r,n,a,i,o,u;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(r=~(-e%4294967296),n=~(-e/4294967296),4294967295^r?r=r+1|0:(r=0,n=n+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw Error("Given varint doesn't fit into 10 bytes");t.realloc(10),a=r,t.buf[t.pos++]=127&a|128,a>>>=7,t.buf[t.pos++]=127&a|128,a>>>=7,t.buf[t.pos++]=127&a|128,a>>>=7,t.buf[t.pos++]=127&a|128,a>>>=7,t.buf[t.pos]=127&a,i=n,o=t,u=(7&i)<<4,o.buf[o.pos++]|=u|((i>>>=3)?128:0),!i||(o.buf[o.pos++]=127&i|((i>>>=7)?128:0),!i)||(o.buf[o.pos++]=127&i|((i>>>=7)?128:0),!i)||(o.buf[o.pos++]=127&i|((i>>>=7)?128:0),i&&(o.buf[o.pos++]=127&i|((i>>>=7)?128:0),i&&(o.buf[o.pos++]=127&i)));}(e,this);return;}this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127)));},writeSVarint:function(e){this.writeVarint(e<0?-(2*e)-1:2*e);},writeBoolean:function(e){this.writeVarint(!!e);},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,a,i=0;i<t.length;i++){if((n=t.charCodeAt(i))>55295&&n<57344){if(a){if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,a=n;continue;}n=a-55296<<10|n-56320|65536,a=null;}else{n>56319||i+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):a=n;continue;}}else a&&(e[r++]=239,e[r++]=191,e[r++]=189,a=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128);}return r;}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&u(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r;},writeFloat:function(e){this.realloc(4),n.write(this.buf,e,this.pos,!0,23,4),this.pos+=4;},writeDouble:function(e){this.realloc(8),n.write(this.buf,e,this.pos,!0,52,8),this.pos+=8;},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r];},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&u(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n;},writeMessage:function(e,t,r){this.writeTag(e,a.Bytes),this.writeRawMessage(t,r);},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,l,t);},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,f,t);},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,d,t);},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,s,t);},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,c,t);},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,h,t);},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,p,t);},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,v,t);},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,_,t);},writeBytesField:function(e,t){this.writeTag(e,a.Bytes),this.writeBytes(t);},writeFixed32Field:function(e,t){this.writeTag(e,a.Fixed32),this.writeFixed32(t);},writeSFixed32Field:function(e,t){this.writeTag(e,a.Fixed32),this.writeSFixed32(t);},writeFixed64Field:function(e,t){this.writeTag(e,a.Fixed64),this.writeFixed64(t);},writeSFixed64Field:function(e,t){this.writeTag(e,a.Fixed64),this.writeSFixed64(t);},writeVarintField:function(e,t){this.writeTag(e,a.Varint),this.writeVarint(t);},writeSVarintField:function(e,t){this.writeTag(e,a.Varint),this.writeSVarint(t);},writeStringField:function(e,t){this.writeTag(e,a.Bytes),this.writeString(t);},writeFloatField:function(e,t){this.writeTag(e,a.Fixed32),this.writeFloat(t);},writeDoubleField:function(e,t){this.writeTag(e,a.Fixed64),this.writeDouble(t);},writeBooleanField:function(e,t){this.writeVarintField(e,!!t);}};},"340f8cf2":function(e,t,r){"use strict";var n=r("1c3732b0").default,a=r("91c615af").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("ad35a619")),o=n(r("c051be1c")),u=a(r("896e0d47")),l=r("bf1e085a"),f=["icon","className","onClick","style","primaryColor","secondaryColor"],s={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},c=function(e){var t=e.icon,r=e.className,n=e.onClick,a=e.style,c=e.primaryColor,d=e.secondaryColor,h=(0,i.default)(e,f),p=u.useRef(),v=s;if(c&&(v={primaryColor:c,secondaryColor:d||(0,l.getSecondaryColor)(c)}),(0,l.useInsertStyles)(p),(0,l.warning)((0,l.isIconDefinition)(t),"icon should be icon definiton, but got ".concat(t)),!(0,l.isIconDefinition)(t))return null;var _=t;return _&&"function"==typeof _.icon&&(_=(0,o.default)((0,o.default)({},_),{},{icon:_.icon(v.primaryColor,v.secondaryColor)})),(0,l.generate)(_.icon,"svg-".concat(_.name),(0,o.default)((0,o.default)({className:r,onClick:n,style:a,"data-icon":_.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},h),{},{ref:p}));};c.displayName="IconReact",c.getTwoToneColors=function(){return(0,o.default)({},s);},c.setTwoToneColors=function(e){var t=e.primaryColor,r=e.secondaryColor;s.primaryColor=t,s.secondaryColor=r||(0,l.getSecondaryColor)(t),s.calculated=!!r;},t.default=c;},34540526:function(e,t,r){"use strict";var n,a,i,o,u;r.d(t,"__esModule",{value:!0}),r.e(t,{CanvasUpdateType:function(){return d;},LinearDir:function(){return f;},SizeUnitType:function(){return c;},TextureBlend:function(){return s;},lineStyleType:function(){return l;}});let l=((n={})[n.solid=0]="solid",n[n.dash=1]="dash",n),f=((a={}).VERTICAL="vertical",a.HORIZONTAL="horizontal",a),s=((i={}).NORMAL="normal",i.REPLACE="replace",i),c=((o={})[o.pixel=0]="pixel",o[o.meter=1]="meter",o),d=((u={}).ALWAYS="always",u.DRAGEND="dragend",u);},"3458ea47":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("931f35c0")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"346d2a5f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ddc46fff")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"347938e3":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return function e(){var t,r=[],o=[],u=[];function l(){var e=0,t=Math.max(1,o.length);for(u=Array(t-1);++e<t;)u[e-1]=(0,n.quantile)(r,e/t);return f;}function f(e){return isNaN(e=+e)?t:o[(0,n.bisect)(u,e)];}return f.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:[t>0?u[t-1]:r[0],t<u.length?u[t]:r[r.length-1]];},f.domain=function(e){if(!arguments.length)return r.slice();r=[];for(var t,a=0,i=e.length;a<i;++a)null==(t=e[a])||isNaN(t=+t)||r.push(t);return r.sort(n.ascending),l();},f.range=function(e){return arguments.length?(o=a.slice.call(e),l()):o.slice();},f.unknown=function(e){return arguments.length?(t=e,f):t;},f.quantiles=function(){return u.slice();},f.copy=function(){return e().domain(r).range(o).unknown(t);},i.initRange.apply(f,arguments);};}});var n=r("af21b0e3"),a=r("81801401"),i=r("5f49fc8a");},"34828b69":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("27fad4c1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"348cbf87":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("58367959")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"34ad86b6":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{drawFrag:function(){return a;},drawVert:function(){return n;},fullScreenFrag:function(){return l;},fullScreenVert:function(){return u;},updateFrag:function(){return o;},updateVert:function(){return i;}});let n=`
 precision mediump float;

 attribute float a_index;

 uniform sampler2D u_particles;
 uniform float u_particles_res;

 varying vec2 v_particle_pos;

 void main() {
     vec4 color = texture2D(u_particles, vec2(
         fract(a_index / u_particles_res),
         floor(a_index / u_particles_res) / u_particles_res)
     );

     // decode current particle position from the pixel's RGBA value
     v_particle_pos = vec2( color.r / 255.0 + color.b, color.g / 255.0 + color.a);

     gl_PointSize = 1.0;
     gl_Position = vec4(2.0 * v_particle_pos.x - 1.0, 1.0 - 2.0 * v_particle_pos.y, 0, 1);
 }`,a=`
 precision mediump float;

 uniform sampler2D u_wind;
 uniform vec2 u_wind_min;
 uniform vec2 u_wind_max;
 uniform sampler2D u_color_ramp;

 varying vec2 v_particle_pos;

 void main() {
     vec2 velocity = mix(u_wind_min, u_wind_max, texture2D(u_wind, v_particle_pos).rg);
     float speed_t = length(velocity) / length(u_wind_max);

     // color ramp is encoded in a 16x16 texture
     vec2 ramp_pos = vec2( fract(16.0 * speed_t), floor(16.0 * speed_t) / 16.0);

     gl_FragColor = texture2D(u_color_ramp, ramp_pos);
 }`,i=`
 precision mediump float;

 attribute vec2 a_pos;

 varying vec2 v_tex_pos;

 void main() {
     v_tex_pos = a_pos;
     gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);
     // framebuffer \u{59CB}\u{7EC8}\u{7528}\u{94FA}\u{6EE1}\u{5C4F}\u{5E55}\u{7684} texture
 }`,o=`
 precision highp float;

 uniform sampler2D u_particles;
 uniform sampler2D u_wind;
 uniform vec2 u_wind_res;
 uniform vec2 u_wind_min;
 uniform vec2 u_wind_max;
 uniform float u_rand_seed;
 uniform float u_speed_factor;
 uniform float u_drop_rate;
 uniform float u_drop_rate_bump;

 varying vec2 v_tex_pos;

 // pseudo-random generator
 const vec3 rand_constants = vec3(12.9898, 78.233, 4375.85453);
 float rand(const vec2 co) {
 float t = dot(rand_constants.xy, co);
     return fract(sin(t) * (rand_constants.z + t));
 }

 // wind speed lookup; use manual bilinear filtering based on 4 adjacent pixels for smooth interpolation
 vec2 lookup_wind(const vec2 uv) {
     // return texture2D(u_wind, uv).rg; // lower-res hardware filtering
     vec2 px = 1.0 / u_wind_res;
     vec2 vc = (floor(uv * u_wind_res)) * px;
     vec2 f = fract(uv * u_wind_res);
     vec2 tl = texture2D(u_wind, vc).rg;
     vec2 tr = texture2D(u_wind, vc + vec2(px.x, 0)).rg;
     vec2 bl = texture2D(u_wind, vc + vec2(0, px.y)).rg;
     vec2 br = texture2D(u_wind, vc + px).rg;
     return mix(mix(tl, tr, f.x), mix(bl, br, f.x), f.y);
 }

 void main() {
     vec4 color = texture2D(u_particles, v_tex_pos);
     vec2 pos = vec2(
         color.r / 255.0 + color.b,
         color.g / 255.0 + color.a); // decode particle position from pixel RGBA
     vec2 velocity = mix(u_wind_min, u_wind_max, lookup_wind(pos));
     float speed_t = length(velocity) / length(u_wind_max);

     // take EPSG:4236 distortion into account for calculating where the particle moved
     float distortion = cos(radians(pos.y * 180.0 - 90.0));
     vec2 offset = vec2(velocity.x / distortion, -velocity.y) * 0.0001 * u_speed_factor;

     // update particle position, wrapping around the date line
     pos = fract(1.0 + pos + offset);

     // a random seed to use for the particle drop
     vec2 seed = (pos + v_tex_pos) * u_rand_seed;

     // drop rate is a chance a particle will restart at random position, to avoid degeneration
     float drop_rate = u_drop_rate + speed_t * u_drop_rate_bump;
     float drop = step(1.0 - drop_rate, rand(seed));

     vec2 random_pos = vec2(
         rand(seed + 1.3),
         rand(seed + 2.1));
         pos = mix(pos, random_pos, drop);

     // encode the new particle position back into RGBA
     gl_FragColor = vec4(
         fract(pos * 255.0),
         floor(pos * 255.0) / 255.0);
 }`,u=`
     precision mediump float;

     attribute vec2 a_pos;

     varying vec2 v_tex_pos;

     void main() {
         v_tex_pos = a_pos;
         gl_Position = vec4(1.0 - 2.0 * a_pos, 0.0, 1.0);
         gl_PointSize = 100.0;
 }`,l=`
 precision mediump float;

 uniform sampler2D u_screen;
 uniform float u_opacity;
 varying vec2 v_tex_pos;

 void main() {
     vec4 color = texture2D(u_screen, 1.0 - v_tex_pos);

     // a hack to guarantee opacity fade out even with a value close to 1.0
     gl_FragColor = vec4(floor(255.0 * color * u_opacity) / 255.0);
 }`;},"34e1c80f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6bb674d8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"350a8cc0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ad7f6b5a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"35bdd8e2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("11112c57")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"35c0751e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("43489ad6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"35da6179":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"genericArray",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("8b831afe"));function a(e,t){var r,a=t?t.length:0,i=e?Math.min(a,e.length):0,o=Array(i),u=Array(a);for(r=0;r<i;++r)o[r]=(0,n.default)(e[r],t[r]);for(;r<a;++r)u[r]=t[r];return function(e){for(r=0;r<i;++r)u[r]=o[r](e);return u;};}},"35f4de6a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("045ef515")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"362080c4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b2d29d51")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"36441aab":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("acdb327b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"36e3e974":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("d1751d7c")._(r("939e99cc"),t),r("b097594f");},"36ea99ff":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c9df74ad")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"378174f7":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{timeDay:function(){return l.default;},timeHour:function(){return u.default;},timeMillisecond:function(){return a.default;},timeMinute:function(){return o.default;},timeMonday:function(){return f.monday;},timeMonth:function(){return s.default;},timeSecond:function(){return i.default;},timeSunday:function(){return f.sunday;},timeThursday:function(){return f.thursday;},timeWeek:function(){return f.sunday;},timeYear:function(){return c.default;},utcDay:function(){return d.default;},utcMillisecond:function(){return a.default;},utcMonday:function(){return h.utcMonday;},utcSecond:function(){return i.default;},utcSunday:function(){return h.utcSunday;},utcThursday:function(){return h.utcThursday;},utcWeek:function(){return h.utcSunday;},utcYear:function(){return p.default;}});var n=r("777fffbe"),a=n._(r("ae848069")),i=n._(r("1cc1ddc3")),o=n._(r("832f9955")),u=n._(r("5f7a0c22")),l=n._(r("5fa1d2f5")),f=r("7f41553a"),s=n._(r("ca3bbb17")),c=n._(r("f7488d38")),d=n._(r("ff1117a4")),h=r("28794a8a"),p=n._(r("06a309fa"));},"37f865f1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("bac299d9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},38808492:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e2402ab1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"38c63c7a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("6c8aee75")),f=r("f9b12b3c"),s=r("10af15b9");let c={0:"#3288bd",.1:"#66c2a5",.2:"#abdda4",.3:"#e6f598",.4:"#fee08b",.5:"#fdae61",.6:"#f46d43",1:"#d53e4f"};class d extends l.default{constructor(...e){super(...e),(0,i.default)(this,"texture",void 0),(0,i.default)(this,"colorModel",void 0),(0,i.default)(this,"wind",void 0),(0,i.default)(this,"imageCoords",void 0),(0,i.default)(this,"sizeScale",.5),(0,i.default)(this,"frequency",new u.FrequencyController(7.2)),(0,i.default)(this,"cacheZoom",void 0);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9});}render(e){this.drawColorMode(e),this.frequency.run(()=>{this.drawWind();});}getUninforms(){throw Error("Method not implemented.");}initModels(){var e=this;return(0,a.default)(function*(){var t,r;let{uMin:n=-21.32,uMax:a=26.8,vMin:i=-21.57,vMax:u=21.42,fadeOpacity:l=.996,speedFactor:d=.25,dropRate:h=.003,dropRateBump:p=.01,rampColors:v=c,sizeScale:_=.5}=e.layer.getLayerConfig(),{createTexture2D:m}=e.rendererService,g=e.layer.getSource();e.texture=m({height:0,width:0}),e.cacheZoom=Math.floor(e.mapService.getZoom());let b=e.rendererService.getGLContext();e.imageCoords=null===(t=g.data)||void 0===t?void 0:t.dataArray[0].coordinates,null===(r=g.data)||void 0===r||null===(r=r.images)||void 0===r||r.then(t=>{var r;e.sizeScale=_*e.getZoomScale();let{imageWidth:o,imageHeight:f}=e.getWindSize();e.wind=new s.Wind({glContext:b,imageWidth:o,imageHeight:f,fadeOpacity:l,speedFactor:d,dropRate:h,dropRateBump:p,rampColors:v}),e.wind.setWind({uMin:n,uMax:a,vMin:i,vMax:u,image:t[0]}),null===(r=e.texture)||void 0===r||r.destroy(),e.texture=m({width:o,height:f}),e.layerService.reRender();});let y=yield e.layer.buildLayerModel({moduleName:"wind",vertexShader:'precision highp float;\nuniform mat4 u_ModelMatrix;\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nvarying vec2 v_texCoord;\n#pragma include "projection"\nvoid main() {\n  v_texCoord = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n}\n',fragmentShader:"precision mediump float;\nuniform float u_opacity: 1.0;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvoid main() {\n  vec4 color = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y));\n  gl_FragColor = color;\n  gl_FragColor.a *= u_opacity;\n}\n",defines:e.getDefines(),triangulation:f.RasterImageTriangulation,primitive:o.gl.TRIANGLES,depth:{enable:!1}});return e.colorModel=y,[y];})();}getWindSize(){let e=this.mapService.lngLatToPixel(this.imageCoords[0]),t=this.mapService.lngLatToPixel(this.imageCoords[1]);return{imageWidth:Math.min(Math.floor((t.x-e.x)*this.sizeScale),2048),imageHeight:Math.min(Math.floor((e.y-t.y)*this.sizeScale),2048)};}buildModels(){var e=this;return(0,a.default)(function*(){return e.initModels();})();}clearModels(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.wind)||void 0===t||t.destroy();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:o.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}});}getZoomScale(){return Math.min((this.cacheZoom+4)/30*2,2);}drawWind(){if(this.wind){let{uMin:e=-21.32,uMax:t=26.8,vMin:r=-21.57,vMax:n=21.42,numParticles:a=65535,fadeOpacity:i=.996,speedFactor:o=.25,dropRate:u=.003,dropRateBump:l=.01,rampColors:f=c,sizeScale:s=.5}=this.layer.getLayerConfig(),d=a,h=Math.floor(this.mapService.getZoom());if("number"==typeof s&&s!==this.sizeScale||h!==this.cacheZoom){let e=this.getZoomScale();this.sizeScale=s,d*=e;let{imageWidth:t,imageHeight:r}=this.getWindSize();this.wind.reSize(t,r),this.cacheZoom=h;}this.wind.updateWindDir(e,t,r,n),this.wind.updateParticelNum(d),this.wind.updateColorRampTexture(f),this.wind.fadeOpacity=i,this.wind.speedFactor=o,this.wind.dropRate=u,this.wind.dropRateBump=l;let{d:p,w:v,h:_}=this.wind.draw();this.rendererService.setBaseState(),this.texture.update({data:p,width:v,height:_});}}drawColorMode(e={}){var t;let{opacity:r}=this.layer.getLayerConfig();this.layerService.beforeRenderData(this.layer),this.layer.hooks.beforeRender.call(),this.layerService.renderMask(this.layer.masks),null===(t=this.colorModel)||void 0===t||t.draw({uniforms:{u_opacity:r||1,u_texture:this.texture},blend:this.getBlend(),stencil:this.getStencil(e)}),this.layer.hooks.afterRender.call();}}},"38d0b019":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("95e8cbd8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"38f10830":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d93691de")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3912f6f4":function(e,t,r){"use strict";function n(e){for(var t in e){var r,n,i=e[t].trim();if(i){if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(r=+i)){if(!(n=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;a&&n[4]&&!n[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i);}else i=r;}else i=null;e[t]=i;}return e;}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});let a=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();},"394d542a":function(e,t,r){},"39523cbd":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8321d50c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"39721a47":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{copy:function(){return h;},default:function(){return v;},identity:function(){return f;},transformer:function(){return p;}});var n=r("777fffbe"),a=r("3ad7e104"),i=r("58154611"),o=n._(r("d6008852")),u=n._(r("c577f6cc")),l=[0,1];function f(e){return e;}function s(e,t){return(t-=e=+e)?function(r){return(r-e)/t;}:(0,o.default)(isNaN(t)?NaN:.5);}function c(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=s(a,n),i=r(o,i)):(n=s(n,a),i=r(i,o)),function(e){return i(n(e));};}function d(e,t,r){var n=Math.min(e.length,t.length)-1,i=Array(n),o=Array(n),u=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<n;)i[u]=s(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(t){var r=(0,a.bisect)(e,t,1,n)-1;return o[r](i[r](t));};}function h(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());}function p(){var e,t,r,n,a,o,s=l,h=l,p=i.interpolate,v=f;function _(){var e,t,r,i=Math.min(s.length,h.length);return v!==f&&(e=s[0],t=s[i-1],e>t&&(r=e,e=t,t=r),v=function(r){return Math.max(e,Math.min(t,r));}),n=i>2?d:c,a=o=null,m;}function m(t){return null==t||isNaN(t=+t)?r:(a||(a=n(s.map(e),h,p)))(e(v(t)));}return m.invert=function(r){return v(t((o||(o=n(h,s.map(e),i.interpolateNumber)))(r)));},m.domain=function(e){return arguments.length?(s=Array.from(e,u.default),_()):s.slice();},m.range=function(e){return arguments.length?(h=Array.from(e),_()):h.slice();},m.rangeRound=function(e){return h=Array.from(e),p=i.interpolateRound,_();},m.clamp=function(e){return arguments.length?(v=!!e||f,_()):v!==f;},m.interpolate=function(e){return arguments.length?(p=e,_()):p;},m.unknown=function(e){return arguments.length?(r=e,m):r;},function(r,n){return e=r,t=n,_();};}function v(){return p()(f,f);}},"39cf136b":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("07a31cab")),u=n._(r("04a24bae"));class l extends o.default{constructor(...e){super(...e),(0,i.default)(this,"type","PointLayer"),(0,i.default)(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","rotation"]),(0,i.default)(this,"enableDataEncodeStyles",["textOffset","textAnchor"]),(0,i.default)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json",x:"lng",y:"lat"}}});}buildModels(){var e=this;return(0,a.default)(function*(){let t=e.getModelType();e.layerModel&&e.layerModel.clearModels(),e.layerModel=new u.default[t](e),yield e.initLayerModels();})();}rebuildModels(){var e=this;return(0,a.default)(function*(){yield e.buildModels();})();}getModelTypeWillEmptyData(){if(this.shapeOption){let{field:e,values:t}=this.shapeOption,{shape2d:r}=this.getLayerConfig(),n=this.iconService.getIconMap();if(e&&(null==r?void 0:r.indexOf(e))!==-1)return"fill";if("text"===t)return"text";if(t&&t instanceof Array){for(let e of t)if("string"==typeof e&&n.hasOwnProperty(e))return"image";}}return"normal";}getDefaultConfig(){return({fillImage:{},normal:{blend:"additive"},radar:{},simplePoint:{},fill:{blend:"normal"},extrude:{},image:{},text:{blend:"normal"},tile:{},tileText:{},earthFill:{},earthExtrude:{}})[this.getModelType()];}getModelType(){let e=this.getEncodedData(),{shape2d:t,shape3d:r,billboard:n=!0}=this.getLayerConfig(),a=this.iconService.getIconMap(),i=e.find(e=>e.hasOwnProperty("shape"));if(!i)return this.getModelTypeWillEmptyData();{let e=i.shape;return"dot"===e?"normal":"simple"===e?"simplePoint":"radar"===e?"radar":"fillImage"===this.layerType||!1===n?"fillImage":(null==t?void 0:t.indexOf(e))!==-1?"GLOBEL"===this.mapService.version?"earthFill":"fill":(null==r?void 0:r.indexOf(e))!==-1?"GLOBEL"===this.mapService.version?"earthExtrude":"extrude":a.hasOwnProperty(e)?"image":"text";}}}},"3a138d51":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"getDistanceScales",{enumerable:!0,get:function(){return a;}});let n=Math.PI/180;function a({latitude:e=0,zoom:t=0,scale:r,highPrecision:a=!1,flipY:i=!1}){let o={},u=512*(r=void 0!==r?r:Math.pow(2,t)),l=Math.cos(e*n),f=u/360,s=f/l,c=u/4003e4/l;if(o.pixelsPerMeter=[c,-c,c],o.metersPerPixel=[1/c,-1/c,1/c],o.pixelsPerDegree=[f,-s,c],o.degreesPerPixel=[1/f,-1/s,1/c],a){let t=n*Math.tan(e*n)/l,r=f*t/2,a=u/4003e4*t,d=a/s*c;o.pixelsPerDegree2=[0,-r,a],o.pixelsPerMeter2=[d,0,d],i&&(o.pixelsPerDegree2[1]=-o.pixelsPerDegree2[1],o.pixelsPerMeter2[1]=-o.pixelsPerMeter2[1]);}return i&&(o.pixelsPerMeter[1]=-o.pixelsPerMeter[1],o.metersPerPixel[1]=-o.metersPerPixel[1],o.pixelsPerDegree[1]=-o.pixelsPerDegree[1],o.degreesPerPixel[1]=-o.degreesPerPixel[1]),o;}},"3a2726f1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2cca5aab")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3a274cee":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{add:function(){return s;},angle:function(){return B;},ceil:function(){return p;},clone:function(){return o;},copy:function(){return l;},create:function(){return i;},cross:function(){return C;},dist:function(){return Y;},distance:function(){return E;},div:function(){return W;},divide:function(){return h;},dot:function(){return x;},equals:function(){return z;},exactEquals:function(){return G;},floor:function(){return v;},forEach:function(){return K;},fromValues:function(){return u;},inverse:function(){return R;},len:function(){return V;},length:function(){return A;},lerp:function(){return P;},max:function(){return m;},min:function(){return _;},mul:function(){return X;},multiply:function(){return d;},negate:function(){return O;},normalize:function(){return M;},random:function(){return L;},rotate:function(){return F;},round:function(){return g;},scale:function(){return b;},scaleAndAdd:function(){return y;},set:function(){return f;},signedAngle:function(){return U;},sqrDist:function(){return q;},sqrLen:function(){return Z;},squaredDistance:function(){return T;},squaredLength:function(){return S;},str:function(){return k;},sub:function(){return H;},subtract:function(){return c;},transformMat2:function(){return w;},transformMat2d:function(){return I;},transformMat3:function(){return N;},transformMat4:function(){return D;},zero:function(){return j;}});var n,a=r("852bbaa9")._(r("8d58e674"));function i(){var e=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e;}function o(e){var t=new a.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t;}function u(e,t){var r=new a.ARRAY_TYPE(2);return r[0]=e,r[1]=t,r;}function l(e,t){return e[0]=t[0],e[1]=t[1],e;}function f(e,t,r){return e[0]=t,e[1]=r,e;}function s(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e;}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e;}function d(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e;}function h(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e;}function p(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e;}function v(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e;}function _(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e;}function m(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e;}function g(e,t){return e[0]=a.round(t[0]),e[1]=a.round(t[1]),e;}function b(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e;}function y(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e;}function E(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n);}function T(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n;}function A(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r);}function S(e){var t=e[0],r=e[1];return t*t+r*r;}function O(e,t){return e[0]=-t[0],e[1]=-t[1],e;}function R(e,t){return e[0]=1/t[0],e[1]=1/t[1],e;}function M(e,t){var r=t[0],n=t[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e;}function x(e,t){return e[0]*t[0]+e[1]*t[1];}function C(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e;}function P(e,t,r,n){var a=t[0],i=t[1];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e;}function L(e,t){t=void 0===t?1:t;var r=2*a.RANDOM()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e;}function w(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a,e[1]=r[1]*n+r[3]*a,e;}function I(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a+r[4],e[1]=r[1]*n+r[3]*a+r[5],e;}function N(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[3]*a+r[6],e[1]=r[1]*n+r[4]*a+r[7],e;}function D(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[4]*a+r[12],e[1]=r[1]*n+r[5]*a+r[13],e;}function F(e,t,r,n){var a=t[0]-r[0],i=t[1]-r[1],o=Math.sin(n),u=Math.cos(n);return e[0]=a*u-i*o+r[0],e[1]=a*o+i*u+r[1],e;}function B(e,t){var r=e[0],n=e[1],a=t[0],i=t[1];return Math.abs(Math.atan2(n*a-r*i,r*a+n*i));}function U(e,t){var r=e[0],n=e[1],a=t[0],i=t[1];return Math.atan2(r*i-n*a,r*a+n*i);}function j(e){return e[0]=0,e[1]=0,e;}function k(e){return"vec2("+e[0]+", "+e[1]+")";}function G(e,t){return e[0]===t[0]&&e[1]===t[1];}function z(e,t){var r=e[0],n=e[1],i=t[0],o=t[1];return Math.abs(r-i)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(o));}var V=A,H=c,X=d,W=h,Y=E,q=T,Z=S,K=(n=i(),function(e,t,r,a,i,o){var u,l;for(t||(t=2),r||(r=0),l=a?Math.min(a*t+r,e.length):e.length,u=r;u<l;u+=t)n[0]=e[u],n[1]=e[u+1],i(n,n,o),e[u]=n[0],e[u+1]=n[1];return e;});},"3a7f5b94":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d22147f3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3a95bf02":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("97b5ef72");function a(e){var t=e.length;return function(r){var a=Math.floor(((r%=1)<0?++r:r)*t),i=e[(a+t-1)%t],o=e[a%t],u=e[(a+1)%t],l=e[(a+2)%t];return(0,n.basis)((r-a/t)*t,i,o,u,l);};}},"3ac5b4be":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{LayerPopup:function(){return f;},default:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("89217383"),u=n._(r("d7266d9b"));let{get:l}=o.lodashUtil;class f extends u.default{constructor(...e){super(...e),(0,i.default)(this,"layerClickCountByFrame",0),(0,i.default)(this,"layerConfigMap",new WeakMap),(0,i.default)(this,"displayFeatureInfo",void 0),(0,i.default)(this,"onLayerClick",(e,t)=>{requestAnimationFrame(()=>{if(this.popupOption.closeOnClick&&this.layerClickCountByFrame++,this.isShow&&this.isSameFeature(e,t.featureId))this.hide();else{let{title:r,content:n}=this.getLayerInfoFrag(e,t);this.setDOMContent(n),this.setLnglat(t.lngLat),this.setTitle(r),this.setDisplayFeatureInfo({layer:e,featureId:t.featureId}),this.show();}});}),(0,i.default)(this,"onSceneClick",()=>{this.layerClickCountByFrame=0,requestAnimationFrame(()=>{this.layerClickCountByFrame||this.hide();});}),(0,i.default)(this,"onLayerHide",()=>{this.hide(),this.setDisplayFeatureInfo(void 0);}),(0,i.default)(this,"updateCloseOnClick",()=>{});}get layerConfigItems(){var e;let{config:t,items:r}=this.popupOption;return null!==(e=null!=t?t:r)&&void 0!==e?e:[];}getActualTriggerEvent(){let{trigger:e}=this.popupOption;return"click"===e?(0,o.isPC)()?"click":"touchend":e;}addTo(e){return super.addTo(e),this.bindLayerEvent(),this.hide(),this;}remove(){return super.remove(),this.unbindLayerEvent(),this;}setOptions(e){this.unbindLayerEvent();let t=(0,a.default)({},e),r=t.trigger||this.popupOption.trigger,n=t.items||this.popupOption.items,i=(null==n?void 0:n.length)===0;t.followCursor="hover"===r&&!i;let o=this.isShow;return super.setOptions(t),this.bindLayerEvent(),(i||!o)&&this.hide(),this;}getDefault(e){let t="hover"===e.trigger;return(0,a.default)((0,a.default)({},super.getDefault(e)),{},{trigger:"hover",followCursor:t,lngLat:{lng:0,lat:0},offsets:[0,10],closeButton:!1,closeOnClick:!0,autoClose:!1,closeOnEsc:!1});}bindLayerEvent(){let{trigger:e,closeOnClick:t}=this.popupOption,r=this.getActualTriggerEvent();this.layerConfigItems.forEach(n=>{var i,o;let u=this.getLayerByConfig(n);if(!u)return;let l=(0,a.default)({},n);if("hover"===e){let e=this.onLayerMouseMove.bind(this,u),t=this.onLayerMouseOut.bind(this,u);l.onMouseMove=e,l.onMouseOut=t,null==u||u.on("mousemove",e),null==u||u.on("mouseout",t);}else{let e=this.onLayerClick.bind(this,u);l.onClick=e,null==u||u.on(r,e);let n=null===(o=this.mapsService)||void 0===o?void 0:o.getMapContainer();n&&t&&n.addEventListener(r,this.onSceneClick);}let f=null==u||null===(i=u.getSource)||void 0===i?void 0:i.call(u),s=this.onSourceUpdate.bind(this);null==f||f.on("update",s),l.onSourceUpdate=s,this.layerConfigMap.set(u,l);});}unbindLayerEvent(){let e=this.getActualTriggerEvent();this.layerConfigItems.forEach(t=>{var r,n;let a=this.getLayerByConfig(t),i=a&&this.layerConfigMap.get(a);if(!i)return;let{onMouseMove:o,onMouseOut:u,onClick:l,onSourceUpdate:f}=i;o&&a.off("mousemove",o),u&&a.off("mouseout",u),l&&a.off(e,l),f&&(null==a||null===(n=a.getSource())||void 0===n||n.off("update",f));let s=null===(r=this.mapsService)||void 0===r?void 0:r.getMapContainer();s&&s.removeEventListener(e,this.onSceneClick);});}onLayerMouseMove(e,t){if(!this.isSameFeature(e,t.featureId)){let{title:r,content:n}=this.getLayerInfoFrag(e,t);this.setDOMContent(n),this.setTitle(r),this.setDisplayFeatureInfo({layer:e,featureId:t.featureId}),this.show();}}onLayerMouseOut(e){this.setDisplayFeatureInfo(void 0),this.isShow&&this.hide();}onSourceUpdate(){this.hide(),this.setDisplayFeatureInfo(void 0);}getLayerInfoFrag(e,t){let r;let n=this.layerConfigMap.get(e),a=document.createDocumentFragment();if(n){let e=t.feature;"Feature"===e.type&&"properties"in e&&"geometry"in e&&(e=e.properties);let{title:i,fields:u,customContent:f}=n;if(i){r=document.createDocumentFragment();let t=i instanceof Function?i(e):i;o.DOM.appendElementType(r,t);}if(f){let t=f instanceof Function?f(e):f;o.DOM.appendElementType(a,t);}else null!=u&&u.length&&(null==u||u.forEach(r=>{var n,i;let{field:u,formatField:f,formatValue:s,getValue:c}="string"==typeof r?{field:r}:r,d=o.DOM.create("div","l7-layer-popup__row"),h=c?c(t.feature):l(e,u),p=null!==(n=f instanceof Function?f(u,e):f)&&void 0!==n?n:u,v=null!==(i=s instanceof Function?s(h,e):s)&&void 0!==i?i:h,_=o.DOM.create("span","l7-layer-popup__key",d);o.DOM.appendElementType(_,p),o.DOM.appendElementType(_,document.createTextNode("\uFF1A"));let m=o.DOM.create("span","l7-layer-popup__value",d);Array.isArray(v)&&v.every(e=>!(e instanceof Object))&&(v=v.map(e=>String(e)).join(",")),o.DOM.appendElementType(m,v),a.appendChild(d);}));}return{title:r,content:a};}getLayerByConfig(e){let t=e.layer;return t instanceof Object?t:"string"==typeof t?this.layerService.getLayer(t)||this.layerService.getLayerByName(t):void 0;}isSameFeature(e,t){let r=this.displayFeatureInfo;return r&&e===r.layer&&t===r.featureId;}setDisplayFeatureInfo(e){let t=this.displayFeatureInfo;t&&t.layer.off("hide",this.onLayerHide),e&&e.layer.on("hide",this.onLayerHide),this.displayFeatureInfo=e;}}},"3ae61621":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8bd415a5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3afbf2a4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("438f926a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3c23c027":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b2f459ae")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3c70584f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{anchorTranslate:function(){return i;},anchorType:function(){return a;},applyAnchorClass:function(){return o;}});var n,a=((n=a||{}).CENTER="center",n.TOP="top",n["TOP-LEFT"]="top-left",n["TOP-RIGHT"]="top-right",n.BOTTOM="bottom",n["BOTTOM-LEFT"]="bottom-left",n["BOTTOM-RIGHT"]="bottom-right",n.LEFT="left",n.RIGHT="right",n),i={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function o(e,t,r){let n=e.classList;for(let e in i)i.hasOwnProperty(e)&&n.remove(`l7-${r}-anchor-${e}`);n.add(`l7-${r}-anchor-${t}`);}},"3c7c5152":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("42f7077b"),a=r("64c7acbf"),i=class{constructor(e,t){this.device=e,this.options=t,this.createColorRenderTarget(),this.createDepthRenderTarget();}createColorRenderTarget(e=!1){let{width:t,height:r,color:i}=this.options;i&&((0,a.isTexture2D)(i)?(e&&i.resize({width:t,height:r}),this.colorTexture=i.get(),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=i.width,this.height=i.height):t&&r&&(this.colorTexture=this.device.createTexture({format:n.Format.U8_RGBA_RT,usage:n.TextureUsage.RENDER_TARGET,width:t,height:r}),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=t,this.height=r));}createDepthRenderTarget(e=!1){let{width:t,height:r,depth:i}=this.options;i&&((0,a.isTexture2D)(i)?(e&&i.resize({width:t,height:r}),this.depthTexture=i.get(),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=i.width,this.height=i.height):t&&r&&(this.depthTexture=this.device.createTexture({format:n.Format.D24_S8,usage:n.TextureUsage.RENDER_TARGET,width:t,height:r}),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=t,this.height=r));}get(){return this.colorRenderTarget;}destroy(){var e,t;null==(e=this.colorRenderTarget)||e.destroy(),null==(t=this.depthRenderTarget)||t.destroy();}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&(this.destroy(),this.colorTexture.destroyed=!0,this.depthTexture.destroyed=!0,this.options.width=e,this.options.height=t,this.createColorRenderTarget(!0),this.createDepthRenderTarget(!0));}};},"3c9f7f12":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8eaf67e7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3cc20d34":function(e,t,r){"use strict";var n;r.d(t,"__esModule",{value:!0}),r.d(t,"gl",{enumerable:!0,get:function(){return a;}});let a=((n={})[n.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",n[n.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",n[n.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n[n.ZERO=0]="ZERO",n[n.ONE=1]="ONE",n[n.SRC_COLOR=768]="SRC_COLOR",n[n.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",n[n.SRC_ALPHA=770]="SRC_ALPHA",n[n.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",n[n.DST_ALPHA=772]="DST_ALPHA",n[n.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",n[n.DST_COLOR=774]="DST_COLOR",n[n.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",n[n.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",n[n.FUNC_ADD=32774]="FUNC_ADD",n[n.BLEND_EQUATION=32777]="BLEND_EQUATION",n[n.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",n[n.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",n[n.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",n[n.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",n[n.MAX_EXT=32776]="MAX_EXT",n[n.MIN_EXT=32775]="MIN_EXT",n[n.BLEND_DST_RGB=32968]="BLEND_DST_RGB",n[n.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",n[n.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",n[n.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",n[n.CONSTANT_COLOR=32769]="CONSTANT_COLOR",n[n.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",n[n.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",n[n.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",n[n.BLEND_COLOR=32773]="BLEND_COLOR",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",n[n.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",n[n.STREAM_DRAW=35040]="STREAM_DRAW",n[n.STATIC_DRAW=35044]="STATIC_DRAW",n[n.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",n[n.BUFFER_SIZE=34660]="BUFFER_SIZE",n[n.BUFFER_USAGE=34661]="BUFFER_USAGE",n[n.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",n[n.FRONT=1028]="FRONT",n[n.BACK=1029]="BACK",n[n.FRONT_AND_BACK=1032]="FRONT_AND_BACK",n[n.CULL_FACE=2884]="CULL_FACE",n[n.BLEND=3042]="BLEND",n[n.DITHER=3024]="DITHER",n[n.STENCIL_TEST=2960]="STENCIL_TEST",n[n.DEPTH_TEST=2929]="DEPTH_TEST",n[n.SCISSOR_TEST=3089]="SCISSOR_TEST",n[n.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",n[n.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",n[n.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",n[n.NO_ERROR=0]="NO_ERROR",n[n.INVALID_ENUM=1280]="INVALID_ENUM",n[n.INVALID_VALUE=1281]="INVALID_VALUE",n[n.INVALID_OPERATION=1282]="INVALID_OPERATION",n[n.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",n[n.CW=2304]="CW",n[n.CCW=2305]="CCW",n[n.LINE_WIDTH=2849]="LINE_WIDTH",n[n.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",n[n.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",n[n.CULL_FACE_MODE=2885]="CULL_FACE_MODE",n[n.FRONT_FACE=2886]="FRONT_FACE",n[n.DEPTH_RANGE=2928]="DEPTH_RANGE",n[n.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",n[n.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",n[n.DEPTH_FUNC=2932]="DEPTH_FUNC",n[n.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",n[n.STENCIL_FUNC=2962]="STENCIL_FUNC",n[n.STENCIL_FAIL=2964]="STENCIL_FAIL",n[n.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",n[n.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",n[n.STENCIL_REF=2967]="STENCIL_REF",n[n.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",n[n.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",n[n.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",n[n.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",n[n.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",n[n.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",n[n.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",n[n.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",n[n.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",n[n.VIEWPORT=2978]="VIEWPORT",n[n.SCISSOR_BOX=3088]="SCISSOR_BOX",n[n.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",n[n.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",n[n.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",n[n.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",n[n.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",n[n.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",n[n.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",n[n.RED_BITS=3410]="RED_BITS",n[n.GREEN_BITS=3411]="GREEN_BITS",n[n.BLUE_BITS=3412]="BLUE_BITS",n[n.ALPHA_BITS=3413]="ALPHA_BITS",n[n.DEPTH_BITS=3414]="DEPTH_BITS",n[n.STENCIL_BITS=3415]="STENCIL_BITS",n[n.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",n[n.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",n[n.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",n[n.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",n[n.SAMPLES=32937]="SAMPLES",n[n.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",n[n.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",n[n.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",n[n.DONT_CARE=4352]="DONT_CARE",n[n.FASTEST=4353]="FASTEST",n[n.NICEST=4354]="NICEST",n[n.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",n[n.BYTE=5120]="BYTE",n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.SHORT=5122]="SHORT",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.INT=5124]="INT",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.FLOAT=5126]="FLOAT",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.ALPHA=6406]="ALPHA",n[n.RGB=6407]="RGB",n[n.RGBA=6408]="RGBA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.RED=6403]="RED",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",n[n.VERTEX_SHADER=35633]="VERTEX_SHADER",n[n.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",n[n.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",n[n.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",n[n.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",n[n.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",n[n.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",n[n.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",n[n.SHADER_TYPE=35663]="SHADER_TYPE",n[n.DELETE_STATUS=35712]="DELETE_STATUS",n[n.LINK_STATUS=35714]="LINK_STATUS",n[n.VALIDATE_STATUS=35715]="VALIDATE_STATUS",n[n.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",n[n.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",n[n.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",n[n.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",n[n.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",n[n.NEVER=512]="NEVER",n[n.LESS=513]="LESS",n[n.EQUAL=514]="EQUAL",n[n.LEQUAL=515]="LEQUAL",n[n.GREATER=516]="GREATER",n[n.NOTEQUAL=517]="NOTEQUAL",n[n.GEQUAL=518]="GEQUAL",n[n.ALWAYS=519]="ALWAYS",n[n.KEEP=7680]="KEEP",n[n.REPLACE=7681]="REPLACE",n[n.INCR=7682]="INCR",n[n.DECR=7683]="DECR",n[n.INVERT=5386]="INVERT",n[n.INCR_WRAP=34055]="INCR_WRAP",n[n.DECR_WRAP=34056]="DECR_WRAP",n[n.VENDOR=7936]="VENDOR",n[n.RENDERER=7937]="RENDERER",n[n.VERSION=7938]="VERSION",n[n.NEAREST=9728]="NEAREST",n[n.LINEAR=9729]="LINEAR",n[n.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",n[n.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",n[n.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",n[n.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",n[n.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",n[n.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",n[n.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",n[n.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE=5890]="TEXTURE",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n[n.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",n[n.TEXTURE0=33984]="TEXTURE0",n[n.TEXTURE1=33985]="TEXTURE1",n[n.TEXTURE2=33986]="TEXTURE2",n[n.TEXTURE3=33987]="TEXTURE3",n[n.TEXTURE4=33988]="TEXTURE4",n[n.TEXTURE5=33989]="TEXTURE5",n[n.TEXTURE6=33990]="TEXTURE6",n[n.TEXTURE7=33991]="TEXTURE7",n[n.TEXTURE8=33992]="TEXTURE8",n[n.TEXTURE9=33993]="TEXTURE9",n[n.TEXTURE10=33994]="TEXTURE10",n[n.TEXTURE11=33995]="TEXTURE11",n[n.TEXTURE12=33996]="TEXTURE12",n[n.TEXTURE13=33997]="TEXTURE13",n[n.TEXTURE14=33998]="TEXTURE14",n[n.TEXTURE15=33999]="TEXTURE15",n[n.TEXTURE16=34e3]="TEXTURE16",n[n.TEXTURE17=34001]="TEXTURE17",n[n.TEXTURE18=34002]="TEXTURE18",n[n.TEXTURE19=34003]="TEXTURE19",n[n.TEXTURE20=34004]="TEXTURE20",n[n.TEXTURE21=34005]="TEXTURE21",n[n.TEXTURE22=34006]="TEXTURE22",n[n.TEXTURE23=34007]="TEXTURE23",n[n.TEXTURE24=34008]="TEXTURE24",n[n.TEXTURE25=34009]="TEXTURE25",n[n.TEXTURE26=34010]="TEXTURE26",n[n.TEXTURE27=34011]="TEXTURE27",n[n.TEXTURE28=34012]="TEXTURE28",n[n.TEXTURE29=34013]="TEXTURE29",n[n.TEXTURE30=34014]="TEXTURE30",n[n.TEXTURE31=34015]="TEXTURE31",n[n.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",n[n.REPEAT=10497]="REPEAT",n[n.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n[n.FLOAT_VEC2=35664]="FLOAT_VEC2",n[n.FLOAT_VEC3=35665]="FLOAT_VEC3",n[n.FLOAT_VEC4=35666]="FLOAT_VEC4",n[n.INT_VEC2=35667]="INT_VEC2",n[n.INT_VEC3=35668]="INT_VEC3",n[n.INT_VEC4=35669]="INT_VEC4",n[n.BOOL=35670]="BOOL",n[n.BOOL_VEC2=35671]="BOOL_VEC2",n[n.BOOL_VEC3=35672]="BOOL_VEC3",n[n.BOOL_VEC4=35673]="BOOL_VEC4",n[n.FLOAT_MAT2=35674]="FLOAT_MAT2",n[n.FLOAT_MAT3=35675]="FLOAT_MAT3",n[n.FLOAT_MAT4=35676]="FLOAT_MAT4",n[n.SAMPLER_2D=35678]="SAMPLER_2D",n[n.SAMPLER_CUBE=35680]="SAMPLER_CUBE",n[n.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",n[n.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",n[n.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",n[n.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",n[n.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",n[n.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",n[n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",n[n.COMPILE_STATUS=35713]="COMPILE_STATUS",n[n.LOW_FLOAT=36336]="LOW_FLOAT",n[n.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",n[n.HIGH_FLOAT=36338]="HIGH_FLOAT",n[n.LOW_INT=36339]="LOW_INT",n[n.MEDIUM_INT=36340]="MEDIUM_INT",n[n.HIGH_INT=36341]="HIGH_INT",n[n.FRAMEBUFFER=36160]="FRAMEBUFFER",n[n.RENDERBUFFER=36161]="RENDERBUFFER",n[n.RGBA4=32854]="RGBA4",n[n.RGB5_A1=32855]="RGB5_A1",n[n.RGB565=36194]="RGB565",n[n.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",n[n.STENCIL_INDEX=6401]="STENCIL_INDEX",n[n.STENCIL_INDEX8=36168]="STENCIL_INDEX8",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n[n.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",n[n.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",n[n.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",n[n.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",n[n.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",n[n.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",n[n.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",n[n.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",n[n.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",n[n.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",n[n.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",n[n.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",n[n.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",n[n.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",n[n.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",n[n.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",n[n.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",n[n.NONE=0]="NONE",n[n.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",n[n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",n[n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",n[n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",n[n.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",n[n.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",n[n.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",n[n.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",n[n.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",n[n.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",n[n.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",n[n.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",n[n.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",n[n.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",n);},"3d1addcf":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f7598210")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3d22fab4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("44e21eda")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3d60c9b6":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("f5334a01")),i=n._(r("df276aa2")),o=n._(r("2535d5e7")),u=n._(r("1e5b40e9")),l=n._(r("9b68de3b")),f=n._(r("19898f67")),s=n._(r("0d56bbd2")),c=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),d=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>"WebGL1",this.createModel=e=>new f.default(this.gl,e),this.createAttribute=e=>new i.default(this.gl,e),this.createBuffer=e=>new o.default(this.gl,e),this.createElements=e=>new u.default(this.gl,e),this.createTexture2D=e=>new s.default(this.gl,e),this.createFramebuffer=e=>new l.default(this.gl,e),this.useFramebuffer=(e,t)=>{this.gl({framebuffer:e?e.get():null})(t);},this.useFramebufferAsync=(e,t)=>c(this,null,function*(){this.gl({framebuffer:e?e.get():null})(t);}),this.clear=e=>{var t;let{color:r,depth:n,stencil:a,framebuffer:i=null}=e,o={color:r,depth:n,stencil:a};o.framebuffer=null===i?i:i.get(),null==(t=this.gl)||t.clear(o);},this.viewport=({x:e,y:t,width:r,height:n})=>{this.gl._gl.viewport(e,t,r,n),this.width=r,this.height=n,this.gl._refresh();},this.readPixels=e=>{let{framebuffer:t,x:r,y:n,width:a,height:i}=e,o={x:r,y:n,width:a,height:i};return t&&(o.framebuffer=t.get()),this.gl.read(o);},this.readPixelsAsync=e=>c(this,null,function*(){return this.readPixels(e);}),this.getViewportSize=()=>({width:this.gl._gl.drawingBufferWidth,height:this.gl._gl.drawingBufferHeight}),this.getContainer=()=>{var e;return null==(e=this.canvas)?void 0:e.parentElement;},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.gl._gl,this.destroy=()=>{var e,t,r;this.canvas=null,null==(r=null==(t=null==(e=this.gl)?void 0:e._gl)?void 0:t.getExtension("WEBGL_lose_context"))||r.loseContext(),this.gl.destroy(),this.gl=null;};}init(e,t,r){return c(this,null,function*(){this.canvas=e,r?this.gl=r:this.gl=yield new Promise((e,r)=>{(0,a.default)({canvas:this.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,stencil:t.stencil},extensions:["OES_element_index_uint","OES_standard_derivatives","ANGLE_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture","WEBGL_lose_context"],profile:!0,onDone:(t,n)=>{(t||!n)&&r(t),e(n);}});}),this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")};});}getPointSizeRange(){return this.gl._gl.getParameter(this.gl._gl.ALIASED_POINT_SIZE_RANGE);}testExtension(e){return!!this.getGLContext().getExtension(e);}setState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!0,equation:"add"},framebuffer:null}),this.gl._refresh();}setBaseState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh();}setCustomLayerDefaults(){let e=this.getGLContext();e.disable(e.CULL_FACE);}setDirty(e){this.isDirty=e;}getDirty(){return this.isDirty;}beginFrame(){}endFrame(){}};},"3d6628aa":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b51c053f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3d6bdc3c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=r("7f434d9f"),o=r("89217383"),u=n._(r("6c8aee75")),l=r("f9b12b3c");class f extends u.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9});}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,lineType:r="solid",dashArray:n=[10,5,0,0],vertexHeightScale:a=20}=this.layer.getLayerConfig(),i=n;"dash"!==r&&(i=[0,0,0,0]),2===i.length&&i.push(0,0);let u=0,l=[0,0,0,0],f=[0,0,0,0];e&&t&&(l=(0,o.rgb2arr)(e),f=(0,o.rgb2arr)(t),u=1);let s={u_sourceColor:l,u_targetColor:f,u_dash_array:i,u_vertexScale:a,u_linearColor:u};return this.getUniformsBufferInfo(s);}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}getShaders(){return{frag:"\nlayout(std140) uniform commonUniorm {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec4 u_dash_array;\n  float u_vertexScale: 1.0;\n  float u_linearColor: 0;\n};\nin float v_distanceScale;\nin vec4 v_color;\n//dash\nin vec4 v_dash_array;\n\nout vec4 outputColor;\nvoid main() {\n  if(u_dash_array!=vec4(0.0)){\n    float dashLength = mod(v_distanceScale, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {\n      // \u865A\u7EBF\u90E8\u5206\n      discard;\n    };\n  }\n  if(u_linearColor==1.0){\n    outputColor = mix(u_sourceColor, u_targetColor, v_distanceScale);\n    outputColor.a *= v_color.a; // \u5168\u5C40\u900F\u660E\u5EA6\n  }\n  else{\n    outputColor = v_color;\n  }\n}\n",vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec4 a_SizeDistanceAndTotalDistance;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec4 u_dash_array;\n  float u_vertexScale: 1.0;\n  float u_linearColor: 0;\n};\n\n#pragma include "projection"\n#pragma include "picking"\n\nout vec4 v_color;\nout float v_distanceScale;\nout vec4 v_dash_array;\n\nvoid main() {\n  //dash\u8F93\u51FA\n  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_SizeDistanceAndTotalDistance.a;\n\n  v_color = a_Color;\n  v_distanceScale = a_SizeDistanceAndTotalDistance.b / a_SizeDistanceAndTotalDistance.a;\n  v_color.a = v_color.a * opacity;\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);\n\n  float h = float(a_Position.z) * u_vertexScale; // \u7EBF\u9876\u70B9\u7684\u9AD8\u5EA6 - \u517C\u5BB9\u4E0D\u5B58\u5728\u7B2C\u4E09\u4E2A\u6570\u503C\u7684\u60C5\u51B5\n\n  float lineHeight = a_SizeDistanceAndTotalDistance.y;\n  // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // \u4FDD\u6301\u9AD8\u5EA6\u76F8\u5BF9\u4E0D\u53D8\n    h *= 2.0 / pow(2.0, 20.0 - u_Zoom);\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, lineHeight + h, 1.0));\n  gl_PointSize = 10.0;\n\n}\n',type:"lineSimpleNormal"};}buildModels(){var e=this;return(0,a.default)(function*(){e.initUniformsBuffer();let{frag:t,vert:r,type:n}=e.getShaders();return[(yield e.layer.buildLayerModel({moduleName:n,vertexShader:r,fragmentShader:t,triangulation:l.SimpleLineTriangulation,defines:e.getDefines(),inject:e.getInject(),primitive:i.gl.LINES,depth:{enable:!1},pick:!1}))];})();}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"sizeDistanceAndTotalDistance",type:i.AttributeType.Attribute,descriptor:{name:"a_SizeDistanceAndTotalDistance",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:i.gl.STATIC_DRAW,data:[],type:i.gl.FLOAT},size:4,update:(e,t,r)=>{let{size:n=1}=e,a=Array.isArray(n)?[n[0],n[1]]:[n,0];return[a[0],a[1],r[3],r[5]];}}});}}},"3da4d323":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("647bab48")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3db71276":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("63e0845e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3dc431b1":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{interpolateTransformCss:function(){return o;},interpolateTransformSvg:function(){return u;}});var n=r("777fffbe")._(r("78dc401a")),a=r("2d81a91e");function i(e,t,r,a){function i(e){return e.length?e.pop()+" ":"";}return function(o,u){var l,f,s,c,d=[],h=[];return o=e(o),u=e(u),!function(e,a,i,o,u,l){if(e!==i||a!==o){var f=u.push("translate(",null,t,null,r);l.push({i:f-4,x:(0,n.default)(e,i)},{i:f-2,x:(0,n.default)(a,o)});}else(i||o)&&u.push("translate("+i+t+o+r);}(o.translateX,o.translateY,u.translateX,u.translateY,d,h),(l=o.rotate)!==(f=u.rotate)?(l-f>180?f+=360:f-l>180&&(l+=360),h.push({i:d.push(i(d)+"rotate(",null,a)-2,x:(0,n.default)(l,f)})):f&&d.push(i(d)+"rotate("+f+a),(s=o.skewX)!==(c=u.skewX)?h.push({i:d.push(i(d)+"skewX(",null,a)-2,x:(0,n.default)(s,c)}):c&&d.push(i(d)+"skewX("+c+a),!function(e,t,r,a,o,u){if(e!==r||t!==a){var l=o.push(i(o)+"scale(",null,",",null,")");u.push({i:l-4,x:(0,n.default)(e,r)},{i:l-2,x:(0,n.default)(t,a)});}else(1!==r||1!==a)&&o.push(i(o)+"scale("+r+","+a+")");}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,d,h),o=u=null,function(e){for(var t,r=-1,n=h.length;++r<n;)d[(t=h[r]).i]=t.x(e);return d.join("");};};}var o=i(a.parseCss,"px, ","px)","deg)"),u=i(a.parseSvg,", ",")",")");},"3e649c46":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{degreesToRadians:function(){return d;},earthRadius:function(){return n;},factors:function(){return a;},feature:function(){return i;},featureCollection:function(){return l;},lineString:function(){return u;},multiPolygon:function(){return f;},polygon:function(){return o;},radiansToDegrees:function(){return c;},radiansToLength:function(){return s;}});var n=6371008.8,a={centimeters:637100880,centimetres:637100880,degrees:6371008.8/111325,feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:6371008.8,metres:6371008.8,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:6371008.8/1852,radians:1,yards:6967335.223679999};function i(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n;}function o(e,t,r){void 0===r&&(r={});for(var n=0;n<e.length;n++){var a=e[n];if(a.length<4)throw Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw Error("First and last Position are not equivalent.");}return i({type:"Polygon",coordinates:e},t,r);}function u(e,t,r){if(void 0===r&&(r={}),e.length<2)throw Error("coordinates must be an array of two or more positions");return i({type:"LineString",coordinates:e},t,r);}function l(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r;}function f(e,t,r){return void 0===r&&(r={}),i({type:"MultiPolygon",coordinates:e},t,r);}function s(e,t){void 0===t&&(t="kilometers");var r=a[t];if(!r)throw Error(t+" units is invalid");return e*r;}function c(e){return e%(2*Math.PI)*180/Math.PI;}function d(e){return e%360*Math.PI/180;}},"3e714759":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8230b6b9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3f1a4398":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("07cd2904")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3f31a377":function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1;}function u(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var u=new o(r,n||e,i),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],u]:e._events[l].push(u):(e._events[l]=u,e._eventsCount++),e;}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t];}function f(){this._events=new i,this._eventsCount=0;}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1)),f.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r;},f.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o;},f.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0;},f.prototype.emit=function(e,t,r,n,i,o){var u=a?a+e:e;if(!this._events[u])return!1;var l,f,s=this._events[u],c=arguments.length;if(s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,r),!0;case 4:return s.fn.call(s.context,t,r,n),!0;case 5:return s.fn.call(s.context,t,r,n,i),!0;case 6:return s.fn.call(s.context,t,r,n,i,o),!0;}for(f=1,l=Array(c-1);f<c;f++)l[f-1]=arguments[f];s.fn.apply(s.context,l);}else{var d,h=s.length;for(f=0;f<h;f++)switch(s[f].once&&this.removeListener(e,s[f].fn,void 0,!0),c){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,t);break;case 3:s[f].fn.call(s[f].context,t,r);break;case 4:s[f].fn.call(s[f].context,t,r,n);break;default:if(!l)for(d=1,l=Array(c-1);d<c;d++)l[d-1]=arguments[d];s[f].fn.apply(s[f].context,l);}}return!0;},f.prototype.on=function(e,t,r){return u(this,e,t,r,!1);},f.prototype.once=function(e,t,r){return u(this,e,t,r,!0);},f.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,i);else{for(var u=0,f=[],s=o.length;u<s;u++)(o[u].fn!==t||n&&!o[u].once||r&&o[u].context!==r)&&f.push(o[u]);f.length?this._events[i]=1===f.length?f[0]:f:l(this,i);}return this;},f.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this;},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=a,f.EventEmitter=f,void 0!==e&&(e.exports=f);},"3f934210":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7c1fc419")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"3f9d8e71":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=n._(r("6c8aee75"));class f extends l.default{constructor(...e){super(...e),(0,o.default)(this,"texture",void 0),(0,o.default)(this,"terrainImage",void 0),(0,o.default)(this,"terrainImageLoaded",!1),(0,o.default)(this,"mapTexture",void 0),(0,o.default)(this,"planeGeometryTriangulation",()=>{let{width:e=1,height:t=1,widthSegments:r=1,heightSegments:n=1,center:a=[120,30],terrainTexture:i,rgb2height:o=(e,t,r)=>e+t+r}=this.layer.getLayerConfig(),{indices:u,positions:l}=this.initPlane(e,t,r,n,...a);return i?this.translateVertex(l,u,this.terrainImage,r,n,o):{vertices:l,indices:u,size:5};});}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:10});}initPlane(e=1,t=1,r=1,n=1,a=120,i=30){let o=e/2,u=t/2,l=Math.floor(r),f=Math.floor(n),s=l+1,c=f+1,d=e/l,h=t/f,p=[],v=[];for(let e=0;e<c;e++){let t=e*h-u;for(let r=0;r<s;r++){let n=r*d-o;v.push(n+a,-t+i,0),v.push(r/l),v.push(1-e/f);}}for(let e=0;e<f;e++)for(let t=0;t<l;t++){let r=t+s*e,n=t+s*(e+1),a=t+1+s*(e+1),i=t+1+s*e;p.push(r,n,i),p.push(n,a,i);}return{indices:p,positions:v};}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{opacity:e,mapTexture:t,terrainClipHeight:r=0,terrainTexture:n}=this.layer.getLayerConfig();if(this.mapTexture!==t){var a;this.mapTexture=t,null===(a=this.texture)||void 0===a||a.destroy(),this.updateTexture(t);}let i={u_opacity:e||1,u_mapFlag:t?1:0,u_terrainClipHeight:n?r:-1,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(i);}clearModels(){var e;this.terrainImage=null,null===(e=this.texture)||void 0===e||e.destroy(),this.textures=[];}initModels(){var e=this;return(0,a.default)(function*(){let{mapTexture:t,terrainTexture:r}=e.layer.getLayerConfig();e.mapTexture=t;let{createTexture2D:n}=e.rendererService;return e.texture=n({height:0,width:0}),e.updateTexture(t),e.initUniformsBuffer(),r&&(e.terrainImage=yield e.loadTerrainImage(r)),[(yield e.layer.buildLayerModel({moduleName:"geometryPlane",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec3 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_mapFlag;\n  float u_terrainClipHeight;\n};\n\nout vec3 v_Color;\nout vec2 v_uv;\nout float v_clip;\n\n#pragma include "projection"\n#pragma include "picking"\nvoid main() {\n  v_Color = a_Color;\n  v_uv = a_Uv;\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n\n  v_clip = 1.0;\n  if (a_Position.z < u_terrainClipHeight) {\n    v_clip = 0.0;\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, a_Position.z, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'uniform sampler2D u_texture;\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n  float u_mapFlag;\n  float u_terrainClipHeight;\n};\n\nin vec3 v_Color;\nin vec2 v_uv;\nin float v_clip;\nout vec4 outputColor;\n\n#pragma include "picking"\nvoid main() {\n  if (u_mapFlag > 0.0) {\n    outputColor = texture(SAMPLER_2D(u_texture), vec2(v_uv.x, 1.0 - v_uv.y));\n    outputColor.a *= u_opacity;\n  } else {\n    outputColor = vec4(v_Color, u_opacity);\n  }\n  outputColor.a *= v_clip;\n  outputColor = filterColor(outputColor);\n}\n',triangulation:e.planeGeometryTriangulation,defines:e.getDefines(),inject:e.getInject(),primitive:u.gl.TRIANGLES,depth:{enable:!0},cull:{enable:!0,face:u.gl.BACK}}))];})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initModels();})();}createModelData(e){if(e){let{widthSegments:t,heightSegments:r,width:n,height:a}=this.layer.getLayerConfig(),{widthSegments:i,heightSegments:o,width:u,height:l}=e;this.layer.style({widthSegments:void 0!==i?i:t,heightSegments:void 0!==o?o:r,width:void 0!==u?u:n,height:void 0!==l?l:a});}let t=this.layer.getEncodedData();return this.styleAttributeService.createAttributesAndIndices(t,this.planeGeometryTriangulation);}updateTexture(e){let{createTexture2D:t}=this.rendererService;if(e){let r=new Image;r.crossOrigin="anonymous",r.onload=()=>{this.texture=t({data:r,width:r.width,height:r.height,wrapS:u.gl.CLAMP_TO_EDGE,wrapT:u.gl.CLAMP_TO_EDGE}),this.layerService.reRender();},r.src=e;}else this.texture=t({width:0,height:0});}getImageData(e){let t=document.createElement("canvas"),r=t.getContext("2d"),{width:n,height:a}=e;return t.width=n,t.height=a,r.drawImage(e,0,0,n,a),r.getImageData(0,0,n,a);}translateVertex(e,t,r,n,a,i){let o=r.width,u=r.height,l=this.getImageData(r).data,f=Math.floor(n),s=Math.floor(a),c=f+1,d=s+1,h=o/f,p=u/s;for(let t=0;t<d;t++){let r=Math.floor(t*p)*o;for(let n=0;n<c;n++){let a=(r+Math.floor(n*h))*4,o=l[a],u=l[a+1],f=l[a+2];e[(t*c+n)*5+2]=i(o,u,f);}}return{vertices:e,indices:t,size:5};}loadTerrainImage(e){var t=this;return(0,a.default)(function*(){if(t.terrainImage)return t.terrainImageLoaded?t.terrainImage:new Promise(e=>{t.terrainImage.onload=()=>{e(t.terrainImage);};});{let r=new Image;return r.crossOrigin="anonymous",new Promise(n=>{r.onload=()=>{t.terrainImageLoaded=!0,n(r),setTimeout(()=>t.layer.emit("terrainImageLoaded",null));},r.src=e;});}})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:u.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}});}}},"3fb324f1":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return v;}});var n=r("0b461d77"),a=r("0aa51e1c"),i=r("68cc65c7"),o=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(f)for(var r of f(t))c.call(t,r)&&d(e,r,t[r]);return e;},p=(e,t)=>u(e,l(t));function v(e,t){let{x:r,y:o,x1:u,y1:l,coordinates:f,geometry:s}=t,c=[];if(!Array.isArray(e))return{dataArray:[]};if(s)return e.filter(e=>e[s]&&e[s].type&&e[s].coordinates&&e[s].coordinates.length>0).forEach((e,t)=>{let r=(0,i.geojsonRewind)(e[s]);(0,a.flattenEach)(r,r=>{let a=(0,n.getCoords)(r),i=p(h({},e),{_id:t,coordinates:a});c.push(i);});}),{dataArray:c};for(let t=0;t<e.length;t++){let n=e[t],a=[];if(f){let e="Polygon";Array.isArray(f[0])||(e="Point"),Array.isArray(f[0])&&!Array.isArray(f[0][0])&&(e="LineString"),a=(0,i.geojsonRewind)({type:e,coordinates:n[f]}).coordinates;}else r&&o&&u&&l?a=[[parseFloat(n[r]),parseFloat(n[o])],[parseFloat(n[u]),parseFloat(n[l])]]:r&&o&&(a=[parseFloat(n[r]),parseFloat(n[o])]);let s=p(h({},n),{_id:t,coordinates:a});c.push(s);}return{dataArray:c};}},"3fb4fdb6":function(e,t,r){"use strict";var n;r.d(t,"__esModule",{value:!0}),r.d(t,"PassType",{enumerable:!0,get:function(){return a;}});let a=((n={}).Normal="normal",n.PostProcessing="post-processing",n);},"3fbd2a32":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{interpolate:function(){return a.default;},interpolateNumber:function(){return i.default;},interpolateRgbBasis:function(){return u.rgbBasis;},interpolateRound:function(){return o.default;}});var n=r("777fffbe"),a=n._(r("f66a4384")),i=n._(r("0e87104f")),o=n._(r("43f21bce")),u=r("8251592a");},"3fd4304e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9ccdb96d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4022630a":function(e,t,r){"use strict";var n=r("1c3732b0").default,a=r("91c615af").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("54391344")),o=n(r("07af66ba")),u=n(r("2dccbefc")),l=n(r("ad35a619")),f=a(r("896e0d47")),s=n(r("40b32d6b")),c=r("da74be43"),d=n(r("6b889f11")),h=n(r("340f8cf2")),p=r("eaa6a05d"),v=r("bf1e085a"),_=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,p.setTwoToneColor)(c.blue.primary);var m=f.forwardRef(function(e,t){var r=e.className,n=e.icon,a=e.spin,c=e.rotate,p=e.tabIndex,m=e.onClick,g=e.twoToneColor,b=(0,l.default)(e,_),y=f.useContext(d.default),E=y.prefixCls,T=void 0===E?"anticon":E,A=y.rootClassName,S=(0,s.default)(A,T,(0,u.default)((0,u.default)({},"".concat(T,"-").concat(n.name),!!n.name),"".concat(T,"-spin"),!!a||"loading"===n.name),r),O=p;void 0===O&&m&&(O=-1);var R=(0,v.normalizeTwoToneColors)(g),M=(0,o.default)(R,2),x=M[0],C=M[1];return f.createElement("span",(0,i.default)({role:"img","aria-label":n.name},b,{ref:t,tabIndex:O,onClick:m,className:S}),f.createElement(h.default,{icon:n,primaryColor:x,secondaryColor:C,style:c?{msTransform:"rotate(".concat(c,"deg)"),transform:"rotate(".concat(c,"deg)")}:void 0}));});m.displayName="AntdIcon",m.getTwoToneColor=p.getTwoToneColor,m.setTwoToneColor=p.setTwoToneColor,t.default=m;},"403c3f33":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("e1e610e4"));class a{constructor(){(0,n.default)(this,"scene",void 0),(0,n.default)(this,"mapsService",void 0),(0,n.default)(this,"popups",[]),(0,n.default)(this,"unAddPopups",[]);}get isMarkerReady(){return this.mapsService.map&&this.mapsService.getMarkerContainer();}removePopup(e){null!=e&&e.isOpen()&&e.remove();let t=this.popups.indexOf(e);t>-1&&this.popups.splice(t,1);let r=this.unAddPopups.indexOf(e);r>-1&&this.unAddPopups.splice(r,1);}destroy(){this.popups.forEach(e=>e.remove());}addPopup(e){e&&e.getOptions().autoClose&&[...this.popups,...this.unAddPopups].forEach(e=>{e.getOptions().autoClose&&this.removePopup(e);}),this.isMarkerReady?(e.addTo(this.scene),this.popups.push(e)):this.unAddPopups.push(e),e.on("close",()=>{this.removePopup(e);});}initPopup(){this.unAddPopups.length&&this.unAddPopups.forEach(e=>{this.addPopup(e),this.unAddPopups=[];});}init(e){this.scene=e,this.mapsService=e.mapService;}}},"4050a371":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f6608ce1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"407df8d7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4cd1d290")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"40cc4959":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{GeoLocate:function(){return f;},default:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("e1e610e4")),u=r("be6cb12a"),l=n._(r("e46f20cf"));class f extends l.default{constructor(e){var t;super(e),t=this,(0,o.default)(this,"getGeoLocation",()=>new Promise((e,t)=>{window.navigator.geolocation.getCurrentPosition(({coords:r})=>{let{longitude:n,latitude:a}=null!=r?r:{};isNaN(n)||isNaN(a)?t():e([n,a]);},e=>{t(e);});})),(0,o.default)(this,"onClick",(0,i.default)(function*(){if(!window.navigator.geolocation)return;let{transform:e}=t.controlOption,r=yield t.getGeoLocation(),n=t.mapsService.getZoom();t.mapsService.setZoomAndCenter(n>15?n:15,e?yield e(r):r);})),window.navigator.geolocation||console.warn("\u5F53\u524D\u6D4F\u89C8\u5668\u73AF\u5883\u4E0D\u652F\u6301\u83B7\u53D6\u5730\u7406\u5B9A\u4F4D");}getDefault(e){return(0,a.default)((0,a.default)({},super.getDefault(e)),{},{title:"\u5B9A\u4F4D",btnIcon:(0,u.createL7Icon)("l7-icon-reposition")});}onAdd(){let e=super.onAdd();return e.addEventListener("click",this.onClick),e;}}},"40ffab09":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9d11f5df")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4119016f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("44e5afe3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"411ba89c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b4b2b469")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4177c31e":function(e,t,r){"use strict";function n(e,t=0){return e+=t,e+=e<<10,(e+=e>>>6)>>>0;}function a(e){return e+=e<<3,e^=e>>>11,(e+=e<<15)>>>0;}function i(){return 0;}r.d(t,"__esModule",{value:!0}),r.e(t,{HashMap:function(){return u;},hashCodeNumberFinish:function(){return a;},hashCodeNumberUpdate:function(){return n;},nullHashFunc:function(){return i;}});var o=class{constructor(){this.keys=[],this.values=[];}},u=class{constructor(e,t){this.keyEqualFunc=e,this.keyHashFunc=t,this.buckets=new Map;}findBucketIndex(e,t){for(let r=0;r<e.keys.length;r++)if(this.keyEqualFunc(t,e.keys[r]))return r;return -1;}findBucket(e){let t=this.keyHashFunc(e);return this.buckets.get(t);}get(e){let t=this.findBucket(e);if(void 0===t)return null;let r=this.findBucketIndex(t,e);return r<0?null:t.values[r];}add(e,t){let r=this.keyHashFunc(e);void 0===this.buckets.get(r)&&this.buckets.set(r,new o);let n=this.buckets.get(r);n.keys.push(e),n.values.push(t);}delete(e){let t=this.findBucket(e);if(void 0===t)return;let r=this.findBucketIndex(t,e);-1!==r&&(t.keys.splice(r,1),t.values.splice(r,1));}clear(){this.buckets.clear();}size(){let e=0;for(let t of this.buckets.values())e+=t.values.length;return e;}*values(){for(let e of this.buckets.values())for(let t=e.values.length-1;t>=0;t--)yield e.values[t];}};},"41b2b5f4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dce6a7fe")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"41b2c32d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("969dfc33")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"41ce1256":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("06578bb5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},42230750:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f8314602")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4228ad4a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0277e88e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"425b58ba":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("77e518d8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"42935ebc":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5a8e2b30")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"42f7077b":function(e,t,r){"use strict";let n;r.d(t,"__esModule",{value:!0}),r.e(t,{AddressMode:function(){return H;},BlendFactor:function(){return z;},BlendMode:function(){return V;},BufferFrequencyHint:function(){return Z;},BufferUsage:function(){return q;},ChannelWriteMask:function(){return ee;},ClipSpaceNearZ:function(){return ea;},CompareFunction:function(){return j;},CullMode:function(){return G;},FilterMode:function(){return X;},Format:function(){return ef;},MipmapFilterMode:function(){return W;},PrimitiveTopology:function(){return Y;},StencilOp:function(){return et;},TextureUsage:function(){return J;},TransparentBlack:function(){return eP;},VertexStepMode:function(){return K;},ViewportOrigin:function(){return en;},WebGLDeviceContribution:function(){return tZ;},WebGPUDeviceContribution:function(){return rx;},bindingsDescriptorCopy:function(){return e7;},bindingsDescriptorEquals:function(){return eq;},colorNewFromRGBA:function(){return eC;},inputLayoutDescriptorCopy:function(){return te;},inputLayoutDescriptorEquals:function(){return e3;},preprocessShader_GLSL:function(){return tb;},renderPipelineDescriptorCopy:function(){return e5;},renderPipelineDescriptorEquals:function(){return eJ;}});var a,i,o,u,l,f,s,c,d,h,p,v,_,m,g,b,y,E,T,A,S,O,R,M,x,C,P,L,w,I,N,D,F,B,U,j,k,G,z,V,H,X,W,Y,q,Z,K,$,Q,J,ee,et,er,en,ea,ei,eo,eu,el,ef,es,ec,ed,eh,ep,ev=r("777fffbe"),e_=r("704ed77e"),em=r("65d9f791"),eg=ev._(r("f66a0232"));function eb(e,t,r){return e<<16|t<<8|r;}function ey(e){return e>>>8&255;}function eE(e){return e>>>16&255;}function eT(e){switch(e){case eo.F32:case eo.U32:case eo.S32:return 4;case eo.U16:case eo.S16:case eo.F16:return 2;case eo.U8:case eo.S8:return 1;default:throw Error("whoops");}}function eA(e){var t=255&e;if(t&el.Depth)return er.Depth;if(t&el.Normalized)return er.Float;var r=eE(e);if(r===eo.F16||r===eo.F32)return er.Float;if(r===eo.U8||r===eo.U16||r===eo.U32)return er.Uint;if(r===eo.S8||r===eo.S16||r===eo.S32)return er.Sint;throw Error("whoops");}function eS(e,t){if(void 0===t&&(t=""),!e)throw Error("Assert fail: ".concat(t));}function eO(e){if(null!=e)return e;throw Error("Missing object");}function eR(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a;}function eM(e,t){e.r=t.r,e.g=t.g,e.b=t.b,e.a=t.a;}function ex(e){return{r:e.r,g:e.g,b:e.b,a:e.a};}function eC(e,t,r,n){return void 0===n&&(n=1),{r:e,g:t,b:r,a:n};}(l=B||(B={}))[l.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",l[l.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",l[l.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",l[l.POINTS=0]="POINTS",l[l.LINES=1]="LINES",l[l.LINE_LOOP=2]="LINE_LOOP",l[l.LINE_STRIP=3]="LINE_STRIP",l[l.TRIANGLES=4]="TRIANGLES",l[l.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",l[l.TRIANGLE_FAN=6]="TRIANGLE_FAN",l[l.ZERO=0]="ZERO",l[l.ONE=1]="ONE",l[l.SRC_COLOR=768]="SRC_COLOR",l[l.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",l[l.SRC_ALPHA=770]="SRC_ALPHA",l[l.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",l[l.DST_ALPHA=772]="DST_ALPHA",l[l.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",l[l.DST_COLOR=774]="DST_COLOR",l[l.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",l[l.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",l[l.CONSTANT_COLOR=32769]="CONSTANT_COLOR",l[l.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",l[l.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",l[l.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",l[l.FUNC_ADD=32774]="FUNC_ADD",l[l.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",l[l.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",l[l.BLEND_EQUATION=32777]="BLEND_EQUATION",l[l.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",l[l.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",l[l.BLEND_DST_RGB=32968]="BLEND_DST_RGB",l[l.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",l[l.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",l[l.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",l[l.BLEND_COLOR=32773]="BLEND_COLOR",l[l.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",l[l.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",l[l.LINE_WIDTH=2849]="LINE_WIDTH",l[l.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",l[l.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",l[l.CULL_FACE_MODE=2885]="CULL_FACE_MODE",l[l.FRONT_FACE=2886]="FRONT_FACE",l[l.DEPTH_RANGE=2928]="DEPTH_RANGE",l[l.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",l[l.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",l[l.DEPTH_FUNC=2932]="DEPTH_FUNC",l[l.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",l[l.STENCIL_FUNC=2962]="STENCIL_FUNC",l[l.STENCIL_FAIL=2964]="STENCIL_FAIL",l[l.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",l[l.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",l[l.STENCIL_REF=2967]="STENCIL_REF",l[l.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",l[l.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",l[l.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",l[l.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",l[l.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",l[l.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",l[l.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",l[l.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",l[l.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",l[l.VIEWPORT=2978]="VIEWPORT",l[l.SCISSOR_BOX=3088]="SCISSOR_BOX",l[l.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",l[l.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",l[l.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",l[l.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",l[l.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",l[l.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",l[l.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",l[l.RED_BITS=3410]="RED_BITS",l[l.GREEN_BITS=3411]="GREEN_BITS",l[l.BLUE_BITS=3412]="BLUE_BITS",l[l.ALPHA_BITS=3413]="ALPHA_BITS",l[l.DEPTH_BITS=3414]="DEPTH_BITS",l[l.STENCIL_BITS=3415]="STENCIL_BITS",l[l.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",l[l.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",l[l.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",l[l.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",l[l.SAMPLES=32937]="SAMPLES",l[l.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",l[l.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",l[l.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",l[l.VENDOR=7936]="VENDOR",l[l.RENDERER=7937]="RENDERER",l[l.VERSION=7938]="VERSION",l[l.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",l[l.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",l[l.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",l[l.STATIC_DRAW=35044]="STATIC_DRAW",l[l.STREAM_DRAW=35040]="STREAM_DRAW",l[l.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",l[l.ARRAY_BUFFER=34962]="ARRAY_BUFFER",l[l.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",l[l.BUFFER_SIZE=34660]="BUFFER_SIZE",l[l.BUFFER_USAGE=34661]="BUFFER_USAGE",l[l.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",l[l.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",l[l.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",l[l.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",l[l.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",l[l.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",l[l.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",l[l.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",l[l.CULL_FACE=2884]="CULL_FACE",l[l.FRONT=1028]="FRONT",l[l.BACK=1029]="BACK",l[l.FRONT_AND_BACK=1032]="FRONT_AND_BACK",l[l.BLEND=3042]="BLEND",l[l.DEPTH_TEST=2929]="DEPTH_TEST",l[l.DITHER=3024]="DITHER",l[l.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",l[l.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",l[l.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",l[l.SCISSOR_TEST=3089]="SCISSOR_TEST",l[l.STENCIL_TEST=2960]="STENCIL_TEST",l[l.NO_ERROR=0]="NO_ERROR",l[l.INVALID_ENUM=1280]="INVALID_ENUM",l[l.INVALID_VALUE=1281]="INVALID_VALUE",l[l.INVALID_OPERATION=1282]="INVALID_OPERATION",l[l.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",l[l.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",l[l.CW=2304]="CW",l[l.CCW=2305]="CCW",l[l.DONT_CARE=4352]="DONT_CARE",l[l.FASTEST=4353]="FASTEST",l[l.NICEST=4354]="NICEST",l[l.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",l[l.BYTE=5120]="BYTE",l[l.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",l[l.SHORT=5122]="SHORT",l[l.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",l[l.INT=5124]="INT",l[l.UNSIGNED_INT=5125]="UNSIGNED_INT",l[l.FLOAT=5126]="FLOAT",l[l.DOUBLE=5130]="DOUBLE",l[l.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",l[l.ALPHA=6406]="ALPHA",l[l.RGB=6407]="RGB",l[l.RGBA=6408]="RGBA",l[l.LUMINANCE=6409]="LUMINANCE",l[l.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",l[l.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",l[l.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",l[l.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",l[l.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",l[l.VERTEX_SHADER=35633]="VERTEX_SHADER",l[l.COMPILE_STATUS=35713]="COMPILE_STATUS",l[l.DELETE_STATUS=35712]="DELETE_STATUS",l[l.LINK_STATUS=35714]="LINK_STATUS",l[l.VALIDATE_STATUS=35715]="VALIDATE_STATUS",l[l.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",l[l.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",l[l.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",l[l.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",l[l.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",l[l.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",l[l.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",l[l.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",l[l.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",l[l.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",l[l.SHADER_TYPE=35663]="SHADER_TYPE",l[l.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",l[l.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",l[l.NEVER=512]="NEVER",l[l.ALWAYS=519]="ALWAYS",l[l.LESS=513]="LESS",l[l.EQUAL=514]="EQUAL",l[l.LEQUAL=515]="LEQUAL",l[l.GREATER=516]="GREATER",l[l.GEQUAL=518]="GEQUAL",l[l.NOTEQUAL=517]="NOTEQUAL",l[l.KEEP=7680]="KEEP",l[l.REPLACE=7681]="REPLACE",l[l.INCR=7682]="INCR",l[l.DECR=7683]="DECR",l[l.INVERT=5386]="INVERT",l[l.INCR_WRAP=34055]="INCR_WRAP",l[l.DECR_WRAP=34056]="DECR_WRAP",l[l.NEAREST=9728]="NEAREST",l[l.LINEAR=9729]="LINEAR",l[l.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",l[l.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",l[l.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",l[l.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",l[l.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",l[l.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",l[l.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",l[l.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",l[l.TEXTURE_2D=3553]="TEXTURE_2D",l[l.TEXTURE=5890]="TEXTURE",l[l.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",l[l.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",l[l.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",l[l.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",l[l.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",l[l.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",l[l.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",l[l.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",l[l.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",l[l.TEXTURE0=33984]="TEXTURE0",l[l.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",l[l.REPEAT=10497]="REPEAT",l[l.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",l[l.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",l[l.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",l[l.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",l[l.FLOAT_VEC2=35664]="FLOAT_VEC2",l[l.FLOAT_VEC3=35665]="FLOAT_VEC3",l[l.FLOAT_VEC4=35666]="FLOAT_VEC4",l[l.INT_VEC2=35667]="INT_VEC2",l[l.INT_VEC3=35668]="INT_VEC3",l[l.INT_VEC4=35669]="INT_VEC4",l[l.BOOL=35670]="BOOL",l[l.BOOL_VEC2=35671]="BOOL_VEC2",l[l.BOOL_VEC3=35672]="BOOL_VEC3",l[l.BOOL_VEC4=35673]="BOOL_VEC4",l[l.FLOAT_MAT2=35674]="FLOAT_MAT2",l[l.FLOAT_MAT3=35675]="FLOAT_MAT3",l[l.FLOAT_MAT4=35676]="FLOAT_MAT4",l[l.SAMPLER_2D=35678]="SAMPLER_2D",l[l.SAMPLER_CUBE=35680]="SAMPLER_CUBE",l[l.LOW_FLOAT=36336]="LOW_FLOAT",l[l.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",l[l.HIGH_FLOAT=36338]="HIGH_FLOAT",l[l.LOW_INT=36339]="LOW_INT",l[l.MEDIUM_INT=36340]="MEDIUM_INT",l[l.HIGH_INT=36341]="HIGH_INT",l[l.FRAMEBUFFER=36160]="FRAMEBUFFER",l[l.RENDERBUFFER=36161]="RENDERBUFFER",l[l.RGBA4=32854]="RGBA4",l[l.RGB5_A1=32855]="RGB5_A1",l[l.RGB565=36194]="RGB565",l[l.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",l[l.STENCIL_INDEX=6401]="STENCIL_INDEX",l[l.STENCIL_INDEX8=36168]="STENCIL_INDEX8",l[l.DEPTH_STENCIL=34041]="DEPTH_STENCIL",l[l.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",l[l.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",l[l.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",l[l.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",l[l.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",l[l.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",l[l.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",l[l.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",l[l.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",l[l.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",l[l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",l[l.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",l[l.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",l[l.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",l[l.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",l[l.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",l[l.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",l[l.NONE=0]="NONE",l[l.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",l[l.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",l[l.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",l[l.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",l[l.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",l[l.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",l[l.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",l[l.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",l[l.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",l[l.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",l[l.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",l[l.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",l[l.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",l[l.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",l[l.READ_BUFFER=3074]="READ_BUFFER",l[l.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",l[l.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",l[l.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",l[l.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",l[l.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",l[l.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",l[l.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",l[l.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",l[l.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",l[l.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",l[l.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",l[l.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",l[l.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",l[l.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",l[l.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",l[l.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",l[l.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",l[l.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",l[l.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",l[l.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",l[l.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",l[l.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",l[l.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",l[l.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",l[l.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",l[l.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",l[l.RED=6403]="RED",l[l.RGB8=32849]="RGB8",l[l.RGBA8=32856]="RGBA8",l[l.RGB10_A2=32857]="RGB10_A2",l[l.TEXTURE_3D=32879]="TEXTURE_3D",l[l.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",l[l.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",l[l.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",l[l.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",l[l.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",l[l.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",l[l.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",l[l.SRGB=35904]="SRGB",l[l.SRGB8=35905]="SRGB8",l[l.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",l[l.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",l[l.RGBA32F=34836]="RGBA32F",l[l.RGB32F=34837]="RGB32F",l[l.RGBA16F=34842]="RGBA16F",l[l.RGB16F=34843]="RGB16F",l[l.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",l[l.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",l[l.R11F_G11F_B10F=35898]="R11F_G11F_B10F",l[l.RGB9_E5=35901]="RGB9_E5",l[l.RGBA32UI=36208]="RGBA32UI",l[l.RGB32UI=36209]="RGB32UI",l[l.RGBA16UI=36214]="RGBA16UI",l[l.RGB16UI=36215]="RGB16UI",l[l.RGBA8UI=36220]="RGBA8UI",l[l.RGB8UI=36221]="RGB8UI",l[l.RGBA32I=36226]="RGBA32I",l[l.RGB32I=36227]="RGB32I",l[l.RGBA16I=36232]="RGBA16I",l[l.RGB16I=36233]="RGB16I",l[l.RGBA8I=36238]="RGBA8I",l[l.RGB8I=36239]="RGB8I",l[l.RED_INTEGER=36244]="RED_INTEGER",l[l.RGB_INTEGER=36248]="RGB_INTEGER",l[l.RGBA_INTEGER=36249]="RGBA_INTEGER",l[l.R8=33321]="R8",l[l.RG8=33323]="RG8",l[l.R16F=33325]="R16F",l[l.R32F=33326]="R32F",l[l.RG16F=33327]="RG16F",l[l.RG32F=33328]="RG32F",l[l.R8I=33329]="R8I",l[l.R8UI=33330]="R8UI",l[l.R16I=33331]="R16I",l[l.R16UI=33332]="R16UI",l[l.R32I=33333]="R32I",l[l.R32UI=33334]="R32UI",l[l.RG8I=33335]="RG8I",l[l.RG8UI=33336]="RG8UI",l[l.RG16I=33337]="RG16I",l[l.RG16UI=33338]="RG16UI",l[l.RG32I=33339]="RG32I",l[l.RG32UI=33340]="RG32UI",l[l.R8_SNORM=36756]="R8_SNORM",l[l.RG8_SNORM=36757]="RG8_SNORM",l[l.RGB8_SNORM=36758]="RGB8_SNORM",l[l.RGBA8_SNORM=36759]="RGBA8_SNORM",l[l.RGB10_A2UI=36975]="RGB10_A2UI",l[l.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",l[l.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",l[l.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",l[l.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",l[l.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",l[l.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",l[l.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",l[l.HALF_FLOAT=5131]="HALF_FLOAT",l[l.RG=33319]="RG",l[l.RG_INTEGER=33320]="RG_INTEGER",l[l.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",l[l.CURRENT_QUERY=34917]="CURRENT_QUERY",l[l.QUERY_RESULT=34918]="QUERY_RESULT",l[l.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",l[l.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",l[l.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",l[l.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",l[l.DRAW_BUFFER0=34853]="DRAW_BUFFER0",l[l.DRAW_BUFFER1=34854]="DRAW_BUFFER1",l[l.DRAW_BUFFER2=34855]="DRAW_BUFFER2",l[l.DRAW_BUFFER3=34856]="DRAW_BUFFER3",l[l.DRAW_BUFFER4=34857]="DRAW_BUFFER4",l[l.DRAW_BUFFER5=34858]="DRAW_BUFFER5",l[l.DRAW_BUFFER6=34859]="DRAW_BUFFER6",l[l.DRAW_BUFFER7=34860]="DRAW_BUFFER7",l[l.DRAW_BUFFER8=34861]="DRAW_BUFFER8",l[l.DRAW_BUFFER9=34862]="DRAW_BUFFER9",l[l.DRAW_BUFFER10=34863]="DRAW_BUFFER10",l[l.DRAW_BUFFER11=34864]="DRAW_BUFFER11",l[l.DRAW_BUFFER12=34865]="DRAW_BUFFER12",l[l.DRAW_BUFFER13=34866]="DRAW_BUFFER13",l[l.DRAW_BUFFER14=34867]="DRAW_BUFFER14",l[l.DRAW_BUFFER15=34868]="DRAW_BUFFER15",l[l.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",l[l.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",l[l.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",l[l.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",l[l.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",l[l.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",l[l.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",l[l.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",l[l.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",l[l.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",l[l.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",l[l.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",l[l.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",l[l.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",l[l.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",l[l.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",l[l.SAMPLER_3D=35679]="SAMPLER_3D",l[l.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",l[l.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",l[l.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",l[l.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",l[l.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",l[l.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",l[l.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",l[l.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",l[l.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",l[l.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",l[l.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",l[l.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",l[l.MAX_SAMPLES=36183]="MAX_SAMPLES",l[l.SAMPLER_BINDING=35097]="SAMPLER_BINDING",l[l.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",l[l.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",l[l.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",l[l.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",l[l.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",l[l.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",l[l.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",l[l.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",l[l.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",l[l.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",l[l.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",l[l.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",l[l.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",l[l.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",l[l.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",l[l.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",l[l.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",l[l.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",l[l.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",l[l.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",l[l.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",l[l.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",l[l.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",l[l.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",l[l.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",l[l.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",l[l.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",l[l.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",l[l.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",l[l.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",l[l.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",l[l.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",l[l.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",l[l.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",l[l.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",l[l.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",l[l.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",l[l.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",l[l.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",l[l.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",l[l.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",l[l.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",l[l.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",l[l.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",l[l.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",l[l.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",l[l.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",l[l.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",l[l.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",l[l.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",l[l.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",l[l.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",l[l.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",l[l.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",l[l.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",l[l.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",l[l.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",l[l.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",l[l.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",l[l.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",l[l.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",l[l.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",l[l.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",l[l.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",l[l.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",l[l.UNIFORM_TYPE=35383]="UNIFORM_TYPE",l[l.UNIFORM_SIZE=35384]="UNIFORM_SIZE",l[l.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",l[l.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",l[l.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",l[l.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",l[l.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",l[l.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",l[l.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",l[l.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",l[l.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",l[l.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",l[l.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",l[l.OBJECT_TYPE=37138]="OBJECT_TYPE",l[l.SYNC_CONDITION=37139]="SYNC_CONDITION",l[l.SYNC_STATUS=37140]="SYNC_STATUS",l[l.SYNC_FLAGS=37141]="SYNC_FLAGS",l[l.SYNC_FENCE=37142]="SYNC_FENCE",l[l.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",l[l.UNSIGNALED=37144]="UNSIGNALED",l[l.SIGNALED=37145]="SIGNALED",l[l.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",l[l.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",l[l.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",l[l.WAIT_FAILED=37149]="WAIT_FAILED",l[l.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",l[l.COLOR=6144]="COLOR",l[l.DEPTH=6145]="DEPTH",l[l.STENCIL=6146]="STENCIL",l[l.MIN=32775]="MIN",l[l.MAX=32776]="MAX",l[l.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",l[l.STREAM_READ=35041]="STREAM_READ",l[l.STREAM_COPY=35042]="STREAM_COPY",l[l.STATIC_READ=35045]="STATIC_READ",l[l.STATIC_COPY=35046]="STATIC_COPY",l[l.DYNAMIC_READ=35049]="DYNAMIC_READ",l[l.DYNAMIC_COPY=35050]="DYNAMIC_COPY",l[l.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",l[l.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",l[l.INVALID_INDEX=4294967295]="INVALID_INDEX",l[l.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",l[l.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",l[l.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE",l[l.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",l[l.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",l[l.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",l[l.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",l[l.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",l[l.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",l[l.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",l[l.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",l[l.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",l[l.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",l[l.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",l[l.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",l[l.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",l[l.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",l[l.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",l[l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",l[l.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",l[l.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",l[l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",l[l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",l[l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",l[l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",l[l.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",l[l.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",l[l.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",l[l.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",l[l.UNSIGNED_INT_24_8_WEBGL=34042]="UNSIGNED_INT_24_8_WEBGL",l[l.HALF_FLOAT_OES=36193]="HALF_FLOAT_OES",l[l.RGBA32F_EXT=34836]="RGBA32F_EXT",l[l.RGB32F_EXT=34837]="RGB32F_EXT",l[l.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT",l[l.UNSIGNED_NORMALIZED_EXT=35863]="UNSIGNED_NORMALIZED_EXT",l[l.MIN_EXT=32775]="MIN_EXT",l[l.MAX_EXT=32776]="MAX_EXT",l[l.SRGB_EXT=35904]="SRGB_EXT",l[l.SRGB_ALPHA_EXT=35906]="SRGB_ALPHA_EXT",l[l.SRGB8_ALPHA8_EXT=35907]="SRGB8_ALPHA8_EXT",l[l.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT",l[l.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT_OES",l[l.COLOR_ATTACHMENT0_WEBGL=36064]="COLOR_ATTACHMENT0_WEBGL",l[l.COLOR_ATTACHMENT1_WEBGL=36065]="COLOR_ATTACHMENT1_WEBGL",l[l.COLOR_ATTACHMENT2_WEBGL=36066]="COLOR_ATTACHMENT2_WEBGL",l[l.COLOR_ATTACHMENT3_WEBGL=36067]="COLOR_ATTACHMENT3_WEBGL",l[l.COLOR_ATTACHMENT4_WEBGL=36068]="COLOR_ATTACHMENT4_WEBGL",l[l.COLOR_ATTACHMENT5_WEBGL=36069]="COLOR_ATTACHMENT5_WEBGL",l[l.COLOR_ATTACHMENT6_WEBGL=36070]="COLOR_ATTACHMENT6_WEBGL",l[l.COLOR_ATTACHMENT7_WEBGL=36071]="COLOR_ATTACHMENT7_WEBGL",l[l.COLOR_ATTACHMENT8_WEBGL=36072]="COLOR_ATTACHMENT8_WEBGL",l[l.COLOR_ATTACHMENT9_WEBGL=36073]="COLOR_ATTACHMENT9_WEBGL",l[l.COLOR_ATTACHMENT10_WEBGL=36074]="COLOR_ATTACHMENT10_WEBGL",l[l.COLOR_ATTACHMENT11_WEBGL=36075]="COLOR_ATTACHMENT11_WEBGL",l[l.COLOR_ATTACHMENT12_WEBGL=36076]="COLOR_ATTACHMENT12_WEBGL",l[l.COLOR_ATTACHMENT13_WEBGL=36077]="COLOR_ATTACHMENT13_WEBGL",l[l.COLOR_ATTACHMENT14_WEBGL=36078]="COLOR_ATTACHMENT14_WEBGL",l[l.COLOR_ATTACHMENT15_WEBGL=36079]="COLOR_ATTACHMENT15_WEBGL",l[l.DRAW_BUFFER0_WEBGL=34853]="DRAW_BUFFER0_WEBGL",l[l.DRAW_BUFFER1_WEBGL=34854]="DRAW_BUFFER1_WEBGL",l[l.DRAW_BUFFER2_WEBGL=34855]="DRAW_BUFFER2_WEBGL",l[l.DRAW_BUFFER3_WEBGL=34856]="DRAW_BUFFER3_WEBGL",l[l.DRAW_BUFFER4_WEBGL=34857]="DRAW_BUFFER4_WEBGL",l[l.DRAW_BUFFER5_WEBGL=34858]="DRAW_BUFFER5_WEBGL",l[l.DRAW_BUFFER6_WEBGL=34859]="DRAW_BUFFER6_WEBGL",l[l.DRAW_BUFFER7_WEBGL=34860]="DRAW_BUFFER7_WEBGL",l[l.DRAW_BUFFER8_WEBGL=34861]="DRAW_BUFFER8_WEBGL",l[l.DRAW_BUFFER9_WEBGL=34862]="DRAW_BUFFER9_WEBGL",l[l.DRAW_BUFFER10_WEBGL=34863]="DRAW_BUFFER10_WEBGL",l[l.DRAW_BUFFER11_WEBGL=34864]="DRAW_BUFFER11_WEBGL",l[l.DRAW_BUFFER12_WEBGL=34865]="DRAW_BUFFER12_WEBGL",l[l.DRAW_BUFFER13_WEBGL=34866]="DRAW_BUFFER13_WEBGL",l[l.DRAW_BUFFER14_WEBGL=34867]="DRAW_BUFFER14_WEBGL",l[l.DRAW_BUFFER15_WEBGL=34868]="DRAW_BUFFER15_WEBGL",l[l.MAX_COLOR_ATTACHMENTS_WEBGL=36063]="MAX_COLOR_ATTACHMENTS_WEBGL",l[l.MAX_DRAW_BUFFERS_WEBGL=34852]="MAX_DRAW_BUFFERS_WEBGL",l[l.VERTEX_ARRAY_BINDING_OES=34229]="VERTEX_ARRAY_BINDING_OES",l[l.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",l[l.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",l[l.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",l[l.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",l[l.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",l[l.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",l[l.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",(f=U||(U={}))[f.Buffer=0]="Buffer",f[f.Texture=1]="Texture",f[f.RenderTarget=2]="RenderTarget",f[f.Sampler=3]="Sampler",f[f.Program=4]="Program",f[f.Bindings=5]="Bindings",f[f.InputLayout=6]="InputLayout",f[f.RenderPipeline=7]="RenderPipeline",f[f.ComputePipeline=8]="ComputePipeline",f[f.Readback=9]="Readback",f[f.QueryPool=10]="QueryPool",f[f.RenderBundle=11]="RenderBundle",(s=j||(j={}))[s.NEVER=512]="NEVER",s[s.LESS=513]="LESS",s[s.EQUAL=514]="EQUAL",s[s.LEQUAL=515]="LEQUAL",s[s.GREATER=516]="GREATER",s[s.NOTEQUAL=517]="NOTEQUAL",s[s.GEQUAL=518]="GEQUAL",s[s.ALWAYS=519]="ALWAYS",(c=k||(k={}))[c.CCW=2305]="CCW",c[c.CW=2304]="CW",(d=G||(G={}))[d.NONE=0]="NONE",d[d.FRONT=1]="FRONT",d[d.BACK=2]="BACK",d[d.FRONT_AND_BACK=3]="FRONT_AND_BACK",(h=z||(z={}))[h.ZERO=0]="ZERO",h[h.ONE=1]="ONE",h[h.SRC=768]="SRC",h[h.ONE_MINUS_SRC=769]="ONE_MINUS_SRC",h[h.DST=774]="DST",h[h.ONE_MINUS_DST=775]="ONE_MINUS_DST",h[h.SRC_ALPHA=770]="SRC_ALPHA",h[h.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",h[h.DST_ALPHA=772]="DST_ALPHA",h[h.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",h[h.CONST=32769]="CONST",h[h.ONE_MINUS_CONSTANT=32770]="ONE_MINUS_CONSTANT",h[h.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",(p=V||(V={}))[p.ADD=32774]="ADD",p[p.SUBSTRACT=32778]="SUBSTRACT",p[p.REVERSE_SUBSTRACT=32779]="REVERSE_SUBSTRACT",p[p.MIN=32775]="MIN",p[p.MAX=32776]="MAX",(v=H||(H={}))[v.CLAMP_TO_EDGE=0]="CLAMP_TO_EDGE",v[v.REPEAT=1]="REPEAT",v[v.MIRRORED_REPEAT=2]="MIRRORED_REPEAT",(_=X||(X={}))[_.POINT=0]="POINT",_[_.BILINEAR=1]="BILINEAR",(m=W||(W={}))[m.NO_MIP=0]="NO_MIP",m[m.NEAREST=1]="NEAREST",m[m.LINEAR=2]="LINEAR",(g=Y||(Y={}))[g.POINTS=0]="POINTS",g[g.TRIANGLES=1]="TRIANGLES",g[g.TRIANGLE_STRIP=2]="TRIANGLE_STRIP",g[g.LINES=3]="LINES",g[g.LINE_STRIP=4]="LINE_STRIP",(b=q||(q={}))[b.MAP_READ=1]="MAP_READ",b[b.MAP_WRITE=2]="MAP_WRITE",b[b.COPY_SRC=4]="COPY_SRC",b[b.COPY_DST=8]="COPY_DST",b[b.INDEX=16]="INDEX",b[b.VERTEX=32]="VERTEX",b[b.UNIFORM=64]="UNIFORM",b[b.STORAGE=128]="STORAGE",b[b.INDIRECT=256]="INDIRECT",b[b.QUERY_RESOLVE=512]="QUERY_RESOLVE",(y=Z||(Z={}))[y.STATIC=1]="STATIC",y[y.DYNAMIC=2]="DYNAMIC",(E=K||(K={}))[E.VERTEX=1]="VERTEX",E[E.INSTANCE=2]="INSTANCE",($||($={})).LOADED="loaded",(T=Q||(Q={}))[T.TEXTURE_2D=0]="TEXTURE_2D",T[T.TEXTURE_2D_ARRAY=1]="TEXTURE_2D_ARRAY",T[T.TEXTURE_3D=2]="TEXTURE_3D",T[T.TEXTURE_CUBE_MAP=3]="TEXTURE_CUBE_MAP",(A=J||(J={}))[A.SAMPLED=1]="SAMPLED",A[A.RENDER_TARGET=2]="RENDER_TARGET",A[A.STORAGE=4]="STORAGE",(S=ee||(ee={}))[S.NONE=0]="NONE",S[S.RED=1]="RED",S[S.GREEN=2]="GREEN",S[S.BLUE=4]="BLUE",S[S.ALPHA=8]="ALPHA",S[S.RGB=7]="RGB",S[S.ALL=15]="ALL",(O=et||(et={}))[O.KEEP=7680]="KEEP",O[O.ZERO=0]="ZERO",O[O.REPLACE=7681]="REPLACE",O[O.INVERT=5386]="INVERT",O[O.INCREMENT_CLAMP=7682]="INCREMENT_CLAMP",O[O.DECREMENT_CLAMP=7683]="DECREMENT_CLAMP",O[O.INCREMENT_WRAP=34055]="INCREMENT_WRAP",O[O.DECREMENT_WRAP=34056]="DECREMENT_WRAP",(R=er||(er={}))[R.Float=0]="Float",R[R.UnfilterableFloat=1]="UnfilterableFloat",R[R.Uint=2]="Uint",R[R.Sint=3]="Sint",R[R.Depth=4]="Depth",(M=en||(en={}))[M.LOWER_LEFT=0]="LOWER_LEFT",M[M.UPPER_LEFT=1]="UPPER_LEFT",(x=ea||(ea={}))[x.NEGATIVE_ONE=0]="NEGATIVE_ONE",x[x.ZERO=1]="ZERO",(C=ei||(ei={}))[C.OcclusionConservative=0]="OcclusionConservative",(P=eo||(eo={}))[P.U8=1]="U8",P[P.U16=2]="U16",P[P.U32=3]="U32",P[P.S8=4]="S8",P[P.S16=5]="S16",P[P.S32=6]="S32",P[P.F16=7]="F16",P[P.F32=8]="F32",P[P.BC1=65]="BC1",P[P.BC2=66]="BC2",P[P.BC3=67]="BC3",P[P.BC4_UNORM=68]="BC4_UNORM",P[P.BC4_SNORM=69]="BC4_SNORM",P[P.BC5_UNORM=70]="BC5_UNORM",P[P.BC5_SNORM=71]="BC5_SNORM",P[P.U16_PACKED_5551=97]="U16_PACKED_5551",P[P.U16_PACKED_565=98]="U16_PACKED_565",P[P.D24=129]="D24",P[P.D32F=130]="D32F",P[P.D24S8=131]="D24S8",P[P.D32FS8=132]="D32FS8",(L=eu||(eu={}))[L.R=1]="R",L[L.RG=2]="RG",L[L.RGB=3]="RGB",L[L.RGBA=4]="RGBA",L[L.A=5]="A",(w=el||(el={}))[w.None=0]="None",w[w.Normalized=1]="Normalized",w[w.sRGB=2]="sRGB",w[w.Depth=4]="Depth",w[w.Stencil=8]="Stencil",w[w.RenderTarget=16]="RenderTarget",w[w.Luminance=32]="Luminance",(I=ef||(ef={}))[I.ALPHA=eb(eo.U8,eu.A,el.None)]="ALPHA",I[I.U8_LUMINANCE=eb(eo.U8,eu.A,el.Luminance)]="U8_LUMINANCE",I[I.F16_LUMINANCE=eb(eo.F16,eu.A,el.Luminance)]="F16_LUMINANCE",I[I.F32_LUMINANCE=eb(eo.F32,eu.A,el.Luminance)]="F32_LUMINANCE",I[I.F16_R=eb(eo.F16,eu.R,el.None)]="F16_R",I[I.F16_RG=eb(eo.F16,eu.RG,el.None)]="F16_RG",I[I.F16_RGB=eb(eo.F16,eu.RGB,el.None)]="F16_RGB",I[I.F16_RGBA=eb(eo.F16,eu.RGBA,el.None)]="F16_RGBA",I[I.F32_R=eb(eo.F32,eu.R,el.None)]="F32_R",I[I.F32_RG=eb(eo.F32,eu.RG,el.None)]="F32_RG",I[I.F32_RGB=eb(eo.F32,eu.RGB,el.None)]="F32_RGB",I[I.F32_RGBA=eb(eo.F32,eu.RGBA,el.None)]="F32_RGBA",I[I.U8_R=eb(eo.U8,eu.R,el.None)]="U8_R",I[I.U8_R_NORM=eb(eo.U8,eu.R,el.Normalized)]="U8_R_NORM",I[I.U8_RG=eb(eo.U8,eu.RG,el.None)]="U8_RG",I[I.U8_RG_NORM=eb(eo.U8,eu.RG,el.Normalized)]="U8_RG_NORM",I[I.U8_RGB=eb(eo.U8,eu.RGB,el.None)]="U8_RGB",I[I.U8_RGB_NORM=eb(eo.U8,eu.RGB,el.Normalized)]="U8_RGB_NORM",I[I.U8_RGB_SRGB=eb(eo.U8,eu.RGB,el.sRGB|el.Normalized)]="U8_RGB_SRGB",I[I.U8_RGBA=eb(eo.U8,eu.RGBA,el.None)]="U8_RGBA",I[I.U8_RGBA_NORM=eb(eo.U8,eu.RGBA,el.Normalized)]="U8_RGBA_NORM",I[I.U8_RGBA_SRGB=eb(eo.U8,eu.RGBA,el.sRGB|el.Normalized)]="U8_RGBA_SRGB",I[I.U16_R=eb(eo.U16,eu.R,el.None)]="U16_R",I[I.U16_R_NORM=eb(eo.U16,eu.R,el.Normalized)]="U16_R_NORM",I[I.U16_RG_NORM=eb(eo.U16,eu.RG,el.Normalized)]="U16_RG_NORM",I[I.U16_RGBA_NORM=eb(eo.U16,eu.RGBA,el.Normalized)]="U16_RGBA_NORM",I[I.U16_RGBA=eb(eo.U16,eu.RGBA,el.None)]="U16_RGBA",I[I.U16_RGB=eb(eo.U16,eu.RGB,el.None)]="U16_RGB",I[I.U16_RG=eb(eo.U16,eu.RG,el.None)]="U16_RG",I[I.U32_R=eb(eo.U32,eu.R,el.None)]="U32_R",I[I.U32_RG=eb(eo.U32,eu.RG,el.None)]="U32_RG",I[I.U32_RGB=eb(eo.U32,eu.RGB,el.None)]="U32_RGB",I[I.U32_RGBA=eb(eo.U32,eu.RGBA,el.None)]="U32_RGBA",I[I.S8_R=eb(eo.S8,eu.R,el.None)]="S8_R",I[I.S8_R_NORM=eb(eo.S8,eu.R,el.Normalized)]="S8_R_NORM",I[I.S8_RG_NORM=eb(eo.S8,eu.RG,el.Normalized)]="S8_RG_NORM",I[I.S8_RGB_NORM=eb(eo.S8,eu.RGB,el.Normalized)]="S8_RGB_NORM",I[I.S8_RGBA_NORM=eb(eo.S8,eu.RGBA,el.Normalized)]="S8_RGBA_NORM",I[I.S16_R=eb(eo.S16,eu.R,el.None)]="S16_R",I[I.S16_RG=eb(eo.S16,eu.RG,el.None)]="S16_RG",I[I.S16_RG_NORM=eb(eo.S16,eu.RG,el.Normalized)]="S16_RG_NORM",I[I.S16_RGB_NORM=eb(eo.S16,eu.RGB,el.Normalized)]="S16_RGB_NORM",I[I.S16_RGBA=eb(eo.S16,eu.RGBA,el.None)]="S16_RGBA",I[I.S16_RGBA_NORM=eb(eo.S16,eu.RGBA,el.Normalized)]="S16_RGBA_NORM",I[I.S32_R=eb(eo.S32,eu.R,el.None)]="S32_R",I[I.S32_RG=eb(eo.S32,eu.RG,el.None)]="S32_RG",I[I.S32_RGB=eb(eo.S32,eu.RGB,el.None)]="S32_RGB",I[I.S32_RGBA=eb(eo.S32,eu.RGBA,el.None)]="S32_RGBA",I[I.U16_RGBA_5551=eb(eo.U16_PACKED_5551,eu.RGBA,el.Normalized)]="U16_RGBA_5551",I[I.U16_RGB_565=eb(eo.U16_PACKED_565,eu.RGB,el.Normalized)]="U16_RGB_565",I[I.BC1=eb(eo.BC1,eu.RGBA,el.Normalized)]="BC1",I[I.BC1_SRGB=eb(eo.BC1,eu.RGBA,el.Normalized|el.sRGB)]="BC1_SRGB",I[I.BC2=eb(eo.BC2,eu.RGBA,el.Normalized)]="BC2",I[I.BC2_SRGB=eb(eo.BC2,eu.RGBA,el.Normalized|el.sRGB)]="BC2_SRGB",I[I.BC3=eb(eo.BC3,eu.RGBA,el.Normalized)]="BC3",I[I.BC3_SRGB=eb(eo.BC3,eu.RGBA,el.Normalized|el.sRGB)]="BC3_SRGB",I[I.BC4_UNORM=eb(eo.BC4_UNORM,eu.R,el.Normalized)]="BC4_UNORM",I[I.BC4_SNORM=eb(eo.BC4_SNORM,eu.R,el.Normalized)]="BC4_SNORM",I[I.BC5_UNORM=eb(eo.BC5_UNORM,eu.RG,el.Normalized)]="BC5_UNORM",I[I.BC5_SNORM=eb(eo.BC5_SNORM,eu.RG,el.Normalized)]="BC5_SNORM",I[I.D24=eb(eo.D24,eu.R,el.Depth)]="D24",I[I.D24_S8=eb(eo.D24S8,eu.RG,el.Depth|el.Stencil)]="D24_S8",I[I.D32F=eb(eo.D32F,eu.R,el.Depth)]="D32F",I[I.D32F_S8=eb(eo.D32FS8,eu.RG,el.Depth|el.Stencil)]="D32F_S8",I[I.U8_RGB_RT=eb(eo.U8,eu.RGB,el.RenderTarget|el.Normalized)]="U8_RGB_RT",I[I.U8_RGBA_RT=eb(eo.U8,eu.RGBA,el.RenderTarget|el.Normalized)]="U8_RGBA_RT",I[I.U8_RGBA_RT_SRGB=eb(eo.U8,eu.RGBA,el.RenderTarget|el.Normalized|el.sRGB)]="U8_RGBA_RT_SRGB";var eP=eC(0,0,0,0);eC(0,0,0,1);var eL=eC(1,1,1,0);function ew(e){return!!(e&&(e&e-1)==0);}function eI(e,t){return null!=e?e:t;}function eN(e,t){var r=t-1;return e+r&~r;}function eD(e,t){e.blendDstFactor=t.blendDstFactor,e.blendSrcFactor=t.blendSrcFactor,e.blendMode=t.blendMode;}function eF(e,t){return void 0===e&&(e={}),e.compare=t.compare,e.depthFailOp=t.depthFailOp,e.passOp=t.passOp,e.failOp=t.failOp,e.mask=t.mask,e;}function eB(e,t){return void 0===e&&(e={rgbBlendState:{},alphaBlendState:{},channelWriteMask:0}),eD(e.rgbBlendState,t.rgbBlendState),eD(e.alphaBlendState,t.alphaBlendState),e.channelWriteMask=t.channelWriteMask,e;}function eU(e,t){e.length!==t.length&&(e.length=t.length);for(var r=0;r<t.length;r++)e[r]=eB(e[r],t[r]);}function ej(e){var t=Object.assign({},e);return t.attachmentsState=[],eU(t.attachmentsState,e.attachmentsState),t.blendConstant=t.blendConstant&&ex(t.blendConstant),t.stencilFront=eF(void 0,e.stencilFront),t.stencilBack=eF(void 0,e.stencilBack),t;}eC(1,1,1,1);var ek={blendMode:V.ADD,blendSrcFactor:z.ONE,blendDstFactor:z.ZERO},eG={attachmentsState:[{channelWriteMask:ee.ALL,rgbBlendState:ek,alphaBlendState:ek}],blendConstant:ex(eP),depthWrite:!0,depthCompare:j.LEQUAL,stencilWrite:!1,stencilFront:{compare:j.ALWAYS,passOp:et.KEEP,depthFailOp:et.KEEP,failOp:et.KEEP},stencilBack:{compare:j.ALWAYS,passOp:et.KEEP,depthFailOp:et.KEEP,failOp:et.KEEP},cullMode:G.NONE,frontFace:k.CCW,polygonOffset:!1,polygonOffsetFactor:0,polygonOffsetUnits:0};a={depthCompare:j.ALWAYS,depthWrite:!1},void 0===a&&(a=null),void 0===(i=eG)&&(i=eG),u=ej(i),null!==a&&(void 0!==(o=a).attachmentsState&&eU(u.attachmentsState,o.attachmentsState),u.blendConstant&&o.blendConstant&&eM(u.blendConstant,o.blendConstant),u.depthCompare=eI(o.depthCompare,u.depthCompare),u.depthWrite=eI(o.depthWrite,u.depthWrite),u.stencilWrite=eI(o.stencilWrite,u.stencilWrite),u.stencilFront&&o.stencilFront&&eF(u.stencilFront,o.stencilFront),u.stencilBack&&o.stencilBack&&eF(u.stencilBack,o.stencilBack),u.cullMode=eI(o.cullMode,u.cullMode),u.frontFace=eI(o.frontFace,u.frontFace),u.polygonOffset=eI(o.polygonOffset,u.polygonOffset),u.polygonOffsetFactor=eI(o.polygonOffsetFactor,u.polygonOffsetFactor),u.polygonOffsetUnits=eI(o.polygonOffsetUnits,u.polygonOffsetUnits));var ez={texture:null,sampler:null,formatKind:er.Float,dimension:Q.TEXTURE_2D};function eV(e,t,r){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0;}function eH(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=t(e[n]);return r;}function eX(e,t){return e.texture===t.texture&&e.binding===t.binding;}function eW(e,t){return e.buffer===t.buffer&&e.size===t.size&&e.binding===t.binding&&e.offset===t.offset;}function eY(e,t){return null===e?null===t:null!==t&&e.sampler===t.sampler&&e.texture===t.texture&&e.dimension===t.dimension&&e.formatKind===t.formatKind&&e.comparison===t.comparison;}function eq(e,t){return e.samplerBindings=e.samplerBindings||[],e.uniformBufferBindings=e.uniformBufferBindings||[],e.storageBufferBindings=e.storageBufferBindings||[],e.storageTextureBindings=e.storageTextureBindings||[],t.samplerBindings=t.samplerBindings||[],t.uniformBufferBindings=t.uniformBufferBindings||[],t.storageBufferBindings=t.storageBufferBindings||[],t.storageTextureBindings=t.storageTextureBindings||[],!!(e.samplerBindings.length===t.samplerBindings.length&&eV(e.samplerBindings,t.samplerBindings,eY)&&eV(e.uniformBufferBindings,t.uniformBufferBindings,eW)&&eV(e.storageBufferBindings,t.storageBufferBindings,eW)&&eV(e.storageTextureBindings,t.storageTextureBindings,eX));}function eZ(e,t){return e.blendMode==t.blendMode&&e.blendSrcFactor===t.blendSrcFactor&&e.blendDstFactor===t.blendDstFactor;}function eK(e,t){return!!(eZ(e.rgbBlendState,t.rgbBlendState)&&eZ(e.alphaBlendState,t.alphaBlendState))&&e.channelWriteMask===t.channelWriteMask;}function e$(e,t){return e.compare==t.compare&&e.depthFailOp===t.depthFailOp&&e.failOp===t.failOp&&e.passOp===t.passOp&&e.mask===t.mask;}function eQ(e,t){return e===t;}function eJ(e,t){var r,n,a,i;return e.topology===t.topology&&e.inputLayout===t.inputLayout&&e.sampleCount===t.sampleCount&&(!e.megaStateDescriptor||!t.megaStateDescriptor||(r=e.megaStateDescriptor,n=t.megaStateDescriptor,!!(eV(r.attachmentsState,n.attachmentsState,eK)&&(!r.blendConstant||!n.blendConstant||eR(r.blendConstant,n.blendConstant))&&(!r.stencilFront||!n.stencilFront||e$(r.stencilFront,n.stencilFront))&&(!r.stencilBack||!n.stencilBack||e$(r.stencilBack,n.stencilBack)))&&r.depthCompare===n.depthCompare&&r.depthWrite===n.depthWrite&&r.stencilWrite===n.stencilWrite&&r.cullMode===n.cullMode&&r.frontFace===n.frontFace&&r.polygonOffset===n.polygonOffset&&r.polygonOffsetFactor===n.polygonOffsetFactor&&r.polygonOffsetUnits===n.polygonOffsetUnits))&&(a=e.program,i=t.program,!!(a.id===i.id&&eV(e.colorAttachmentFormats,t.colorAttachmentFormats,eQ))&&e.depthStencilAttachmentFormat===t.depthStencilAttachmentFormat);}function e0(e,t){return e.offset===t.offset&&e.shaderLocation===t.shaderLocation&&e.format===t.format&&e.divisor===t.divisor;}function e1(e,t){return(0,e_.isNil)(e)?(0,e_.isNil)(t):!(0,e_.isNil)(t)&&e.arrayStride===t.arrayStride&&e.stepMode===t.stepMode&&eV(e.attributes,t.attributes,e0);}function e3(e,t){var r,n;return!!(e.indexBufferFormat===t.indexBufferFormat&&eV(e.vertexBufferDescriptors,t.vertexBufferDescriptors,e1))&&(r=e.program,n=t.program,r.id===n.id);}function e2(e){return{sampler:e.sampler,texture:e.texture,dimension:e.dimension,formatKind:e.formatKind,comparison:e.comparison};}function e4(e){var t=e.buffer,r=e.size;return{binding:e.binding,buffer:t,offset:e.offset,size:r};}function e6(e){return{binding:e.binding,texture:e.texture};}function e7(e){return{samplerBindings:e.samplerBindings&&eH(e.samplerBindings,e2),uniformBufferBindings:e.uniformBufferBindings&&eH(e.uniformBufferBindings,e4),storageBufferBindings:e.storageBufferBindings&&eH(e.storageBufferBindings,e4),storageTextureBindings:e.storageTextureBindings&&eH(e.storageTextureBindings,e6),pipeline:e.pipeline};}function e5(e){var t=e.inputLayout,r=e.program,n=e.topology;return{inputLayout:t,megaStateDescriptor:e.megaStateDescriptor&&ej(e.megaStateDescriptor),program:r,topology:n,colorAttachmentFormats:e.colorAttachmentFormats.slice(),depthStencilAttachmentFormat:e.depthStencilAttachmentFormat,sampleCount:e.sampleCount};}function e9(e){return{shaderLocation:e.shaderLocation,format:e.format,offset:e.offset,divisor:e.divisor};}function e8(e){return(0,e_.isNil)(e)?e:{arrayStride:e.arrayStride,stepMode:e.stepMode,attributes:eH(e.attributes,e9)};}function te(e){return{vertexBufferDescriptors:eH(e.vertexBufferDescriptors,e8),indexBufferFormat:e.indexBufferFormat,program:e.program};}var tt=/([^[]*)(\[[0-9]+\])?/;function tr(){var e=null;return function(t,r,n){var a=e!==n;return a&&(t.uniform1i(r,n),e=n),a;};}function tn(e,t,r,n){var a=null,i=null;return function(o,u,l){var f=t(l,r),s=f.length,c=!1;if(null===a)a=new Float32Array(s),i=s,c=!0;else{eS(i===s,"Uniform length cannot change.");for(var d=0;d<s;++d)if(f[d]!==a[d]){c=!0;break;}}return c&&(n(o,e,u,f),a.set(f)),c;};}function ta(e,t,r,n){e[t](r,n);}function ti(e,t,r,n){e[t](r,!1,n);}var to={},tu={},tl={},tf=[0];function ts(e,t,r,n){1===t&&"boolean"==typeof e&&(e=e?1:0),Number.isFinite(e)&&(tf[0]=e,e=tf);var a=e.length;if(e instanceof r)return e;var i=n[a];i||(i=new r(a),n[a]=i);for(var o=0;o<a;o++)i[o]=e[o];return i;}function tc(e,t){return ts(e,t,Float32Array,to);}function td(e,t){return ts(e,t,Int32Array,tu);}function th(e,t){return ts(e,t,Uint32Array,tl);}var tp=((es={})[B.FLOAT]=tn.bind(null,"uniform1fv",tc,1,ta),es[B.FLOAT_VEC2]=tn.bind(null,"uniform2fv",tc,2,ta),es[B.FLOAT_VEC3]=tn.bind(null,"uniform3fv",tc,3,ta),es[B.FLOAT_VEC4]=tn.bind(null,"uniform4fv",tc,4,ta),es[B.INT]=tn.bind(null,"uniform1iv",td,1,ta),es[B.INT_VEC2]=tn.bind(null,"uniform2iv",td,2,ta),es[B.INT_VEC3]=tn.bind(null,"uniform3iv",td,3,ta),es[B.INT_VEC4]=tn.bind(null,"uniform4iv",td,4,ta),es[B.BOOL]=tn.bind(null,"uniform1iv",td,1,ta),es[B.BOOL_VEC2]=tn.bind(null,"uniform2iv",td,2,ta),es[B.BOOL_VEC3]=tn.bind(null,"uniform3iv",td,3,ta),es[B.BOOL_VEC4]=tn.bind(null,"uniform4iv",td,4,ta),es[B.FLOAT_MAT2]=tn.bind(null,"uniformMatrix2fv",tc,4,ti),es[B.FLOAT_MAT3]=tn.bind(null,"uniformMatrix3fv",tc,9,ti),es[B.FLOAT_MAT4]=tn.bind(null,"uniformMatrix4fv",tc,16,ti),es[B.UNSIGNED_INT]=tn.bind(null,"uniform1uiv",th,1,ta),es[B.UNSIGNED_INT_VEC2]=tn.bind(null,"uniform2uiv",th,2,ta),es[B.UNSIGNED_INT_VEC3]=tn.bind(null,"uniform3uiv",th,3,ta),es[B.UNSIGNED_INT_VEC4]=tn.bind(null,"uniform4uiv",th,4,ta),es[B.FLOAT_MAT2x3]=tn.bind(null,"uniformMatrix2x3fv",tc,6,ti),es[B.FLOAT_MAT2x4]=tn.bind(null,"uniformMatrix2x4fv",tc,8,ti),es[B.FLOAT_MAT3x2]=tn.bind(null,"uniformMatrix3x2fv",tc,6,ti),es[B.FLOAT_MAT3x4]=tn.bind(null,"uniformMatrix3x4fv",tc,12,ti),es[B.FLOAT_MAT4x2]=tn.bind(null,"uniformMatrix4x2fv",tc,8,ti),es[B.FLOAT_MAT4x3]=tn.bind(null,"uniformMatrix4x3fv",tc,12,ti),es[B.SAMPLER_2D]=tr,es[B.SAMPLER_CUBE]=tr,es[B.SAMPLER_3D]=tr,es[B.SAMPLER_2D_SHADOW]=tr,es[B.SAMPLER_2D_ARRAY]=tr,es[B.SAMPLER_2D_ARRAY_SHADOW]=tr,es[B.SAMPLER_CUBE_SHADOW]=tr,es[B.INT_SAMPLER_2D]=tr,es[B.INT_SAMPLER_3D]=tr,es[B.INT_SAMPLER_CUBE]=tr,es[B.INT_SAMPLER_2D_ARRAY]=tr,es[B.UNSIGNED_INT_SAMPLER_2D]=tr,es[B.UNSIGNED_INT_SAMPLER_3D]=tr,es[B.UNSIGNED_INT_SAMPLER_CUBE]=tr,es[B.UNSIGNED_INT_SAMPLER_2D_ARRAY]=tr,es);function tv(e,t,r){var n=tp[r.type];if(!n)throw Error("Unknown GLSL uniform type ".concat(r.type));return n().bind(null,e,t);}var t_={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function tm(e,t){return"#define ".concat(e," ").concat(t);}function tg(e){if(void 0===e)return null;var t=/binding\s*=\s*(\d+)/.exec(e);if(null!==t){var r=parseInt(t[1],10);if(!Number.isNaN(r))return r;}return null;}function tb(e,t,r,n,a){void 0===n&&(n=null),void 0===a&&(a=!0);var i="#version 100"===e.glslVersion,o="frag"===t&&(null===(g=r.match(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm))||void 0===g?void 0:g.length)>1,u=r.replace("\r\n","\n").split("\n").map(function(e){return e.replace(/[/][/].*$/,"");}).filter(function(e){return!(!e||/^\s+$/.test(e));}),l="";null!==n&&(l=Object.keys(n).map(function(e){return tm(e,n[e]);}).join("\n"));var f=u.find(function(e){return e.startsWith("precision");})||"precision mediump float;",s=a?u.filter(function(e){return!e.startsWith("precision");}).join("\n"):u.join("\n"),c="";if(e.viewportOrigin===en.UPPER_LEFT&&(c+="".concat(tm("VIEWPORT_ORIGIN_TL","1"),"\n")),e.clipSpaceNearZ===ea.ZERO&&(c+="".concat(tm("CLIPSPACE_NEAR_ZERO","1"),"\n")),e.explicitBindingLocations){var d=0,h=0,p=0;s=s.replace(/^\s*(layout\((.*)\))?\s*uniform(.+{)$/gm,function(e,t,r,n){return"layout(".concat(r?"".concat(r,", "):"","set = ").concat(d,", binding = ").concat(h++,") uniform ").concat(n);}),d++,h=0,eS(e.separateSamplerTextures),s=(s=s.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(e,r,n,a,i){var o=tg(n);null===o&&(o=h++);var u=(0,em.__read)([a,""],2),l=u[0],f=u[1];return"frag"===t?"\nlayout(set = ".concat(d,", binding = ").concat(2*o+0,") uniform texture").concat(l," T_").concat(i,";\nlayout(set = ").concat(d,", binding = ").concat(2*o+1,") uniform sampler").concat(f," S_").concat(i,";").trim():"";})).replace("frag"===t?/^\s*\b(varying|in)\b/gm:/^\s*\b(varying|out)\b/gm,function(e,t){return"layout(location = ".concat(p++,") ").concat(t);}),c+="".concat(tm("gl_VertexID","gl_VertexIndex"),"\n")+"".concat(tm("gl_InstanceID","gl_InstanceIndex"),"\n"),f=f.replace(/^precision (.*) sampler(.*);$/gm,"");}else{var v=0;s=s.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(e,t,r,n,a){var i=tg(r);return null===i&&(i=v++),"uniform sampler".concat(n," ").concat(a,"; // BINDING=").concat(i);});}if(s=(s=(s=s.replace(/\bPU_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,r){return"SAMPLER_".concat(t,"(P_").concat(r,")");})).replace(/\bPF_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,r){return"PP_SAMPLER_".concat(t,"(P_").concat(r,")");})).replace(/\bPU_TEXTURE\((.*?)\)/g,function(e,t){return"TEXTURE(P_".concat(t,")");}),e.separateSamplerTextures)s=(s=(s=(s=s.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,r){var n=(0,em.__read)([t,""],2),a=n[0],i=n[1];return"texture".concat(a," T_P_").concat(r,", sampler").concat(i," S_P_").concat(r);})).replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,r){return"T_".concat(r,", S_").concat(r);})).replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(e,t,r){return"sampler".concat(t,"(T_").concat(r,", S_").concat(r,")");})).replace(/\bTEXTURE\((.*?)\)/g,function(e,t){return"T_".concat(t);});else{var _=[];s=(s=(s=s.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,r){return"sampler".concat(t," P_").concat(r);})).replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,r){return r;})).replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(e,t,r){return _.push([r,t]),r;}),i&&_.forEach(function(e){var t=(0,em.__read)(e,2),r=t[0],n=t[1];s=s.replace(RegExp("texture\\(".concat(r),"g"),function(){return"texture".concat(n,"(").concat(r);});}),s=s.replace(/\bTEXTURE\((.*?)\)/g,function(e,t){return t;});}var m="".concat(i?"":e.glslVersion,"\n").concat(i&&o?"#extension GL_EXT_draw_buffers : require\n":"","\n").concat(i&&"frag"===t?"#extension GL_OES_standard_derivatives : enable\n":"").concat(a?f:"","\n").concat(c||"").concat(l?l+"\n":"","\n").concat(s,"\n").trim();if(e.explicitBindingLocations&&"frag"===t&&(m=m.replace(/^\b(out)\b/g,function(e,t){return"layout(location = 0) ".concat(t);})),i){if("frag"===t&&(m=m.replace(/^\s*in\s+(\S+)\s*(.*);$/gm,function(e,t,r){return"varying ".concat(t," ").concat(r,";\n");})),"vert"===t&&(m=(m=m.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(e,t,r){return"varying ".concat(t," ").concat(r,";\n");})).replace(/^\s*layout\(location\s*=\s*\S*\)\s*in\s+(\S+)\s*(.*);$/gm,function(e,t,r){return"attribute ".concat(t," ").concat(r,";\n");})),m=m.replace(/\s*uniform\s*.*\s*{((?:\s*.*\s*)*?)};/g,function(e,t){return t.trim().replace(/^.*$/gm,function(e){var t=e.trim();return t.startsWith("#")?t:e?"uniform ".concat(t):"";});}),"frag"===t){if(o){var g,b,y=[],E=(m=m.replace(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm,function(e,t){return y.push(t),"vec4 ".concat(t,";\n");})).lastIndexOf("}");m=m.substring(0,E)+"\n    ".concat(y.map(function(e,t){return"gl_FragData[".concat(t,"] = ").concat(e,";\n    ");}).join("\n"))+m.substring(E);}else if(m=m.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(e,t,r){return b=r,"".concat(t," ").concat(r,";\n");}),b){var E=m.lastIndexOf("}");m=m.substring(0,E)+"\n  gl_FragColor = vec4(".concat(b,");\n")+m.substring(E);}}m=m.replace(/^\s*layout\((.*)\)/gm,"");}return m;}var ty=function(e){function t(t){var r=t.id,n=t.device,a=e.call(this)||this;return a.id=r,a.device=n,null!==a.device.resourceCreationTracker&&a.device.resourceCreationTracker.trackResourceCreated(a),a;}return(0,em.__extends)(t,e),t.prototype.destroy=function(){null!==this.device.resourceCreationTracker&&this.device.resourceCreationTracker.trackResourceDestroyed(this);},t;}(eg.default),tE=function(e){function t(t){var r=t.id,n=t.device,a=t.descriptor,i=e.call(this,{id:r,device:n})||this;i.type=U.Bindings;var o=a.uniformBufferBindings,u=a.samplerBindings;return i.uniformBufferBindings=o||[],i.samplerBindings=u||[],i.bindingLayouts=i.createBindingLayouts(),i;}return(0,em.__extends)(t,e),t.prototype.createBindingLayouts=function(){var e=0,t=0,r=[],n=this.uniformBufferBindings.length,a=this.samplerBindings.length;return r.push({firstUniformBuffer:e,numUniformBuffers:n,firstSampler:t,numSamplers:a}),{numUniformBuffers:e+=n,numSamplers:t+=a,bindingLayoutTables:r};},t;}(ty);function tT(e){return void 0!==ec?ec:"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext?(ec=!0,!0):ec=!!(e&&2===e._version);}function tA(e){switch(eE(e)){case eo.BC1:case eo.BC2:case eo.BC3:case eo.BC4_UNORM:case eo.BC4_SNORM:case eo.BC5_UNORM:case eo.BC5_SNORM:return!0;default:return!1;}}function tS(e){if(255&e&el.Normalized)return!1;var t=eE(e);return t===eo.S8||t===eo.S16||t===eo.S32||t===eo.U8||t===eo.U16||t===eo.U32;}function tO(e){return e&q.INDEX?B.ELEMENT_ARRAY_BUFFER:e&q.VERTEX?B.ARRAY_BUFFER:e&q.UNIFORM?B.UNIFORM_BUFFER:void 0;}function tR(e){switch(e){case H.CLAMP_TO_EDGE:return B.CLAMP_TO_EDGE;case H.REPEAT:return B.REPEAT;case H.MIRRORED_REPEAT:return B.MIRRORED_REPEAT;default:throw Error("whoops");}}function tM(e,t){if(t===W.LINEAR&&e===X.BILINEAR)return B.LINEAR_MIPMAP_LINEAR;if(t===W.LINEAR&&e===X.POINT)return B.NEAREST_MIPMAP_LINEAR;if(t===W.NEAREST&&e===X.BILINEAR)return B.LINEAR_MIPMAP_NEAREST;if(t===W.NEAREST&&e===X.POINT)return B.NEAREST_MIPMAP_NEAREST;if(t===W.NO_MIP&&e===X.BILINEAR)return B.LINEAR;if(t===W.NO_MIP&&e===X.POINT)return B.NEAREST;throw Error("Unknown texture filter mode");}function tx(e,t){return void 0===t&&(t=0),e.gl_buffer_pages[t/e.pageByteSize|0];}function tC(e){return e.gl_texture;}function tP(e){return e.gl_sampler;}function tL(e,t){e.name=t,e.__SPECTOR_Metadata={name:t};}function tw(e,t){for(var r=[];;){var n=t.exec(e);if(!n)break;r.push(n);}return r;}function tI(e){return e.blendMode==V.ADD&&e.blendSrcFactor==z.ONE&&e.blendDstFactor===z.ZERO;}var tN=function(e){function t(t){var r,n=t.id,a=t.device,i=t.descriptor,o=e.call(this,{id:n,device:a})||this;o.type=U.Buffer;var u=i.viewOrSize,l=i.usage,f=i.hint,s=void 0===f?Z.STATIC:f,c=a.uniformBufferMaxPageByteSize,d=a.gl,h=l&q.UNIFORM;h||(tT(d)?d.bindVertexArray(null):a.OES_vertex_array_object.bindVertexArrayOES(null));var p=(0,e_.isNumber)(u)?eN(u,4):eN(u.byteLength,4);if(o.gl_buffer_pages=[],h){for(var v=p;v>0;)o.gl_buffer_pages.push(o.createBufferPage(Math.min(v,c),l,s)),v-=c;r=c;}else o.gl_buffer_pages.push(o.createBufferPage(p,l,s)),r=p;return o.pageByteSize=r,o.byteSize=p,o.usage=l,o.gl_target=tO(l),(0,e_.isNumber)(u)||o.setSubData(0,new Uint8Array(u.buffer)),h||(tT(d)?d.bindVertexArray(o.device.currentBoundVAO):a.OES_vertex_array_object.bindVertexArrayOES(o.device.currentBoundVAO)),o;}return(0,em.__extends)(t,e),t.prototype.setSubData=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=t.byteLength-r);for(var a=this.device.gl,i=this.pageByteSize,o=e+n,u=e,l=e%i;u<o;){var f=tT(a)?a.COPY_WRITE_BUFFER:this.gl_target,s=tx(this,u);if(s.ubo)return;a.bindBuffer(f,s),tT(a)?a.bufferSubData(f,l,t,r,Math.min(o-u,i)):a.bufferSubData(f,l,t),u+=i,l=0,r+=i,this.device.debugGroupStatisticsBufferUpload();}},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.gl_buffer_pages.length;t++)this.gl_buffer_pages[t].ubo||this.device.gl.deleteBuffer(this.gl_buffer_pages[t]);this.gl_buffer_pages=[];},t.prototype.createBufferPage=function(e,t,r){var n=this.device.gl,a=t&q.UNIFORM;if(!tT(n)&&a)return{ubo:!0};var i=this.device.ensureResourceExists(n.createBuffer()),o=tO(t),u=function(e){switch(e){case Z.STATIC:return B.STATIC_DRAW;case Z.DYNAMIC:return B.DYNAMIC_DRAW;}}(r);return n.bindBuffer(o,i),n.bufferData(o,e,u),i;},t;}(ty),tD=function(e){function t(t){var r,n,a,i,o,u=t.id,l=t.device,f=t.descriptor,s=e.call(this,{id:u,device:l})||this;s.type=U.InputLayout;var c=f.vertexBufferDescriptors,d=f.indexBufferFormat,h=f.program;eS(d===ef.U16_R||d===ef.U32_R||null===d);var p=null!==d?function(e){switch(e){case ef.U8_R:return B.UNSIGNED_BYTE;case ef.U16_R:return B.UNSIGNED_SHORT;case ef.U32_R:return B.UNSIGNED_INT;default:throw Error("whoops");}}(d):null,v=null!==d?eT(eE(d)):null,_=s.device.gl,m=s.device.ensureResourceExists(tT(_)?_.createVertexArray():l.OES_vertex_array_object.createVertexArrayOES());tT(_)?_.bindVertexArray(m):l.OES_vertex_array_object.bindVertexArrayOES(m),_.bindBuffer(_.ARRAY_BUFFER,tx(s.device.fallbackVertexBuffer));try{for(var g=(0,em.__values)(f.vertexBufferDescriptors),b=g.next();!b.done;b=g.next()){var y=b.value,E=y.stepMode,T=y.attributes;try{for(var A=(a=void 0,(0,em.__values)(T)),S=A.next();!S.done;S=A.next()){var O=S.value,R=O.shaderLocation,M=O.format,x=O.divisor,C=void 0===x?1:x,P=tT(_)?R:null===(o=h.attributes[R])||void 0===o?void 0:o.location,L=function(e){var t=eE(e),r=ey(e),n=255&e,a=function(e){switch(e){case eo.U8:return B.UNSIGNED_BYTE;case eo.U16:return B.UNSIGNED_SHORT;case eo.U32:return B.UNSIGNED_INT;case eo.S8:return B.BYTE;case eo.S16:return B.SHORT;case eo.S32:return B.INT;case eo.F16:return B.HALF_FLOAT;case eo.F32:return B.FLOAT;default:throw Error("whoops");}}(t);return{size:function(e){switch(e){case eu.R:return 1;case eu.RG:return 2;case eu.RGB:return 3;case eu.RGBA:return 4;default:return 1;}}(r),type:a,normalized:!!(n&el.Normalized)};}(M);if(O.vertexFormat=L,!(0,e_.isNil)(P)){tS(M);var w=L.size,I=L.type,N=L.normalized;_.vertexAttribPointer(P,w,I,N,0,0),E===K.INSTANCE&&(tT(_)?_.vertexAttribDivisor(P,C):l.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(P,C)),_.enableVertexAttribArray(P);}}}catch(e){a={error:e};}finally{try{S&&!S.done&&(i=A.return)&&i.call(A);}finally{if(a)throw a.error;}}}}catch(e){r={error:e};}finally{try{b&&!b.done&&(n=g.return)&&n.call(g);}finally{if(r)throw r.error;}}return tT(_)?_.bindVertexArray(null):l.OES_vertex_array_object.bindVertexArrayOES(null),s.vertexBufferDescriptors=c,s.vao=m,s.indexBufferFormat=d,s.indexBufferType=p,s.indexBufferCompByteSize=v,s.program=h,s;}return(0,em.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.currentBoundVAO===this.vao&&(tT(this.device.gl)?(this.device.gl.bindVertexArray(null),this.device.gl.deleteVertexArray(this.vao)):(this.device.OES_vertex_array_object.bindVertexArrayOES(null),this.device.OES_vertex_array_object.deleteVertexArrayOES(this.vao)),this.device.currentBoundVAO=null);},t;}(ty),tF=function(e){function t(t){var r,n,a=t.id,i=t.device,o=t.descriptor,u=t.fake,l=e.call(this,{id:a,device:i})||this;l.type=U.Texture,o=(0,em.__assign)({dimension:Q.TEXTURE_2D,depthOrArrayLayers:1,mipLevelCount:1},o);var f=l.device.gl,s=l.clampmipLevelCount(o);if(l.immutable=o.usage===J.RENDER_TARGET,l.pixelStore=o.pixelStore,l.format=o.format,l.dimension=o.dimension,l.formatKind=eA(o.format),l.width=o.width,l.height=o.height,l.depthOrArrayLayers=o.depthOrArrayLayers,l.mipmaps=s>=1,!u){n=l.device.ensureResourceExists(f.createTexture());var c=l.device.translateTextureType(o.format),d=l.device.translateTextureInternalFormat(o.format);if(l.device.setActiveTexture(f.TEXTURE0),l.device.currentTextures[0]=null,l.preprocessImage(),o.dimension===Q.TEXTURE_2D){if(r=B.TEXTURE_2D,f.bindTexture(r,n),l.immutable){if(tT(f))f.texStorage2D(r,s,d,o.width,o.height);else{var h=(d===B.DEPTH_COMPONENT||l.isNPOT(),0);(l.format!==ef.D32F&&l.format!==ef.D24_S8||tT(f)||i.WEBGL_depth_texture)&&(f.texImage2D(r,h,d,o.width,o.height,0,d,c,null),l.mipmaps&&(l.mipmaps=!1,f.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.LINEAR),f.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_S,B.CLAMP_TO_EDGE),f.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_T,B.CLAMP_TO_EDGE)));}}eS(1===o.depthOrArrayLayers);}else if(o.dimension===Q.TEXTURE_2D_ARRAY)r=B.TEXTURE_2D_ARRAY,f.bindTexture(r,n),l.immutable&&tT(f)&&f.texStorage3D(r,s,d,o.width,o.height,o.depthOrArrayLayers);else if(o.dimension===Q.TEXTURE_3D)r=B.TEXTURE_3D,f.bindTexture(r,n),l.immutable&&tT(f)&&f.texStorage3D(r,s,d,o.width,o.height,o.depthOrArrayLayers);else if(o.dimension===Q.TEXTURE_CUBE_MAP)r=B.TEXTURE_CUBE_MAP,f.bindTexture(r,n),l.immutable&&tT(f)&&f.texStorage2D(r,s,d,o.width,o.height),eS(6===o.depthOrArrayLayers);else throw Error("whoops");}return l.gl_texture=n,l.gl_target=r,l.mipLevelCount=s,l;}return(0,em.__extends)(t,e),t.prototype.setImageData=function(e,t){void 0===t&&(t=0);var r,n,a,i=this.device.gl;tA(this.format);var o=this.gl_target===B.TEXTURE_3D||this.gl_target===B.TEXTURE_2D_ARRAY,u=this.gl_target===B.TEXTURE_CUBE_MAP,l=(r=e[0],Object.prototype.toString.call(r) in t_);this.device.setActiveTexture(i.TEXTURE0),this.device.currentTextures[0]=null;var f=e[0];l?(n=this.width,a=this.height):(n=f.width,a=f.height,this.width=n,this.height=a),i.bindTexture(this.gl_target,this.gl_texture);var s=this.device.translateTextureFormat(this.format),c=tT(i)?this.device.translateInternalTextureFormat(this.format):s,d=this.device.translateTextureType(this.format);this.preprocessImage();for(var h=0;h<this.depthOrArrayLayers;h++){var p=e[h],v=this.gl_target;u&&(v=B.TEXTURE_CUBE_MAP_POSITIVE_X+h%6),this.immutable?i.texSubImage2D(v,t,0,0,n,a,s,d,p):tT(i)?o?i.texImage3D(v,t,c,n,a,this.depthOrArrayLayers,0,s,d,p):i.texImage2D(v,t,c,n,a,0,s,d,p):l?i.texImage2D(v,t,s,n,a,0,s,d,p):i.texImage2D(v,t,s,s,d,p);}this.mipmaps&&this.generateMipmap(o);},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.gl.deleteTexture(tC(this));},t.prototype.clampmipLevelCount=function(e){if(e.dimension===Q.TEXTURE_2D_ARRAY&&e.depthOrArrayLayers>1&&eE(e.format)===eo.BC1)for(var t=e.width,r=e.height,n=0;n<e.mipLevelCount;n++){if(t<=2||r<=2)return n-1;t=Math.max(t/2|0,1),r=Math.max(r/2|0,1);}return e.mipLevelCount;},t.prototype.preprocessImage=function(){var e=this.device.gl;this.pixelStore&&(this.pixelStore.unpackFlipY&&e.pixelStorei(B.UNPACK_FLIP_Y_WEBGL,!0),this.pixelStore.packAlignment&&e.pixelStorei(B.PACK_ALIGNMENT,this.pixelStore.packAlignment),this.pixelStore.unpackAlignment&&e.pixelStorei(B.UNPACK_ALIGNMENT,this.pixelStore.unpackAlignment));},t.prototype.generateMipmap=function(e){void 0===e&&(e=!1);var t=this.device.gl;return!tT(t)&&this.isNPOT()||this.gl_texture&&this.gl_target&&(t.bindTexture(this.gl_target,this.gl_texture),e?(t.texParameteri(this.gl_target,B.TEXTURE_BASE_LEVEL,0),t.texParameteri(this.gl_target,B.TEXTURE_MAX_LEVEL,Math.log2(this.width)),t.texParameteri(this.gl_target,B.TEXTURE_MIN_FILTER,B.LINEAR_MIPMAP_LINEAR),t.texParameteri(this.gl_target,B.TEXTURE_MAG_FILTER,B.LINEAR)):t.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.NEAREST_MIPMAP_LINEAR),t.generateMipmap(this.gl_target),t.bindTexture(this.gl_target,null)),this;},t.prototype.isNPOT=function(){return!tT(this.device.gl)&&(!ew(this.width)||!ew(this.height));},t;}(ty),tB=function(e){function t(t){var r=t.id,n=t.device,a=t.descriptor,i=e.call(this,{id:r,device:n})||this;i.type=U.RenderTarget,i.gl_renderbuffer=null,i.texture=null;var o=i.device.gl,u=a.format,l=a.width,f=a.height,s=a.sampleCount,c=void 0===s?1:s,d=a.texture,h=!1;if(u!==ef.D32F&&u!==ef.D24_S8||!d||tT(o)||n.WEBGL_depth_texture||(d.destroy(),i.texture=null,h=!0),!h&&d)i.texture=d;else{i.gl_renderbuffer=i.device.ensureResourceExists(o.createRenderbuffer()),o.bindRenderbuffer(o.RENDERBUFFER,i.gl_renderbuffer);var p=i.device.translateTextureInternalFormat(u,!0);tT(o)&&c>1?o.renderbufferStorageMultisample(B.RENDERBUFFER,c,p,l,f):o.renderbufferStorage(B.RENDERBUFFER,p,l,f);}return i.format=u,i.width=l,i.height=f,i.sampleCount=c,i;}return(0,em.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),null!==this.gl_renderbuffer&&this.device.gl.deleteRenderbuffer(this.gl_renderbuffer),this.texture&&this.texture.destroy();},t;}(ty);(N=ed||(ed={}))[N.NeedsCompile=0]="NeedsCompile",N[N.Compiling=1]="Compiling",N[N.NeedsBind=2]="NeedsBind",N[N.ReadyToUse=3]="ReadyToUse";var tU=function(e){function t(t,r){var n=t.id,a=t.device,i=t.descriptor,o=e.call(this,{id:n,device:a})||this;o.rawVertexGLSL=r,o.type=U.Program,o.uniformSetters={},o.attributes=[];var u=o.device.gl;return o.descriptor=i,o.gl_program=o.device.ensureResourceExists(u.createProgram()),o.gl_shader_vert=null,o.gl_shader_frag=null,o.compileState=ed.NeedsCompile,o.tryCompileProgram(),o;}return(0,em.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.gl.deleteProgram(this.gl_program),this.device.gl.deleteShader(this.gl_shader_vert),this.device.gl.deleteShader(this.gl_shader_frag);},t.prototype.tryCompileProgram=function(){eS(this.compileState===ed.NeedsCompile);var e=this.descriptor,t=e.vertex,r=e.fragment,n=this.device.gl;(null==t?void 0:t.glsl)&&(null==r?void 0:r.glsl)&&(this.gl_shader_vert=this.compileShader(t.postprocess?t.postprocess(t.glsl):t.glsl,n.VERTEX_SHADER),this.gl_shader_frag=this.compileShader(r.postprocess?r.postprocess(r.glsl):r.glsl,n.FRAGMENT_SHADER),n.attachShader(this.gl_program,this.gl_shader_vert),n.attachShader(this.gl_program,this.gl_shader_frag),n.linkProgram(this.gl_program),this.compileState=ed.Compiling,tT(n)||(this.readUniformLocationsFromLinkedProgram(),this.readAttributesFromLinkedProgram()));},t.prototype.readAttributesFromLinkedProgram=function(){for(var e,t,r,n,a,i=this.device.gl,o=i.getProgramParameter(this.gl_program,i.ACTIVE_ATTRIBUTES),u=(e=this.descriptor.vertex.glsl,t={},e.replace(/^\s*#define\s*(\S*)\s*(\S*)\s*$/gm,function(e,r,n){var a=Number(n);return t[r]=isNaN(a)?n:a,"";}),t),l=(r=this.rawVertexGLSL,n=[],r.replace(/^\s*layout\(location\s*=\s*(\S*)\)\s*in\s+\S+\s*(.*);$/gm,function(e,t,r){var a=Number(t);return n.push({location:isNaN(a)?u[t]:a,name:r}),"";}),n),f=this,s=0;s<o;s++)!function(e){var t=i.getActiveAttrib(f.gl_program,e),r=t.name,n=t.type,o=t.size,u=i.getAttribLocation(f.gl_program,r),s=null===(a=l.find(function(e){return e.name===r;}))||void 0===a?void 0:a.location;u>=0&&!(0,e_.isNil)(s)&&(f.attributes[s]={name:r,location:u,type:n,size:o});}(s);},t.prototype.readUniformLocationsFromLinkedProgram=function(){for(var e=this.device.gl,t=e.getProgramParameter(this.gl_program,e.ACTIVE_UNIFORMS),r=0;r<t;r++){var n=e.getActiveUniform(this.gl_program,r),a=function(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};var t=e.match(tt);if(!t||t.length<2)throw Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:Number(t[2])||1,isArray:!!t[2]};}(n.name).name,i=e.getUniformLocation(this.gl_program,a);if(this.uniformSetters[a]=tv(e,i,n),n&&n.size>1)for(var o=0;o<n.size;o++)i=e.getUniformLocation(this.gl_program,"".concat(a,"[").concat(o,"]")),this.uniformSetters["".concat(a,"[").concat(o,"]")]=tv(e,i,n);}},t.prototype.compileShader=function(e,t){var r=this.device.gl,n=this.device.ensureResourceExists(r.createShader(t));return r.shaderSource(n,e),r.compileShader(n),n;},t.prototype.setUniformsLegacy=function(e){void 0===e&&(e={});var t=this.device.gl;if(!tT(t)){var r=!1;for(var n in e){r||(t.useProgram(this.gl_program),r=!0);var a=e[n],i=this.uniformSetters[n];if(i){var o=a;o instanceof tF&&(o=o.textureIndex),i(o);}}}return this;},t;}(ty),tj=function(e){function t(t){var r=t.id,n=t.device,a=t.descriptor,i=e.call(this,{id:r,device:n})||this;i.type=U.QueryPool;var o=i.device.gl;if(tT(o)){var u=a.elemCount,l=a.type;i.gl_query=function(e,t){for(var r=Array(e),n=0;n<e;n++)r[n]=t();return r;}(u,function(){return i.device.ensureResourceExists(o.createQuery());}),i.gl_query_type=function(e){if(e===ei.OcclusionConservative)return B.ANY_SAMPLES_PASSED_CONSERVATIVE;throw Error("whoops");}(l);}return i;}return(0,em.__extends)(t,e),t.prototype.queryResultOcclusion=function(e){var t=this.device.gl;if(tT(t)){var r=this.gl_query[e];return t.getQueryParameter(r,t.QUERY_RESULT_AVAILABLE)?!!t.getQueryParameter(r,t.QUERY_RESULT):null;}return null;},t.prototype.destroy=function(){e.prototype.destroy.call(this);var t=this.device.gl;if(tT(t))for(var r=0;r<this.gl_query.length;r++)t.deleteQuery(this.gl_query[r]);},t;}(ty),tk=function(e){function t(t){var r=t.id,n=t.device,a=e.call(this,{id:r,device:n})||this;return a.type=U.Readback,a.gl_pbo=null,a.gl_sync=null,a;}return(0,em.__extends)(t,e),t.prototype.clientWaitAsync=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=10);var n=this.device.gl;return new Promise(function(a,i){!function o(){var u=n.clientWaitSync(e,t,0);if(u==n.WAIT_FAILED){i();return;}if(u==n.TIMEOUT_EXPIRED){setTimeout(o,(0,e_.clamp)(r,0,n.MAX_CLIENT_WAIT_TIMEOUT_WEBGL));return;}a();}();});},t.prototype.getBufferSubDataAsync=function(e,t,r,n,a,i){return(0,em.__awaiter)(this,void 0,void 0,function(){var o;return(0,em.__generator)(this,function(u){switch(u.label){case 0:if(!tT(o=this.device.gl))return[3,2];return this.gl_sync=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0),o.flush(),[4,this.clientWaitAsync(this.gl_sync,0,10)];case 1:return u.sent(),o.bindBuffer(e,t),o.getBufferSubData(e,r,n,a,i),o.bindBuffer(e,null),[2,n];case 2:return[2];}});});},t.prototype.readTexture=function(e,t,r,n,a,i,o,u){return void 0===o&&(o=0),void 0===u&&(u=i.byteLength||0),(0,em.__awaiter)(this,void 0,void 0,function(){var l,f,s,c,d;return(0,em.__generator)(this,function(h){var p;return(l=this.device.gl,f=e,s=this.device.translateTextureFormat(f.format),c=this.device.translateTextureType(f.format),d=eT(eE(p=f.format))*ey(p),tT(l))?(this.gl_pbo=this.device.ensureResourceExists(l.createBuffer()),l.bindBuffer(l.PIXEL_PACK_BUFFER,this.gl_pbo),l.bufferData(l.PIXEL_PACK_BUFFER,u,l.STREAM_READ),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),l.bindFramebuffer(B.READ_FRAMEBUFFER,this.device.readbackFramebuffer),l.framebufferTexture2D(B.READ_FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,f.gl_texture,0),l.bindBuffer(l.PIXEL_PACK_BUFFER,this.gl_pbo),l.readPixels(t,r,n,a,s,c,o*d),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),[2,this.getBufferSubDataAsync(l.PIXEL_PACK_BUFFER,this.gl_pbo,0,i,o,0)]):[2,this.readTextureSync(e,t,r,n,a,i,o,u)];});});},t.prototype.readTextureSync=function(e,t,r,n,a,i,o,u){void 0===u&&(u=i.byteLength||0);var l=this.device.gl,f=this.device.translateTextureType(e.format);return l.bindFramebuffer(B.FRAMEBUFFER,this.device.readbackFramebuffer),l.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,e.gl_texture,0),l.pixelStorei(l.PACK_ALIGNMENT,4),l.readPixels(t,r,n,a,l.RGBA,f,i),i;},t.prototype.readBuffer=function(e,t,r,n,a){return(0,em.__awaiter)(this,void 0,void 0,function(){var i;return(0,em.__generator)(this,function(o){return tT(i=this.device.gl)?[2,this.getBufferSubDataAsync(i.ARRAY_BUFFER,tx(e,t),t,r,n,a)]:[2,Promise.reject()];});});},t.prototype.destroy=function(){e.prototype.destroy.call(this),tT(this.device.gl)&&(null!==this.gl_sync&&this.device.gl.deleteSync(this.gl_sync),null!==this.gl_pbo&&this.device.gl.deleteBuffer(this.gl_pbo));},t;}(ty),tG=function(e){function t(t){var r,n,a=t.id,i=t.device,o=t.descriptor,u=e.call(this,{id:a,device:i})||this;return u.type=U.RenderPipeline,u.drawMode=function(e){switch(e){case Y.TRIANGLES:return B.TRIANGLES;case Y.POINTS:return B.POINTS;case Y.TRIANGLE_STRIP:return B.TRIANGLE_STRIP;case Y.LINES:return B.LINES;case Y.LINE_STRIP:return B.LINE_STRIP;default:throw Error("Unknown primitive topology mode");}}(null!==(r=o.topology)&&void 0!==r?r:Y.TRIANGLES),u.program=o.program,u.inputLayout=o.inputLayout,u.megaState=(0,em.__assign)((0,em.__assign)({},ej(eG)),o.megaStateDescriptor),u.colorAttachmentFormats=o.colorAttachmentFormats.slice(),u.depthStencilAttachmentFormat=o.depthStencilAttachmentFormat,u.sampleCount=null!==(n=o.sampleCount)&&void 0!==n?n:1,u;}return(0,em.__extends)(t,e),t;}(ty),tz=function(e){function t(t){var r=t.id,n=t.device,a=t.descriptor,i=e.call(this,{id:r,device:n})||this;return i.type=U.ComputePipeline,i.descriptor=a,i;}return(0,em.__extends)(t,e),t;}(ty),tV=function(){function e(){this.liveObjects=new Set,this.creationStacks=new Map,this.deletionStacks=new Map;}return e.prototype.trackResourceCreated=function(e){this.creationStacks.set(e,Error().stack),this.liveObjects.add(e);},e.prototype.trackResourceDestroyed=function(e){this.deletionStacks.has(e)&&console.warn("Object double freed:",e,"\n\nCreation stack: ",this.creationStacks.get(e),"\n\nDeletion stack: ",this.deletionStacks.get(e),"\n\nThis stack: ",Error().stack),this.deletionStacks.set(e,Error().stack),this.liveObjects.delete(e);},e.prototype.checkForLeaks=function(){var e,t;try{for(var r=(0,em.__values)(this.liveObjects.values()),n=r.next();!n.done;n=r.next()){var a=n.value;console.warn("Object leaked:",a,"Creation stack:",this.creationStacks.get(a));}}catch(t){e={error:t};}finally{try{n&&!n.done&&(t=r.return)&&t.call(r);}finally{if(e)throw e.error;}}},e.prototype.setResourceLeakCheck=function(e,t){t?this.liveObjects.add(e):this.liveObjects.delete(e);},e;}(),tH=function(e){function t(t){var r,n,a=t.id,i=t.device,o=t.descriptor,u=e.call(this,{id:a,device:i})||this;u.type=U.Sampler;var l=u.device.gl;if(tT(l)){var f=u.device.ensureResourceExists(l.createSampler());l.samplerParameteri(f,B.TEXTURE_WRAP_S,tR(o.addressModeU)),l.samplerParameteri(f,B.TEXTURE_WRAP_T,tR(o.addressModeV)),l.samplerParameteri(f,B.TEXTURE_WRAP_R,tR(null!==(r=o.addressModeW)&&void 0!==r?r:o.addressModeU)),l.samplerParameteri(f,B.TEXTURE_MIN_FILTER,tM(o.minFilter,o.mipmapFilter)),l.samplerParameteri(f,B.TEXTURE_MAG_FILTER,tM(o.magFilter,W.NO_MIP)),void 0!==o.lodMinClamp&&l.samplerParameterf(f,B.TEXTURE_MIN_LOD,o.lodMinClamp),void 0!==o.lodMaxClamp&&l.samplerParameterf(f,B.TEXTURE_MAX_LOD,o.lodMaxClamp),void 0!==o.compareFunction&&(l.samplerParameteri(f,l.TEXTURE_COMPARE_MODE,l.COMPARE_REF_TO_TEXTURE),l.samplerParameteri(f,l.TEXTURE_COMPARE_FUNC,o.compareFunction));var s=null!==(n=o.maxAnisotropy)&&void 0!==n?n:1;s>1&&null!==u.device.EXT_texture_filter_anisotropic&&(eS(o.minFilter===X.BILINEAR&&o.magFilter===X.BILINEAR&&o.mipmapFilter===W.LINEAR),l.samplerParameterf(f,u.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,s)),u.gl_sampler=f;}else u.descriptor=o;return u;}return(0,em.__extends)(t,e),t.prototype.setTextureParameters=function(e,t,r){var n,a=this.device.gl,i=this.descriptor;this.isNPOT(t,r)?a.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.LINEAR):a.texParameteri(e,B.TEXTURE_MIN_FILTER,tM(i.minFilter,i.mipmapFilter)),a.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_S,tR(i.addressModeU)),a.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_T,tR(i.addressModeV)),a.texParameteri(e,B.TEXTURE_MAG_FILTER,tM(i.magFilter,W.NO_MIP));var o=null!==(n=i.maxAnisotropy)&&void 0!==n?n:1;o>1&&null!==this.device.EXT_texture_filter_anisotropic&&(eS(i.minFilter===X.BILINEAR&&i.magFilter===X.BILINEAR&&i.mipmapFilter===W.LINEAR),a.texParameteri(e,this.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o));},t.prototype.destroy=function(){e.prototype.destroy.call(this),tT(this.device.gl)&&this.device.gl.deleteSampler(tP(this));},t.prototype.isNPOT=function(e,t){return!ew(e)||!ew(t);},t;}(ty),tX=function(){function e(){}return e.prototype.dispatchWorkgroups=function(e,t,r){},e.prototype.dispatchWorkgroupsIndirect=function(e,t){},e.prototype.setPipeline=function(e){},e.prototype.setBindings=function(e){},e.prototype.pushDebugGroup=function(e){},e.prototype.popDebugGroup=function(){},e.prototype.insertDebugMarker=function(e){},e;}(),tW=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=U.RenderBundle,t.commands=[],t;}return(0,em.__extends)(t,e),t.prototype.push=function(e){this.commands.push(e);},t.prototype.replay=function(){this.commands.forEach(function(e){return e();});},t;}(ty),tY=/uniform(?:\s+)(\w+)(?:\s?){([^]*?)}/g,tq=function(){function e(e,t){void 0===t&&(t={}),this.shaderDebug=!1,this.OES_vertex_array_object=null,this.ANGLE_instanced_arrays=null,this.OES_texture_float=null,this.OES_draw_buffers_indexed=null,this.WEBGL_draw_buffers=null,this.WEBGL_depth_texture=null,this.WEBGL_color_buffer_float=null,this.EXT_color_buffer_half_float=null,this.WEBGL_compressed_texture_s3tc=null,this.WEBGL_compressed_texture_s3tc_srgb=null,this.EXT_texture_compression_rgtc=null,this.EXT_texture_filter_anisotropic=null,this.KHR_parallel_shader_compile=null,this.EXT_texture_norm16=null,this.EXT_color_buffer_float=null,this.OES_texture_float_linear=null,this.OES_texture_half_float_linear=null,this.scTexture=null,this.scPlatformFramebuffer=null,this.currentActiveTexture=null,this.currentBoundVAO=null,this.currentProgram=null,this.resourceCreationTracker=null,this.resourceUniqueId=0,this.currentColorAttachments=[],this.currentColorAttachmentLevels=[],this.currentColorResolveTos=[],this.currentColorResolveToLevels=[],this.currentSampleCount=-1,this.currentIndexBufferByteOffset=null,this.currentMegaState=ej(eG),this.currentSamplers=[],this.currentTextures=[],this.currentUniformBuffers=[],this.currentUniformBufferByteOffsets=[],this.currentUniformBufferByteSizes=[],this.currentScissorEnabled=!1,this.currentStencilRef=null,this.currentRenderPassDescriptor=null,this.currentRenderPassDescriptorStack=[],this.debugGroupStack=[],this.resolveColorAttachmentsChanged=!1,this.resolveDepthStencilAttachmentsChanged=!1,this.explicitBindingLocations=!1,this.separateSamplerTextures=!1,this.viewportOrigin=en.LOWER_LEFT,this.clipSpaceNearZ=ea.NEGATIVE_ONE,this.supportMRT=!1,this.inBlitRenderPass=!1,this.supportedSampleCounts=[],this.occlusionQueriesRecommended=!1,this.computeShadersSupported=!1,this.gl=e,this.contextAttributes=eO(e.getContextAttributes()),tT(e)?(this.EXT_texture_norm16=e.getExtension("EXT_texture_norm16"),this.EXT_color_buffer_float=e.getExtension("EXT_color_buffer_float")):(this.OES_vertex_array_object=e.getExtension("OES_vertex_array_object"),this.ANGLE_instanced_arrays=e.getExtension("ANGLE_instanced_arrays"),this.OES_texture_float=e.getExtension("OES_texture_float"),this.WEBGL_draw_buffers=e.getExtension("WEBGL_draw_buffers"),this.WEBGL_depth_texture=e.getExtension("WEBGL_depth_texture"),this.WEBGL_color_buffer_float=e.getExtension("WEBGL_color_buffer_float"),this.EXT_color_buffer_half_float=e.getExtension("EXT_color_buffer_half_float"),e.getExtension("EXT_frag_depth"),e.getExtension("OES_element_index_uint"),e.getExtension("OES_standard_derivatives")),this.WEBGL_compressed_texture_s3tc=e.getExtension("WEBGL_compressed_texture_s3tc"),this.WEBGL_compressed_texture_s3tc_srgb=e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),this.EXT_texture_compression_rgtc=e.getExtension("EXT_texture_compression_rgtc"),this.EXT_texture_filter_anisotropic=e.getExtension("EXT_texture_filter_anisotropic"),this.EXT_texture_norm16=e.getExtension("EXT_texture_norm16"),this.OES_texture_float_linear=e.getExtension("OES_texture_float_linear"),this.OES_texture_half_float_linear=e.getExtension("OES_texture_half_float_linear"),this.KHR_parallel_shader_compile=e.getExtension("KHR_parallel_shader_compile"),tT(e)?(this.platformString="WebGL2",this.glslVersion="#version 300 es"):(this.platformString="WebGL1",this.glslVersion="#version 100"),this.scTexture=new tF({id:this.getNextUniqueId(),device:this,descriptor:{width:0,height:0,depthOrArrayLayers:1,dimension:Q.TEXTURE_2D,mipLevelCount:1,usage:J.RENDER_TARGET,format:!1===this.contextAttributes.alpha?ef.U8_RGB_RT:ef.U8_RGBA_RT},fake:!0}),this.scTexture.formatKind=er.Float,this.scTexture.gl_target=null,this.scTexture.gl_texture=null,this.resolveColorReadFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.resolveColorDrawFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.resolveDepthStencilReadFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.resolveDepthStencilDrawFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.renderPassDrawFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.readbackFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.fallbackTexture2D=this.createFallbackTexture(Q.TEXTURE_2D,er.Float),this.fallbackTexture2DDepth=this.createFallbackTexture(Q.TEXTURE_2D,er.Depth),this.fallbackVertexBuffer=this.createBuffer({viewOrSize:1,usage:q.VERTEX,hint:Z.STATIC}),tT(e)&&(this.fallbackTexture2DArray=this.createFallbackTexture(Q.TEXTURE_2D_ARRAY,er.Float),this.fallbackTexture3D=this.createFallbackTexture(Q.TEXTURE_3D,er.Float),this.fallbackTextureCube=this.createFallbackTexture(Q.TEXTURE_CUBE_MAP,er.Float)),this.currentMegaState.depthCompare=j.LESS,this.currentMegaState.depthWrite=!1,this.currentMegaState.attachmentsState[0].channelWriteMask=ee.ALL,e.enable(e.DEPTH_TEST),e.enable(e.STENCIL_TEST),this.checkLimits(),t.shaderDebug&&(this.shaderDebug=!0),t.trackResources&&(this.resourceCreationTracker=new tV);}return e.prototype.destroy=function(){this.blitBindings&&this.blitBindings.destroy(),this.blitInputLayout&&this.blitInputLayout.destroy(),this.blitRenderPipeline&&this.blitRenderPipeline.destroy(),this.blitVertexBuffer&&this.blitVertexBuffer.destroy(),this.blitProgram&&this.blitProgram.destroy();},e.prototype.createFallbackTexture=function(e,t){var r=e===Q.TEXTURE_CUBE_MAP?6:1,n=t===er.Depth?ef.D32F:ef.U8_RGBA_NORM,a=this.createTexture({dimension:e,format:n,usage:J.SAMPLED,width:1,height:1,depthOrArrayLayers:r,mipLevelCount:1});return t===er.Float&&a.setImageData([new Uint8Array(4*r)]),tC(a);},e.prototype.getNextUniqueId=function(){return++this.resourceUniqueId;},e.prototype.checkLimits=function(){var e=this.gl;if(this.maxVertexAttribs=e.getParameter(B.MAX_VERTEX_ATTRIBS),tT(e)){this.uniformBufferMaxPageByteSize=Math.min(e.getParameter(B.MAX_UNIFORM_BLOCK_SIZE),65536),this.uniformBufferWordAlignment=e.getParameter(e.UNIFORM_BUFFER_OFFSET_ALIGNMENT)/4;var t=e.getInternalformatParameter(e.RENDERBUFFER,e.DEPTH32F_STENCIL8,e.SAMPLES);this.supportedSampleCounts=t?(0,em.__spreadArray)([],(0,em.__read)(t),!1):[],this.occlusionQueriesRecommended=!0;}else this.uniformBufferWordAlignment=64,this.uniformBufferMaxPageByteSize=65536;this.uniformBufferMaxPageWordSize=this.uniformBufferMaxPageByteSize/4,this.supportedSampleCounts.includes(1)||this.supportedSampleCounts.push(1),this.supportedSampleCounts.sort(function(e,t){return e-t;});},e.prototype.configureSwapChain=function(e,t,r){var n=this.scTexture;n.width=e,n.height=t,this.scPlatformFramebuffer=void 0===r?null:r;},e.prototype.getDevice=function(){return this;},e.prototype.getCanvas=function(){return this.gl.canvas;},e.prototype.getOnscreenTexture=function(){return this.scTexture;},e.prototype.beginFrame=function(){},e.prototype.endFrame=function(){},e.prototype.translateTextureInternalFormat=function(e,t){switch(void 0===t&&(t=!1),e){case ef.ALPHA:return B.ALPHA;case ef.U8_LUMINANCE:case ef.F16_LUMINANCE:case ef.F32_LUMINANCE:return B.LUMINANCE;case ef.F16_R:return B.R16F;case ef.F16_RG:return B.RG16F;case ef.F16_RGB:return B.RGB16F;case ef.F16_RGBA:return B.RGBA16F;case ef.F32_R:return B.R32F;case ef.F32_RG:return B.RG32F;case ef.F32_RGB:return B.RGB32F;case ef.F32_RGBA:return tT(this.gl)?B.RGBA32F:t?this.WEBGL_color_buffer_float.RGBA32F_EXT:B.RGBA;case ef.U8_R_NORM:return B.R8;case ef.U8_RG_NORM:return B.RG8;case ef.U8_RGB_NORM:case ef.U8_RGB_RT:return B.RGB8;case ef.U8_RGB_SRGB:return B.SRGB8;case ef.U8_RGBA_NORM:case ef.U8_RGBA_RT:return tT(this.gl)?B.RGBA8:t?B.RGBA4:B.RGBA;case ef.U8_RGBA:return B.RGBA;case ef.U8_RGBA_SRGB:case ef.U8_RGBA_RT_SRGB:return B.SRGB8_ALPHA8;case ef.U16_R:return B.R16UI;case ef.U16_R_NORM:return this.EXT_texture_norm16.R16_EXT;case ef.U16_RG_NORM:return this.EXT_texture_norm16.RG16_EXT;case ef.U16_RGBA_NORM:return this.EXT_texture_norm16.RGBA16_EXT;case ef.U16_RGBA_5551:return B.RGB5_A1;case ef.U16_RGB_565:return B.RGB565;case ef.U32_R:return B.R32UI;case ef.S8_RGBA_NORM:return B.RGBA8_SNORM;case ef.S8_RG_NORM:return B.RG8_SNORM;case ef.BC1:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT;case ef.BC1_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;case ef.BC2:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT;case ef.BC2_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;case ef.BC3:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT;case ef.BC3_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;case ef.BC4_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_RGTC1_EXT;case ef.BC4_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT;case ef.BC5_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT;case ef.BC5_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;case ef.D32F_S8:return tT(this.gl)?B.DEPTH32F_STENCIL8:this.WEBGL_depth_texture?B.DEPTH_STENCIL:B.DEPTH_COMPONENT16;case ef.D24_S8:return tT(this.gl)?B.DEPTH24_STENCIL8:this.WEBGL_depth_texture?B.DEPTH_STENCIL:B.DEPTH_COMPONENT16;case ef.D32F:return tT(this.gl)?B.DEPTH_COMPONENT32F:this.WEBGL_depth_texture?B.DEPTH_COMPONENT:B.DEPTH_COMPONENT16;case ef.D24:return tT(this.gl)?B.DEPTH_COMPONENT24:this.WEBGL_depth_texture?B.DEPTH_COMPONENT:B.DEPTH_COMPONENT16;default:throw Error("whoops");}},e.prototype.translateTextureType=function(e){switch(eE(e)){case eo.U8:return B.UNSIGNED_BYTE;case eo.U16:return B.UNSIGNED_SHORT;case eo.U32:return B.UNSIGNED_INT;case eo.S8:return B.BYTE;case eo.F16:return B.HALF_FLOAT;case eo.F32:return B.FLOAT;case eo.U16_PACKED_5551:return B.UNSIGNED_SHORT_5_5_5_1;case eo.D32F:return tT(this.gl)?B.FLOAT:this.WEBGL_depth_texture?B.UNSIGNED_INT:B.UNSIGNED_BYTE;case eo.D24:return tT(this.gl)?B.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?B.UNSIGNED_SHORT:B.UNSIGNED_BYTE;case eo.D24S8:return tT(this.gl)?B.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?B.UNSIGNED_INT_24_8_WEBGL:B.UNSIGNED_BYTE;case eo.D32FS8:return B.FLOAT_32_UNSIGNED_INT_24_8_REV;default:throw Error("whoops");}},e.prototype.translateInternalTextureFormat=function(e){switch(e){case ef.F32_R:return B.R32F;case ef.F32_RG:return B.RG32F;case ef.F32_RGB:return B.RGB32F;case ef.F32_RGBA:return B.RGBA32F;case ef.F16_R:return B.R16F;case ef.F16_RG:return B.RG16F;case ef.F16_RGB:return B.RGB16F;case ef.F16_RGBA:return B.RGBA16F;}return this.translateTextureFormat(e);},e.prototype.translateTextureFormat=function(e){if(tA(e)||e===ef.F32_LUMINANCE||e===ef.U8_LUMINANCE)return this.translateTextureInternalFormat(e);var t=tT(this.gl)||!tT(this.gl)&&!!this.WEBGL_depth_texture;switch(e){case ef.D24_S8:case ef.D32F_S8:return t?B.DEPTH_STENCIL:B.RGBA;case ef.D24:case ef.D32F:return t?B.DEPTH_COMPONENT:B.RGBA;}var r=tS(e);switch(ey(e)){case eu.A:return B.ALPHA;case eu.R:return r?B.RED_INTEGER:B.RED;case eu.RG:return r?B.RG_INTEGER:B.RG;case eu.RGB:return r?B.RGB_INTEGER:B.RGB;case eu.RGBA:return B.RGBA;}},e.prototype.setActiveTexture=function(e){this.currentActiveTexture!==e&&(this.gl.activeTexture(e),this.currentActiveTexture=e);},e.prototype.bindVAO=function(e){this.currentBoundVAO!==e&&(tT(this.gl)?this.gl.bindVertexArray(e):this.OES_vertex_array_object.bindVertexArrayOES(e),this.currentBoundVAO=e);},e.prototype.programCompiled=function(e){eS(e.compileState!==ed.NeedsCompile),e.compileState===ed.Compiling&&(e.compileState=ed.NeedsBind,this.shaderDebug&&this.checkProgramCompilationForErrors(e));},e.prototype.useProgram=function(e){this.currentProgram!==e&&(this.programCompiled(e),this.gl.useProgram(e.gl_program),this.currentProgram=e);},e.prototype.ensureResourceExists=function(e){if(null!==e)return e;var t=this.gl.getError();throw Error("Created resource is null; GL error encountered: ".concat(t));},e.prototype.createBuffer=function(e){return new tN({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createTexture=function(e){return new tF({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createSampler=function(e){return new tH({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createRenderTarget=function(e){return new tB({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createRenderTargetFromTexture=function(e){var t=e.format,r=e.width,n=e.height;return eS(1===e.mipLevelCount),this.createRenderTarget({format:t,width:r,height:n,sampleCount:1,texture:e});},e.prototype.createProgram=function(e){var t,r,n,a=null===(t=e.vertex)||void 0===t?void 0:t.glsl;return(null===(r=e.vertex)||void 0===r?void 0:r.glsl)&&(e.vertex.glsl=tb(this.queryVendorInfo(),"vert",e.vertex.glsl)),(null===(n=e.fragment)||void 0===n?void 0:n.glsl)&&(e.fragment.glsl=tb(this.queryVendorInfo(),"frag",e.fragment.glsl)),this.createProgramSimple(e,a);},e.prototype.createProgramSimple=function(e,t){return new tU({id:this.getNextUniqueId(),device:this,descriptor:e},t);},e.prototype.createBindings=function(e){return new tE({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createInputLayout=function(e){return new tD({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createRenderPipeline=function(e){return new tG({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createComputePass=function(){return new tX;},e.prototype.createComputePipeline=function(e){return new tz({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createReadback=function(){return new tk({id:this.getNextUniqueId(),device:this});},e.prototype.createQueryPool=function(e,t){return new tj({id:this.getNextUniqueId(),device:this,descriptor:{type:e,elemCount:t}});},e.prototype.formatRenderPassDescriptor=function(e){var t,r,n,a,i,o,u=e.colorAttachment;e.depthClearValue=null!==(t=e.depthClearValue)&&void 0!==t?t:"load",e.stencilClearValue=null!==(r=e.stencilClearValue)&&void 0!==r?r:"load";for(var l=0;l<u.length;l++)e.colorAttachmentLevel||(e.colorAttachmentLevel=[]),e.colorAttachmentLevel[l]=null!==(n=e.colorAttachmentLevel[l])&&void 0!==n?n:0,e.colorResolveToLevel||(e.colorResolveToLevel=[]),e.colorResolveToLevel[l]=null!==(a=e.colorResolveToLevel[l])&&void 0!==a?a:0,e.colorClearColor||(e.colorClearColor=[]),e.colorClearColor[l]=null!==(i=e.colorClearColor[l])&&void 0!==i?i:"load",e.colorStore||(e.colorStore=[]),e.colorStore[l]=null!==(o=e.colorStore[l])&&void 0!==o&&o;},e.prototype.createRenderBundle=function(){return new tW({id:this.getNextUniqueId(),device:this});},e.prototype.beginBundle=function(e){this.renderBundle=e;},e.prototype.endBundle=function(){this.renderBundle=void 0;},e.prototype.executeBundles=function(e){e.forEach(function(e){e.replay();});},e.prototype.createRenderPass=function(e){null!==this.currentRenderPassDescriptor&&this.currentRenderPassDescriptorStack.push(this.currentRenderPassDescriptor),this.currentRenderPassDescriptor=e,this.formatRenderPassDescriptor(e);var t=e.colorAttachment,r=e.colorAttachmentLevel,n=e.colorClearColor,a=e.colorResolveTo,i=e.colorResolveToLevel,o=e.depthStencilAttachment,u=e.depthClearValue,l=e.stencilClearValue,f=e.depthStencilResolveTo,s=a&&1===a.length&&a[0]===this.scTexture;this.setRenderPassParametersBegin(t.length,s);for(var c=0;c<t.length;c++)this.setRenderPassParametersColor(c,t[c],r[c],a[c],i[c],s);this.setRenderPassParametersDepthStencil(o,f,s),this.validateCurrentAttachments();for(var c=0;c<t.length;c++){var d=n[c];"load"!==d&&this.setRenderPassParametersClearColor(c,d.r,d.g,d.b,d.a);}return this.setRenderPassParametersClearDepthStencil(u,l),this;},e.prototype.submitPass=function(e){eS(null!==this.currentRenderPassDescriptor),this.endPass(),this.currentRenderPassDescriptorStack.length?this.currentRenderPassDescriptor=this.currentRenderPassDescriptorStack.pop():this.currentRenderPassDescriptor=null;},e.prototype.copySubTexture2D=function(e,t,r,n,a,i){var o=this.gl;if(eS(1===n.mipLevelCount),eS(1===e.mipLevelCount),tT(o))e===this.scTexture?o.bindFramebuffer(o.DRAW_FRAMEBUFFER,this.scPlatformFramebuffer):(o.bindFramebuffer(o.DRAW_FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.bindFramebufferAttachment(o.DRAW_FRAMEBUFFER,o.COLOR_ATTACHMENT0,e,0)),o.bindFramebuffer(o.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.bindFramebufferAttachment(o.READ_FRAMEBUFFER,o.COLOR_ATTACHMENT0,n,0),o.blitFramebuffer(a,i,a+n.width,i+n.height,t,r,t+n.width,r+n.height,o.COLOR_BUFFER_BIT,o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,null),o.bindFramebuffer(o.DRAW_FRAMEBUFFER,null);else if(e===this.scTexture){var u=this.createRenderTargetFromTexture(n);this.submitBlitRenderPass(u,e);}},e.prototype.queryLimits=function(){return this;},e.prototype.queryTextureFormatSupported=function(e,t,r){switch(e){case ef.BC1_SRGB:case ef.BC2_SRGB:case ef.BC3_SRGB:if(null!==this.WEBGL_compressed_texture_s3tc_srgb)return t%4==0&&r%4==0;return!1;case ef.BC1:case ef.BC2:case ef.BC3:if(null!==this.WEBGL_compressed_texture_s3tc)return t%4==0&&r%4==0;return!1;case ef.BC4_UNORM:case ef.BC4_SNORM:case ef.BC5_UNORM:case ef.BC5_SNORM:if(null!==this.EXT_texture_compression_rgtc)return t%4==0&&r%4==0;return!1;case ef.U16_R_NORM:case ef.U16_RG_NORM:case ef.U16_RGBA_NORM:return null!==this.EXT_texture_norm16;case ef.F32_R:case ef.F32_RG:case ef.F32_RGB:case ef.F32_RGBA:return null!==this.OES_texture_float_linear;case ef.F16_R:case ef.F16_RG:case ef.F16_RGB:case ef.F16_RGBA:return null!==this.OES_texture_half_float_linear;default:return!0;}},e.prototype.queryProgramReady=function(e){var t=this.gl;if(e.compileState===ed.NeedsCompile)throw Error("whoops");if(e.compileState===ed.Compiling){var r=void 0;return(r=null===this.KHR_parallel_shader_compile||t.getProgramParameter(e.gl_program,this.KHR_parallel_shader_compile.COMPLETION_STATUS_KHR))&&this.programCompiled(e),r;}return e.compileState===ed.NeedsBind||e.compileState===ed.ReadyToUse;},e.prototype.queryPlatformAvailable=function(){return this.gl.isContextLost();},e.prototype.queryVendorInfo=function(){return this;},e.prototype.queryRenderPass=function(e){return this.currentRenderPassDescriptor;},e.prototype.queryRenderTarget=function(e){return e;},e.prototype.setResourceName=function(e,t){if(e.name=t,e.type===U.Buffer)for(var r=e.gl_buffer_pages,n=0;n<r.length;n++)tL(r[n],"".concat(t," Page ").concat(n));else if(e.type===U.Texture)tL(tC(e),t);else if(e.type===U.Sampler)tL(tP(e),t);else if(e.type===U.RenderTarget){var a=e.gl_renderbuffer;null!==a&&tL(a,t);}else e.type===U.InputLayout&&tL(e.vao,t);},e.prototype.setResourceLeakCheck=function(e,t){null!==this.resourceCreationTracker&&this.resourceCreationTracker.setResourceLeakCheck(e,t);},e.prototype.checkForLeaks=function(){null!==this.resourceCreationTracker&&this.resourceCreationTracker.checkForLeaks();},e.prototype.pushDebugGroup=function(e){},e.prototype.popDebugGroup=function(){},e.prototype.insertDebugMarker=function(e){},e.prototype.programPatched=function(e,t){eS(this.shaderDebug);},e.prototype.getBufferData=function(e,t,r){void 0===r&&(r=0);var n=this.gl;tT(n)&&(n.bindBuffer(n.COPY_READ_BUFFER,tx(e,4*r)),n.getBufferSubData(n.COPY_READ_BUFFER,4*r,t));},e.prototype.debugGroupStatisticsDrawCall=function(e){void 0===e&&(e=1);for(var t=this.debugGroupStack.length-1;t>=0;t--)this.debugGroupStack[t].drawCallCount+=e;},e.prototype.debugGroupStatisticsBufferUpload=function(e){void 0===e&&(e=1);for(var t=this.debugGroupStack.length-1;t>=0;t--)this.debugGroupStack[t].bufferUploadCount+=e;},e.prototype.debugGroupStatisticsTextureBind=function(e){void 0===e&&(e=1);for(var t=this.debugGroupStack.length-1;t>=0;t--)this.debugGroupStack[t].textureBindCount+=e;},e.prototype.debugGroupStatisticsTriangles=function(e){for(var t=this.debugGroupStack.length-1;t>=0;t--)this.debugGroupStack[t].triangleCount+=e;},e.prototype.reportShaderError=function(e,t){var r=this.gl,n=r.getShaderParameter(e,r.COMPILE_STATUS);if(!n){console.error((void 0===a&&(a=1),t.split("\n").map(function(e,t){return"".concat(function(e,t,r){for(void 0===r&&(r="0");e.length<4;)e="".concat(r).concat(e);return e;}(""+(a+t),0," "),"  ").concat(e);}).join("\n")));var a,i=r.getExtension("WEBGL_debug_shaders");i&&console.error(i.getTranslatedShaderSource(e)),console.error(r.getShaderInfoLog(e));}return n;},e.prototype.checkProgramCompilationForErrors=function(e){var t=this.gl,r=e.gl_program;if(!t.getProgramParameter(r,t.LINK_STATUS)){var n=e.descriptor;if(!this.reportShaderError(e.gl_shader_vert,n.vertex.glsl)||!this.reportShaderError(e.gl_shader_frag,n.fragment.glsl))return;console.error(t.getProgramInfoLog(e.gl_program));}},e.prototype.bindFramebufferAttachment=function(e,t,r,n){var a=this.gl;if((0,e_.isNil)(r))a.framebufferRenderbuffer(e,t,a.RENDERBUFFER,null);else if(r.type===U.RenderTarget)null!==r.gl_renderbuffer?a.framebufferRenderbuffer(e,t,a.RENDERBUFFER,r.gl_renderbuffer):null!==r.texture&&a.framebufferTexture2D(e,t,B.TEXTURE_2D,tC(r.texture),n);else if(r.type===U.Texture){var i=tC(r);r.dimension===Q.TEXTURE_2D?a.framebufferTexture2D(e,t,B.TEXTURE_2D,i,n):tT(a)&&(r.dimension,Q.TEXTURE_2D_ARRAY);}},e.prototype.bindFramebufferDepthStencilAttachment=function(e,t){var r=this.gl,n=(0,e_.isNil)(t)?el.Depth|el.Stencil:255&t.format,a=!!(n&el.Depth),i=!!(n&el.Stencil);a&&i?tT(this.gl)||!tT(this.gl)&&this.WEBGL_depth_texture?this.bindFramebufferAttachment(e,r.DEPTH_STENCIL_ATTACHMENT,t,0):this.bindFramebufferAttachment(e,r.DEPTH_ATTACHMENT,t,0):a?(this.bindFramebufferAttachment(e,r.DEPTH_ATTACHMENT,t,0),this.bindFramebufferAttachment(e,r.STENCIL_ATTACHMENT,null,0)):i&&(this.bindFramebufferAttachment(e,r.STENCIL_ATTACHMENT,t,0),this.bindFramebufferAttachment(e,r.DEPTH_ATTACHMENT,null,0));},e.prototype.validateCurrentAttachments=function(){for(var e=-1,t=-1,r=-1,n=0;n<this.currentColorAttachments.length;n++){var a=this.currentColorAttachments[n];null!==a&&(-1===e?(e=a.sampleCount,t=a.width,r=a.height):(eS(e===a.sampleCount),eS(t===a.width),eS(r===a.height)));}this.currentDepthStencilAttachment&&(-1===e?e=this.currentDepthStencilAttachment.sampleCount:(eS(e===this.currentDepthStencilAttachment.sampleCount),eS(t===this.currentDepthStencilAttachment.width),eS(r===this.currentDepthStencilAttachment.height))),this.currentSampleCount=e;},e.prototype.setRenderPassParametersBegin=function(e,t){void 0===t&&(t=!1);var r=this.gl;if(t)r.bindFramebuffer(B.FRAMEBUFFER,null);else if(tT(r)?r.bindFramebuffer(B.DRAW_FRAMEBUFFER,this.renderPassDrawFramebuffer):this.inBlitRenderPass||r.bindFramebuffer(B.FRAMEBUFFER,this.renderPassDrawFramebuffer),tT(r)?r.drawBuffers([B.COLOR_ATTACHMENT0,B.COLOR_ATTACHMENT1,B.COLOR_ATTACHMENT2,B.COLOR_ATTACHMENT3]):!this.inBlitRenderPass&&this.WEBGL_draw_buffers&&this.WEBGL_draw_buffers.drawBuffersWEBGL([B.COLOR_ATTACHMENT0_WEBGL,B.COLOR_ATTACHMENT1_WEBGL,B.COLOR_ATTACHMENT2_WEBGL,B.COLOR_ATTACHMENT3_WEBGL]),!this.inBlitRenderPass)for(var n=e;n<this.currentColorAttachments.length;n++){var a=tT(r)?B.DRAW_FRAMEBUFFER:B.FRAMEBUFFER,i=tT(r)?B.COLOR_ATTACHMENT0:B.COLOR_ATTACHMENT0_WEBGL;r.framebufferRenderbuffer(a,i+n,B.RENDERBUFFER,null),r.framebufferTexture2D(a,i+n,B.TEXTURE_2D,null,0);}this.currentColorAttachments.length=e;},e.prototype.setRenderPassParametersColor=function(e,t,r,n,a,i){void 0===i&&(i=!1);var o=tT(this.gl);(this.currentColorAttachments[e]!==t||this.currentColorAttachmentLevels[e]!==r)&&(this.currentColorAttachments[e]=t,this.currentColorAttachmentLevels[e]=r,!i&&(o||!o&&this.WEBGL_draw_buffers)&&this.bindFramebufferAttachment(o?B.DRAW_FRAMEBUFFER:B.FRAMEBUFFER,(o?B.COLOR_ATTACHMENT0:B.COLOR_ATTACHMENT0_WEBGL)+e,t,r),this.resolveColorAttachmentsChanged=!0),(this.currentColorResolveTos[e]!==n||this.currentColorResolveToLevels[e]!==a)&&(this.currentColorResolveTos[e]=n,this.currentColorResolveToLevels[e]=a,null!==n&&(this.resolveColorAttachmentsChanged=!0));},e.prototype.setRenderPassParametersDepthStencil=function(e,t,r){void 0===r&&(r=!1);var n=this.gl;this.currentDepthStencilAttachment!==e&&(this.currentDepthStencilAttachment=e,r||this.inBlitRenderPass||this.bindFramebufferDepthStencilAttachment(tT(n)?B.DRAW_FRAMEBUFFER:B.FRAMEBUFFER,this.currentDepthStencilAttachment),this.resolveDepthStencilAttachmentsChanged=!0),this.currentDepthStencilResolveTo!==t&&(this.currentDepthStencilResolveTo=t,t&&(this.resolveDepthStencilAttachmentsChanged=!0));},e.prototype.setRenderPassParametersClearColor=function(e,t,r,n,a){var i=this.gl;if(null!==this.OES_draw_buffers_indexed){var o=this.currentMegaState.attachmentsState[e];o&&o.channelWriteMask!==ee.ALL&&(this.OES_draw_buffers_indexed.colorMaskiOES(e,!0,!0,!0,!0),o.channelWriteMask=ee.ALL);}else{var o=this.currentMegaState.attachmentsState[0];o&&o.channelWriteMask!==ee.ALL&&(i.colorMask(!0,!0,!0,!0),o.channelWriteMask=ee.ALL);}this.setScissorRectEnabled(!1),tT(i)?i.clearBufferfv(i.COLOR,e,[t,r,n,a]):(i.clearColor(t,r,n,a),i.clear(i.COLOR_BUFFER_BIT));},e.prototype.setRenderPassParametersClearDepthStencil=function(e,t){void 0===e&&(e="load"),void 0===t&&(t="load");var r=this.gl;"load"!==e&&(eS(!!this.currentDepthStencilAttachment),this.currentMegaState.depthWrite||(r.depthMask(!0),this.currentMegaState.depthWrite=!0),tT(r)?r.clearBufferfv(r.DEPTH,0,[e]):(r.clearDepth(e),r.clear(r.DEPTH_BUFFER_BIT))),"load"!==t&&(eS(!!this.currentDepthStencilAttachment),this.currentMegaState.stencilWrite||(r.enable(r.STENCIL_TEST),r.stencilMask(255),this.currentMegaState.stencilWrite=!0),tT(r)?r.clearBufferiv(r.STENCIL,0,[t]):(r.clearStencil(t),r.clear(r.STENCIL_BUFFER_BIT)));},e.prototype.setBindings=function(e){var t,r=this;if(this.renderBundle){this.renderBundle.push(function(){return r.setBindings(e);});return;}var n=this.gl,a=e.uniformBufferBindings,i=e.samplerBindings,o=e.bindingLayouts;eS(0<o.bindingLayoutTables.length);var u=o.bindingLayoutTables[0];eS(a.length>=u.numUniformBuffers),eS(i.length>=u.numSamplers);for(var l=0;l<a.length;l++){var f=a[l];if(0!==f.size){var s=u.firstUniformBuffer+l,c=f.buffer,d=f.offset||0,h=f.size||c.byteSize;if(c!==this.currentUniformBuffers[s]||d!==this.currentUniformBufferByteOffsets[s]||h!==this.currentUniformBufferByteSizes[s]){var p=d%c.pageByteSize,v=c.gl_buffer_pages[d/c.pageByteSize|0];eS(p+h<=c.pageByteSize),tT(n)&&n.bindBufferRange(n.UNIFORM_BUFFER,s,v,p,h),this.currentUniformBuffers[s]=c,this.currentUniformBufferByteOffsets[s]=d,this.currentUniformBufferByteSizes[s]=h;}}}for(var l=0;l<u.numSamplers;l++){var f=i[l],_=u.firstSampler+l,m=null!==f&&null!==f.sampler?tP(f.sampler):null,g=null!==f&&null!==f.texture?tC(f.texture):null;if(this.currentSamplers[_]!==m&&(tT(n)&&n.bindSampler(_,m),this.currentSamplers[_]=m),this.currentTextures[_]!==g){if(this.setActiveTexture(n.TEXTURE0+_),null!==g){var b=eO(f).texture,y=b.gl_target,E=b.width,T=b.height;f.texture.textureIndex=_,n.bindTexture(y,g),tT(n)||null===(t=f.sampler)||void 0===t||t.setTextureParameters(y,E,T),this.debugGroupStatisticsTextureBind();}else{var A=(0,em.__assign)((0,em.__assign)({},f),ez),S=A.dimension,O=A.formatKind,y=function(e){if(e===Q.TEXTURE_2D)return B.TEXTURE_2D;if(e===Q.TEXTURE_2D_ARRAY)return B.TEXTURE_2D_ARRAY;if(e===Q.TEXTURE_CUBE_MAP)return B.TEXTURE_CUBE_MAP;if(e===Q.TEXTURE_3D)return B.TEXTURE_3D;throw Error("whoops");}(S);n.bindTexture(y,this.getFallbackTexture((0,em.__assign)({gl_target:y,formatKind:O},A)));}this.currentTextures[_]=g;}}},e.prototype.setViewport=function(e,t,r,n){this.gl.viewport(e,t,r,n);},e.prototype.setScissorRect=function(e,t,r,n){var a=this.gl;this.setScissorRectEnabled(!0),a.scissor(e,t,r,n);},e.prototype.applyAttachmentStateIndexed=function(e,t,r){var n=this.gl,a=this.OES_draw_buffers_indexed;t.channelWriteMask!==r.channelWriteMask&&(a.colorMaskiOES(e,!!(r.channelWriteMask&ee.RED),!!(r.channelWriteMask&ee.GREEN),!!(r.channelWriteMask&ee.BLUE),!!(r.channelWriteMask&ee.ALPHA)),t.channelWriteMask=r.channelWriteMask);var i=t.rgbBlendState.blendMode!==r.rgbBlendState.blendMode||t.alphaBlendState.blendMode!==r.alphaBlendState.blendMode,o=t.rgbBlendState.blendSrcFactor!==r.rgbBlendState.blendSrcFactor||t.alphaBlendState.blendSrcFactor!==r.alphaBlendState.blendSrcFactor||t.rgbBlendState.blendDstFactor!==r.rgbBlendState.blendDstFactor||t.alphaBlendState.blendDstFactor!==r.alphaBlendState.blendDstFactor;(o||i)&&(tI(t.rgbBlendState)&&tI(t.alphaBlendState)?a.enableiOES(e,n.BLEND):tI(r.rgbBlendState)&&tI(r.alphaBlendState)&&a.disableiOES(e,n.BLEND)),i&&(a.blendEquationSeparateiOES(e,r.rgbBlendState.blendMode,r.alphaBlendState.blendMode),t.rgbBlendState.blendMode=r.rgbBlendState.blendMode,t.alphaBlendState.blendMode=r.alphaBlendState.blendMode),o&&(a.blendFuncSeparateiOES(e,r.rgbBlendState.blendSrcFactor,r.rgbBlendState.blendDstFactor,r.alphaBlendState.blendSrcFactor,r.alphaBlendState.blendDstFactor),t.rgbBlendState.blendSrcFactor=r.rgbBlendState.blendSrcFactor,t.alphaBlendState.blendSrcFactor=r.alphaBlendState.blendSrcFactor,t.rgbBlendState.blendDstFactor=r.rgbBlendState.blendDstFactor,t.alphaBlendState.blendDstFactor=r.alphaBlendState.blendDstFactor);},e.prototype.applyAttachmentState=function(e,t){var r=this.gl;e.channelWriteMask!==t.channelWriteMask&&(r.colorMask(!!(t.channelWriteMask&ee.RED),!!(t.channelWriteMask&ee.GREEN),!!(t.channelWriteMask&ee.BLUE),!!(t.channelWriteMask&ee.ALPHA)),e.channelWriteMask=t.channelWriteMask);var n=e.rgbBlendState.blendMode!==t.rgbBlendState.blendMode||e.alphaBlendState.blendMode!==t.alphaBlendState.blendMode,a=e.rgbBlendState.blendSrcFactor!==t.rgbBlendState.blendSrcFactor||e.alphaBlendState.blendSrcFactor!==t.alphaBlendState.blendSrcFactor||e.rgbBlendState.blendDstFactor!==t.rgbBlendState.blendDstFactor||e.alphaBlendState.blendDstFactor!==t.alphaBlendState.blendDstFactor;(a||n)&&(tI(e.rgbBlendState)&&tI(e.alphaBlendState)?r.enable(r.BLEND):tI(t.rgbBlendState)&&tI(t.alphaBlendState)&&r.disable(r.BLEND)),n&&(r.blendEquationSeparate(t.rgbBlendState.blendMode,t.alphaBlendState.blendMode),e.rgbBlendState.blendMode=t.rgbBlendState.blendMode,e.alphaBlendState.blendMode=t.alphaBlendState.blendMode),a&&(r.blendFuncSeparate(t.rgbBlendState.blendSrcFactor,t.rgbBlendState.blendDstFactor,t.alphaBlendState.blendSrcFactor,t.alphaBlendState.blendDstFactor),e.rgbBlendState.blendSrcFactor=t.rgbBlendState.blendSrcFactor,e.alphaBlendState.blendSrcFactor=t.alphaBlendState.blendSrcFactor,e.rgbBlendState.blendDstFactor=t.rgbBlendState.blendDstFactor,e.alphaBlendState.blendDstFactor=t.alphaBlendState.blendDstFactor);},e.prototype.setMegaState=function(e){var t=this.gl,r=this.currentMegaState;if(null!==this.OES_draw_buffers_indexed)for(var n=0;n<e.attachmentsState.length;n++)this.applyAttachmentStateIndexed(n,r.attachmentsState[0],e.attachmentsState[0]);else eS(1===e.attachmentsState.length),this.applyAttachmentState(r.attachmentsState[0],e.attachmentsState[0]);eR(r.blendConstant,e.blendConstant)||(t.blendColor(e.blendConstant.r,e.blendConstant.g,e.blendConstant.b,e.blendConstant.a),eM(r.blendConstant,e.blendConstant)),r.depthCompare!==e.depthCompare&&(t.depthFunc(e.depthCompare),r.depthCompare=e.depthCompare),!!r.depthWrite!=!!e.depthWrite&&(t.depthMask(e.depthWrite),r.depthWrite=e.depthWrite),!!r.stencilWrite!=!!e.stencilWrite&&(t.stencilMask(e.stencilWrite?255:0),r.stencilWrite=e.stencilWrite);var a=!1;if(!e$(r.stencilFront,e.stencilFront)){a=!0;var i=e.stencilFront,o=i.passOp,u=i.failOp,l=i.depthFailOp,f=i.compare;(r.stencilFront.passOp!==o||r.stencilFront.failOp!==u||r.stencilFront.depthFailOp!==l)&&(t.stencilOpSeparate(t.FRONT,u,l,o),r.stencilFront.passOp=o,r.stencilFront.failOp=u,r.stencilFront.depthFailOp=l),r.stencilFront.compare!==f&&(this.setStencilReference(0),r.stencilFront.compare=f);}if(!e$(r.stencilBack,e.stencilBack)){a=!0;var s=e.stencilBack,o=s.passOp,u=s.failOp,l=s.depthFailOp,f=s.compare;(r.stencilBack.passOp!==o||r.stencilBack.failOp!==u||r.stencilBack.depthFailOp!==l)&&(t.stencilOpSeparate(t.BACK,u,l,o),r.stencilBack.passOp=o,r.stencilBack.failOp=u,r.stencilBack.depthFailOp=l),r.stencilBack.compare!==f&&(this.setStencilReference(0),r.stencilBack.compare=f);}(r.stencilFront.mask!==e.stencilFront.mask||r.stencilBack.mask!==e.stencilBack.mask)&&(a=!0,r.stencilFront.mask=e.stencilFront.mask,r.stencilBack.mask=e.stencilBack.mask),a&&this.applyStencil(),r.cullMode!==e.cullMode&&(r.cullMode===G.NONE?t.enable(t.CULL_FACE):e.cullMode===G.NONE&&t.disable(t.CULL_FACE),e.cullMode===G.BACK?t.cullFace(t.BACK):e.cullMode===G.FRONT?t.cullFace(t.FRONT):e.cullMode===G.FRONT_AND_BACK&&t.cullFace(t.FRONT_AND_BACK),r.cullMode=e.cullMode),r.frontFace!==e.frontFace&&(t.frontFace(e.frontFace),r.frontFace=e.frontFace),r.polygonOffset!==e.polygonOffset&&(e.polygonOffset?t.enable(t.POLYGON_OFFSET_FILL):t.disable(t.POLYGON_OFFSET_FILL),r.polygonOffset=e.polygonOffset),(r.polygonOffsetFactor!==e.polygonOffsetFactor||r.polygonOffsetUnits!==e.polygonOffsetUnits)&&(t.polygonOffset(e.polygonOffsetFactor,e.polygonOffsetUnits),r.polygonOffsetFactor=e.polygonOffsetFactor,r.polygonOffsetUnits=e.polygonOffsetUnits);},e.prototype.validatePipelineFormats=function(e){for(var t=0;t<this.currentColorAttachments.length;t++)if(null===this.currentColorAttachments[t])continue;this.currentDepthStencilAttachment&&eS(this.currentDepthStencilAttachment.format===e.depthStencilAttachmentFormat),-1!==this.currentSampleCount&&eS(this.currentSampleCount===e.sampleCount);},e.prototype.setPipeline=function(e){var t=this;if(this.renderBundle){this.renderBundle.push(function(){return t.setPipeline(e);});return;}this.currentPipeline=e,this.validatePipelineFormats(this.currentPipeline),this.setMegaState(this.currentPipeline.megaState);var r=this.currentPipeline.program;if(this.useProgram(r),r.compileState===ed.NeedsBind){var n=this.gl,a=r.gl_program,i=r.descriptor,o=tw(i.vertex.glsl,tY);if(tT(n))for(var u=0;u<o.length;u++){var l=(0,em.__read)(o[u],2)[1],f=n.getUniformBlockIndex(a,l);-1!==f&&4294967295!==f&&n.uniformBlockBinding(a,f,u);}for(var s=tw(i.fragment.glsl,/^uniform .*sampler\S+ (\w+);\s* \/\/ BINDING=(\d+)$/gm),u=0;u<s.length;u++){var c=(0,em.__read)(s[u],3),d=c[1],h=c[2],p=n.getUniformLocation(a,d);n.uniform1i(p,parseInt(h));}r.compileState=ed.ReadyToUse;}},e.prototype.setVertexInput=function(e,t,r){var n,a,i,o=this;if(this.renderBundle){this.renderBundle.push(function(){return o.setVertexInput(e,t,r);});return;}if(null!==e){eS(this.currentPipeline.inputLayout===e),this.bindVAO(e.vao);for(var u=this.gl,l=0;l<e.vertexBufferDescriptors.length;l++){var f=e.vertexBufferDescriptors[l],s=f.arrayStride,c=f.attributes;try{for(var d=(n=void 0,(0,em.__values)(c)),h=d.next();!h.done;h=d.next()){var p=h.value,v=p.shaderLocation,_=p.offset,m=tT(u)?v:null===(i=e.program.attributes[v])||void 0===i?void 0:i.location;if(!(0,e_.isNil)(m)){var g=t[l];if(null===g)continue;var b=p.vertexFormat;u.bindBuffer(u.ARRAY_BUFFER,tx(g.buffer));var y=(g.offset||0)+_;u.vertexAttribPointer(m,b.size,b.type,b.normalized,s,y);}}}catch(e){n={error:e};}finally{try{h&&!h.done&&(a=d.return)&&a.call(d);}finally{if(n)throw n.error;}}}if(eS(null!==r==(null!==e.indexBufferFormat)),null!==r){var E=r.buffer;eS(E.usage===q.INDEX),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,tx(E)),this.currentIndexBufferByteOffset=r.offset||0;}else this.currentIndexBufferByteOffset=null;}else eS(null===this.currentPipeline.inputLayout),eS(null===r),this.bindVAO(null),this.currentIndexBufferByteOffset=0;},e.prototype.setStencilReference=function(e){this.currentStencilRef!==e&&(this.currentStencilRef=e,this.applyStencil());},e.prototype.draw=function(e,t,r,n){var a,i=this;if(this.renderBundle){this.renderBundle.push(function(){return i.draw(e,t,r,n);});return;}var o=this.gl,u=this.currentPipeline;if(t){var l=[u.drawMode,r||0,e,t];tT(o)?o.drawArraysInstanced.apply(o,(0,em.__spreadArray)([],(0,em.__read)(l),!1)):(a=this.ANGLE_instanced_arrays).drawArraysInstancedANGLE.apply(a,(0,em.__spreadArray)([],(0,em.__read)(l),!1));}else o.drawArrays(u.drawMode,r,e);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(e/3*Math.max(t,1));},e.prototype.drawIndexed=function(e,t,r,n,a){var i,o=this;if(this.renderBundle){this.renderBundle.push(function(){return o.drawIndexed(e,t,r,n,a);});return;}var u=this.gl,l=this.currentPipeline,f=eO(l.inputLayout),s=eO(this.currentIndexBufferByteOffset)+r*f.indexBufferCompByteSize;if(t){var c=[l.drawMode,e,f.indexBufferType,s,t];tT(u)?u.drawElementsInstanced.apply(u,(0,em.__spreadArray)([],(0,em.__read)(c),!1)):(i=this.ANGLE_instanced_arrays).drawElementsInstancedANGLE.apply(i,(0,em.__spreadArray)([],(0,em.__read)(c),!1));}else u.drawElements(l.drawMode,e,f.indexBufferType,s);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(e/3*Math.max(t,1));},e.prototype.drawIndirect=function(e,t){},e.prototype.drawIndexedIndirect=function(e,t){},e.prototype.beginOcclusionQuery=function(e){var t=this.gl;if(tT(t)){var r=this.currentRenderPassDescriptor.occlusionQueryPool;t.beginQuery(r.gl_query_type,r.gl_query[e]);}},e.prototype.endOcclusionQuery=function(){var e=this.gl;if(tT(e)){var t=this.currentRenderPassDescriptor.occlusionQueryPool;e.endQuery(t.gl_query_type);}},e.prototype.pipelineQueryReady=function(e){return this.queryProgramReady(e.program);},e.prototype.pipelineForceReady=function(e){},e.prototype.endPass=function(){for(var e=this.gl,t=tT(e),r=1===this.currentColorResolveTos.length&&this.currentColorResolveTos[0]===this.scTexture,n=!1,a=0;a<this.currentColorAttachments.length;a++){var i=this.currentColorAttachments[a];if(null!==i){var o=this.currentColorResolveTos[a],u=!1;null!==o&&(eS(i.width===o.width&&i.height===o.height),this.setScissorRectEnabled(!1),!r&&(t&&e.bindFramebuffer(e.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&t&&this.bindFramebufferAttachment(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,i,this.currentColorAttachmentLevels[a])),u=!0,!r&&(o===this.scTexture?e.bindFramebuffer(t?B.DRAW_FRAMEBUFFER:B.FRAMEBUFFER,this.scPlatformFramebuffer):(e.bindFramebuffer(t?B.DRAW_FRAMEBUFFER:B.FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.resolveColorAttachmentsChanged&&e.framebufferTexture2D(t?B.DRAW_FRAMEBUFFER:B.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o.gl_texture,this.currentColorResolveToLevels[a]))),r||(t?(e.blitFramebuffer(0,0,i.width,i.height,0,0,o.width,o.height,e.COLOR_BUFFER_BIT,e.LINEAR),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null)):this.submitBlitRenderPass(i,o)),n=!0),this.currentRenderPassDescriptor.colorStore[a]||r||u||(e.bindFramebuffer(t?B.READ_FRAMEBUFFER:B.FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&this.bindFramebufferAttachment(t?B.READ_FRAMEBUFFER:B.FRAMEBUFFER,e.COLOR_ATTACHMENT0,i,this.currentColorAttachmentLevels[a])),r||e.bindFramebuffer(t?B.READ_FRAMEBUFFER:B.FRAMEBUFFER,null);}}this.resolveColorAttachmentsChanged=!1;var l=this.currentDepthStencilAttachment;if(l){var f=this.currentDepthStencilResolveTo,u=!1;f&&(eS(l.width===f.width&&l.height===f.height),this.setScissorRectEnabled(!1),!r&&(e.bindFramebuffer(t?B.READ_FRAMEBUFFER:B.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),e.bindFramebuffer(t?B.DRAW_FRAMEBUFFER:B.FRAMEBUFFER,this.resolveDepthStencilDrawFramebuffer),this.resolveDepthStencilAttachmentsChanged&&(this.bindFramebufferDepthStencilAttachment(t?B.READ_FRAMEBUFFER:B.FRAMEBUFFER,l),this.bindFramebufferDepthStencilAttachment(t?B.DRAW_FRAMEBUFFER:B.FRAMEBUFFER,f))),u=!0,r||(t&&e.blitFramebuffer(0,0,l.width,l.height,0,0,f.width,f.height,e.DEPTH_BUFFER_BIT,e.NEAREST),e.bindFramebuffer(t?B.DRAW_FRAMEBUFFER:B.FRAMEBUFFER,null)),n=!0),r||this.currentRenderPassDescriptor.depthStencilStore||(u||(e.bindFramebuffer(t?B.READ_FRAMEBUFFER:B.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),this.resolveDepthStencilAttachmentsChanged&&this.bindFramebufferDepthStencilAttachment(t?B.READ_FRAMEBUFFER:B.FRAMEBUFFER,l),u=!0),t&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[e.DEPTH_STENCIL_ATTACHMENT])),!r&&u&&e.bindFramebuffer(t?B.READ_FRAMEBUFFER:B.FRAMEBUFFER,null),this.resolveDepthStencilAttachmentsChanged=!1;}r||n||e.bindFramebuffer(t?B.DRAW_FRAMEBUFFER:B.FRAMEBUFFER,null);},e.prototype.setScissorRectEnabled=function(e){if(this.currentScissorEnabled!==e){var t=this.gl;e?t.enable(t.SCISSOR_TEST):t.disable(t.SCISSOR_TEST),this.currentScissorEnabled=e;}},e.prototype.applyStencil=function(){(0,e_.isNil)(this.currentStencilRef)||(this.gl.stencilFuncSeparate(B.FRONT,this.currentMegaState.stencilFront.compare,this.currentStencilRef,this.currentMegaState.stencilFront.mask||255),this.gl.stencilFuncSeparate(B.BACK,this.currentMegaState.stencilBack.compare,this.currentStencilRef,this.currentMegaState.stencilBack.mask||255));},e.prototype.getFallbackTexture=function(e){var t=e.gl_target,r=e.formatKind;if(t===B.TEXTURE_2D)return r===er.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(t===B.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(t===B.TEXTURE_3D)return this.fallbackTexture3D;if(t===B.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw Error("whoops");},e.prototype.submitBlitRenderPass=function(e,t){this.blitRenderPipeline||(this.blitProgram=this.createProgram({vertex:{glsl:"layout(location = 0) in vec2 a_Position;\nout vec2 v_TexCoord;\nvoid main() {\n  v_TexCoord = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n\n  #ifdef VIEWPORT_ORIGIN_TL\n    v_TexCoord.y = 1.0 - v_TexCoord.y;\n  #endif\n}"},fragment:{glsl:"uniform sampler2D u_Texture;\nin vec2 v_TexCoord;\nout vec4 outputColor;\nvoid main() {\n  outputColor = texture(SAMPLER_2D(u_Texture), v_TexCoord);\n}"}}),this.blitVertexBuffer=this.createBuffer({usage:q.VERTEX|q.COPY_DST,viewOrSize:new Float32Array([-4,-4,4,-4,0,4])}),this.blitInputLayout=this.createInputLayout({vertexBufferDescriptors:[{arrayStride:8,stepMode:K.VERTEX,attributes:[{format:ef.F32_RG,offset:0,shaderLocation:0}]}],indexBufferFormat:null,program:this.blitProgram}),this.blitRenderPipeline=this.createRenderPipeline({topology:Y.TRIANGLES,sampleCount:1,program:this.blitProgram,colorAttachmentFormats:[ef.U8_RGBA_RT],depthStencilAttachmentFormat:null,inputLayout:this.blitInputLayout,megaStateDescriptor:ej(eG)}),this.blitBindings=this.createBindings({samplerBindings:[{sampler:null,texture:e.texture}],uniformBufferBindings:[]}),this.blitProgram.setUniformsLegacy({u_Texture:e}));var r=this.currentRenderPassDescriptor;this.currentRenderPassDescriptor=null,this.inBlitRenderPass=!0;var n=this.createRenderPass({colorAttachment:[e],colorResolveTo:[t],colorClearColor:[eL]}),a=this.getCanvas(),i=a.width,o=a.height;n.setPipeline(this.blitRenderPipeline),n.setBindings(this.blitBindings),n.setVertexInput(this.blitInputLayout,[{buffer:this.blitVertexBuffer}],null),n.setViewport(0,0,i,o),this.gl.disable(this.gl.BLEND),n.draw(3,0),this.gl.enable(this.gl.BLEND),this.currentRenderPassDescriptor=r,this.inBlitRenderPass=!1;},e;}(),tZ=function(){function e(e){this.pluginOptions=e;}return e.prototype.createSwapChain=function(e){return(0,em.__awaiter)(this,void 0,void 0,function(){var t,r,n,a,i,o,u,l,f,s,c,d,h;return(0,em.__generator)(this,function(p){return r=(t=this.pluginOptions).targets,n=t.xrCompatible,i=void 0!==(a=t.antialias)&&a,u=void 0!==(o=t.preserveDrawingBuffer)&&o,f=void 0===(l=t.premultipliedAlpha)||l,s=t.shaderDebug,c=t.trackResources,d={antialias:i,preserveDrawingBuffer:u,stencil:!0,premultipliedAlpha:f,xrCompatible:n},this.handleContextEvents(e),r.includes("webgl2")&&(h=e.getContext("webgl2",d)||e.getContext("experimental-webgl2",d)),!h&&r.includes("webgl1")&&(h=e.getContext("webgl",d)||e.getContext("experimental-webgl",d)),[2,new tq(h,{shaderDebug:s,trackResources:c})];});});},e.prototype.handleContextEvents=function(e){var t=this.pluginOptions,r=t.onContextLost,n=t.onContextRestored,a=t.onContextCreationError;a&&e.addEventListener("webglcontextcreationerror",a,!1),r&&e.addEventListener("webglcontextlost",r,!1),n&&e.addEventListener("webglcontextrestored",n,!1);},e;}();let tK="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available");}};"undefined"!=typeof TextDecoder&&tK.decode();let t$=null;function tQ(){return(null===t$||0===t$.byteLength)&&(t$=new Uint8Array(n.memory.buffer)),t$;}function tJ(e,t){return e>>>=0,tK.decode(tQ().subarray(e,e+t));}let t0=Array(128).fill(void 0);t0.push(void 0,null,!0,!1);let t1=t0.length,t3=0,t2="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available");}},t4="function"==typeof t2.encodeInto?function(e,t){return t2.encodeInto(e,t);}:function(e,t){let r=t2.encode(e);return t.set(r),{read:e.length,written:r.length};};function t6(e,t,r){if(void 0===r){let r=t2.encode(e),n=t(r.length,1)>>>0;return tQ().subarray(n,n+r.length).set(r),t3=r.length,n;}let n=e.length,a=t(n,1)>>>0,i=tQ(),o=0;for(;o<n;o++){let t=e.charCodeAt(o);if(t>127)break;i[a+o]=t;}if(o!==n){0!==o&&(e=e.slice(o)),a=r(a,n,n=o+3*e.length,1)>>>0;let t=t4(e,tQ().subarray(a+o,a+n));o+=t.written;}return t3=o,a;}let t7=null;function t5(){return(null===t7||0===t7.byteLength)&&(t7=new Int32Array(n.memory.buffer)),t7;}function t9(e,t,r){let a,i;try{let l=n.__wbindgen_add_to_stack_pointer(-16),f=t6(e,n.__wbindgen_malloc,n.__wbindgen_realloc),s=t3,c=t6(t,n.__wbindgen_malloc,n.__wbindgen_realloc),d=t3;n.glsl_compile(l,f,s,c,d,r);var o=t5()[l/4+0],u=t5()[l/4+1];return a=o,i=u,tJ(o,u);}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(a,i,1);}}class t8{static __wrap(e){e>>>=0;let t=Object.create(t8.prototype);return t.__wbg_ptr=e,t;}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,e;}free(){let e=this.__destroy_into_raw();n.__wbg_wgslcomposer_free(e);}constructor(){let e=n.wgslcomposer_new();return t8.__wrap(e);}load_composable(e){let t=t6(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=t3;n.wgslcomposer_load_composable(this.__wbg_ptr,t,r);}wgsl_compile(e){let t,r;try{let o=n.__wbindgen_add_to_stack_pointer(-16),u=t6(e,n.__wbindgen_malloc,n.__wbindgen_realloc),l=t3;n.wgslcomposer_wgsl_compile(o,this.__wbg_ptr,u,l);var a=t5()[o/4+0],i=t5()[o/4+1];return t=a,r=i,tJ(a,i);}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,r,1);}}}async function re(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t);}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t;}let r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t);}{let r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r;}}async function rt(e){if(void 0!==n)return n;let t=function(){let e={};return e.wbg={},e.wbg.__wbindgen_string_new=function(e,t){return function(e){t1===t0.length&&t0.push(t0.length+1);let t=t1;return t1=t0[t],t0[t]=e,t;}(tJ(e,t));},e.wbg.__wbindgen_object_drop_ref=function(e){var t;t0[t=e],t<132||(t0[t]=t1,t1=t);},e.wbg.__wbg_log_1d3ae0273d8f4f8a=function(e){console.log(t0[e]);},e.wbg.__wbg_log_576ca876af0d4a77=function(e,t){console.log(t0[e],t0[t]);},e.wbg.__wbindgen_throw=function(e,t){throw Error(tJ(e,t));},e;}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:r,module:a}=await re(await e,t);return n=r.exports,rt.__wbindgen_wasm_module=a,t7=null,t$=null,n;}function rr(e){if(e===ef.U8_R_NORM)return"r8unorm";if(e===ef.S8_R_NORM)return"r8snorm";if(e===ef.U8_RG_NORM)return"rg8unorm";if(e===ef.S8_RG_NORM)return"rg8snorm";if(e===ef.U32_R)return"r32uint";if(e===ef.S32_R)return"r32sint";if(e===ef.F32_R)return"r32float";else if(e===ef.U16_RG)return"rg16uint";else if(e===ef.S16_RG)return"rg16sint";else if(e===ef.F16_RG)return"rg16float";else if(e===ef.U8_RGBA_RT)return"bgra8unorm";else if(e===ef.U8_RGBA_RT_SRGB)return"bgra8unorm-srgb";else if(e===ef.U8_RGBA_NORM)return"rgba8unorm";else if(e===ef.U8_RGBA_SRGB)return"rgba8unorm-srgb";else if(e===ef.S8_RGBA_NORM)return"rgba8snorm";else if(e===ef.U32_RG)return"rg32uint";else if(e===ef.S32_RG)return"rg32sint";else if(e===ef.F32_RG)return"rg32float";else if(e===ef.U16_RGBA)return"rgba16uint";else if(e===ef.S16_RGBA)return"rgba16sint";else if(e===ef.F16_RGBA)return"rgba16float";else if(e===ef.F32_RGBA)return"rgba32float";else if(e===ef.U32_RGBA)return"rgba32uint";else if(e===ef.S32_RGBA)return"rgba32sint";else if(e===ef.D24)return"depth24plus";else if(e===ef.D24_S8)return"depth24plus-stencil8";else if(e===ef.D32F)return"depth32float";else if(e===ef.D32F_S8)return"depth32float-stencil8";else if(e===ef.BC1)return"bc1-rgba-unorm";else if(e===ef.BC1_SRGB)return"bc1-rgba-unorm-srgb";else if(e===ef.BC2)return"bc2-rgba-unorm";else if(e===ef.BC2_SRGB)return"bc2-rgba-unorm-srgb";else if(e===ef.BC3)return"bc3-rgba-unorm";else if(e===ef.BC3_SRGB)return"bc3-rgba-unorm-srgb";else if(e===ef.BC4_SNORM)return"bc4-r-snorm";else if(e===ef.BC4_UNORM)return"bc4-r-unorm";else if(e===ef.BC5_SNORM)return"bc5-rg-snorm";else if(e===ef.BC5_UNORM)return"bc5-rg-unorm";else throw"whoops";}function rn(e){if(e===H.CLAMP_TO_EDGE)return"clamp-to-edge";if(e===H.REPEAT)return"repeat";if(e===H.MIRRORED_REPEAT)return"mirror-repeat";throw Error("whoops");}function ra(e){if(e===X.BILINEAR)return"linear";if(e===X.POINT)return"nearest";throw Error("whoops");}function ri(e){return e.gpuBuffer;}function ro(e){if(e===z.ZERO)return"zero";if(e===z.ONE)return"one";if(e===z.SRC)return"src";if(e===z.ONE_MINUS_SRC)return"one-minus-src";if(e===z.DST)return"dst";if(e===z.ONE_MINUS_DST)return"one-minus-dst";if(e===z.SRC_ALPHA)return"src-alpha";else if(e===z.ONE_MINUS_SRC_ALPHA)return"one-minus-src-alpha";else if(e===z.DST_ALPHA)return"dst-alpha";else if(e===z.ONE_MINUS_DST_ALPHA)return"one-minus-dst-alpha";else if(e===z.CONST)return"constant";else if(e===z.ONE_MINUS_CONSTANT)return"one-minus-constant";else if(e===z.SRC_ALPHA_SATURATE)return"src-alpha-saturated";else throw Error("whoops");}function ru(e){return{operation:function(e){if(e===V.ADD)return"add";if(e===V.SUBSTRACT)return"subtract";if(e===V.REVERSE_SUBSTRACT)return"reverse-subtract";if(e===V.MIN)return"min";if(e===V.MAX)return"max";throw Error("whoops");}(e.blendMode),srcFactor:ro(e.blendSrcFactor),dstFactor:ro(e.blendDstFactor)};}function rl(e){return e.blendMode===V.ADD&&e.blendSrcFactor===z.ONE&&e.blendDstFactor===z.ZERO;}function rf(e){if(e===j.NEVER)return"never";if(e===j.LESS)return"less";if(e===j.EQUAL)return"equal";if(e===j.LEQUAL)return"less-equal";if(e===j.GREATER)return"greater";if(e===j.NOTEQUAL)return"not-equal";if(e===j.GEQUAL)return"greater-equal";else if(e===j.ALWAYS)return"always";else throw Error("whoops");}function rs(e){if(e===et.KEEP)return"keep";if(e===et.REPLACE)return"replace";if(e===et.ZERO)return"zero";if(e===et.DECREMENT_CLAMP)return"decrement-clamp";if(e===et.DECREMENT_WRAP)return"decrement-wrap";if(e===et.INCREMENT_CLAMP)return"increment-clamp";if(e===et.INCREMENT_WRAP)return"increment-wrap";else if(e===et.INVERT)return"invert";else throw Error("whoops");}function rc(e,t,r,n){switch(void 0===r&&(r=!1),e){case ef.S8_R:case ef.S8_R_NORM:case ef.S8_RG_NORM:case ef.S8_RGB_NORM:case ef.S8_RGBA_NORM:var a=new Int8Array(t);return n&&a.set(new Int8Array(n)),a;case ef.U8_R:case ef.U8_R_NORM:case ef.U8_RG:case ef.U8_RG_NORM:case ef.U8_RGB:case ef.U8_RGB_NORM:case ef.U8_RGB_SRGB:case ef.U8_RGBA:case ef.U8_RGBA_NORM:case ef.U8_RGBA_SRGB:var i=new Uint8Array(t);return n&&i.set(new Uint8Array(n)),i;case ef.S16_R:case ef.S16_RG:case ef.S16_RG_NORM:case ef.S16_RGB_NORM:case ef.S16_RGBA:case ef.S16_RGBA_NORM:var o=new Int16Array(t instanceof ArrayBuffer?t:r?t/2:t);return n&&o.set(new Int16Array(n)),o;case ef.U16_R:case ef.U16_RGB:case ef.U16_RGBA_5551:case ef.U16_RGBA_NORM:case ef.U16_RG_NORM:case ef.U16_R_NORM:var u=new Uint16Array(t instanceof ArrayBuffer?t:r?t/2:t);return n&&u.set(new Uint16Array(n)),u;case ef.S32_R:var l=new Int32Array(t instanceof ArrayBuffer?t:r?t/4:t);return n&&l.set(new Int32Array(n)),l;case ef.U32_R:case ef.U32_RG:var f=new Uint32Array(t instanceof ArrayBuffer?t:r?t/4:t);return n&&f.set(new Uint32Array(n)),f;case ef.F32_R:case ef.F32_RG:case ef.F32_RGB:case ef.F32_RGBA:var s=new Float32Array(t instanceof ArrayBuffer?t:r?t/4:t);return n&&s.set(new Float32Array(n)),s;}var c=new Uint8Array(t);return n&&c.set(new Uint8Array(n)),c;}function rd(e){switch(e){case"r8unorm":case"r8snorm":case"r8uint":case"r8sint":return{width:1,height:1,length:1};case"r16uint":case"r16sint":case"r16float":case"rg8unorm":case"rg8snorm":case"rg8uint":case"rg8sint":case"depth16unorm":return{width:1,height:1,length:2};case"r32uint":case"r32sint":case"r32float":case"rg16uint":case"rg16sint":case"rg16float":case"rgba8unorm":case"rgba8unorm-srgb":case"rgba8snorm":case"rgba8uint":case"rgba8sint":case"bgra8unorm":case"bgra8unorm-srgb":case"rgb9e5ufloat":case"rgb10a2unorm":case"rg11b10ufloat":case"depth32float":default:return{width:1,height:1,length:4};case"rg32uint":case"rg32sint":case"rg32float":case"rgba16uint":case"rgba16sint":case"rgba16float":return{width:1,height:1,length:8};case"rgba32uint":case"rgba32sint":case"rgba32float":return{width:1,height:1,length:16};case"stencil8":throw Error("No fixed size for Stencil8 format!");case"depth24plus":throw Error("No fixed size for Depth24Plus format!");case"depth24plus-stencil8":throw Error("No fixed size for Depth24PlusStencil8 format!");case"depth32float-stencil8":return{width:1,height:1,length:5};case"bc7-rgba-unorm":case"bc7-rgba-unorm-srgb":case"bc6h-rgb-ufloat":case"bc6h-rgb-float":case"bc2-rgba-unorm":case"bc2-rgba-unorm-srgb":case"bc3-rgba-unorm":case"bc3-rgba-unorm-srgb":case"bc5-rg-unorm":case"bc5-rg-snorm":return{width:4,height:4,length:16};case"bc4-r-unorm":case"bc4-r-snorm":case"bc1-rgba-unorm":case"bc1-rgba-unorm-srgb":return{width:4,height:4,length:8};}}(D=eh||(eh={}))[D.COPY_SRC=1]="COPY_SRC",D[D.COPY_DST=2]="COPY_DST",D[D.TEXTURE_BINDING=4]="TEXTURE_BINDING",D[D.STORAGE_BINDING=8]="STORAGE_BINDING",D[D.STORAGE=8]="STORAGE",D[D.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT",(F=ep||(ep={}))[F.READ=1]="READ",F[F.WRITE=2]="WRITE";var rh=function(e){function t(t){var r=t.id,n=t.device,a=e.call(this)||this;return a.id=r,a.device=n,a;}return(0,em.__extends)(t,e),t.prototype.destroy=function(){},t;}(eg.default),rp=function(e){function t(t){var r,n,a=t.id,i=t.device,o=t.descriptor,u=e.call(this,{id:a,device:i})||this;u.type=U.Bindings;var l=o.pipeline;eS(!!l);var f=o.uniformBufferBindings,s=o.storageBufferBindings,c=o.samplerBindings,d=o.storageTextureBindings;u.numUniformBuffers=(null==f?void 0:f.length)||0;var h=[[],[],[],[]],p=0;if(f&&f.length)for(var v=0;v<f.length;v++){var _=o.uniformBufferBindings[v],m=_.binding,g=_.size,b=_.offset,y=_.buffer,E={buffer:ri(y),offset:null!=b?b:0,size:g};h[0].push({binding:null!=m?m:p++,resource:E});}if(c&&c.length){p=0;for(var v=0;v<c.length;v++){var T=(0,em.__assign)((0,em.__assign)({},c[v]),ez),m=o.samplerBindings[v],A=null!==m.texture?m.texture:u.device.getFallbackTexture(T);T.dimension=A.dimension,T.formatKind=eA(A.format);var S=A.gpuTextureView;if(h[1].push({binding:null!==(r=m.textureBinding)&&void 0!==r?r:p++,resource:S}),-1!==m.samplerBinding){var O=(null!==m.sampler?m.sampler:u.device.getFallbackSampler(T)).gpuSampler;h[1].push({binding:null!==(n=m.samplerBinding)&&void 0!==n?n:p++,resource:O});}}}if(s&&s.length){p=0;for(var v=0;v<s.length;v++){var R=o.storageBufferBindings[v],m=R.binding,g=R.size,b=R.offset,y=R.buffer,E={buffer:ri(y),offset:null!=b?b:0,size:g};h[2].push({binding:null!=m?m:p++,resource:E});}}if(d&&d.length){p=0;for(var v=0;v<d.length;v++){var M=o.storageTextureBindings[v],m=M.binding,A=M.texture,S=A.gpuTextureView;h[3].push({binding:null!=m?m:p++,resource:S});}}var x=h.findLastIndex(function(e){return!!e.length;});return u.gpuBindGroup=h.map(function(e,t){return t<=x&&u.device.device.createBindGroup({layout:l.getBindGroupLayout(t),entries:e});}),u;}return(0,em.__extends)(t,e),t;}(rh),rv=function(e){function t(t){var r,n=t.id,a=t.device,i=t.descriptor,o=e.call(this,{id:n,device:a})||this;o.type=U.Buffer;var u=i.usage,l=i.viewOrSize,f=!!(u&q.MAP_READ);o.usage=(r=0,u&q.INDEX&&(r|=GPUBufferUsage.INDEX),u&q.VERTEX&&(r|=GPUBufferUsage.VERTEX),u&q.UNIFORM&&(r|=GPUBufferUsage.UNIFORM),u&q.STORAGE&&(r|=GPUBufferUsage.STORAGE),u&q.COPY_SRC&&(r|=GPUBufferUsage.COPY_SRC),u&q.INDIRECT&&(r|=GPUBufferUsage.INDIRECT),r|=GPUBufferUsage.COPY_DST),f&&(o.usage=q.MAP_READ|q.COPY_DST);var s=!(0,e_.isNumber)(l);return o.view=(0,e_.isNumber)(l)?null:l,o.size=(0,e_.isNumber)(l)?eN(l,4):eN(l.byteLength,4),(0,e_.isNumber)(l)?o.gpuBuffer=o.device.device.createBuffer({usage:o.usage,size:o.size,mappedAtCreation:!!f&&s}):(o.gpuBuffer=o.device.device.createBuffer({usage:o.usage,size:o.size,mappedAtCreation:!0}),new(l&&l.constructor||Float32Array)(o.gpuBuffer.getMappedRange()).set(l),o.gpuBuffer.unmap()),o;}return(0,em.__extends)(t,e),t.prototype.setSubData=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var a=this.gpuBuffer;n=Math.min(n=n||t.byteLength,this.size-e);var i=t.byteOffset+r,o=i+n,u=n+3&-4;if(u!==n){var l=new Uint8Array(t.buffer.slice(i,o));(t=new Uint8Array(u)).set(l),r=0,i=0,o=u,n=u;}for(var f=0;o-(i+f)>15728640;)this.device.device.queue.writeBuffer(a,e+f,t.buffer,i+f,15728640),f+=15728640;this.device.device.queue.writeBuffer(a,e+f,t.buffer,i+f,n-f);},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gpuBuffer.destroy();},t;}(rh),r_=function(){function e(){this.gpuComputePassEncoder=null;}return e.prototype.dispatchWorkgroups=function(e,t,r){this.gpuComputePassEncoder.dispatchWorkgroups(e,t,r);},e.prototype.dispatchWorkgroupsIndirect=function(e,t){this.gpuComputePassEncoder.dispatchWorkgroupsIndirect(e.gpuBuffer,t);},e.prototype.finish=function(){this.gpuComputePassEncoder.end(),this.gpuComputePassEncoder=null,this.frameCommandEncoder=null;},e.prototype.beginComputePass=function(e){eS(null===this.gpuComputePassEncoder),this.frameCommandEncoder=e,this.gpuComputePassEncoder=this.frameCommandEncoder.beginComputePass(this.gpuComputePassDescriptor);},e.prototype.setPipeline=function(e){var t=eO(e.gpuComputePipeline);this.gpuComputePassEncoder.setPipeline(t);},e.prototype.setBindings=function(e){var t=this;e.gpuBindGroup.forEach(function(r,n){r&&t.gpuComputePassEncoder.setBindGroup(n,e.gpuBindGroup[n]);});},e.prototype.pushDebugGroup=function(e){this.gpuComputePassEncoder.pushDebugGroup(e);},e.prototype.popDebugGroup=function(){this.gpuComputePassEncoder.popDebugGroup();},e.prototype.insertDebugMarker=function(e){this.gpuComputePassEncoder.insertDebugMarker(e);},e;}(),rm=function(e){function t(t){var r=t.id,n=t.device,a=t.descriptor,i=e.call(this,{id:r,device:n})||this;i.type=U.ComputePipeline,i.gpuComputePipeline=null,i.descriptor=a;var o=a.program.computeStage;if(null===o)return i;var u={layout:"auto",compute:(0,em.__assign)({},o)};return i.gpuComputePipeline=i.device.device.createComputePipeline(u),void 0!==i.name&&(i.gpuComputePipeline.label=i.name),i;}return(0,em.__extends)(t,e),t.prototype.getBindGroupLayout=function(e){return this.gpuComputePipeline.getBindGroupLayout(e);},t;}(rh),rg=function(e){function t(t){var r,n,a,i,o=t.id,u=t.device,l=t.descriptor,f=e.call(this,{id:o,device:u})||this;f.type=U.InputLayout;var s=[];try{for(var c=(0,em.__values)(l.vertexBufferDescriptors),d=c.next();!d.done;d=c.next()){var h=d.value,p=h.arrayStride,v=h.stepMode,_=h.attributes;s.push({arrayStride:p,stepMode:function(e){if(e===K.VERTEX)return"vertex";if(e===K.INSTANCE)return"instance";throw Error("whoops");}(v),attributes:[]});try{for(var m=(a=void 0,(0,em.__values)(_)),g=m.next();!g.done;g=m.next()){var b=g.value,y=b.shaderLocation,E=b.format,T=b.offset;s[s.length-1].attributes.push({shaderLocation:y,format:function(e){if(e===ef.U8_R||e===ef.U8_RG)return"uint8x2";if(e===ef.U8_RGB||e===ef.U8_RGBA)return"uint8x4";if(e===ef.U8_RG_NORM)return"unorm8x2";if(e===ef.U8_RGBA_NORM)return"unorm8x4";if(e===ef.S8_RGB_NORM)return"snorm8x4";else if(e===ef.S8_RGBA_NORM)return"snorm8x4";else if(e===ef.U16_RG_NORM)return"unorm16x2";else if(e===ef.U16_RGBA_NORM)return"unorm16x4";else if(e===ef.S16_RG_NORM)return"snorm16x2";else if(e===ef.S16_RGBA_NORM)return"snorm16x4";else if(e===ef.S16_RG)return"uint16x2";else if(e===ef.F16_RG)return"float16x2";else if(e===ef.F16_RGBA)return"float16x4";else if(e===ef.F32_R)return"float32";else if(e===ef.F32_RG)return"float32x2";else if(e===ef.F32_RGB)return"float32x3";else if(e===ef.F32_RGBA)return"float32x4";else throw"whoops";}(E),offset:T});}}catch(e){a={error:e};}finally{try{g&&!g.done&&(i=m.return)&&i.call(m);}finally{if(a)throw a.error;}}}}catch(e){r={error:e};}finally{try{d&&!d.done&&(n=c.return)&&n.call(c);}finally{if(r)throw r.error;}}return f.indexFormat=function(e){if(null!==e){if(e===ef.U16_R)return"uint16";if(e===ef.U32_R)return"uint32";throw Error("whoops");}}(l.indexBufferFormat),f.buffers=s,f;}return(0,em.__extends)(t,e),t;}(rh),rb=function(e){function t(t){var r=t.id,n=t.device,a=t.descriptor,i=e.call(this,{id:r,device:n})||this;return i.type=U.Program,i.vertexStage=null,i.fragmentStage=null,i.computeStage=null,i.descriptor=a,a.vertex&&(i.vertexStage=i.createShaderStage(a.vertex,"vertex")),a.fragment&&(i.fragmentStage=i.createShaderStage(a.fragment,"fragment")),a.compute&&(i.computeStage=i.createShaderStage(a.compute,"compute")),i;}return(0,em.__extends)(t,e),t.prototype.setUniformsLegacy=function(e){},t.prototype.createShaderStage=function(e,t){var r,n,a=e.glsl,i=e.wgsl,o=e.entryPoint,u=e.postprocess,l=i;if(!l)try{l=this.device.glsl_compile(a,t,!1);}catch(e){throw console.error(e,a),Error("whoops");}var f=function(e){if(!l.includes(e))return"continue";l=(l=l.replace("var T_".concat(e,": texture_2d<f32>;"),"var T_".concat(e,": texture_depth_2d;"))).replace(RegExp("textureSample\\(T_".concat(e,"(.*)\\);$"),"gm"),function(t,r){return"vec4<f32>(textureSample(T_".concat(e).concat(r,"), 0.0, 0.0, 0.0);");});};try{for(var s=(0,em.__values)(["u_TextureFramebufferDepth"]),c=s.next();!c.done;c=s.next()){var d=c.value;f(d);}}catch(e){r={error:e};}finally{try{c&&!c.done&&(n=s.return)&&n.call(s);}finally{if(r)throw r.error;}}return u&&(l=u(l)),{module:this.device.device.createShaderModule({code:l}),entryPoint:o||"main"};},t;}(rh),ry=function(e){function t(t){var r=t.id,n=t.device,a=t.descriptor,i=e.call(this,{id:r,device:n})||this;i.type=U.QueryPool;var o=a.elemCount,u=a.type;return i.querySet=i.device.device.createQuerySet({type:function(e){if(e===ei.OcclusionConservative)return"occlusion";throw Error("whoops");}(u),count:o}),i.resolveBuffer=i.device.device.createBuffer({size:8*o,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),i.cpuBuffer=i.device.device.createBuffer({size:8*o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),i.results=null,i;}return(0,em.__extends)(t,e),t.prototype.queryResultOcclusion=function(e){return null===this.results?null:this.results[e]!==BigInt(0);},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.querySet.destroy(),this.resolveBuffer.destroy(),this.cpuBuffer.destroy();},t;}(rh),rE=function(e){function t(t){var r=t.id,n=t.device,a=e.call(this,{id:r,device:n})||this;return a.type=U.Readback,a;}return(0,em.__extends)(t,e),t.prototype.readTexture=function(e,t,r,n,a,i,o,u){return void 0===o&&(o=0),(0,em.__awaiter)(this,void 0,void 0,function(){var u,l,f,s,c,d,h;return(0,em.__generator)(this,function(p){return c=(s=256*Math.ceil((f=Math.ceil(n/(l=rd((u=e).gpuTextureformat)).width)*l.length)/256))*a,d=this.device.createBuffer({usage:q.STORAGE|q.MAP_READ|q.COPY_DST,hint:Z.STATIC,viewOrSize:c}),(h=this.device.device.createCommandEncoder()).copyTextureToBuffer({texture:u.gpuTexture,mipLevel:0,origin:{x:t,y:r,z:0}},{buffer:d.gpuBuffer,offset:0,bytesPerRow:s},{width:n,height:a,depthOrArrayLayers:1}),this.device.device.queue.submit([h.finish()]),[2,this.readBuffer(d,0,i.byteLength===c?i:null,o,c,u.format,!0,!1,f,s,a)];});});},t.prototype.readTextureSync=function(e,t,r,n,a,i,o,u){throw Error("ERROR_MSG_METHOD_NOT_IMPLEMENTED");},t.prototype.readBuffer=function(e,t,r,n,a,i,o,u,l,f,s){var c=this;void 0===t&&(t=0),void 0===r&&(r=null),void 0===a&&(a=0),void 0===i&&(i=ef.U8_RGB),void 0===o&&(o=!1),void 0===l&&(l=0),void 0===f&&(f=0),void 0===s&&(s=0);var d=a||e.size,h=r||e.view,p=h&&h.constructor&&h.constructor.BYTES_PER_ELEMENT||eT(eE(i)),v=e;if(!(e.usage&q.MAP_READ&&e.usage&q.COPY_DST)){var _=this.device.device.createCommandEncoder();v=this.device.createBuffer({usage:q.STORAGE|q.MAP_READ|q.COPY_DST,hint:Z.STATIC,viewOrSize:d}),_.copyBufferToBuffer(e.gpuBuffer,t,v.gpuBuffer,0,d),this.device.device.queue.submit([_.finish()]);}return new Promise(function(e,r){v.gpuBuffer.mapAsync(ep.READ,t,d).then(function(){var r=v.gpuBuffer.getMappedRange(t,d),n=h;if(o)n=null===n?rc(i,d,!0,r):rc(i,n.buffer,void 0,r);else if(null===n)switch(p){case 1:(n=new Uint8Array(d)).set(new Uint8Array(r));break;case 2:n=c.getHalfFloatAsFloatRGBAArrayBuffer(d/2,r);break;case 4:(n=new Float32Array(d/4)).set(new Float32Array(r));}else switch(p){case 1:(n=new Uint8Array(n.buffer)).set(new Uint8Array(r));break;case 2:n=c.getHalfFloatAsFloatRGBAArrayBuffer(d/2,r,h);break;case 4:var a=h&&h.constructor||Float32Array;(n=new a(n.buffer)).set(new a(r));}if(l!==f){1!==p||o||(l*=2,f*=2);for(var u=new Uint8Array(n.buffer),_=l,m=0,g=1;g<s;++g){m=g*f;for(var b=0;b<l;++b)u[_++]=u[m++];}n=0===p||o?new Uint8Array(u.buffer,0,_):new Float32Array(u.buffer,0,_/4);}v.gpuBuffer.unmap(),e(n);},function(e){return r(e);});});},t.prototype.getHalfFloatAsFloatRGBAArrayBuffer=function(e,t,r){r||(r=new Float32Array(e));for(var n=new Uint16Array(t);e--;)r[e]=function(e){var t=(32768&e)>>15,r=(31744&e)>>10,n=1023&e;return 0===r?(t?-1:1)*6103515625e-14*(n/1024):31==r?n?NaN:1/0*(t?-1:1):(t?-1:1)*Math.pow(2,r-15)*(1+n/1024);}(n[e]);return r;},t;}(rh),rT=function(){function e(e){this.device=e,this.gpuRenderPassEncoder=null,this.gfxColorAttachment=[],this.gfxColorAttachmentLevel=[],this.gfxColorResolveTo=[],this.gfxColorResolveToLevel=[],this.gfxDepthStencilAttachment=null,this.gfxDepthStencilResolveTo=null,this.gpuColorAttachments=[],this.gpuDepthStencilAttachment={view:null,depthLoadOp:"load",depthStoreOp:"store",stencilLoadOp:"load",stencilStoreOp:"store"},this.gpuRenderPassDescriptor={colorAttachments:this.gpuColorAttachments,depthStencilAttachment:this.gpuDepthStencilAttachment};}return e.prototype.getEncoder=function(){var e;return(null===(e=this.renderBundle)||void 0===e?void 0:e.renderBundleEncoder)||this.gpuRenderPassEncoder;},e.prototype.getTextureView=function(e,t){return(eS(t<e.mipLevelCount),1===e.mipLevelCount)?e.gpuTextureView:e.gpuTexture.createView({baseMipLevel:t,mipLevelCount:1});},e.prototype.setRenderPassDescriptor=function(e){this.descriptor=e,this.gpuRenderPassDescriptor.colorAttachments=this.gpuColorAttachments;var t,r,n,a,i,o,u=e.colorAttachment.length;this.gfxColorAttachment.length=u,this.gfxColorResolveTo.length=u;for(var l=0;l<e.colorAttachment.length;l++){var f=e.colorAttachment[l],s=e.colorResolveTo[l];if(null===f&&null!==s&&(f=s,s=null),this.gfxColorAttachment[l]=f,this.gfxColorResolveTo[l]=s,this.gfxColorAttachmentLevel[l]=(null===(t=e.colorAttachmentLevel)||void 0===t?void 0:t[l])||0,this.gfxColorResolveToLevel[l]=(null===(r=e.colorResolveToLevel)||void 0===r?void 0:r[l])||0,null!==f){void 0===this.gpuColorAttachments[l]&&(this.gpuColorAttachments[l]={});var c=this.gpuColorAttachments[l];c.view=this.getTextureView(f,(null===(n=this.gfxColorAttachmentLevel)||void 0===n?void 0:n[l])||0);var d=null!==(i=null===(a=e.colorClearColor)||void 0===a?void 0:a[l])&&void 0!==i?i:"load";"load"===d?c.loadOp="load":(c.loadOp="clear",c.clearValue=d),c.storeOp=(null===(o=e.colorStore)||void 0===o?void 0:o[l])?"store":"discard",c.resolveTarget=void 0,null!==s&&(f.sampleCount>1?c.resolveTarget=this.getTextureView(s,this.gfxColorResolveToLevel[l]):c.storeOp="store");}else{this.gpuColorAttachments.length=l,this.gfxColorAttachment.length=l,this.gfxColorResolveTo.length=l;break;}}if(this.gfxDepthStencilAttachment=e.depthStencilAttachment,this.gfxDepthStencilResolveTo=e.depthStencilResolveTo,e.depthStencilAttachment){var h=e.depthStencilAttachment,c=this.gpuDepthStencilAttachment;c.view=h.gpuTextureView,255&h.format&el.Depth?("load"===e.depthClearValue?c.depthLoadOp="load":(c.depthLoadOp="clear",c.depthClearValue=e.depthClearValue),e.depthStencilStore||null!==this.gfxDepthStencilResolveTo?c.depthStoreOp="store":c.depthStoreOp="discard"):(c.depthLoadOp=void 0,c.depthStoreOp=void 0),255&h.format&el.Stencil?("load"===e.stencilClearValue?c.stencilLoadOp="load":(c.stencilLoadOp="clear",c.stencilClearValue=e.stencilClearValue),e.depthStencilStore||null!==this.gfxDepthStencilResolveTo?c.stencilStoreOp="store":c.stencilStoreOp="discard"):(c.stencilLoadOp=void 0,c.stencilStoreOp=void 0),this.gpuRenderPassDescriptor.depthStencilAttachment=this.gpuDepthStencilAttachment;}else this.gpuRenderPassDescriptor.depthStencilAttachment=void 0;this.gpuRenderPassDescriptor.occlusionQuerySet=(0,e_.isNil)(e.occlusionQueryPool)?void 0:e.occlusionQueryPool.querySet;},e.prototype.beginRenderPass=function(e,t){eS(null===this.gpuRenderPassEncoder),this.setRenderPassDescriptor(t),this.frameCommandEncoder=e,this.gpuRenderPassEncoder=this.frameCommandEncoder.beginRenderPass(this.gpuRenderPassDescriptor);},e.prototype.flipY=function(e,t){return this.device.swapChainHeight-e-t;},e.prototype.setViewport=function(e,t,r,n,a,i){void 0===a&&(a=0),void 0===i&&(i=1),this.gpuRenderPassEncoder.setViewport(e,this.flipY(t,n),r,n,a,i);},e.prototype.setScissorRect=function(e,t,r,n){this.gpuRenderPassEncoder.setScissorRect(e,this.flipY(t,n),r,n);},e.prototype.setPipeline=function(e){var t=eO(e.gpuRenderPipeline);this.getEncoder().setPipeline(t);},e.prototype.setVertexInput=function(e,t,r){if(null!==e){var n=this.getEncoder();null!==r&&n.setIndexBuffer(ri(r.buffer),eO(e.indexFormat),r.offset);for(var a=0;a<t.length;a++){var i=t[a];null!==i&&n.setVertexBuffer(a,ri(i.buffer),i.offset);}}},e.prototype.setBindings=function(e){var t=this.getEncoder();e.gpuBindGroup.forEach(function(r,n){r&&t.setBindGroup(n,e.gpuBindGroup[n]);});},e.prototype.setStencilReference=function(e){this.gpuRenderPassEncoder.setStencilReference(e);},e.prototype.draw=function(e,t,r,n){this.getEncoder().draw(e,t,r,n);},e.prototype.drawIndexed=function(e,t,r,n,a){this.getEncoder().drawIndexed(e,t,r,n,a);},e.prototype.drawIndirect=function(e,t){this.getEncoder().drawIndirect(ri(e),t);},e.prototype.drawIndexedIndirect=function(e,t){this.getEncoder().drawIndexedIndirect(ri(e),t);},e.prototype.beginOcclusionQuery=function(e){this.gpuRenderPassEncoder.beginOcclusionQuery(e);},e.prototype.endOcclusionQuery=function(){this.gpuRenderPassEncoder.endOcclusionQuery();},e.prototype.pushDebugGroup=function(e){this.gpuRenderPassEncoder.pushDebugGroup(e);},e.prototype.popDebugGroup=function(){this.gpuRenderPassEncoder.popDebugGroup();},e.prototype.insertDebugMarker=function(e){this.gpuRenderPassEncoder.insertDebugMarker(e);},e.prototype.beginBundle=function(e){this.renderBundle=e;},e.prototype.endBundle=function(){this.renderBundle.finish();},e.prototype.executeBundles=function(e){this.gpuRenderPassEncoder.executeBundles(e.map(function(e){return e.renderBundle;}));},e.prototype.finish=function(){var e;null===(e=this.gpuRenderPassEncoder)||void 0===e||e.end(),this.gpuRenderPassEncoder=null;for(var t=0;t<this.gfxColorAttachment.length;t++){var r=this.gfxColorAttachment[t],n=this.gfxColorResolveTo[t];null!==r&&null!==n&&1===r.sampleCount&&this.copyAttachment(n,this.gfxColorAttachmentLevel[t],r,this.gfxColorResolveToLevel[t]);}this.gfxDepthStencilAttachment&&this.gfxDepthStencilResolveTo&&(this.gfxDepthStencilAttachment.sampleCount>1||this.copyAttachment(this.gfxDepthStencilResolveTo,0,this.gfxDepthStencilAttachment,0)),this.frameCommandEncoder=null;},e.prototype.copyAttachment=function(e,t,r,n){eS(1===r.sampleCount);var a={texture:r.gpuTexture,mipLevel:n},i={texture:e.gpuTexture,mipLevel:t};eS(r.width>>>n==e.width>>>t),eS(r.height>>>n==e.height>>>t),eS(!!(r.usage&eh.COPY_SRC)),eS(!!(e.usage&eh.COPY_DST)),this.frameCommandEncoder.copyTextureToTexture(a,i,[e.width,e.height,1]);},e;}(),rA=function(e){function t(t){var r=t.id,n=t.device,a=t.descriptor,i=e.call(this,{id:r,device:n})||this;return i.type=U.RenderPipeline,i.isCreatingAsync=!1,i.gpuRenderPipeline=null,i.descriptor=a,i.device.createRenderPipelineInternal(i,!1),i;}return(0,em.__extends)(t,e),t.prototype.getBindGroupLayout=function(e){return this.gpuRenderPipeline.getBindGroupLayout(e);},t;}(rh),rS=function(e){function t(t){var r,n,a=t.id,i=t.device,o=t.descriptor,u=e.call(this,{id:a,device:i})||this;u.type=U.Sampler;var l=o.lodMinClamp,f=o.mipmapFilter===W.NO_MIP?o.lodMinClamp:o.lodMaxClamp,s=null!==(r=o.maxAnisotropy)&&void 0!==r?r:1;return s>1&&eS(o.minFilter===X.BILINEAR&&o.magFilter===X.BILINEAR&&o.mipmapFilter===W.LINEAR),u.gpuSampler=u.device.device.createSampler({addressModeU:rn(o.addressModeU),addressModeV:rn(o.addressModeV),addressModeW:rn(null!==(n=o.addressModeW)&&void 0!==n?n:o.addressModeU),lodMinClamp:l,lodMaxClamp:f,minFilter:ra(o.minFilter),magFilter:ra(o.magFilter),mipmapFilter:function(e){if(e===W.LINEAR)return"linear";if(e===W.NEAREST||e===W.NO_MIP)return"nearest";throw Error("whoops");}(o.mipmapFilter),compare:void 0!==o.compareFunction?rf(o.compareFunction):void 0,maxAnisotropy:s}),u;}return(0,em.__extends)(t,e),t;}(rh),rO=function(e){function t(t){var r=t.id,n=t.device,a=t.descriptor,i=t.skipCreate,o=t.sampleCount,u=e.call(this,{id:r,device:n})||this;u.type=U.Texture,u.flipY=!1;var l=a.format,f=a.dimension,s=a.width,c=a.height,d=a.depthOrArrayLayers,h=a.mipLevelCount,p=a.usage,v=a.pixelStore;return u.flipY=!!(null==v?void 0:v.unpackFlipY),u.device.createTextureShared({format:l,dimension:null!=f?f:Q.TEXTURE_2D,width:s,height:c,depthOrArrayLayers:null!=d?d:1,mipLevelCount:null!=h?h:1,usage:p,sampleCount:null!=o?o:1},u,i),u;}return(0,em.__extends)(t,e),t.prototype.textureFromImageBitmapOrCanvas=function(e,t,r){for(var n=t[0].width,a=t[0].height,i={size:{width:n,height:a,depthOrArrayLayers:r},format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT},o=e.createTexture(i),u=0;u<t.length;u++)e.queue.copyExternalImageToTexture({source:t[u],flipY:this.flipY},{texture:o,origin:[0,0,u]},[n,a]);return[o,n,a];},t.prototype.isImageBitmapOrCanvases=function(e){var t=e[0];return t instanceof ImageBitmap||t instanceof HTMLCanvasElement||t instanceof OffscreenCanvas;},t.prototype.isVideo=function(e){return e[0]instanceof HTMLVideoElement;},t.prototype.setImageData=function(e,t){var r,n,a,i,o=this,u=this.device.device;if(this.isImageBitmapOrCanvases(e))n=(r=(0,em.__read)(this.textureFromImageBitmapOrCanvas(u,e,this.depthOrArrayLayers),3))[0],a=r[1],i=r[2];else if(this.isVideo(e))n=u.importExternalTexture({source:e[0]});else{var l=rd(this.gpuTextureformat),f=Math.ceil(this.width/l.width)*l.length;e.forEach(function(e){u.queue.writeTexture({texture:o.gpuTexture},e,{bytesPerRow:f},{width:o.width,height:o.height});});}this.width=a,this.height=i,n&&(this.gpuTexture=n),this.gpuTextureView=this.gpuTexture.createView({dimension:function(e){if(e===Q.TEXTURE_2D)return"2d";if(e===Q.TEXTURE_CUBE_MAP)return"cube";if(e===Q.TEXTURE_2D_ARRAY)return"2d-array";if(e===Q.TEXTURE_3D)return"3d";throw Error("whoops");}(this.dimension)});},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gpuTexture.destroy();},t;}(rh),rR=function(e){function t(t){var r=t.id,n=t.device,a=e.call(this,{id:r,device:n})||this;return a.type=U.RenderBundle,a.renderBundleEncoder=a.device.device.createRenderBundleEncoder({colorFormats:[a.device.swapChainFormat]}),a;}return(0,em.__extends)(t,e),t.prototype.finish=function(){this.renderBundle=this.renderBundleEncoder.finish();},t;}(rh),rM=function(){function e(e,t,r,n,a,i){this.swapChainWidth=0,this.swapChainHeight=0,this.swapChainTextureUsage=eh.RENDER_ATTACHMENT|eh.COPY_DST,this._resourceUniqueId=0,this.renderPassPool=[],this.computePassPool=[],this.frameCommandEncoderPool=[],this.featureTextureCompressionBC=!1,this.platformString="WebGPU",this.glslVersion="#version 440",this.explicitBindingLocations=!0,this.separateSamplerTextures=!0,this.viewportOrigin=en.UPPER_LEFT,this.clipSpaceNearZ=ea.ZERO,this.supportsSyncPipelineCompilation=!1,this.supportMRT=!0,this.device=t,this.canvas=r,this.canvasContext=n,this.glsl_compile=a,this.WGSLComposer=i,this.fallbackTexture2D=this.createFallbackTexture(Q.TEXTURE_2D,er.Float),this.setResourceName(this.fallbackTexture2D,"Fallback Texture2D"),this.fallbackTexture2DDepth=this.createFallbackTexture(Q.TEXTURE_2D,er.Depth),this.setResourceName(this.fallbackTexture2DDepth,"Fallback Depth Texture2D"),this.fallbackTexture2DArray=this.createFallbackTexture(Q.TEXTURE_2D_ARRAY,er.Float),this.setResourceName(this.fallbackTexture2DArray,"Fallback Texture2DArray"),this.fallbackTexture3D=this.createFallbackTexture(Q.TEXTURE_3D,er.Float),this.setResourceName(this.fallbackTexture3D,"Fallback Texture3D"),this.fallbackTextureCube=this.createFallbackTexture(Q.TEXTURE_CUBE_MAP,er.Float),this.setResourceName(this.fallbackTextureCube,"Fallback TextureCube"),this.fallbackSamplerFiltering=this.createSampler({addressModeU:H.REPEAT,addressModeV:H.REPEAT,minFilter:X.POINT,magFilter:X.POINT,mipmapFilter:W.NEAREST}),this.setResourceName(this.fallbackSamplerFiltering,"Fallback Sampler Filtering"),this.fallbackSamplerComparison=this.createSampler({addressModeU:H.REPEAT,addressModeV:H.REPEAT,minFilter:X.POINT,magFilter:X.POINT,mipmapFilter:W.NEAREST,compareFunction:j.ALWAYS}),this.setResourceName(this.fallbackSamplerComparison,"Fallback Sampler Comparison Filtering"),this.device.features&&(this.featureTextureCompressionBC=this.device.features.has("texture-compression-bc")),this.device.onuncapturederror=function(e){console.error(e.error);},this.swapChainFormat=navigator.gpu.getPreferredCanvasFormat(),this.canvasContext.configure({device:this.device,format:this.swapChainFormat,usage:this.swapChainTextureUsage,alphaMode:"premultiplied"});}return e.prototype.destroy=function(){},e.prototype.configureSwapChain=function(e,t){(this.swapChainWidth!==e||this.swapChainHeight!==t)&&(this.swapChainWidth=e,this.swapChainHeight=t);},e.prototype.getOnscreenTexture=function(){var e=this.canvasContext.getCurrentTexture(),t=e.createView(),r=new rO({id:0,device:this,descriptor:{format:ef.U8_RGBA_RT,width:this.swapChainWidth,height:this.swapChainHeight,depthOrArrayLayers:0,dimension:Q.TEXTURE_2D,mipLevelCount:1,usage:this.swapChainTextureUsage},skipCreate:!0});return r.depthOrArrayLayers=1,r.sampleCount=1,r.gpuTexture=e,r.gpuTextureView=t,r.name="Onscreen",this.setResourceName(r,"Onscreen Texture"),r;},e.prototype.getDevice=function(){return this;},e.prototype.getCanvas=function(){return this.canvas;},e.prototype.beginFrame=function(){eS(0===this.frameCommandEncoderPool.length);},e.prototype.endFrame=function(){eS(this.frameCommandEncoderPool.every(function(e){return null!==e;})),this.device.queue.submit(this.frameCommandEncoderPool.map(function(e){return e.finish();})),this.frameCommandEncoderPool=[];},e.prototype.getNextUniqueId=function(){return++this._resourceUniqueId;},e.prototype.createBuffer=function(e){return new rv({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createTexture=function(e){return new rO({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createSampler=function(e){return new rS({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createRenderTarget=function(e){var t=new rO({id:this.getNextUniqueId(),device:this,descriptor:(0,em.__assign)((0,em.__assign)({},e),{dimension:Q.TEXTURE_2D,mipLevelCount:1,depthOrArrayLayers:1,usage:J.RENDER_TARGET}),sampleCount:e.sampleCount});return t.depthOrArrayLayers=1,t.type=U.RenderTarget,t;},e.prototype.createRenderTargetFromTexture=function(e){var t=e.format,r=e.width,n=e.height,a=e.depthOrArrayLayers,i=e.sampleCount,o=e.mipLevelCount,u=e.gpuTexture,l=e.gpuTextureView,f=e.usage;eS(!!(f&eh.RENDER_ATTACHMENT));var s=new rO({id:this.getNextUniqueId(),device:this,descriptor:{format:t,width:r,height:n,depthOrArrayLayers:a,dimension:Q.TEXTURE_2D,mipLevelCount:o,usage:f},skipCreate:!0});return s.depthOrArrayLayers=a,s.sampleCount=i,s.gpuTexture=u,s.gpuTextureView=l,s;},e.prototype.createProgram=function(e){var t,r;return(null===(t=e.vertex)||void 0===t?void 0:t.glsl)&&(e.vertex.glsl=tb(this.queryVendorInfo(),"vert",e.vertex.glsl)),(null===(r=e.fragment)||void 0===r?void 0:r.glsl)&&(e.fragment.glsl=tb(this.queryVendorInfo(),"frag",e.fragment.glsl)),new rb({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createProgramSimple=function(e){return new rb({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createTextureShared=function(e,t,r){var n,a,i={width:e.width,height:e.height,depthOrArrayLayers:e.depthOrArrayLayers},o=e.mipLevelCount,u=rr(e.format),l=function(e){if(e===Q.TEXTURE_2D||e===Q.TEXTURE_CUBE_MAP||e===Q.TEXTURE_2D_ARRAY)return"2d";if(e===Q.TEXTURE_3D)return"3d";throw Error("whoops");}(e.dimension),f=(n=e.usage,a=0,n&J.SAMPLED&&(a|=eh.TEXTURE_BINDING|eh.COPY_DST|eh.COPY_SRC),n&J.STORAGE&&(a|=eh.TEXTURE_BINDING|eh.STORAGE_BINDING|eh.COPY_SRC|eh.COPY_DST),n&J.RENDER_TARGET&&(a|=eh.RENDER_ATTACHMENT|eh.TEXTURE_BINDING|eh.COPY_SRC|eh.COPY_DST),a);if(t.gpuTextureformat=u,t.dimension=e.dimension,t.format=e.format,t.width=e.width,t.height=e.height,t.depthOrArrayLayers=e.depthOrArrayLayers,t.mipLevelCount=o,t.usage=f,t.sampleCount=e.sampleCount,!r){var s=this.device.createTexture({size:i,mipLevelCount:o,format:u,dimension:l,sampleCount:e.sampleCount,usage:f}),c=s.createView();t.gpuTexture=s,t.gpuTextureView=c;}},e.prototype.getFallbackSampler=function(e){return e.formatKind===er.Depth&&e.comparison?this.fallbackSamplerComparison:this.fallbackSamplerFiltering;},e.prototype.getFallbackTexture=function(e){var t=e.dimension,r=e.formatKind;if(t===Q.TEXTURE_2D)return r===er.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(t===Q.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(t===Q.TEXTURE_3D)return this.fallbackTexture3D;if(t===Q.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw Error("whoops");},e.prototype.createFallbackTexture=function(e,t){var r=e===Q.TEXTURE_CUBE_MAP?6:1,n=t===er.Float?ef.U8_RGBA_NORM:ef.D24;return this.createTexture({dimension:e,format:n,usage:J.SAMPLED,width:1,height:1,depthOrArrayLayers:r,mipLevelCount:1});},e.prototype.createBindings=function(e){return new rp({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createInputLayout=function(e){return new rg({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createComputePipeline=function(e){return new rm({id:this.getNextUniqueId(),device:this,descriptor:e});},e.prototype.createRenderPipeline=function(e){return new rA({id:this.getNextUniqueId(),device:this,descriptor:(0,em.__assign)({},e)});},e.prototype.createQueryPool=function(e,t){return new ry({id:this.getNextUniqueId(),device:this,descriptor:{type:e,elemCount:t}});},e.prototype.createRenderPipelineInternal=function(e,t){if(null===e.gpuRenderPipeline){var r,n=e.descriptor,a=n.program,i=a.vertexStage,o=a.fragmentStage;if(null!==i&&null!==o){var u,l,f,s=n.megaStateDescriptor||{},c=s.stencilBack,d=s.stencilFront,h=(0,em.__rest)(s,["stencilBack","stencilFront"]),p=ej(eG);n.megaStateDescriptor=(0,em.__assign)((0,em.__assign)((0,em.__assign)({},p),{stencilBack:(0,em.__assign)((0,em.__assign)({},p.stencilBack),c),stencilFront:(0,em.__assign)((0,em.__assign)({},p.stencilFront),d)}),h);var v=n.megaStateDescriptor.attachmentsState[0];n.colorAttachmentFormats.forEach(function(e,t){n.megaStateDescriptor.attachmentsState[t]||(n.megaStateDescriptor.attachmentsState[t]=eB(void 0,v));});var _=(u=null!==(r=n.topology)&&void 0!==r?r:Y.TRIANGLES,l=n.megaStateDescriptor,{topology:function(e){switch(e){case Y.TRIANGLES:return"triangle-list";case Y.POINTS:return"point-list";case Y.TRIANGLE_STRIP:return"triangle-strip";case Y.LINES:return"line-list";case Y.LINE_STRIP:return"line-strip";default:throw Error("Unknown primitive topology mode");}}(u),cullMode:function(e){if(e===G.NONE)return"none";if(e===G.FRONT)return"front";if(e===G.BACK)return"back";throw Error("whoops");}(l.cullMode),frontFace:function(e){if(e===k.CCW)return"ccw";if(e===k.CW)return"cw";throw Error("whoops");}(l.frontFace)}),m=(f=n.colorAttachmentFormats,n.megaStateDescriptor.attachmentsState.map(function(e,t){return{format:rr(f[t]),blend:function(e){if(!(rl(e.rgbBlendState)&&rl(e.alphaBlendState)))return{color:ru(e.rgbBlendState),alpha:ru(e.alphaBlendState)};}(e),writeMask:e.channelWriteMask};})),g=function(e,t){if(!(0,e_.isNil)(e))return{format:rr(e),depthWriteEnabled:!!t.depthWrite,depthCompare:rf(t.depthCompare),depthBias:t.polygonOffset?t.polygonOffsetUnits:0,depthBiasSlopeScale:t.polygonOffset?t.polygonOffsetFactor:0,stencilFront:{compare:rf(t.stencilFront.compare),passOp:rs(t.stencilFront.passOp),failOp:rs(t.stencilFront.failOp),depthFailOp:rs(t.stencilFront.depthFailOp)},stencilBack:{compare:rf(t.stencilBack.compare),passOp:rs(t.stencilBack.passOp),failOp:rs(t.stencilBack.failOp),depthFailOp:rs(t.stencilBack.depthFailOp)},stencilReadMask:4294967295,stencilWriteMask:4294967295};}(n.depthStencilAttachmentFormat,n.megaStateDescriptor),b=void 0;null!==n.inputLayout&&(b=n.inputLayout.buffers);var y=n.sampleCount,E={layout:"auto",vertex:(0,em.__assign)((0,em.__assign)({},i),{buffers:b}),primitive:_,depthStencil:g,multisample:{count:y},fragment:(0,em.__assign)((0,em.__assign)({},o),{targets:m})};e.gpuRenderPipeline=this.device.createRenderPipeline(E);}}},e.prototype.createReadback=function(){return new rE({id:this.getNextUniqueId(),device:this});},e.prototype.createRenderBundle=function(){return new rR({id:this.getNextUniqueId(),device:this});},e.prototype.createRenderPass=function(e){var t=this.renderPassPool.pop();void 0===t&&(t=new rT(this));var r=this.frameCommandEncoderPool.pop();return void 0===r&&(r=this.device.createCommandEncoder()),t.beginRenderPass(r,e),t;},e.prototype.createComputePass=function(){var e=this.computePassPool.pop();void 0===e&&(e=new r_);var t=this.frameCommandEncoderPool.pop();return void 0===t&&(t=this.device.createCommandEncoder()),e.beginComputePass(t),e;},e.prototype.submitPass=function(e){e instanceof rT?(this.frameCommandEncoderPool.push(e.frameCommandEncoder),e.finish(),this.renderPassPool.push(e)):e instanceof r_&&(this.frameCommandEncoderPool.push(e.frameCommandEncoder),e.finish(),this.computePassPool.push(e));},e.prototype.copySubTexture2D=function(e,t,r,n,a,i,o){var u=this.device.createCommandEncoder(),l={texture:n.gpuTexture,origin:[a,i,0],mipLevel:0,aspect:"all"},f={texture:e.gpuTexture,origin:[t,r,0],mipLevel:0,aspect:"all"};eS(!!(n.usage&eh.COPY_SRC)),eS(!!(e.usage&eh.COPY_DST)),u.copyTextureToTexture(l,f,[n.width,n.height,o||1]),this.device.queue.submit([u.finish()]);},e.prototype.queryLimits=function(){return{uniformBufferMaxPageWordSize:this.device.limits.maxUniformBufferBindingSize>>>2,uniformBufferWordAlignment:this.device.limits.minUniformBufferOffsetAlignment>>>2,supportedSampleCounts:[1],occlusionQueriesRecommended:!0,computeShadersSupported:!0};},e.prototype.queryTextureFormatSupported=function(e,t,r){if(function(e){switch(eE(e)){case eo.BC1:case eo.BC2:case eo.BC3:case eo.BC4_SNORM:case eo.BC4_UNORM:case eo.BC5_SNORM:case eo.BC5_UNORM:return!0;default:return!1;}}(e)){if(!this.featureTextureCompressionBC)return!1;var n=function(e){switch(eE(e)){case eo.BC1:case eo.BC2:case eo.BC3:case eo.BC4_SNORM:case eo.BC4_UNORM:case eo.BC5_SNORM:case eo.BC5_UNORM:return 4;default:return 1;}}(e);return t%n==0&&r%n==0&&this.featureTextureCompressionBC;}switch(e){case ef.U16_RGBA_NORM:case ef.F32_RGBA:return!1;}return!0;},e.prototype.queryPlatformAvailable=function(){return!0;},e.prototype.queryVendorInfo=function(){return this;},e.prototype.queryRenderPass=function(e){return e.descriptor;},e.prototype.queryRenderTarget=function(e){return e;},e.prototype.setResourceName=function(e,t){if(e.name=t,e.type===U.Buffer){var r=e;r.gpuBuffer.label=t;}else if(e.type===U.Texture){var r=e;r.gpuTexture.label=t,r.gpuTextureView.label=t;}else if(e.type===U.RenderTarget){var r=e;r.gpuTexture.label=t,r.gpuTextureView.label=t;}else if(e.type===U.Sampler){var r=e;r.gpuSampler.label=t;}else if(e.type===U.RenderPipeline){var r=e;null!==r.gpuRenderPipeline&&(r.gpuRenderPipeline.label=t);}},e.prototype.setResourceLeakCheck=function(e,t){},e.prototype.checkForLeaks=function(){},e.prototype.programPatched=function(e){},e.prototype.pipelineQueryReady=function(e){return null!==e.gpuRenderPipeline;},e.prototype.pipelineForceReady=function(e){this.createRenderPipelineInternal(e,!1);},e;}(),rx=function(){function e(e){this.pluginOptions=e;}return e.prototype.createSwapChain=function(e){return(0,em.__awaiter)(this,void 0,void 0,function(){var t,r,n,a,i,o;return(0,em.__generator)(this,function(u){switch(u.label){case 0:if(void 0===globalThis.navigator.gpu)return[2,null];t=null,u.label=1;case 1:return u.trys.push([1,3,,4]),r=this.pluginOptions.xrCompatible,[4,globalThis.navigator.gpu.requestAdapter({xrCompatible:r})];case 2:return t=u.sent(),[3,4];case 3:return console.log(u.sent()),[3,4];case 4:if(null===t)return[2,null];return n=["depth32float-stencil8","texture-compression-bc","float32-filterable"].filter(function(e){return t.features.has(e);}),[4,t.requestDevice({requiredFeatures:n})];case 5:if((a=u.sent())&&(i=this.pluginOptions.onContextLost,a.lost.then(function(){i&&i();})),null===a||!(o=e.getContext("webgpu")))return[2,null];u.label=6;case 6:return u.trys.push([6,8,,9]),[4,rt(this.pluginOptions.shaderCompilerPath)];case 7:case 8:return u.sent(),[3,9];case 9:return[2,new rM(t,a,e,o,t9,t8&&new t8)];}});});},e;}();},"4315aacf":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("3ad7e104"),a=r("6d3b5416");function i(e,t,r,i){var o,u=(0,n.tickStep)(e,t,r);switch((i=(0,a.formatSpecifier)(null==i?",f":i)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(o=(0,a.precisionPrefix)(u,l))||(i.precision=o),(0,a.formatPrefix)(i,l);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=(0,a.precisionRound)(u,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=(0,a.precisionFixed)(u))||(i.precision=o-("%"===i.type)*2);}return(0,a.format)(i);}},"43292fcb":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("777fffbe"),a=n._(r("a1276e8e")),i=n._(r("f6c67a9e")),o=n._(r("20ff21b3")),u={"%":function(e,t){return(100*e).toFixed(t);},b:function(e){return Math.round(e).toString(2);},c:function(e){return e+"";},d:a.default,e:function(e,t){return e.toExponential(t);},f:function(e,t){return e.toFixed(t);},g:function(e,t){return e.toPrecision(t);},o:function(e){return Math.round(e).toString(8);},p:function(e,t){return(0,o.default)(100*e,t);},r:o.default,s:i.default,X:function(e){return Math.round(e).toString(16).toUpperCase();},x:function(e){return Math.round(e).toString(16);}};},"434eaf8b":function(e,t,r){"use strict";function n(e,t,r,a,o=30,u){let l=r;return(u&&(l=Math.round(r*(o-1))/(o-1)),a)?i(e,t,l,a):i(e,t,l,.314);}function a(e,t){let r=1-t;return(e[0]*r+e[1]*t)*r+(e[1]*r+e[2]*t)*t;}function i(e,t,r,n){let i=function(e,t,r){var n;let a=[t[0]-e[0],t[1]-e[1]],i=Math.sqrt(Math.pow(a[0]-(n=[0,0])[0],2)+Math.pow(a[1]-n[1],2)),o=i/2/Math.cos(r),u=Math.atan2(a[1],a[0])+r;return[o*Math.cos(u)+e[0],o*Math.sin(u)+e[1]];}(e,t,n),o=[e[0],i[0],t[0]],u=[e[1],i[1],t[1]];return[a(o,r),a(u,r),0];}r.d(t,"__esModule",{value:!0}),r.d(t,"arcLineAtOffset",{enumerable:!0,get:function(){return n;}});},"4357ac47":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{scaleBand:function(){return a.default;},scaleLinear:function(){return i.default;},scaleOrdinal:function(){return o.default;},scaleTime:function(){return u.default;}});var n=r("777fffbe"),a=n._(r("e5861b84")),i=n._(r("b48d839f")),o=n._(r("ea5f48ce")),u=n._(r("02efb9d7"));},"4382b3f4":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("89217383"),u=r("d383b231"),l=n._(r("a042fda9")),f=r("07cf040a");let{throttle:s}=o.lodashUtil;class c extends u.EventEmitter{get renderService(){return this.container.rendererService;}get mapService(){return this.container.mapService;}get debugService(){return this.container.debugService;}constructor(e){super(),(0,i.default)(this,"pickedLayerId",-1),(0,i.default)(this,"clock",new l.default),(0,i.default)(this,"alreadyInRendering",!1),(0,i.default)(this,"layers",[]),(0,i.default)(this,"layerList",[]),(0,i.default)(this,"layerRenderID",void 0),(0,i.default)(this,"sceneInited",!1),(0,i.default)(this,"animateInstanceCount",0),(0,i.default)(this,"shaderPicking",!0),(0,i.default)(this,"enableRender",!0),(0,i.default)(this,"reRender",s(()=>{this.renderLayers();},32)),(0,i.default)(this,"throttleRenderLayers",s(()=>{this.renderLayers();},16)),this.container=e;}needPick(e){return this.updateLayerRenderList(),this.layerList.some(t=>t.needPick(e));}add(e){this.layers.push(e),this.sceneInited&&e.init().then(()=>{this.renderLayers();});}addMask(e){this.sceneInited&&e.init().then(()=>{this.renderLayers();});}initLayers(){var e=this;return(0,a.default)(function*(){var t;e.sceneInited=!0,e.layers.forEach((t=(0,a.default)(function*(t){t.startInit||(yield t.init(),e.updateLayerRenderList());}),function(e){return t.apply(this,arguments);}));})();}getSceneInited(){return this.sceneInited;}getRenderList(){return this.layerList;}getLayers(){return this.layers;}getLayer(e){return this.layers.find(t=>t.id===e);}getLayerByName(e){return this.layers.find(t=>t.name===e);}remove(e,t){var r=this;return(0,a.default)(function*(){if(t){t.layerChildren||(t.layerChildren=[]);let r=t.layerChildren.findIndex(t=>t.id===e.id);r>-1&&t.layerChildren.splice(r,1);}else{let t=r.layers.findIndex(t=>t.id===e.id);t>-1&&r.layers.splice(t,1);}e.destroy(),r.reRender(),r.emit("layerChange",r.layers);})();}removeAllLayers(){var e=this;return(0,a.default)(function*(){e.destroy(),e.reRender();})();}setEnableRender(e){this.enableRender=e;}renderLayers(){var e=this;return(0,a.default)(function*(){if(e.alreadyInRendering||!e.enableRender)return;e.updateLayerRenderList();let t=e.debugService.generateRenderUid();for(let r of(e.debugService.renderStart(t),e.alreadyInRendering=!0,e.clear(),e.layerList))r.prerender();for(let t of(e.renderService.beginFrame(),e.layerList)){let{enableMask:r}=t.getLayerConfig();t.masks.filter(e=>e.inited).length>0&&r&&e.renderMask(t.masks),t.getLayerConfig().enableMultiPassRenderer?yield t.renderMultiPass():t.render();}e.renderService.endFrame(),e.debugService.renderEnd(t),e.alreadyInRendering=!1;})();}renderMask(e){let t=0;this.renderService.clear({stencil:0,depth:1,framebuffer:null});let r=e.length>1?f.StencilType.MULTIPLE:f.StencilType.SINGLE;for(let n of e)n.render({isStencil:!0,stencilType:r,stencilIndex:t++});}beforeRenderData(e){var t=this;return(0,a.default)(function*(){(yield e.hooks.beforeRenderData.promise())&&t.renderLayers();})();}renderTileLayerMask(e){let t=0,{enableMask:r=!0}=e.getLayerConfig(),n=e.tileMask?1:0,a=e.masks.filter(e=>e.inited),i=(n+=r?a.length:1)>1?f.StencilType.MULTIPLE:f.StencilType.SINGLE;if((e.tileMask||a.length&&r)&&this.renderService.clear({stencil:0,depth:1,framebuffer:null}),a.length&&r)for(let e of a)e.render({isStencil:!0,stencilType:i,stencilIndex:t++});e.tileMask&&e.tileMask.render({isStencil:!0,stencilType:i,stencilIndex:t++,stencilOperation:f.MaskOperation.OR});}renderTileLayer(e){var t=this;return(0,a.default)(function*(){t.renderTileLayerMask(e),e.getLayerConfig().enableMultiPassRenderer?yield e.renderMultiPass():yield e.render();})();}updateLayerRenderList(){this.layerList=[],this.layers.filter(e=>e.inited).filter(e=>e.isVisible()).sort((e,t)=>e.zIndex-t.zIndex).forEach(e=>{this.layerList.push(e);});}destroy(){this.layers.forEach(e=>{e.destroy();}),this.layers=[],this.layerList=[],this.emit("layerChange",this.layers);}startAnimate(){0==this.animateInstanceCount++&&(this.clock.start(),this.runRender());}stopAnimate(){0==--this.animateInstanceCount&&(this.stopRender(),this.clock.stop());}getOESTextureFloat(){return this.renderService.extensionObject.OES_texture_float;}enableShaderPick(){this.shaderPicking=!0;}disableShaderPick(){this.shaderPicking=!1;}getShaderPickStat(){return this.shaderPicking;}clear(){let e=(0,o.rgb2arr)(this.mapService.bgColor);this.renderService.clear({color:e,depth:1,stencil:0,framebuffer:null});}runRender(){this.renderLayers(),this.layerRenderID=window.requestAnimationFrame(this.runRender.bind(this));}stopRender(){window.cancelAnimationFrame(this.layerRenderID);}}},"4386a6a2":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("07a31cab")),u=n._(r("7501a074")),l=n._(r("a3a1fd76")),f=n._(r("67f9ef21"));let s={base:l.default,atomSphere:u.default,bloomSphere:f.default},c=["base","atomSphere","bloomSphere"];class d extends o.default{constructor(...e){super(...e),(0,i.default)(this,"type","EarthLayer"),(0,i.default)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json"}}});}buildModels(){var e=this;return(0,a.default)(function*(){let t=e.getModelType();e.layerModel=new s[t](e),yield e.initLayerModels();})();}setEarthTime(e){this.layerModel&&this.layerModel.setEarthTime?this.layerModel.setEarthTime(e):console.warn("\u8BF7\u5728 scene loaded \u4E4B\u540E\u6267\u884C\u8BE5\u65B9\u6CD5\uFF01");}getModelType(){var e;let t=this.styleAttributeService.getLayerStyleAttribute("shape"),r=(null==t||null===(e=t.scale)||void 0===e?void 0:e.field)||"base";return 0>c.indexOf(r)&&(r="base"),r;}}},"43d5705a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("93631820")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"43f21bce":function(e,t,r){"use strict";function n(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r);};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"444e4caa":function(e,t,r){"use strict";var n=r("00d4b220");function a(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(i,this,t),this.length=this._features.length;}function i(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null;}return t;}(r));}e.exports=a,a.prototype.feature=function(e){if(e<0||e>=this._features.length)throw Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new n(this._pbf,t,this.extent,this._keys,this._values);};},45112369:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8cfa3635")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"451aaeed":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("99c2f64a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4551e253":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{SourceTile:function(){return a.SourceTile;},TilesetManager:function(){return i.TilesetManager;}});var n=r("d1751d7c"),a=r("70f1000a"),i=r("c7e387f0");n._(r("dda56150"),t),n._(r("d2dd39ef"),t),n._(r("e297330a"),t);},"45bd9c82":function(e,t,r){"use strict";function n(e){return function(){return e;};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"45d50f64":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"createPlugins",{enumerable:!0,get:function(){return g;}});var n=r("777fffbe"),a=n._(r("4efd1166")),i=n._(r("1d5ce969")),o=n._(r("e4ad4575")),u=n._(r("0f29e3ff")),l=n._(r("80324b90")),f=n._(r("2b94425b")),s=n._(r("c9d36924")),c=n._(r("e8951a00")),d=n._(r("c952732f")),h=n._(r("2f0c4a91")),p=n._(r("fd4d4580")),v=n._(r("d36f6811")),_=n._(r("2b66ae60")),m=n._(r("b095f197"));function g(){return[new i.default,new p.default,new o.default,new a.default,new s.default,new l.default,new m.default,new _.default,new d.default,new v.default,new u.default,new c.default,new h.default,new f.default];}},"461c4b46":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1d40774b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"463d7c3b":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{add:function(){return U;},calculateW:function(){return A;},clone:function(){return N;},conjugate:function(){return P;},copy:function(){return F;},create:function(){return p;},dot:function(){return G;},equals:function(){return Z;},exactEquals:function(){return q;},exp:function(){return S;},fromEuler:function(){return w;},fromMat3:function(){return L;},fromValues:function(){return D;},getAngle:function(){return g;},getAxisAngle:function(){return m;},identity:function(){return v;},invert:function(){return C;},len:function(){return H;},length:function(){return V;},lerp:function(){return z;},ln:function(){return O;},mul:function(){return j;},multiply:function(){return b;},normalize:function(){return Y;},pow:function(){return R;},random:function(){return x;},rotateX:function(){return y;},rotateY:function(){return E;},rotateZ:function(){return T;},rotationTo:function(){return K;},scale:function(){return k;},set:function(){return B;},setAxes:function(){return Q;},setAxisAngle:function(){return _;},slerp:function(){return M;},sqlerp:function(){return $;},sqrLen:function(){return W;},squaredLength:function(){return X;},str:function(){return I;}});var n,a,i,o,u,l,f=r("852bbaa9"),s=f._(r("8d58e674")),c=f._(r("b5cc3410")),d=f._(r("813cf9e1")),h=f._(r("dd436b23"));function p(){var e=new s.ARRAY_TYPE(4);return s.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e;}function v(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e;}function _(e,t,r){var n=Math.sin(r*=.5);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e;}function m(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>s.EPSILON?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r;}function g(e,t){var r=G(e,t);return Math.acos(2*r*r-1);}function b(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=r[0],l=r[1],f=r[2],s=r[3];return e[0]=n*s+o*u+a*f-i*l,e[1]=a*s+o*l+i*u-n*f,e[2]=i*s+o*f+n*l-a*u,e[3]=o*s-n*u-a*l-i*f,e;}function y(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(r),l=Math.cos(r);return e[0]=n*l+o*u,e[1]=a*l+i*u,e[2]=i*l-a*u,e[3]=o*l-n*u,e;}function E(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(r),l=Math.cos(r);return e[0]=n*l-i*u,e[1]=a*l+o*u,e[2]=i*l+n*u,e[3]=o*l-a*u,e;}function T(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(r),l=Math.cos(r);return e[0]=n*l+a*u,e[1]=a*l-n*u,e[2]=i*l+o*u,e[3]=o*l-i*u,e;}function A(e,t){var r=t[0],n=t[1],a=t[2];return e[0]=r,e[1]=n,e[2]=a,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),e;}function S(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=Math.sqrt(r*r+n*n+a*a),u=Math.exp(i),l=o>0?u*Math.sin(o)/o:0;return e[0]=r*l,e[1]=n*l,e[2]=a*l,e[3]=u*Math.cos(o),e;}function O(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=Math.sqrt(r*r+n*n+a*a),u=o>0?Math.atan2(o,i)/o:0;return e[0]=r*u,e[1]=n*u,e[2]=a*u,e[3]=.5*Math.log(r*r+n*n+a*a+i*i),e;}function R(e,t,r){return O(e,t),k(e,e,r),S(e,e),e;}function M(e,t,r,n){var a,i,o,u,l,f=t[0],c=t[1],d=t[2],h=t[3],p=r[0],v=r[1],_=r[2],m=r[3];return(i=f*p+c*v+d*_+h*m)<0&&(i=-i,p=-p,v=-v,_=-_,m=-m),1-i>s.EPSILON?(o=Math.sin(a=Math.acos(i)),u=Math.sin((1-n)*a)/o,l=Math.sin(n*a)/o):(u=1-n,l=n),e[0]=u*f+l*p,e[1]=u*c+l*v,e[2]=u*d+l*_,e[3]=u*h+l*m,e;}function x(e){var t=s.RANDOM(),r=s.RANDOM(),n=s.RANDOM(),a=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*r),e[1]=a*Math.cos(2*Math.PI*r),e[2]=i*Math.sin(2*Math.PI*n),e[3]=i*Math.cos(2*Math.PI*n),e;}function C(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i,u=o?1/o:0;return e[0]=-r*u,e[1]=-n*u,e[2]=-a*u,e[3]=i*u,e;}function P(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e;}function L(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(t[3*a+a]-t[3*i+i]-t[3*o+o]+1),e[a]=.5*r,r=.5/r,e[3]=(t[3*i+o]-t[3*o+i])*r,e[i]=(t[3*i+a]+t[3*a+i])*r,e[o]=(t[3*o+a]+t[3*a+o])*r;}return e;}function w(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.ANGLE_ORDER,i=Math.PI/360;t*=i,n*=i;var o=Math.sin(t),u=Math.cos(t),l=Math.sin(r*=i),f=Math.cos(r),c=Math.sin(n),d=Math.cos(n);switch(a){case"xyz":e[0]=o*f*d+u*l*c,e[1]=u*l*d-o*f*c,e[2]=u*f*c+o*l*d,e[3]=u*f*d-o*l*c;break;case"xzy":e[0]=o*f*d-u*l*c,e[1]=u*l*d-o*f*c,e[2]=u*f*c+o*l*d,e[3]=u*f*d+o*l*c;break;case"yxz":e[0]=o*f*d+u*l*c,e[1]=u*l*d-o*f*c,e[2]=u*f*c-o*l*d,e[3]=u*f*d+o*l*c;break;case"yzx":e[0]=o*f*d+u*l*c,e[1]=u*l*d+o*f*c,e[2]=u*f*c-o*l*d,e[3]=u*f*d-o*l*c;break;case"zxy":e[0]=o*f*d-u*l*c,e[1]=u*l*d+o*f*c,e[2]=u*f*c+o*l*d,e[3]=u*f*d-o*l*c;break;case"zyx":e[0]=o*f*d-u*l*c,e[1]=u*l*d+o*f*c,e[2]=u*f*c-o*l*d,e[3]=u*f*d+o*l*c;break;default:throw Error("Unknown angle order "+a);}return e;}function I(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")";}var N=h.clone,D=h.fromValues,F=h.copy,B=h.set,U=h.add,j=b,k=h.scale,G=h.dot,z=h.lerp,V=h.length,H=V,X=h.squaredLength,W=X,Y=h.normalize,q=h.exactEquals;function Z(e,t){return Math.abs(h.dot(e,t))>=1-s.EPSILON;}var K=(n=d.create(),a=d.fromValues(1,0,0),i=d.fromValues(0,1,0),function(e,t,r){var o=d.dot(t,r);return o<-.999999?(d.cross(n,a,t),1e-6>d.len(n)&&d.cross(n,i,t),d.normalize(n,n),_(e,n,Math.PI),e):o>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(d.cross(n,t,r),e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=1+o,Y(e,e));}),$=(o=p(),u=p(),function(e,t,r,n,a,i){return M(o,t,a,i),M(u,r,n,i),M(e,o,u,2*i*(1-i)),e;}),Q=(l=c.create(),function(e,t,r,n){return l[0]=r[0],l[3]=r[1],l[6]=r[2],l[1]=n[0],l[4]=n[1],l[7]=n[2],l[2]=-t[0],l[5]=-t[1],l[8]=-t[2],Y(e,L(e,l));});},"4642ee7d":function(e,t,r){"use strict";function n(e){let t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0;break;default:t=.5;}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0;break;default:r=.5;}return{horizontalAlign:t,verticalAlign:r};}function a(e,t,r,n,a){if(!a)return;let i=e[n],o=i.glyph;if(o){let u=t[o].advance*i.scale,l=(e[n].x+u)*a;for(let t=r;t<=n;t++)e[t].x-=l;}}function i(e,t,r,n,a,i,o){let u=(t-r)*a,l=(-n*o+.5)*i;for(let t of e)t.x+=u,t.y+=l;}function o(e,t,r,u,l,f,s=[0,0],c){let d=e.split("\n"),h=[],p={positionedGlyphs:h,top:s[1],bottom:s[1],left:s[0],right:s[0],lineCount:d.length,text:e};return c?function(e,t,r,o,u,l,f){let s=0,c=-8,d=0,h=e.positionedGlyphs,p="right"===l?1:"left"===l?0:.5,v=h.length;r.forEach(e=>{let r=t[e];r&&(h.push({glyph:e,x:r.advance/2,y:c+0,vertical:!1,scale:1,metrics:r}),s+=r.advance+f),h.length!==v&&(d=Math.max(s-f,d),a(h,t,v,h.length-1,p)),s=0,c-=o+5;});let{horizontalAlign:_,verticalAlign:m}=n(u);i(h,p,_,m,d,o,r.length);let g=c- -8;e.top+=-m*g,e.bottom=e.top-g,e.left+=-_*d,e.right=e.left+d;}(p,t,d,r,u,l,f):function(e,t,r,o,u,l,f){let s=0,c=-8,d=0,h=e.positionedGlyphs,p="right"===l?1:"left"===l?0:.5,v=h.length;r.forEach(e=>{e.split("").forEach(e=>{let r=t[e];r&&(h.push({glyph:e,x:s,y:c+0,vertical:!1,scale:1,metrics:r}),s+=r.advance+f);}),h.length!==v&&(d=Math.max(s-f,d),a(h,t,v,h.length-1,p)),s=0,c-=o+5;});let{horizontalAlign:_,verticalAlign:m}=n(u);i(h,p,_,m,d,o,r.length);let g=c- -8;e.top+=-m*g,e.bottom=e.top-g,e.left+=-_*d,e.right=e.left+d;}(p,t,d,r,u,l,f),!!h.length&&p;}function u(e,t=[0,0],r){let{positionedGlyphs:n=[]}=e,a=[];for(let e of n){let n=e.metrics,i=n.advance*e.scale/2,o=r?[e.x+i,e.y]:[0,0],u=r?[0,0]:[e.x+i+t[0],e.y+t[1]],l=-4*e.scale-i+u[0],f=-4*e.scale+u[1],s=l+n.width*e.scale,c=f+n.height*e.scale,d={x:l,y:f},h={x:s,y:f},p={x:l,y:c},v={x:s,y:c};a.push({tl:d,tr:h,bl:p,br:v,tex:n,glyphOffset:o});}return a;}r.d(t,"__esModule",{value:!0}),r.e(t,{getGlyphQuads:function(){return u;},shapeText:function(){return o;}});},"4722a401":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9f4f8f39")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},47252287:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4fd17dda")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"473ee639":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{LDU:function(){return E;},add:function(){return T;},adjoint:function(){return d;},clone:function(){return i;},copy:function(){return o;},create:function(){return a;},determinant:function(){return h;},equals:function(){return O;},exactEquals:function(){return S;},frob:function(){return y;},fromRotation:function(){return m;},fromScaling:function(){return g;},fromValues:function(){return l;},identity:function(){return u;},invert:function(){return c;},mul:function(){return x;},multiply:function(){return p;},multiplyScalar:function(){return R;},multiplyScalarAndAdd:function(){return M;},rotate:function(){return v;},scale:function(){return _;},set:function(){return f;},str:function(){return b;},sub:function(){return C;},subtract:function(){return A;},transpose:function(){return s;}});var n=r("852bbaa9")._(r("8d58e674"));function a(){var e=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e;}function i(e){var t=new n.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t;}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e;}function u(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e;}function l(e,t,r,a){var i=new n.ARRAY_TYPE(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=a,i;}function f(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e;}function s(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r;}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e;}function c(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*i-a*n;return o?(o=1/o,e[0]=i*o,e[1]=-n*o,e[2]=-a*o,e[3]=r*o,e):null;}function d(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e;}function h(e){return e[0]*e[3]-e[2]*e[1];}function p(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=r[0],l=r[1],f=r[2],s=r[3];return e[0]=n*u+i*l,e[1]=a*u+o*l,e[2]=n*f+i*s,e[3]=a*f+o*s,e;}function v(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*u,e[1]=a*l+o*u,e[2]=-(n*u)+i*l,e[3]=-(a*u)+o*l,e;}function _(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=r[0],l=r[1];return e[0]=n*u,e[1]=a*u,e[2]=i*l,e[3]=o*l,e;}function m(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e;}function g(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e;}function b(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")";}function y(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]);}function E(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r];}function T(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e;}function A(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e;}function S(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3];}function O(e,t){var r=e[0],a=e[1],i=e[2],o=e[3],u=t[0],l=t[1],f=t[2],s=t[3];return Math.abs(r-u)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(a-l)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(i-f)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s));}function R(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e;}function M(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e;}var x=p,C=A;},"474ccdb3":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b33f9a33")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"474ef463":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=Math.PI/3,a=[0,n,2*n,3*n,4*n,5*n];function i(e){return e[0];}function o(e){return e[1];}function u(){var e,t,r,u=0,l=0,f=1,s=1,c=i,d=o;function h(e){var n,a={},i=[],o=e.length;for(n=0;n<o;++n)if(!(isNaN(l=+c.call(null,u=e[n],n,e))||isNaN(f=+d.call(null,u,n,e)))){var u,l,f,s=Math.round(f/=r),h=Math.round(l=l/t-(1&s)/2),p=f-s;if(3*Math.abs(p)>1){var v=l-h,_=h+(l<h?-1:1)/2,m=s+(f<s?-1:1),g=l-_,b=f-m;v*v+p*p>g*g+b*b&&(h=_+(1&s?1:-1)/2,s=m);}var y=h+"-"+s,E=a[y];E?E.push(u):(i.push(E=a[y]=[u]),E.x=(h+(1&s)/2)*t,E.y=s*r);}return i;}function p(e){var t=0,r=0;return a.map(function(n){var a=Math.sin(n)*e,i=-Math.cos(n)*e,o=a-t,u=i-r;return t=a,r=i,[o,u];});}return h.hexagon=function(t){return"m"+p(null==t?e:+t).join("l")+"z";},h.centers=function(){for(var n=[],a=Math.round(l/r),i=Math.round(u/t),o=a*r;o<s+e;o+=r,++a)for(var c=i*t+(1&a)*t/2;c<f+t/2;c+=t)n.push([c,o]);return n;},h.mesh=function(){var t=p(e).slice(0,4).join("l");return h.centers().map(function(e){return"M"+e+"m"+t;}).join("");},h.x=function(e){return arguments.length?(c=e,h):c;},h.y=function(e){return arguments.length?(d=e,h):d;},h.radius=function(a){return arguments.length?(t=2*(e=+a)*Math.sin(n),r=1.5*e,h):e;},h.size=function(e){return arguments.length?(u=l=0,f=+e[0],s=+e[1],h):[f-u,s-l];},h.extent=function(e){return arguments.length?(u=+e[0][0],l=+e[0][1],f=+e[1][0],s=+e[1][1],h):[[u,l],[f,s]];},h.radius(1);}},"476aefa0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1c6020bb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"477bb23b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5c5f01de")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"484ab0c9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("aa75f2c9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"486fcfde":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"Scene",{enumerable:!0,get:function(){return y;}});var n=r("852bbaa9"),a=r("feb6902c"),i=r("7f434d9f"),o=r("b28eeb4c"),u=r("d792409e"),l=r("89217383"),f=n._(r("63e59eb0")),s=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&_(e,r,t[r]);if(h)for(var r of h(t))v.call(t,r)&&_(e,r,t[r]);return e;},g=(e,t)=>c(e,d(t)),b=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),y=class{constructor(e){let{id:t,map:r,renderer:n="device"}=e,a=(0,i.createSceneContainer)();this.container=a,r.setContainer(a,t),"regl"===n?a.rendererService=new u.ReglRendererService:a.rendererService=new u.DeviceRendererService,this.sceneService=a.sceneService,this.mapService=a.mapService,this.iconService=a.iconService,this.fontService=a.fontService,this.controlService=a.controlService,this.layerService=a.layerService,this.debugService=a.debugService,this.debugService.setEnable(e.debug),this.markerService=a.markerService,this.interactionService=a.interactionService,this.popupService=a.popupService,this.boxSelect=new f.default(this,{}),this.initComponent(t),this.sceneService.init(e),this.initControl();}get map(){return this.mapService.map;}get loaded(){return this.sceneService.loaded;}getServiceContainer(){return this.container;}getSize(){return this.mapService.getSize();}getMinZoom(){return this.mapService.getMinZoom();}getMaxZoom(){return this.mapService.getMaxZoom();}getType(){return this.mapService.getType();}getMapContainer(){return this.mapService.getMapContainer();}getMapCanvasContainer(){return this.mapService.getMapCanvasContainer();}getMapService(){return this.mapService;}getDebugService(){return this.debugService;}exportPng(e){return b(this,null,function*(){return this.sceneService.exportPng(e);});}exportMap(e){return b(this,null,function*(){return this.sceneService.exportPng(e);});}registerRenderService(e){this.sceneService.loaded?new e(this).init():this.on("loaded",()=>{new e(this).init();});}setBgColor(e){this.mapService.setBgColor(e);}addLayer(e){this.loaded?this.preAddLayer(e):this.once("loaded",()=>{this.preAddLayer(e);});}preAddLayer(e){let t=(0,i.createLayerContainer)(this.container);if(e.setContainer(t),this.sceneService.addLayer(e),e.inited){this.initTileLayer(e);let t=this.initMask(e);this.addMask(t,e.id);}else e.on("inited",()=>{this.initTileLayer(e);let t=this.initMask(e);this.addMask(t,e.id);});}initMask(e){let{mask:t,maskfence:r,maskColor:n="#000",maskOpacity:a=0}=e.getLayerConfig();if(t&&r)return new o.MaskLayer().source(r).shape("fill").style({color:n,opacity:a});}addMask(e,t){if(!e)return;let r=this.getLayer(t);if(r){let t=(0,i.createLayerContainer)(this.container);e.setContainer(t),r.addMaskLayer(e),this.sceneService.addMask(e);}else console.warn("parent layer not find!");}getPickedLayer(){return this.layerService.pickedLayerId;}getLayers(){return this.layerService.getLayers();}getLayer(e){return this.layerService.getLayer(e);}getLayerByName(e){return this.layerService.getLayerByName(e);}removeLayer(e,t){return b(this,null,function*(){yield this.layerService.remove(e,t);});}removeAllLayer(){return b(this,null,function*(){yield this.layerService.removeAllLayers();});}render(){this.sceneService.render();}setEnableRender(e){this.layerService.setEnableRender(e);}addIconFont(e,t){this.fontService.addIconFont(e,t);}addIconFonts(e){e.forEach(([e,t])=>{this.fontService.addIconFont(e,t);});}addFontFace(e,t){this.fontService.once("fontloaded",e=>{this.emit("fontloaded",e);}),this.fontService.addFontFace(e,t);}addImage(e,t){return b(this,null,function*(){yield this.iconService.addImage(e,t);});}hasImage(e){return this.iconService.hasImage(e);}removeImage(e){this.iconService.removeImage(e);}addIconFontGlyphs(e,t){this.fontService.addIconGlyphs(t);}addControl(e){this.controlService.addControl(e,this.container);}removeControl(e){this.controlService.removeControl(e);}getControlByName(e){return this.controlService.getControlByName(e);}addMarker(e){this.markerService.addMarker(e);}addMarkerLayer(e){this.markerService.addMarkerLayer(e);}removeMarkerLayer(e){this.markerService.removeMarkerLayer(e);}removeAllMarkers(){this.markerService.removeAllMarkers();}removeAllMakers(){console.warn("removeAllMakers \u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 removeAllMarkers"),this.markerService.removeAllMarkers();}addPopup(e){this.popupService.addPopup(e);}removePopup(e){this.popupService.removePopup(e);}on(e,t){var r;f.BoxSelectEventList.includes(e)?null==(r=this.boxSelect)||r.on(e,t):i.SceneEventList.includes(e)?this.sceneService.on(e,t):this.mapService.on(e,t);}once(e,t){var r;f.BoxSelectEventList.includes(e)?null==(r=this.boxSelect)||r.once(e,t):i.SceneEventList.includes(e)?this.sceneService.once(e,t):this.mapService.once(e,t);}emit(e,t){i.SceneEventList.includes(e)?this.sceneService.emit(e,t):this.mapService.on(e,t);}off(e,t){var r;f.BoxSelectEventList.includes(e)?null==(r=this.boxSelect)||r.off(e,t):i.SceneEventList.includes(e)?this.sceneService.off(e,t):this.mapService.off(e,t);}getZoom(){return this.mapService.getZoom();}getCenter(e){return this.mapService.getCenter(e);}setCenter(e,t){return this.mapService.setCenter(e,t);}getPitch(){return this.mapService.getPitch();}setPitch(e){return this.mapService.setPitch(e);}getRotation(){return this.mapService.getRotation();}getBounds(){return this.mapService.getBounds();}setRotation(e){this.mapService.setRotation(e);}zoomIn(){this.mapService.zoomIn();}zoomOut(){this.mapService.zoomOut();}panTo(e){this.mapService.panTo(e);}panBy(e,t){this.mapService.panBy(e,t);}getContainer(){return this.mapService.getContainer();}setZoom(e){this.mapService.setZoom(e);}fitBounds(e,t){let{fitBoundsOptions:r,animate:n}=this.sceneService.getSceneConfig();this.mapService.fitBounds(e,t||g(m({},r),{animate:n}));}setZoomAndCenter(e,t){this.mapService.setZoomAndCenter(e,t);}setMapStyle(e){this.mapService.setMapStyle(e);}setMapStatus(e){this.mapService.setMapStatus(e);}pixelToLngLat(e){return this.mapService.pixelToLngLat(e);}lngLatToPixel(e){return this.mapService.lngLatToPixel(e);}containerToLngLat(e){return this.mapService.containerToLngLat(e);}lngLatToContainer(e){return this.mapService.lngLatToContainer(e);}destroy(){this.sceneService.destroy();}registerPostProcessingPass(e){this.container.postProcessingPass.name=new e;}enableShaderPick(){this.layerService.enableShaderPick();}diasbleShaderPick(){this.layerService.disableShaderPick();}enableBoxSelect(e=!0){this.boxSelect.enable(),e&&this.boxSelect.once("selectend",()=>{this.disableBoxSelect();});}disableBoxSelect(){this.boxSelect.disable();}static addProtocol(e,t){l.SceneConifg.REGISTERED_PROTOCOLS[e]=t;}static removeProtocol(e){delete l.SceneConifg.REGISTERED_PROTOCOLS[e];}getProtocol(e){return l.SceneConifg.REGISTERED_PROTOCOLS[e];}startAnimate(){this.layerService.startAnimate();}stopAnimate(){this.layerService.stopAnimate();}getPointSizeRange(){return this.sceneService.getPointSizeRange();}initComponent(e){this.controlService.init({container:l.DOM.getContainer(e)},this.container),this.markerService.init(this.container),this.popupService.init(this.container);}initControl(){let{logoVisible:e,logoPosition:t}=this.sceneService.getSceneConfig();e&&this.addControl(new a.Logo({position:t}));}initTileLayer(e){e.getSource().isTile&&(e.tileLayer=new o.TileLayer(e));}};},"48dac075":function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1;}function u(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var u=new o(r,n||e,i),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],u]:e._events[l].push(u):(e._events[l]=u,e._eventsCount++),e;}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t];}function f(){this._events=new i,this._eventsCount=0;}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1)),f.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r;},f.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o;},f.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0;},f.prototype.emit=function(e,t,r,n,i,o){var u=a?a+e:e;if(!this._events[u])return!1;var l,f,s=this._events[u],c=arguments.length;if(s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,r),!0;case 4:return s.fn.call(s.context,t,r,n),!0;case 5:return s.fn.call(s.context,t,r,n,i),!0;case 6:return s.fn.call(s.context,t,r,n,i,o),!0;}for(f=1,l=Array(c-1);f<c;f++)l[f-1]=arguments[f];s.fn.apply(s.context,l);}else{var d,h=s.length;for(f=0;f<h;f++)switch(s[f].once&&this.removeListener(e,s[f].fn,void 0,!0),c){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,t);break;case 3:s[f].fn.call(s[f].context,t,r);break;case 4:s[f].fn.call(s[f].context,t,r,n);break;default:if(!l)for(d=1,l=Array(c-1);d<c;d++)l[d-1]=arguments[d];s[f].fn.apply(s[f].context,l);}}return!0;},f.prototype.on=function(e,t,r){return u(this,e,t,r,!1);},f.prototype.once=function(e,t,r){return u(this,e,t,r,!0);},f.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,i);else{for(var u=0,f=[],s=o.length;u<s;u++)(o[u].fn!==t||n&&!o[u].once||r&&o[u].context!==r)&&f.push(o[u]);f.length?this._events[i]=1===f.length?f[0]:f:l(this,i);}return this;},f.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this;},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=a,f.EventEmitter=f,void 0!==e&&(e.exports=f);},"48fd1496":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b2e68d4b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"49307a9f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{createLayerContainer:function(){return B;},createSceneContainer:function(){return F;},globalConfigService:function(){return N;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("7be770e6")),o=n._(r("f28812a5")),u=n._(r("d6ff4ead")),l=n._(r("dd6185e1")),f=n._(r("9fbc5f51")),s=n._(r("403c3f33")),c=n._(r("6b6c60c9")),d=n._(r("4b0c8df2")),h=n._(r("f444fef5")),p=n._(r("aa3bb66e")),v=n._(r("8720377c")),_=n._(r("4382b3f4")),m=n._(r("b5885134")),g=n._(r("d1d7e540")),b=n._(r("5c9897fe")),y=n._(r("d1899eb1")),E=n._(r("c5c43268")),T=n._(r("6b69f940")),A=n._(r("e692ac42")),S=n._(r("2fa13772")),O=n._(r("7af874f3")),R=n._(r("b608b591")),M=n._(r("5b56e404")),x=n._(r("04d8323e")),C=n._(r("a01fbe0a")),P=n._(r("28433b80")),L=n._(r("ff281992")),w=n._(r("5a12d617")),I=n._(r("6b855cf0"));let N=new c.default,D=0;function F(){let e=new b.default,t=new h.default,r=new u.default,n=new d.default(r),a=new i.default,c=new o.default,m=new f.default,E=new s.default,A=new l.default,F={id:`${D++}`,globalConfigService:N,shaderModuleService:e,debugService:t,cameraService:r,coordinateSystemService:n,fontService:a,iconService:c,markerService:m,popupService:E,controlService:A,customRenderService:{}},B=new _.default(F);F.layerService=B;let U=new g.default(F);F.sceneService=U;let j=new p.default(F);F.interactionService=j;let k=new v.default(F);F.pickingService=k;let G={clear:new y.default,pixelPicking:new T.default,render:new S.default};F.normalPassFactory=e=>G[e];let z={copy:new C.default,bloom:new O.default,blurH:new R.default,blurV:new M.default,noise:new w.default,sepia:new I.default,colorHalftone:new x.default,hexagonalPixelate:new P.default,ink:new L.default};return F.postProcessingPass=z,F.postProcessingPassFactory=e=>z[e],F;}function B(e){let t=(0,a.default)({},e);return t.postProcessor=new A.default(t.rendererService),t.multiPassRenderer=new E.default(t.postProcessor),t.styleAttributeService=new m.default(t.rendererService),t;}},"497c0d61":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2b4b672e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"49f29790":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{mat2:function(){return a;},mat3:function(){return i;},mat4:function(){return o;},quat:function(){return u;},vec2:function(){return l;},vec3:function(){return f;},vec4:function(){return s;}});var n=r("852bbaa9"),a=n._(r("473ee639")),i=n._(r("b5cc3410")),o=n._(r("ae8ece4f")),u=n._(r("463d7c3b")),l=n._(r("3a274cee")),f=n._(r("813cf9e1")),s=n._(r("dd436b23"));},"4a042922":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f4bf219f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4a3fc6ce":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n={},a={};function i(e){return Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""';}).join(",")+"}");}function o(e){var t=Object.create(null),r=[];return e.forEach(function(e){for(var n in e)n in t||r.push(t[n]=n);}),r;}function u(e,t){var r=e+"",n=r.length;return n<t?Array(t-n+1).join(0)+r:r;}function l(e){var t=RegExp('["'+e+"\n\r]"),r=e.charCodeAt(0);function l(e,t){var i,o=[],u=e.length,l=0,f=0,s=u<=0,c=!1;function d(){if(s)return a;if(c)return c=!1,n;var t,i,o=l;if(34===e.charCodeAt(o)){for(;l++<u&&34!==e.charCodeAt(l)||34===e.charCodeAt(++l););return(t=l)>=u?s=!0:10===(i=e.charCodeAt(l++))?c=!0:13===i&&(c=!0,10===e.charCodeAt(l)&&++l),e.slice(o+1,t-1).replace(/""/g,'"');}for(;l<u;){if(10===(i=e.charCodeAt(t=l++)))c=!0;else if(13===i)c=!0,10===e.charCodeAt(l)&&++l;else if(i!==r)continue;return e.slice(o,t);}return s=!0,e.slice(o,u);}for(10===e.charCodeAt(u-1)&&--u,13===e.charCodeAt(u-1)&&--u;(i=d())!==a;){for(var h=[];i!==n&&i!==a;)h.push(i),i=d();t&&null==(h=t(h,f++))||o.push(h);}return o;}function f(t,r){return t.map(function(t){return r.map(function(e){return c(t[e]);}).join(e);});}function s(t){return t.map(c).join(e);}function c(e){var r,n,a,i,o,l;return null==e?"":e instanceof Date?(n=(r=e).getUTCHours(),a=r.getUTCMinutes(),i=r.getUTCSeconds(),o=r.getUTCMilliseconds(),isNaN(r)?"Invalid Date":((l=r.getUTCFullYear())<0?"-"+u(-l,6):l>9999?"+"+u(l,6):u(l,4))+"-"+u(r.getUTCMonth()+1,2)+"-"+u(r.getUTCDate(),2)+(o?"T"+u(n,2)+":"+u(a,2)+":"+u(i,2)+"."+u(o,3)+"Z":i?"T"+u(n,2)+":"+u(a,2)+":"+u(i,2)+"Z":a||n?"T"+u(n,2)+":"+u(a,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;}return{parse:function(e,t){var r,n,a=l(e,function(e,a){var o;if(r)return r(e,a-1);n=e,r=t?(o=i(e),function(r,n){return t(o(r),n,e);}):i(e);});return a.columns=n||[],a;},parseRows:l,format:function(t,r){return null==r&&(r=o(t)),[r.map(c).join(e)].concat(f(t,r)).join("\n");},formatBody:function(e,t){return null==t&&(t=o(e)),f(e,t).join("\n");},formatRows:function(e){return e.map(s).join("\n");},formatRow:s,formatValue:c};}},"4a529b78":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("264bd4a9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4a72190b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("25d3790d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4ae63197":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7270dcc3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4b0c8df2":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe")._(r("e1e610e4")),a=r("49f29790"),i=r("3a138d51"),o=r("78f293f4");let u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];class l{constructor(e){(0,n.default)(this,"needRefresh",!0),(0,n.default)(this,"coordinateSystem",void 0),(0,n.default)(this,"viewportCenter",void 0),(0,n.default)(this,"viewportCenterProjection",void 0),(0,n.default)(this,"pixelsPerDegree",void 0),(0,n.default)(this,"pixelsPerDegree2",void 0),(0,n.default)(this,"pixelsPerMeter",void 0),this.cameraService=e;}refresh(e){let t=this.cameraService.getZoom(),r=e||this.cameraService.getCenter(),{pixelsPerMeter:n,pixelsPerDegree:a}=(0,i.getDistanceScales)({latitude:r[1],zoom:t});this.viewportCenter=r,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=n,this.pixelsPerDegree=a,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===o.CoordinateSystem.LNGLAT?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===o.CoordinateSystem.LNGLAT_OFFSET&&this.calculateLnglatOffset(r,t),this.needRefresh=!1;}getCoordinateSystem(){return this.coordinateSystem;}setCoordinateSystem(e){this.coordinateSystem=e;}getViewportCenter(){return this.viewportCenter;}setViewportCenter(e){this.refresh(e);}getViewportCenterProjection(){return this.viewportCenterProjection;}getPixelsPerDegree(){return this.pixelsPerDegree;}getPixelsPerDegree2(){return this.pixelsPerDegree2;}getPixelsPerMeter(){return this.pixelsPerMeter;}calculateLnglatOffset(e,t,r,n){let{pixelsPerMeter:o,pixelsPerDegree:l,pixelsPerDegree2:f}=(0,i.getDistanceScales)({latitude:e[1],zoom:t,scale:r,flipY:n,highPrecision:!0}),s=this.cameraService.getViewMatrix(),c=this.cameraService.getProjectionMatrix(),d=a.mat4.multiply([],c,s),h=this.cameraService.projectFlat([Math.fround(e[0]),Math.fround(e[1])],Math.pow(2,t));this.viewportCenterProjection=a.vec4.transformMat4([],[h[0],h[1],0,1],d),s=this.cameraService.getViewMatrixUncentered()||s,d=a.mat4.multiply([],c,s),d=a.mat4.multiply([],d,u),this.cameraService.setViewProjectionMatrix(d),this.pixelsPerMeter=o,this.pixelsPerDegree=l,this.pixelsPerDegree2=f;}}},"4b19d198":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("89217383"),u=r("3fb4fdb6"),l=r("3cc20d34");let{camelCase:f,isNil:s,upperFirst:c}=o.lodashUtil;class d{constructor(){(0,i.default)(this,"shaderModuleService",void 0),(0,i.default)(this,"rendererService",void 0),(0,i.default)(this,"config",void 0),(0,i.default)(this,"quad","attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n"),(0,i.default)(this,"enabled",!0),(0,i.default)(this,"renderToScreen",!1),(0,i.default)(this,"model",void 0),(0,i.default)(this,"name",void 0),(0,i.default)(this,"optionsToUpdate",{});}getName(){return this.name;}setName(e){this.name=e;}getType(){return u.PassType.PostProcessing;}init(e,t){this.config=t,this.rendererService=e.getContainer().rendererService,this.shaderModuleService=e.getContainer().shaderModuleService;let{createAttribute:r,createBuffer:n,createModel:i}=this.rendererService,{vs:o,fs:u,uniforms:f}=this.setupShaders();this.model=i({vs:o,fs:u,attributes:{a_Position:r({buffer:n({data:[-4,-4,4,-4,0,4],type:l.gl.FLOAT}),size:2})},uniforms:(0,a.default)((0,a.default)({u_Texture:null},f),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:"copy"===this.getName()}});}render(e,t){let r=e.multiPassRenderer.getPostProcessor(),{useFramebuffer:n,getViewportSize:i,clear:o}=this.rendererService,{width:u,height:l}=i();n(this.renderToScreen?null:r.getWriteFBO(),()=>{o({framebuffer:r.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0});let e=(0,a.default)({u_BloomFinal:0,u_Texture:r.getReadFBO(),u_ViewportSize:[u,l]},this.convertOptionsToUniforms(this.optionsToUpdate));t&&(e.u_BloomFinal=1,e.u_Texture2=t),this.model.draw({uniforms:e});});}isEnabled(){return this.enabled;}setEnabled(e){this.enabled=e;}setRenderToScreen(e){this.renderToScreen=e;}updateOptions(e){this.optionsToUpdate=(0,a.default)((0,a.default)({},this.optionsToUpdate),e);}setupShaders(){throw Error("Method not implemented.");}convertOptionsToUniforms(e){let t={};return Object.keys(e).forEach(r=>{s(e[r])||(t[`u_${c(f(r))}`]=e[r]);}),t;}}},"4b37d498":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{bindCancel:function(){return o;},getTileBandParams:function(){return i;},getTileUrl:function(){return a;}});var n=r("89217383");function a(e,t){return Array.isArray(e)?"string"==typeof e[0]?e.map(e=>(0,n.getURLFromTemplate)(e,t)):e.map(e=>({url:(0,n.getURLFromTemplate)(e.url,t),bands:e.bands||[0]})):(0,n.getURLFromTemplate)(e,t);}function i(e){return"string"==typeof e?[{url:e,bands:[0]}]:"string"==typeof e[0]?e.map(e=>({url:e,bands:[0]})):e;}function o(e,t){e.xhrCancel=()=>{t.map(e=>{e.abort();});};}},"4b532267":function(e,t,r){"use strict";var n=e.exports={};n.isIE=function(e){var t;return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e,t=3,r=document.createElement("div"),n=r.getElementsByTagName("i");do r.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->";while(n[0])return t>4?t:e;}());},n.isLegacyOpera=function(){return!!window.opera;};},"4babc87e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return v;}});var n=r("777fffbe"),a=n._(r("df6924be")),i=n._(r("a7755ce7")),o=n._(r("9a51e2f7")),u=n._(r("ac98b261")),l=n._(r("967635f0")),f=n._(r("d9ce4a54")),s=n._(r("f097af98")),c=n._(r("d373a74c")),d=n._(r("5eb6e7eb")),h=n._(r("f1892878")),p=n._(r("5ddd9939")),v={fill:d.default,line:a.default,extrude:s.default,text:f.default,point_fill:o.default,point_image:u.default,point_normal:l.default,point_extrude:i.default,water:p.default,ocean:h.default,extrusion:c.default};},"4c177a85":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fed5c18d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4c266e3f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("99beac24")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4c32e26d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5d88b3ab")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4c3795a1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("341a81bc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4c8dd98b":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("07a31cab")),u=n._(r("7eacd5a3"));class l extends o.default{constructor(...e){super(...e),(0,i.default)(this,"type","WindLayer");}buildModels(){var e=this;return(0,a.default)(function*(){let t=e.getModelType();e.layerModel=new u.default[t](e),yield e.initLayerModels();})();}renderModels(e={}){return this.layerModel&&this.layerModel.render(e),this;}getDefaultConfig(){return({wind:{}})[this.getModelType()];}getModelType(){return"wind";}}},"4d09a41d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3210e4df")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4d63999a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("47c7148c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4dfd16f1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("14f664b6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4e0cf5fa":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return f;},timeFormat:function(){return a;},timeParse:function(){return i;},utcFormat:function(){return o;},utcParse:function(){return u;}});var n,a,i,o,u,l=r("777fffbe")._(r("09cc848a"));function f(e){return a=(n=(0,l.default)(e)).format,i=n.parse,o=n.utcFormat,u=n.utcParse,n;}f({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});},"4e0ee3b6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9d793364")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4e33fd57":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{copy:function(){return v;},default:function(){return m;},identity:function(){return s;},transformer:function(){return _;}});var n=r("777fffbe"),a=r("af21b0e3"),i=r("3fbd2a32"),o=r("81801401"),u=n._(r("d2cd3aa9")),l=n._(r("bf709c9d")),f=[0,1];function s(e){return e;}function c(e,t){return(t-=e=+e)?function(r){return(r-e)/t;}:(0,u.default)(isNaN(t)?NaN:.5);}function d(e){var t,r=e[0],n=e[e.length-1];return r>n&&(t=r,r=n,n=t),function(e){return Math.max(r,Math.min(n,e));};}function h(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=c(a,n),i=r(o,i)):(n=c(n,a),i=r(i,o)),function(e){return i(n(e));};}function p(e,t,r){var n=Math.min(e.length,t.length)-1,i=Array(n),o=Array(n),u=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<n;)i[u]=c(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(t){var r=(0,a.bisect)(e,t,1,n)-1;return o[r](i[r](t));};}function v(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());}function _(){var e,t,r,n,a,u,c=f,v=f,_=i.interpolate,m=s;function g(){return n=Math.min(c.length,v.length)>2?p:h,a=u=null,b;}function b(t){return isNaN(t=+t)?r:(a||(a=n(c.map(e),v,_)))(e(m(t)));}return b.invert=function(r){return m(t((u||(u=n(v,c.map(e),i.interpolateNumber)))(r)));},b.domain=function(e){return arguments.length?(c=o.map.call(e,l.default),m===s||(m=d(c)),g()):c.slice();},b.range=function(e){return arguments.length?(v=o.slice.call(e),g()):v.slice();},b.rangeRound=function(e){return v=o.slice.call(e),_=i.interpolateRound,g();},b.clamp=function(e){return arguments.length?(m=e?d(c):s,b):m!==s;},b.interpolate=function(e){return arguments.length?(_=e,g()):_;},b.unknown=function(e){return arguments.length?(r=e,b):r;},function(r,n){return e=r,t=n,g();};}function m(e,t){return _()(e,t);}},"4ead9522":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{timeHour:function(){return i;},timeHours:function(){return o;},utcHour:function(){return u;},utcHours:function(){return l;}});var n=r("d7f30e4c"),a=r("0bb366b0");let i=(0,n.timeInterval)(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*a.durationSecond-e.getMinutes()*a.durationMinute);},(e,t)=>{e.setTime(+e+t*a.durationHour);},(e,t)=>(t-e)/a.durationHour,e=>e.getHours()),o=i.range,u=(0,n.timeInterval)(e=>{e.setUTCMinutes(0,0,0);},(e,t)=>{e.setTime(+e+t*a.durationHour);},(e,t)=>(t-e)/a.durationHour,e=>e.getUTCHours()),l=u.range;},"4eb60f90":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b0ebc166")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4ebc75b9":function(e,t,r){"use strict";function n(e,t){let r=[],n=[],a=[],i=e+1,o=t+1,u=e/2,l=t/2;for(let r=0;r<o;r++){let o=r-l;for(let f=0;f<i;f++){let i=f-u;n.push(i/u,-o/l,0),a.push(f/e),a.push(1-r/t);}}for(let n=0;n<t;n++)for(let t=0;t<e;t++){let e=t+i*n,a=t+i*(n+1),o=t+1+i*(n+1),u=t+1+i*n;r.push(e,a,u),r.push(a,o,u);}return{vertices:n,indices:r,uvs:a};}r.d(t,"__esModule",{value:!0}),r.d(t,"heatMap3DTriangulation",{enumerable:!0,get:function(){return n;}});},"4ed7ff74":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b0190eaa")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4efd1166":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=r("89217383");class f{constructor(){(0,o.default)(this,"mapService",void 0),(0,o.default)(this,"fontService",void 0);}apply(e,{styleAttributeService:t,mapService:r,fontService:n}){var a,o=this;this.mapService=r,this.fontService=n,e.hooks.init.tapPromise("DataMappingPlugin",(0,i.default)(function*(){e.log(u.IDebugLog.MappingStart,u.ILayerStage.INIT),o.generateMaping(e,{styleAttributeService:t}),e.log(u.IDebugLog.MappingEnd,u.ILayerStage.INIT);})),e.hooks.beforeRenderData.tapPromise("DataMappingPlugin",(a=(0,i.default)(function*(r){if(!r)return r;e.dataState.dataMappingNeedUpdate=!1,e.log(u.IDebugLog.MappingStart,u.ILayerStage.UPDATE);let n=o.generateMaping(e,{styleAttributeService:t});return e.log(u.IDebugLog.MappingEnd,u.ILayerStage.UPDATE),n;}),function(e){return a.apply(this,arguments);})),e.hooks.beforeRender.tap("DataMappingPlugin",()=>{let r=e.getSource();if(e.layerModelNeedUpdate||!r||!r.inited)return;let n=t.getLayerStyleAttributes()||[],a=t.getLayerStyleAttribute("filter"),{dataArray:i}=r.data;if(Array.isArray(i)&&0===i.length)return;let o=n.filter(e=>e.needRemapping),u=i;if(null!=a&&a.needRemapping&&null!=a&&a.scale&&(u=i.filter(e=>this.applyAttributeMapping(a,e)[0])),o.length){let t=this.mapping(e,o,u,e.getEncodedData());e.setEncodedData(t);}});}generateMaping(e,{styleAttributeService:t}){let r=t.getLayerStyleAttributes()||[],n=t.getLayerStyleAttribute("filter"),{dataArray:a}=e.getSource().data,i=a;null!=n&&n.scale&&(i=a.filter(e=>this.applyAttributeMapping(n,e)[0])),i=e.processData(i);let o=this.mapping(e,r,i,void 0);return e.setEncodedData(o),e.emit("dataUpdate",null),!0;}mapping(e,t,r,n){let i=t.filter(e=>void 0!==e.scale).filter(e=>"filter"!==e.name),o=r.map((e,t)=>{let r=n?n[t]:{},o=(0,a.default)({id:e._id,coordinates:e.coordinates},r);return i.forEach(t=>{let r=this.applyAttributeMapping(t,e);("color"===t.name||"stroke"===t.name)&&(r=r.map(e=>(0,l.rgb2arr)(e))),o[t.name]=Array.isArray(r)&&1===r.length?r[0]:r,"shape"===t.name&&(o.shape=this.fontService.getIconFontKey(o[t.name]));}),o;});return t.forEach(e=>{e.needRemapping=!1;}),this.adjustData2SimpleCoordinates(o),o;}adjustData2SimpleCoordinates(e){e.length>0&&"SIMPLE"===this.mapService.version&&e.map(e=>{e.simpleCoordinate||(e.coordinates=this.unProjectCoordinates(e.coordinates),e.simpleCoordinate=!0);});}unProjectCoordinates(e){if("number"==typeof e[0])return this.mapService.simpleMapCoord.unproject(e);if(e[0]&&e[0][0]instanceof Array){let t=[];return e.map(e=>{let r=[];e.map(e=>{r.push(this.mapService.simpleMapCoord.unproject(e));}),t.push(r);}),t;}{let t=[];return e.map(e=>{t.push(this.mapService.simpleMapCoord.unproject(e));}),t;}}applyAttributeMapping(e,t){var r;if(!e.scale)return[];let n=(null==e||null===(r=e.scale)||void 0===r?void 0:r.scalers)||[],a=[];return n.forEach(({field:r})=>{var n;(t.hasOwnProperty(r)||(null===(n=e.scale)||void 0===n?void 0:n.type)==="variable")&&a.push(t[r]);}),e.mapping?e.mapping(a):[];}getArrowPoints(e,t){let r=[t[0]-e[0],t[1]-e[1]],n=(0,l.normalize)(r);return[e[0]+1e-4*n[0],e[1]+1e-4*n[1]];}}},"4f412944":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2a7daa2c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4f53d066":function(e,t,r){},"4f6b8e19":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d4ecd809")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4fde1519":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("015f6566")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"4ff59e0e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{FormatSpecifier:function(){return i;},default:function(){return a;}});var n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(e){var t;if(!(t=n.exec(e)))throw Error("invalid format: "+e);return new i({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]});}function i(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+"";}a.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type;};},"505be8f8":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("09bf3a4e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"506dacbb":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Control:function(){return f;},PositionType:function(){return o.PositionType;},default:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("8174e190"));class f extends l.default{constructor(e){super(),(0,i.default)(this,"controlOption",void 0),(0,i.default)(this,"container",void 0),(0,i.default)(this,"isShow",void 0),(0,i.default)(this,"sceneContainer",void 0),(0,i.default)(this,"scene",void 0),(0,i.default)(this,"mapsService",void 0),(0,i.default)(this,"renderService",void 0),(0,i.default)(this,"layerService",void 0),(0,i.default)(this,"controlService",void 0),(0,i.default)(this,"configService",void 0),f.controlCount++,this.controlOption=(0,a.default)((0,a.default)({},this.getDefault(e)),e||{});}getOptions(){return this.controlOption;}setOptions(e){let t=this.getDefault(e);Object.entries(e).forEach(([r,n])=>{void 0===n&&(e[r]=t[r]);}),"position"in e&&this.setPosition(e.position),"className"in e&&this.setClassName(e.className),"style"in e&&this.setStyle(e.style),this.controlOption=(0,a.default)((0,a.default)({},this.controlOption),e);}addTo(e){this.mapsService=e.mapService,this.renderService=e.rendererService,this.layerService=e.layerService,this.controlService=e.controlService,this.configService=e.globalConfigService,this.scene=e.sceneService,this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd(),u.DOM.addClass(this.container,"l7-control");let{className:t,style:r}=this.controlOption;return t&&this.setClassName(t),r&&this.setStyle(r),this.insertContainer(),this.emit("add",this),this;}remove(){if(!this.mapsService)return this;u.DOM.remove(this.container),this.onRemove(),this.emit("remove",this);}onAdd(){return u.DOM.create("div");}onRemove(){}show(){let e=this.container;u.DOM.removeClass(e,"l7-control--hide"),this.isShow=!0,this.emit("show",this);}hide(){let e=this.container;u.DOM.addClass(e,"l7-control--hide"),this.isShow=!1,this.emit("hide",this);}getDefault(e){return{position:o.PositionType.TOPRIGHT,name:`${f.controlCount}`};}getContainer(){return this.container;}getIsShow(){return this.isShow;}_refocusOnMap(e){if(this.mapsService&&e&&e.screenX>0&&e.screenY>0){let e=this.mapsService.getContainer();null!==e&&e.focus();}}setPosition(e=o.PositionType.TOPLEFT){let t=this.controlService;return t&&t.removeControl(this),this.controlOption.position=e,t&&t.addControl(this,this.sceneContainer),this;}setClassName(e){let t=this.container,{className:r}=this.controlOption;r&&u.DOM.removeClass(t,r),e&&u.DOM.addClass(t,e);}setStyle(e){let t=this.container;e?t.setAttribute("style",e):t.removeAttribute("style");}insertContainer(){let e=this.controlOption.position,t=this.container;if(e instanceof Element)e.appendChild(t);else{let r=this.controlService.controlCorners[e];["bottomleft","bottomright","righttop","rightbottom"].includes(e)?r.insertBefore(t,r.firstChild):r.appendChild(t);}}checkUpdateOption(e,t){return t.some(t=>t in e);}}(0,i.default)(f,"controlCount",0);},"5076dce9":function(e,t,r){"use strict";function n(e){let t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16;}return t;}r.d(t,"__esModule",{value:!0}),r.e(t,{extractUniforms:function(){return o;},getUniformLengthByType:function(){return n;},removeDuplicateUniforms:function(){return u;}});let a=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function i(e,t=!1){let r={};return{content:e=e.replace(a,(e,a,i)=>{let o=i.split(":"),u=o[0].trim(),l="";switch(o.length>1&&(l=o[1].trim()),a){case"bool":l="true"===l;break;case"float":case"int":l=Number(l);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":l=l?l.replace("[","").replace("]","").split(",").reduce((e,t)=>(e.push(Number(t.trim())),e),[]):Array(n(a)).fill(0);}return r[u]=l,`${t?"uniform ":""}${a} ${u};
`;}),uniforms:r};}function o(e){let{content:t,uniforms:r}=i(e,!0);return{content:t=t.replace(/(\s*uniform\s*.*\s*){((?:\s*.*\s*)*?)};/g,(e,t,n)=>{let{content:a,uniforms:o}=i(n=n.trim().replace(/^.*$/gm,e=>`uniform ${e}`));return Object.assign(r,o),`${t}{
${a}
};`;}),uniforms:r};}function u(e){let t={};return e.replace(a,(e,r,n)=>{let a=n.trim();return t[a]?"":(t[a]=!0,`uniform ${r} ${a};
`);});}},"50798a9b":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("b38ee420");function a(e,t){var r=(0,n.formatDecimalParts)(e,t);if(!r)return e+"";var a=r[0],i=r[1];return i<0?"0."+Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+Array(i-a.length+2).join("0");}},"50d71ce0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d2da242f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5116a685":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("98422066")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"516f0869":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("07a31cab"));class u extends o.default{constructor(...e){super(...e),(0,i.default)(this,"type","TileDebugLayer"),(0,i.default)(this,"zIndex",1e4),(0,i.default)(this,"defaultSourceConfig",{data:[],options:{parser:{type:"testTile"}}});}buildModels(){return(0,a.default)(function*(){})();}}},"52389bb4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fc992099")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5283bf78":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8a2dcd91")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"52a21104":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9b621f07")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"52de6d38":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cf20326f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"531bb2b9":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("bcf303a7"));function a(e,t){return t=Math.abs(t)-(e=Math.abs(e)),Math.max(0,(0,n.default)(t)-(0,n.default)(e))+1;}},"53331b91":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7e9825af")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"533a7b30":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0b363abb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5348ab57":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1ef3fccc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5385ea00":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("86935c51")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5396ee4f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return function e(t,r,n,a){for(var i,o=a,u=n-r>>1,l=n-r,f=t[r],s=t[r+1],c=t[n],d=t[n+1],h=r+3;h<n;h+=3){var p=function(e,t,r,n,a,i){var o=a-r,u=i-n;if(0!==o||0!==u){var l=((e-r)*o+(t-n)*u)/(o*o+u*u);l>1?(r=a,n=i):l>0&&(r+=o*l,n+=u*l);}return(o=e-r)*o+(u=t-n)*u;}(t[h],t[h+1],f,s,c,d);if(p>o)i=h,o=p;else if(p===o){var v=Math.abs(h-u);v<l&&(i=h,l=v);}}o>a&&(i-r>3&&e(t,r,i,a),t[i+2]=o,n-i>3&&e(t,i,n,a));};}});},"5398d3fc":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0c815256")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"53c5b3a1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("33962a6b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"549c31e3":function(e,t,r){"use strict";function n(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0);}return a>0?e.slice(0,a)+e.slice(t+1):e;}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"54ac936f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{LEFT_SHIFT17:function(){return u;},LEFT_SHIFT19:function(){return l;},LEFT_SHIFT21:function(){return f;},LEFT_SHIFT23:function(){return s;},LEFT_SHIFT6:function(){return o;},packCircleVertex:function(){return d;},packUint8ToFloat:function(){return c;}});var n=r("89217383"),a=r("c7245f9c");let{clamp:i}=n.lodashUtil,o=64,u=131072,l=524288,f=2097152,s=8388608;function c(e,t){return 256*(e=i(Math.floor(e),0,255))+(t=i(Math.floor(t),0,255));}function d(e){let{color:t,radius:r,tileX:n,tileY:i,shape:d,opacity:h,stroke:p,strokeWidth:v,strokeOpacity:_}=e,m=[],g=[],b=[],y=[c(t[0],t[1]),c(t[2],t[3])],E=[c(p[0],p[1]),c(p[2],p[3])];return[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(([e,t])=>{m.push([...y,(e+1)*s+(t+1)*f+(0,a.getShapeIndex)(d)*u+r,(n+512)*l+(i+512)*o]),g.push([...E,v,_]),b.push([h,0,0,0]);}),{packedBuffer:m,packedBuffer2:g,packedBuffer3:b};}},"54c1b8de":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("406d3a24")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"54d757ce":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7403e672")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5535366a":function(e,t,r){"use strict";(e.exports={}).getOption=function(e,t,r){var n=e[t];return null==n&&void 0!==r?r:n;};},"5560573c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f596d490")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"556da0bc":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e32de216")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"557332a3":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("198a1c36")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"55733c62":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("58a69d6e")),u=n._(r("aef3738c"));class l extends u.default{initTileLayer(){var e=this;return(0,i.default)(function*(){let t=e.parent.getLayerAttributeConfig(),r=e.getLayerOptions(),n=e.getSourceOption(),i=new o.default((0,a.default)({},r)).source(n.data,n.options);t&&Object.keys(t).forEach(e=>{var r,n;i[e](null===(r=t[e])||void 0===r?void 0:r.field,null===(n=t[e])||void 0===n?void 0:n.values);}),yield e.addLayer(i),e.isLoaded=!0;})();}getFeatures(e){return e?this.sourceTile.data.getTileData(e):[];}getSourceOption(){let e=this.parent.getSource(),{sourceLayer:t,featureId:r}=this.parent.getLayerConfig();return{data:{type:"FeatureCollection",features:this.getFeatures(t)},options:{parser:{type:"geojson",featureId:r},transforms:e.transforms}};}}},"558315cb":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6b1cea04")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"558c1992":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1bfdeb61")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"55ff22e1":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return R;}});var n=r("d1751d7c"),a=r("777fffbe"),i=r("930233a8"),o=a._(r("0d038076")),u=a._(r("ccda6756")),l=a._(r("a43e6745")),f=a._(r("eeaa2bbc")),s=a._(r("3fb324f1")),c=a._(r("db8ec2e5")),d=a._(r("a21688ad")),h=a._(r("253de03f")),p=a._(r("dfedf505")),v=a._(r("fab3df7c")),_=a._(r("8817064b")),m=a._(r("9cdb934f")),g=a._(r("7596677a")),b=a._(r("6709fd95")),y=r("5887bd2a"),E=r("7777c526"),T=r("bab9fc2f"),A=r("adfc26bf"),S=r("962dc846"),O=r("6d2c7569");n._(r("939e99cc"),t),n._(r("36e3e974"),t),n._(r("8209663e"),t),(0,i.registerParser)("rasterTile",p.default),(0,i.registerParser)("mvt",d.default),(0,i.registerParser)("geojsonvt",l.default),(0,i.registerParser)("testTile",g.default),(0,i.registerParser)("geojson",u.default),(0,i.registerParser)("jsonTile",c.default),(0,i.registerParser)("image",f.default),(0,i.registerParser)("csv",o.default),(0,i.registerParser)("json",s.default),(0,i.registerParser)("raster",h.default),(0,i.registerParser)("rasterRgb",m.default),(0,i.registerParser)("rgb",_.default),(0,i.registerParser)("ndi",v.default),(0,i.registerTransform)("cluster",y.cluster),(0,i.registerTransform)("filter",E.filter),(0,i.registerTransform)("join",S.join),(0,i.registerTransform)("map",O.map),(0,i.registerTransform)("grid",T.aggregatorToGrid),(0,i.registerTransform)("hexagon",A.pointToHexbin);var R=b.default;},"560ee823":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a9101f46")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"561dbe00":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dbf34a7e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"563f648b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b1f1d27d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"56719f6a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f5f89726")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},56804445:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return function e(){var t=(0,i.linearish)((function(){var e,t,r,a,i,o,u,l=0,f=.5,s=1,c=n.identity,d=!1;function h(e){return isNaN(e=+e)?u:(e=.5+((e=+o(e))-t)*(e<t?a:i),c(d?Math.max(0,Math.min(1,e)):e));}return h.domain=function(n){return arguments.length?(e=o(l=+n[0]),t=o(f=+n[1]),r=o(s=+n[2]),a=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),h):[l,f,s];},h.clamp=function(e){return arguments.length?(d=!!e,h):d;},h.interpolator=function(e){return arguments.length?(c=e,h):c;},h.unknown=function(e){return arguments.length?(u=e,h):u;},function(n){return o=n,e=n(l),t=n(f),r=n(s),a=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),h;};})()(n.identity));return t.copy=function(){return(0,o.copy)(t,e());},a.initInterpolator.apply(t,arguments);};}});var n=r("4e33fd57"),a=r("5f49fc8a"),i=r("6c817216");r("2864a46a");var o=r("0d8cb97a");r("a3fdf0b1"),r("e1627662");},"5693b312":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3f7d7e67")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"569f660e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("217b12c5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"56dda44f":function(e,t,r){"use strict";var n;r.d(t,"__esModule",{value:!0}),r.d(t,"PositionType",{enumerable:!0,get:function(){return a;}});let a=((n={}).TOPRIGHT="topright",n.TOPLEFT="topleft",n.BOTTOMRIGHT="bottomright",n.BOTTOMLEFT="bottomleft",n.TOPCENTER="topcenter",n.BOTTOMCENTER="bottomcenter",n.LEFTCENTER="leftcenter",n.RIGHTCENTER="rightcenter",n.LEFTTOP="lefttop",n.RIGHTTOP="righttop",n.LEFTBOTTOM="leftbottom",n.RIGHTBOTTOM="rightbottom",n);},"56e820ae":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("acff11ad");},"56f239db":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5b6d1e4a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"57308ea3":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7c960bf4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5736e835":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9b217eb4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},58154611:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{interpolate:function(){return i.default;},interpolateCubehelixLong:function(){return d.cubehelixLong;},interpolateHcl:function(){return c.default;},interpolateNumber:function(){return o.default;},interpolateRgb:function(){return s.default;},interpolateRgbBasis:function(){return s.rgbBasis;},interpolateRound:function(){return u.default;},interpolateString:function(){return l.default;},interpolateTransformCss:function(){return f.interpolateTransformCss;},interpolateTransformSvg:function(){return f.interpolateTransformSvg;}});var n=r("777fffbe"),a=r("852bbaa9"),i=n._(r("8b831afe")),o=n._(r("78dc401a")),u=n._(r("14c127aa")),l=n._(r("68ca6e33")),f=r("3dc431b1"),s=a._(r("71ba3a17")),c=n._(r("f4c351e1")),d=r("5fbc9797");},"5887bd2a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"cluster",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe")._(r("f79679ff")),a=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,l=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&l(e,r,t[r]);if(i)for(var r of i(t))u.call(t,r)&&l(e,r,t[r]);return e;};function s(e,t){let{radius:r=40,maxZoom:a=18,minZoom:i=0,zoom:o=2}=t;if(e.pointIndex){let t=e.pointIndex.getClusters(e.extent,Math.floor(o));return e.dataArray=t.map((e,t)=>f({coordinates:e.geometry.coordinates,_id:t+1},e.properties)),e;}let u=new n.default({radius:r,minZoom:i,maxZoom:a}),l={features:[]};return l.features=e.dataArray.map(e=>({type:"Feature",geometry:{type:"Point",coordinates:e.coordinates},properties:f({},e)})),u.load(l.features),u;}},"58a69d6e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("07a31cab")),u=n._(r("cb081ffc"));class l extends o.default{constructor(...e){super(...e),(0,i.default)(this,"type","MaskLayer");}buildModels(){var e=this;return(0,a.default)(function*(){let t=e.getModelType();e.layerModel=new u.default[t](e),yield e.initLayerModels();})();}getModelType(){return"fill";}}},"58b2ac16":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2e6bd82a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"58fed7f9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5d536f45")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"591fe537":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4ca49147")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5931c80f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{decodePickingColor:function(){return o;},encodePickingColor:function(){return u;},generateCatRamp:function(){return s;},generateColorRamp:function(){return l;},generateCustomRamp:function(){return d;},generateLinearRamp:function(){return f;},generateQuantizeRamp:function(){return c;},getDefaultDomain:function(){return p;},isColor:function(){return a;},rgb2arr:function(){return i;}});var n=r("852bbaa9")._(r("b993dbad"));function a(e){return"string"==typeof e&&!!n.color(e);}function i(e){let t=n.color(e),r=[0,0,0,0];return null!=t&&(r[0]=t.r/255,r[1]=t.g/255,r[2]=t.b/255,r[3]=t.opacity),r;}function o(e){let t=e&&e[0];return t+256*(e&&e[1])+65536*(e&&e[2])-1;}function u(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255];}function l(e){let t=window.document.createElement("canvas"),r=t.getContext("2d");t.width=256,t.height=1;let n=null,a=r.createLinearGradient(0,0,256,1),i=e.positions[0],o=e.positions[e.positions.length-1];for(let t=0;t<e.colors.length;++t){let r=(e.positions[t]-i)/(o-i);a.addColorStop(r,e.colors[t]);}return r.fillStyle=a,r.fillRect(0,0,256,1),n=new Uint8ClampedArray(r.getImageData(0,0,256,1).data),t=null,r=null,{data:n,width:256,height:1};}function f(e,t){let r=window.document.createElement("canvas"),n=r.getContext("2d");r.width=256,r.height=1;let a=n.createLinearGradient(0,0,256,1),i=t[1]-t[0];for(let r=0;r<e.colors.length;++r){let n=Math.max((e.positions[r]-t[0])/i,0);a.addColorStop(n,e.colors[r]);}n.fillStyle=a,n.fillRect(0,0,256,1);let o=n.getImageData(0,0,256,1).data,u=h(n,o);return r=null,n=null,u;}function s(e){let t=window.document.createElement("canvas"),r=t.getContext("2d");t.width=256,t.height=1;let n=r.createImageData(256,1);return n.data.fill(0),e.positions.forEach((t,r)=>{let a=i(e.colors[r]);n.data[4*t+0]=255*a[0],n.data[4*t+1]=255*a[1],n.data[4*t+2]=255*a[2],n.data[4*t+3]=255*a[3];}),t=null,r=null,n;}function c(e){let t=window.document.createElement("canvas"),r=t.getContext("2d");r.globalAlpha=1,t.width=256,t.height=1;let n=256/e.colors.length;for(let t=0;t<e.colors.length;t++)r.beginPath(),r.lineWidth=2,r.strokeStyle=e.colors[t],r.moveTo(t*n,0),r.lineTo((t+1)*n,0),r.stroke();let a=r.getImageData(0,0,256,1).data,i=h(r,a);return t=null,r=null,i;}function d(e,t){let r=window.document.createElement("canvas"),n=r.getContext("2d");n.globalAlpha=1,r.width=256,r.height=1;let a=t[1]-t[0];e.positions.length-e.colors.length!=1&&console.warn("positions \u7684\u6570\u5B57\u4E2A\u6570\u5E94\u5F53\u6BD4 colors \u7684\u6837\u5F0F\u591A\u4E00\u4E2A,poisitions \u7684\u9996\u5C3E\u503C\u4E00\u822C\u4E3A\u6570\u636E\u7684\u6700\u5927\u6700\u65B0\u503C");for(let r=0;r<e.colors.length;r++)n.beginPath(),n.lineWidth=2,n.strokeStyle=e.colors[r],n.moveTo((e.positions[r]-t[0])/a*255,0),n.lineTo((e.positions[r+1]-t[0])/a*255,0),n.stroke();let i=n.getImageData(0,0,256,1).data,o=h(n,i);return r=null,n=null,o;}function h(e,t){let r=e.createImageData(256,1);for(let e=0;e<r.data.length;e+=4)r.data[e+0]=t[e+0],r.data[e+1]=t[e+1],r.data[e+2]=t[e+2],r.data[e+3]=t[e+3];return r;}function p(e){return(null==e?void 0:e.type)==="cat"?[0,255]:[0,1];}},"59c26f5f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("99b0f3aa")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5a12d617":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("4b19d198"));class a extends n.default{setupShaders(){return this.shaderModuleService.registerModule("noise-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform float u_Amount : 0.5;\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\nvec4 noise_filterColor(vec4 color, vec2 texCoord) {\n  float diff = (rand(texCoord) - 0.5) * u_Amount;\n  color.r += diff;\n  color.g += diff;\n  color.b += diff;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);\n}"}),this.shaderModuleService.getModule("noise-pass");}}},"5a262fe8":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"BlendTypes",{enumerable:!0,get:function(){return a;}});var n=r("7f434d9f");let a={[n.BlendType.additive]:{enable:!0,func:{srcRGB:n.gl.ONE,dstRGB:n.gl.ONE,srcAlpha:1,dstAlpha:1}},[n.BlendType.none]:{enable:!1},[n.BlendType.normal]:{enable:!0,func:{srcRGB:n.gl.SRC_ALPHA,dstRGB:n.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}},[n.BlendType.subtractive]:{enable:!0,func:{srcRGB:n.gl.ONE,dstRGB:n.gl.ONE,srcAlpha:n.gl.ZERO,dstAlpha:n.gl.ONE_MINUS_SRC_COLOR},equation:{rgb:n.gl.FUNC_SUBTRACT,alpha:n.gl.FUNC_SUBTRACT}},[n.BlendType.max]:{enable:!0,func:{srcRGB:n.gl.ONE,dstRGB:n.gl.ONE},equation:{rgb:n.gl.MAX_EXT}},[n.BlendType.min]:{enable:!0,func:{srcRGB:n.gl.ONE,dstRGB:n.gl.ONE},equation:{rgb:n.gl.MIN_EXT}}};},"5a36905d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("00576000")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5a38d0c9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c838fce7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5a41ddfb":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("3c963451"));function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=(0,n.default)(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]};},e:function(e){throw e;},f:i};}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var o,u=!0,l=!1;return{s:function(){r=r.call(e);},n:function(){var e=r.next();return u=e.done,e;},e:function(e){l=!0,o=e;},f:function(){try{u||null==r.return||r.return();}finally{if(l)throw o;}}};}},"5a55005c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("49dd5cfc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5aab6b72":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("435e816e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5aad6a0a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("151ced0c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5b54188a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});var n=class{constructor(e,t,r,n){this.vectorLayerCache={},this.x=t,this.y=r,this.z=n,this.vectorTile=e;}getTileData(e){return e&&this.vectorTile.layers[e]?this.vectorLayerCache[e]?this.vectorLayerCache[e]:this.vectorTile.layers[e].features:[];}getFeatureById(){throw Error("Method not implemented.");}};},"5b56e404":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=r("89217383"),o=n._(r("4b19d198"));let{isNil:u}=i.lodashUtil;class l extends o.default{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}"});let{vs:e,fs:t,uniforms:r}=this.shaderModuleService.getModule("blur-pass"),{width:n,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,a.default)((0,a.default)({},r),{},{u_ViewportSize:[n,i]})};}convertOptionsToUniforms(e){let t={};return u(e.blurRadius)||(t.u_BlurDir=[0,e.blurRadius]),t;}}},"5b8a63f2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6af81ed8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5b904964":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"loadImage",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("a0c669d5"));function a(e){return i.apply(this,arguments);}function i(){return(i=(0,n.default)(function*(e){if(window.createImageBitmap){let t=yield fetch(e);return yield createImageBitmap((yield t.blob()));}{let t=new window.Image;return new Promise(r=>{t.onload=()=>r(t),t.src=e,t.crossOrigin="Anonymous";});}})).apply(this,arguments);}},"5bb9eaec":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("26115b3e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5bcbba12":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ff351249")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5beec117":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("65404e09")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5c674d43":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("20eb1451")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5c9897fe":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return m;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("89217383"),u=r("5076dce9");let{uniq:l}=o.lodashUtil,f="#define PI (3.14159265359)\n",s="layout(std140) uniform PickingUniforms {\n  vec4 u_HighlightColor;\n  vec4 u_SelectColor;\n  vec3 u_PickingColor;\n  float u_PickingStage;\n  vec3 u_CurrentSelectedId;\n  float u_PickingThreshold;\n  float u_PickingBuffer;\n  float u_shaderPick;\n  float u_activeMix;\n};\n",c='#define TILE_SIZE (512.0)\n#define PI (3.1415926536)\n#define WORLD_SCALE (TILE_SIZE / (PI * 2.0))\n#define EARTH_CIRCUMFERENCE (40.03e6)\n\n#define COORDINATE_SYSTEM_LNGLAT (1.0) // mapbox\n#define COORDINATE_SYSTEM_LNGLAT_OFFSET (2.0) // mapbox offset\n#define COORDINATE_SYSTEM_VECTOR_TILE (3.0)\n#define COORDINATE_SYSTEM_IDENTITY (4.0)\n#define COORDINATE_SYSTEM_METER_OFFSET (5.0)\n\n#pragma include "scene_uniforms"\n\nconst vec2 ZERO_64_XY_LOW = vec2(0.0, 0.0);\n\n// web mercator coords -> world coords\nvec2 project_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  return vec2(radians(x) + PI, PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5)));\n}\n\nfloat project_scale(float meters) {\n  return meters * u_PixelsPerMeter.z;\n}\n\n// offset coords -> world coords\nvec4 project_offset(vec4 offset) {\n  float dy = offset.y;\n  dy = clamp(dy, -1.0, 1.0);\n  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;\n  return vec4(offset.xyz * pixels_per_unit, offset.w);\n}\n\nvec3 project_normal(vec3 normal) {\n  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);\n  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);\n}\n\nvec3 project_offset_normal(vec3 vector) {\n  if (\n    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&\n      u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01 ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * u_PixelsPerDegree);\n  }\n  return project_normal(vector);\n}\n\nvec4 project_position(vec4 position, vec2 position64xyLow) {\n  // \u68C0\u67E5\u662F\u5426\u4F7F\u7528\u4E86\u56FE\u5C42\u76F8\u5BF9\u5750\u6807\u8F6C\u6362\n  bool usingRelativeCoords = abs(u_RelativeOrigin.x) > 0.0001 || abs(u_RelativeOrigin.y) > 0.0001;\n\n  if (usingRelativeCoords) {\n    // \u76F8\u5BF9\u5750\u6807\u7CFB\u7684\u7279\u6B8A\u5904\u7406\uFF1ACPU\u4FA7\u5DF2\u786E\u4FDDViewportCenter=RelativeOrigin\n    // \u5728\u9AD8\u7F29\u653E\u7EA7\u522B\u65F6\u76F4\u63A5\u4F7F\u7528\u76F8\u5BF9\u5750\u6807\uFF0C\u907F\u514D\u7CBE\u5EA6\u95EE\u9898\n\n    if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      // \u9AD8\u7F29\u653E\u7EA7\u522B\uFF1A\u76F4\u63A5\u4F7F\u7528\u76F8\u5BF9\u5750\u6807\u4F5C\u4E3A\u504F\u79FB\n      // \u7531\u4E8EViewportCenter\u5DF2\u88AB\u8BBE\u7F6E\u4E3ARelativeOrigin\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528position\n      float X = position.x;\n      float Y = position.y;\n      return project_offset(\n        vec4(X + position64xyLow.x, Y + position64xyLow.y, position.z, position.w)\n      );\n    } else {\n      // \u4F4E\u7F29\u653E\u7EA7\u522B\uFF1A\u8F6C\u6362\u4E3A\u7EDD\u5BF9\u5750\u6807\u540E\u4F7F\u7528\u58A8\u5361\u6258\u6295\u5F71\n      vec2 absolutePos = position.xy + u_RelativeOrigin.xy;\n      return vec4(\n        project_mercator(absolutePos) * WORLD_SCALE * u_ZoomScale,\n        project_scale(position.z),\n        position.w\n      );\n    }\n  }\n\n  // \u5904\u7406\u666E\u901A\u5750\u6807\u7CFB\uFF08\u975E\u76F8\u5BF9\u5750\u6807\uFF09\n  vec4 absolutePosition = position;\n  vec2 absolutePosition64xyLow = position64xyLow;\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // \u5728\u504F\u79FB\u5750\u6807\u7CFB\u4E0B\n    vec2 center = u_ViewportCenter;\n    float X = absolutePosition.x - center.x;\n    float Y = absolutePosition.y - center.y;\n    return project_offset(\n      vec4(\n        X + absolutePosition64xyLow.x,\n        Y + absolutePosition64xyLow.y,\n        absolutePosition.z,\n        absolutePosition.w\n      )\n    );\n  }\n  if (\n    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&\n    u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01\n  ) {\n    // \u5728\u7ECF\u7EAC\u5EA6\u5750\u6807\u7CFB\u4E0B\u4F7F\u7528\u58A8\u5361\u6258\u6295\u5F71\n    return vec4(\n      project_mercator(absolutePosition.xy) * WORLD_SCALE * u_ZoomScale,\n      project_scale(absolutePosition.z),\n      absolutePosition.w\n    );\n  }\n\n  return absolutePosition;\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_XY_LOW);\n}\n\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;\n  return offset * u_FocalDistance;\n}\n\n// \u9002\u914D\u7EB9\u7406\u8D34\u56FE\u7684\u7B49\u50CF\u7D20\u5927\u5C0F\nfloat project_pixel_texture(float pixel) {\n  // mapbox zoom > 12\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    return pixel * pow(0.5, u_Zoom) * u_FocalDistance;\n  }\n\n  return pixel * 2.0 * u_FocalDistance;\n}\n\n// \u5728\u4E0D\u8BBA\u4EC0\u4E48\u5E95\u56FE\u4E0B\u9700\u8981\u7EDF\u4E00\u5904\u7406\u7684\u65F6\u5019\u4F7F\u7528\nfloat project_float_pixel(float pixel) {\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // mapbox \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1\n    return pixel * pow(2.0, 19.0 - u_Zoom) * u_FocalDistance;\n  }\n\n  return pixel * u_FocalDistance;\n}\n\n// Project meter into the unit of pixel which used in the camera world space\nfloat project_float_meter(float meter) {\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // Since the zoom level uniform is updated by mapservice and it\'s alread been subtracted by 1\n    // Not sure if we are supposed to do that again\n    return meter;\n  } else {\n    return project_float_pixel(meter);\n  }\n\n  // TODO: change the following code to make adaptations for amap\n  // return u_FocalDistance * TILE_SIZE * pow(2.0, u_Zoom) * meter / EARTH_CIRCUMFERENCE;\n\n}\n\nfloat project_pixel(float pixel) {\n  return pixel * u_FocalDistance;\n}\n\nvec2 project_pixel(vec2 pixel) {\n  return pixel * -1.0 * u_FocalDistance;\n}\n\nvec3 project_pixel(vec3 pixel) {\n  return pixel * -1.0 * u_FocalDistance;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    position.w *= u_PixelsPerMeter.z;\n  }\n\n  return viewProjectionMatrix * position + center;\n}\n\n// Projects from common space coordinates to clip space\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(\n    position,\n    u_ViewProjectionMatrix,\n    u_ViewportCenterProjection\n  );\n}\n\nvec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {\n  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);\n\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    pos.w = pos.w / u_PixelsPerMeter.z;\n  }\n  return pos;\n}\n\nbool isEqual(float a, float b) {\n  return a < b + 0.001 && a > b - 0.001;\n}\n\n',d="layout(std140) uniform SceneUniforms {\n  mat4 u_ViewMatrix;\n  mat4 u_ProjectionMatrix;\n  mat4 u_ViewProjectionMatrix;\n  mat4 u_ModelMatrix;\n  vec4 u_ViewportCenterProjection;\n  vec3 u_PixelsPerDegree;\n  float u_Zoom;\n  vec3 u_PixelsPerDegree2;\n  float u_ZoomScale;\n  vec3 u_PixelsPerMeter;\n  float u_CoordinateSystem;\n  vec3 u_CameraPosition;\n  float u_DevicePixelRatio;\n  vec2 u_ViewportCenter;\n  vec2 u_ViewportSize;\n  float u_FocalDistance;\n  vec2 u_RelativeOrigin;\n  float u_Reserved3;\n};\n",h=/precision\s+(high|low|medium)p\s+float/,p="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n",v=/#pragma include (["^+"]?["[a-zA-Z_0-9](.*)"]*?)/g,_=/void\s+main\s*\([^)]*\)\s*\{\n?/;class m{constructor(){(0,i.default)(this,"moduleCache",{}),(0,i.default)(this,"rawContentCache",{});}registerBuiltinModules(){this.destroy(),this.registerModule("common",{vs:f,fs:f}),this.registerModule("decode",{vs:"#define SHIFT_RIGHT17 (1.0 / 131072.0)\n#define SHIFT_RIGHT18 (1.0 / 262144.0)\n#define SHIFT_RIGHT19 (1.0 / 524288.0)\n#define SHIFT_RIGHT20 (1.0 / 1048576.0)\n#define SHIFT_RIGHT21 (1.0 / 2097152.0)\n#define SHIFT_RIGHT22 (1.0 / 4194304.0)\n#define SHIFT_RIGHT23 (1.0 / 8388608.0)\n#define SHIFT_RIGHT24 (1.0 / 16777216.0)\n\n#define SHIFT_LEFT17 (131072.0)\n#define SHIFT_LEFT18 (262144.0)\n#define SHIFT_LEFT19 (524288.0)\n#define SHIFT_LEFT20 (1048576.0)\n#define SHIFT_LEFT21 (2097152.0)\n#define SHIFT_LEFT22 (4194304.0)\n#define SHIFT_LEFT23 (8388608.0)\n#define SHIFT_LEFT24 (16777216.0)\n\nvec2 unpack_float(float packedValue) {\n  int packedIntValue = int(packedValue);\n  int v0 = packedIntValue / 256;\n  return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec4 decode_color(vec2 encodedColor) {\n  return vec4(unpack_float(encodedColor[0]) / 255.0, unpack_float(encodedColor[1]) / 255.0);\n}\n",fs:""}),this.registerModule("scene_uniforms",{vs:d,fs:d}),this.registerModule("picking_uniforms",{vs:s,fs:s}),this.registerModule("projection",{vs:c,fs:c}),this.registerModule("project",{vs:"#define E (2.718281828459045)\nvec2 ProjectFlat(vec2 lnglat) {\n  float maxs = 85.0511287798;\n  float lat = max(min(maxs, lnglat.y), -maxs);\n  float scale = 268435456.0;\n  float d = PI / 180.0;\n  float x = lnglat.x * d;\n  float y = lat * d;\n  y = log(tan(PI / 4.0 + y / 2.0));\n\n  float a = 0.5 / PI,\n    b = 0.5,\n    c = -0.5 / PI;\n  d = 0.5;\n  x = scale * (a * x + b);\n  y = scale * (c * y + d);\n  return vec2(x, y);\n}\n\nvec2 unProjectFlat(vec2 px) {\n  float a = 0.5 / PI;\n  float b = 0.5;\n  float c = -0.5 / PI;\n  float d = 0.5;\n  float scale = 268435456.0;\n  float x = (px.x / scale - b) / a;\n  float y = (px.y / scale - d) / c;\n  y = (atan(pow(E, y)) - PI / 4.0) * 2.0;\n  d = PI / 180.0;\n  float lat = y / d;\n  float lng = x / d;\n  return vec2(lng, lat);\n}\n\nfloat pixelDistance(vec2 from, vec2 to) {\n  vec2 a1 = ProjectFlat(from);\n  vec2 b1 = ProjectFlat(to);\n  return distance(a1, b1);\n}\n\n// gaode2.0\nvec2 customProject(vec2 lnglat) {\n  // \u7ECF\u7EAC\u5EA6 => \u5E73\u9762\u5750\u6807\n  float t = lnglat.x;\n  float e = lnglat.y;\n  float Sm = 180.0 / PI;\n  float Tm = 6378137.0;\n  float Rm = PI / 180.0;\n  float r = 85.0511287798;\n  e = max(min(r, e), -r);\n  t *= Rm;\n  e *= Rm;\n  e = log(tan(PI / 4.0 + e / 2.0));\n  return vec2(t * Tm, e * Tm);\n}\n\nvec2 unProjCustomCoord(vec2 point) {\n  // \u5E73\u9762\u5750\u6807 => \u7ECF\u7EAC\u5EA6\n  float Sm = 57.29577951308232; //180 / Math.PI\n  float Tm = 6378137.0;\n  float t = point.x;\n  float e = point.y;\n  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);\n}\n\nfloat customPixelDistance(vec2 from, vec2 to) {\n  vec2 a1 = ProjectFlat(from);\n  vec2 b1 = ProjectFlat(to);\n  return distance(a1, b1);\n}\n",fs:""}),this.registerModule("sdf_2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b) {\n  return a.x * b.x - a.y * b.y;\n}\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0 / k;\n  if (p.x + k * p.y > 0.0) p = vec2(p.x - k * p.y, -k * p.x - p.y) / 2.0;\n  p.x -= clamp(p.x, -2.0, 0.0);\n  return -length(p) * sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p) - b;\n  return length(max(d, vec2(0))) + min(max(d.x, d.y), 0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994, 0.587785252, 0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0 * min(dot(vec2(-k.x, k.y), p), 0.0) * vec2(-k.x, k.y);\n  p -= 2.0 * min(dot(vec2(k.x, k.y), p), 0.0) * vec2(k.x, k.y);\n  p -= vec2(clamp(p.x, -r * k.z, r * k.z), r);\n  return length(p) * sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404, 0.5, 0.577350269);\n  p = abs(p);\n  p -= 2.0 * min(dot(k.xy, p), 0.0) * k.xy;\n  p -= vec2(clamp(p.x, -k.z * r, k.z * r), r);\n  return length(p) * sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623);\n  p = abs(p);\n  p -= 2.0 * min(dot(vec2(k.x, k.y), p), 0.0) * vec2(k.x, k.y);\n  p -= 2.0 * min(dot(vec2(-k.x, k.y), p), 0.0) * vec2(-k.x, k.y);\n  p -= vec2(clamp(p.x, -k.z * r, k.z * r), r);\n  return length(p) * sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k = vec4(-0.5, 0.8660254038, 0.5773502692, 1.7320508076);\n  p = abs(p);\n  p -= 2.0 * min(dot(k.xy, p), 0.0) * k.xy;\n  p -= 2.0 * min(dot(k.yx, p), 0.0) * k.yx;\n  p -= vec2(clamp(p.x, r * k.z, r * k.w), r);\n  return length(p) * sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0 * ndot(q, b) + ndot(b, b)) / dot(b, b), -1.0, 1.0);\n  float d = length(q - 0.5 * b * vec2(1.0 - h, 1.0 + h));\n  return d * sign(q.x * b.y + q.y * b.x - b.x * b.y);\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r * r - d * d); // can delay this sqrt\n  return (p.y - b) * d > p.x * b\n    ? length(p - vec2(0.0, b))\n    : length(p - vec2(-d, 0.0)) - r;\n}\n"}),this.registerModule("lighting",{vs:"// Blinn-Phong model\n// apply lighting in vertex shader instead of fragment shader\n// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting\nuniform float u_Ambient : 1.0;\nuniform float u_Diffuse : 1.0;\nuniform float u_Specular : 1.0;\nuniform int u_NumOfDirectionalLights : 1;\nuniform int u_NumOfSpotLights : 0;\n\n#define SHININESS 32.0\n#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3\n#define MAX_NUM_OF_SPOT_LIGHTS 3\n\nstruct DirectionalLight {\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n};\n\nstruct SpotLight {\n  vec3 position;\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n  float constant;\n  float linear;\n  float quadratic;\n  float angle;\n  float blur;\n  float exponent;\n};\n\nuniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];\nuniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];\n\nvec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {\n  vec3 lightDir = normalize(light.direction);\n  // diffuse shading\n  float diff = max(dot(normal, lightDir), 0.0);\n  // Blinn-Phong specular shading\n  vec3 halfwayDir = normalize(lightDir + viewDir);\n  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);\n\n  vec3 ambient = light.ambient * u_Ambient;\n  vec3 diffuse = light.diffuse * diff * u_Diffuse;\n  vec3 specular = light.specular * spec * u_Specular;\n\n  return ambient + diffuse + specular;\n}\n\n\nvec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {\n  vec3 weight = vec3(0.0);\n  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {\n    if (i >= u_NumOfDirectionalLights) {\n      break;\n    }\n    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);\n  }\n  return weight;\n}\n",fs:""}),this.registerModule("light",{vs:"#define ambientRatio (0.5)\n#define diffuseRatio (0.3)\n#define specularRatio (0.2)\n\nfloat calc_lighting(vec4 pos) {\n  vec3 worldPos = vec3(pos * u_ModelMatrix);\n\n  vec3 worldNormal = a_Normal;\n  // //cal light weight\n  vec3 viewDir = normalize(u_CameraPosition - worldPos);\n\n  vec3 lightDir = normalize(vec3(1, -10.5, 12));\n\n  vec3 halfDir = normalize(viewDir + lightDir);\n  // //lambert\n  float lambert = dot(worldNormal, lightDir);\n  //specular\n  float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\n  //sum to light weight\n  float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;\n\n  return lightWeight;\n}\n",fs:""}),this.registerModule("picking",{vs:'layout(location = ATTRIBUTE_LOCATION_PICKING_COLOR) in vec3 a_PickingColor;\nout vec4 v_PickingResult;\n\n#pragma include "picking_uniforms"\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n#define NORMAL 0.0\n#define HIGHLIGHT 1.0\n#define SELECT 2.0\n\nbool isVertexPicked(vec3 vertexColor) {\n  return distance(vertexColor,u_PickingColor.rgb) < 0.01;\n}\n\n// \u5224\u65AD\u5F53\u524D\u70B9\u662F\u5426\u5DF2\u7ECF\u88AB select \u9009\u4E2D\nbool isVertexSelected(vec3 vertexColor) {\n  return distance(vertexColor,u_CurrentSelectedId.rgb) < 0.01;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  if(u_shaderPick < 0.5) {\n    return;\n  }\n  // compares only in highlight stage\n\n  if(u_PickingStage == PICKING_HIGHLIGHT) {\n    if(isVertexPicked(pickingColor)) {\n       v_PickingResult = vec4(pickingColor.rgb * COLOR_SCALE,HIGHLIGHT);\n       return;\n    }\n    if(isVertexSelected(pickingColor)) {\n     v_PickingResult = vec4(u_CurrentSelectedId.rgb * COLOR_SCALE,SELECT);\n      return;\n    }\n\n  } else {\n      v_PickingResult= vec4(pickingColor.rgb * COLOR_SCALE,NORMAL);\n      return;\n  }\n\n  // // v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && (isVertexPicked(pickingColor) || isVertexPicked(u_CurrentSelectedId)));\n\n  // // Stores the picking color so that the fragment shader can render it during picking\n  // v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}\n\nfloat setPickingOrder(float z) {\n   bool selected = bool(v_PickingResult.a);\n   return selected ? z + 1. : 0.;\n}\n',fs:'in vec4 v_PickingResult;\n\n#pragma include "picking_uniforms"\n\n#define PICKING_NONE (0.0)\n#define PICKING_ENCODE (1.0)\n#define PICKING_HIGHLIGHT (2.0)\n#define COLOR_SCALE (1.0 / 255.0)\n\n#define HIGHLIGHT (1.0)\n#define SELECT (2.0)\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color, float weight) {\n  float activeType = v_PickingResult.a;\n  if (activeType > 0.0) {\n    vec4 highLightColor = activeType > 1.5 ? u_SelectColor : u_HighlightColor;\n    highLightColor = highLightColor * COLOR_SCALE;\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(mix(resultRGB * weight, color.rgb, u_activeMix), color.a);\n  } else {\n    return color;\n  }\n\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE\n    ? vec4(pickingColor, step(0.001, color.a))\n    : color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  // \u8FC7\u6EE4\u591A\u4F59\u7684 shader \u8BA1\u7B97\n  // return color;\n  if (u_shaderPick < 0.5) {\n    return color; // \u6682\u65F6\u53BB\u9664 \u76F4\u63A5\u53D6\u6D88\u8BA1\u7B97\u5728\u9009\u4E2D\u65F6\u62D6\u62FD\u5730\u56FE\u4F1A\u6709\u95EE\u9898\n  } else {\n    return filterPickingColor(filterHighlightColor(color, 1.0));\n  }\n\n}\n\nvec4 filterColorAlpha(vec4 color, float alpha) {\n  // \u8FC7\u6EE4\u591A\u4F59\u7684 shader \u8BA1\u7B97\n  // return color;\n  if (u_shaderPick < 0.5) {\n    return color; // \u6682\u65F6\u53BB\u9664 \u76F4\u63A5\u53D6\u6D88\u8BA1\u7B97\u5728\u9009\u4E2D\u65F6\u62D6\u62FD\u5730\u56FE\u4F1A\u6709\u95EE\u9898\n  } else {\n    return filterPickingColor(filterHighlightColor(color, alpha));\n  }\n}\n\n'}),this.registerModule("rotation_2d",{vs:"vec2 rotate_matrix(vec2 v, float a) {\n  float b = a / 180.0 * 3.1415926535897932384626433832795;\n  float s = sin(b);\n  float c = cos(b);\n  mat2 m = mat2(c, s, -s, c);\n  return m * v;\n}\n",fs:""});}registerModule(e,t){t.vs=t.vs.replace(/\r\n/g,"\n"),t.fs=t.fs.replace(/\r\n/g,"\n");let{vs:r,fs:n,uniforms:i,defines:o,inject:l}=t,{content:f,uniforms:s}=(0,u.extractUniforms)(r),{content:c,uniforms:d}=(0,u.extractUniforms)(n);this.rawContentCache[e]={fs:c,defines:o,inject:l,uniforms:(0,a.default)((0,a.default)((0,a.default)({},s),d),i),vs:f};}getModule(e){let t=this.rawContentCache[e].vs,r=this.rawContentCache[e].fs,{defines:n={},inject:i={}}=this.rawContentCache[e],o={};i["vs:#decl"]&&(t=i["vs:#decl"]+t,o=(0,u.extractUniforms)(i["vs:#decl"]).uniforms),i["vs:#main-start"]&&(t=t.replace(_,e=>e+i["vs:#main-start"])),i["fs:#decl"]&&(r=i["fs:#decl"]+r),t=Object.keys(n).reduce((e,t)=>e+`#define ${t.toUpperCase()} ${n[t]}
`,"\n")+t;let{content:f,includeList:s}=this.processModule(t,[],"vs"),{content:c,includeList:d}=this.processModule(r,[],"fs"),v=l(s.concat(d).concat(e)).reduce((e,t)=>(0,a.default)((0,a.default)({},e),this.rawContentCache[t].uniforms),(0,a.default)({},o)),m=(h.test(c)?"":p)+f,g=(h.test(c)?"":p)+c;return this.moduleCache[e]={vs:m.trim(),fs:g.trim(),uniforms:v},this.moduleCache[e];}destroy(){this.moduleCache={},this.rawContentCache={};}processModule(e,t,r){return{content:e.replace(v,(e,n)=>{let a=n.split(" ")[0].replace(/"/g,"");if(t.indexOf(a)>-1)return"";let i=this.rawContentCache[a][r];t.push(a);let{content:o}=this.processModule(i,t,r);return o;}),includeList:t};}}},"5cff5b17":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e2526fcc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5d225f2a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dd614b48")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5d249d81":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("af21b0e3"),r("4e33fd57");},"5d77abbc":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6adf4417")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5d85eca3":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e3f57333")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5da5b083":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});var n=e=>()=>e;},"5daa4a92":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("47f56a8f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5dad0d8e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("99d7b93c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5ddd9939":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=n._(r("6c8aee75")),f=r("f9b12b3c");class s extends l.default{constructor(...e){super(...e),(0,o.default)(this,"texture",void 0);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{speed:e=.5}=this.layer.getLayerConfig(),t={u_speed:e,u_time:this.layer.getLayerAnimateTime(),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(t);}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()};}initModels(){var e=this;return(0,a.default)(function*(){return e.loadTexture(),e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"polygonWater",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;\n\nlayout(std140) uniform commonUniforms {\n  float u_speed;\n  float u_time;\n};\nout vec4 v_Color;\nout vec2 v_uv;\n\n#pragma include "projection"\n\nvoid main() {\n  v_uv = a_uv;\n  v_Color = a_Color;\n  v_Color.a *= opacity;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n}\n\n',fragmentShader:"uniform sampler2D u_texture;\nlayout(std140) uniform commonUniforms {\n  float u_speed;\n  float u_time;\n};\n\nout vec4 outputColor;\n\nin vec4 v_Color;\nin vec2 v_uv;\n\nfloat rand(vec2 n) {\n  return 0.5 + 0.5 * fract(sin(dot(n.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nfloat water(vec3 p) {\n  float t = u_time * u_speed;\n  p.z += t * 2.0;\n  p.x += t * 2.0;\n  vec3 c1 = texture(SAMPLER_2D(u_texture), p.xz / 30.0).xyz;\n  p.z += t * 3.0;\n  p.x += t * 0.52;\n  vec3 c2 = texture(SAMPLER_2D(u_texture), p.xz / 30.0).xyz;\n  p.z += t * 4.0;\n  p.x += t * 0.8;\n  vec3 c3 = texture(SAMPLER_2D(u_texture), p.xz / 30.0).xyz;\n  c1 += c2 - c3;\n  float z = (c1.x + c1.y + c1.z) / 3.0;\n  return p.y + z / 4.0;\n}\n\nfloat map(vec3 p) {\n  float d = 100.0;\n  d = water(p);\n  return d;\n}\n\nfloat intersect(vec3 ro, vec3 rd) {\n  float d = 0.0;\n  for (int i = 0; i <= 100; i++) {\n    float h = map(ro + rd * d);\n    if (h < 0.1) return d;\n    d += h;\n  }\n  return 0.0;\n}\n\nvec3 norm(vec3 p) {\n  float eps = 0.1;\n  return normalize(\n    vec3(\n      map(p + vec3(eps, 0, 0)) - map(p + vec3(-eps, 0, 0)),\n      map(p + vec3(0, eps, 0)) - map(p + vec3(0, -eps, 0)),\n      map(p + vec3(0, 0, eps)) - map(p + vec3(0, 0, -eps))\n    )\n  );\n}\n\nfloat calSpc() {\n  vec3 l1 = normalize(vec3(1, 1, 1));\n  vec3 ro = vec3(-3, 20, -8);\n  vec3 rc = vec3(0, 0, 0);\n  vec3 ww = normalize(rc - ro);\n  vec3 uu = normalize(cross(vec3(0, 1, 0), ww));\n  vec3 vv = normalize(cross(rc - ro, uu));\n  vec3 rd = normalize(uu * v_uv.x + vv * v_uv.y + ww);\n  float d = intersect(ro, rd);\n  vec3 p = ro + rd * d;\n  vec3 n = norm(p);\n  float spc = pow(max(0.0, dot(reflect(l1, n), rd)), 30.0);\n  return spc;\n}\n\nvoid main() {\n  outputColor = v_Color;\n  float spc = calSpc();\n  outputColor += spc * 0.4;\n}\n",triangulation:f.polygonTriangulation,defines:e.getDefines(),inject:e.getInject(),primitive:u.gl.TRIANGLES,depth:{enable:!1},pickingEnabled:!1,diagnosticDerivativeUniformityEnabled:!1}))];})();}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy();}registerBuiltinAttributes(){let[e,t,r,n]=this.layer.getSource().extent,a=r-e,i=n-t;this.styleAttributeService.registerStyleAttribute({name:"waterUv",type:u.AttributeType.Attribute,descriptor:{name:"a_uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:u.gl.STATIC_DRAW,data:[],type:u.gl.FLOAT},size:2,update:(r,n,o)=>{let[u,l]=o;return[(u-e)/a,(l-t)/i];}}});}loadTexture(){let{waterTexture:e}=this.layer.getLayerConfig(),{createTexture2D:t}=this.rendererService;this.texture=t({height:1,width:1});let r=new Image;r.crossOrigin="",e?(console.warn("L7 recommend\uFF1Ahttps://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ"),r.src=e):r.src="https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ",r.onload=()=>{this.texture=t({data:r,width:r.width,height:r.height,wrapS:u.gl.MIRRORED_REPEAT,wrapT:u.gl.MIRRORED_REPEAT,min:u.gl.LINEAR,mag:u.gl.LINEAR}),this.layerService.reRender();};}}},"5de682bb":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6bc7c102")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5df46fe6":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"lodashUtil",{enumerable:!0,get:function(){return R;}});var n=r("777fffbe"),a=n._(r("154852a1")),i=n._(r("890a8fe2")),o=n._(r("60e77f0b")),u=n._(r("5b129dc8")),l=n._(r("56d04358")),f=n._(r("f849ca3f")),s=n._(r("ec6c7f57")),c=n._(r("a58adb1f")),d=n._(r("56edd764")),h=n._(r("fbc56b08")),p=n._(r("88b10c24")),v=n._(r("c8df56f6")),_=n._(r("79259b4f")),m=n._(r("2f8c736b")),g=n._(r("62536ed4")),b=n._(r("857e4f1b")),y=n._(r("6f9d440b")),E=n._(r("1b3b5f21")),T=n._(r("e36d37a4")),A=n._(r("2c7c5e6e")),S=n._(r("7b515b27")),O=n._(r("49e260c2")),R={isNil:s.default,merge:v.default,throttle:g.default,isString:h.default,debounce:o.default,pull:m.default,isTypedArray:p.default,isPlainObject:d.default,isNumber:c.default,isBoolean:l.default,isEqual:f.default,cloneDeep:i.default,uniq:b.default,clamp:a.default,upperFirst:y.default,get:u.default,mergeWith:_.default,isFunction:E.default,isObject:T.default,isUndefined:A.default,camelCase:S.default,uniqueId:O.default};},"5e09cb10":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("01a806b9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5e28c8a9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("70e08284")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5e954864":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("55ab938b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5ead8144":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4b55ec42")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5eb6e7eb":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=r("7f434d9f"),u=n._(r("6c8aee75")),l=r("f9b12b3c");class f extends u.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,LINEAR:9});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{raisingHeight:e=0,opacityLinear:t={enable:!1,dir:"in"}}=this.layer.getLayerConfig(),r={u_raisingHeight:Number(e),u_opacitylinear:Number(t.enable),u_dir:"in"===t.dir?1:0};return this.getUniformsBufferInfo(r);}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){let{frag:t,vert:r,triangulation:n,type:a}=e.getModelParams();return e.initUniformsBuffer(),e.layer.triangulation=n,[(yield e.layer.buildLayerModel({moduleName:a,vertexShader:r,fragmentShader:t,defines:e.getDefines(),inject:e.getInject(),triangulation:n,primitive:o.gl.TRIANGLES,depth:{enable:!1}}))];})();}registerBuiltinAttributes(){this.registerPosition64LowAttribute();let{opacityLinear:e={enable:!1,dir:"in"}}=this.layer.getLayerConfig();e.enable&&this.styleAttributeService.registerStyleAttribute({name:"linear",type:o.AttributeType.Attribute,descriptor:{name:"a_linear",shaderLocation:this.attributeLocation.LINEAR,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:(e,t,r)=>[r[3],r[4],r[5]]}});}getModelParams(){let{opacityLinear:e={enable:!1}}=this.layer.getLayerConfig();return e.enable?{frag:'layout(std140) uniform commonUniforms {\n  float u_raisingHeight;\n  float u_opacitylinear;\n  float u_dir;\n};\n\nin vec4 v_color;\nin vec3 v_linear;\nin vec2 v_pos;\nout vec4 outputColor;\n#pragma include "scene_uniforms"\n#pragma include "picking"\n\nvoid main() {\n  outputColor = v_color;\n  if (u_opacitylinear > 0.0) {\n    outputColor.a *=\n      u_dir == 1.0\n        ? 1.0 - length(v_pos - v_linear.xy) / v_linear.z\n        : length(v_pos - v_linear.xy) / v_linear.z;\n  }\n  outputColor = filterColor(outputColor);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_LINEAR) in vec3 a_linear;\n\nlayout(std140) uniform commonUniforms {\n  float u_raisingHeight;\n  float u_opacitylinear;\n  float u_dir;\n};\n\nout vec4 v_color;\nout vec3 v_linear;\nout vec2 v_pos;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  if (u_opacitylinear > 0.0) {\n    v_linear = a_linear;\n    v_pos = a_Position.xy;\n  }\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  project_pos.z += u_raisingHeight;\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n    project_pos.z *= mapboxZoomScale;\n    project_pos.z += u_raisingHeight * mapboxZoomScale;\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  setPickingColor(a_PickingColor);\n}\n',type:"polygonLinear",triangulation:l.polygonTriangulationWithCenter}:{frag:'in vec4 v_color;\n#pragma include "scene_uniforms"\n#pragma include "picking"\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_color;\n  outputColor = filterColor(outputColor);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\n\nlayout(std140) uniform commonUniforms {\n  float u_raisingHeight;\n};\n\nout vec4 v_color;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97\n\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n\n  project_pos.z += u_raisingHeight;\n\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n    project_pos.z *= mapboxZoomScale;\n    project_pos.z += u_raisingHeight * mapboxZoomScale;\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n\n',type:"polygonFill",triangulation:l.polygonTriangulation};}}},"5efe7435":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d5590dbd")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5f0c8125":function(e,t,r){var n,a;let i=r("618b9810");n=this,a=function(){"use strict";var e=function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null;};function t(e,t){return e>t?1:e<t?-1:0;}function r(t,r,n){for(var a=new e(null,null),i=a,o=a;;){var u=n(t,r.key);if(u<0){if(null===r.left)break;if(0>n(t,r.left.key)){var l=r.left;if(r.left=l.right,l.right=r,null===(r=l).left)break;}o.left=r,o=r,r=r.left;}else if(u>0){if(null===r.right)break;if(n(t,r.right.key)>0){var l=r.right;if(r.right=l.left,l.left=r,null===(r=l).right)break;}i.right=r,i=r,r=r.right;}else break;}return i.right=r.left,o.left=r.right,r.left=a.right,r.right=a.left,r;}function n(t,n,a,i){var o=new e(t,n);if(null===a)return o.left=o.right=null,o;a=r(t,a,i);var u=i(t,a.key);return u<0?(o.left=a.left,o.right=a,a.left=null):u>=0&&(o.right=a.right,o.left=a,a.right=null),o;}function a(e,t,n){var a=null,i=null;if(t){t=r(e,t,n);var o=n(t.key,e);0===o?(a=t.left,i=t.right):o<0?(i=t.right,t.right=null,a=t):(a=t.left,t.left=null,i=t);}return{left:a,right:i};}var o=function(){function i(e){void 0===e&&(e=t),this._root=null,this._size=0,this._comparator=e;}return i.prototype.insert=function(e,t){return this._size++,this._root=n(e,t,this._root,this._comparator);},i.prototype.add=function(t,n){var a=new e(t,n);null===this._root&&(a.left=a.right=null,this._size++,this._root=a);var i=this._comparator,o=r(t,this._root,i),u=i(t,o.key);return 0===u?this._root=o:(u<0?(a.left=o.left,a.right=o,o.left=null):u>0&&(a.right=o.right,a.left=o,o.right=null),this._size++,this._root=a),this._root;},i.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator);},i.prototype._remove=function(e,t,n){var a;return null===t?null:(t=r(e,t,n),0===n(e,t.key))?(null===t.left?a=t.right:(a=r(e,t.left,n)).right=t.right,this._size--,a):t;},i.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=r(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data};}return null;},i.prototype.findStatic=function(e){for(var t=this._root,r=this._comparator;t;){var n=r(e,t.key);if(0===n)return t;t=n<0?t.left:t.right;}return null;},i.prototype.find=function(e){return this._root&&(this._root=r(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root;},i.prototype.contains=function(e){for(var t=this._root,r=this._comparator;t;){var n=r(e,t.key);if(0===n)return!0;t=n<0?t.left:t.right;}return!1;},i.prototype.forEach=function(e,t){for(var r=this._root,n=[],a=!1;!a;)null!==r?(n.push(r),r=r.left):0!==n.length?(r=n.pop(),e.call(t,r),r=r.right):a=!0;return this;},i.prototype.range=function(e,t,r,n){for(var a=[],i=this._comparator,o=this._root;0!==a.length||o;)if(o)a.push(o),o=o.left;else{if(i((o=a.pop()).key,t)>0)break;if(i(o.key,e)>=0&&r.call(n,o))return this;o=o.right;}return this;},i.prototype.keys=function(){var e=[];return this.forEach(function(t){var r=t.key;return e.push(r);}),e;},i.prototype.values=function(){var e=[];return this.forEach(function(t){var r=t.data;return e.push(r);}),e;},i.prototype.min=function(){return this._root?this.minNode(this._root).key:null;},i.prototype.max=function(){return this._root?this.maxNode(this._root).key:null;},i.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e;},i.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e;},i.prototype.at=function(e){for(var t=this._root,r=!1,n=0,a=[];!r;)if(t)a.push(t),t=t.left;else if(a.length>0){if(t=a.pop(),n===e)return t;n++,t=t.right;}else r=!0;return null;},i.prototype.next=function(e){var t=this._root,r=null;if(e.right){for(r=e.right;r.left;)r=r.left;return r;}for(var n=this._comparator;t;){var a=n(e.key,t.key);if(0===a)break;a<0?(r=t,t=t.left):t=t.right;}return r;},i.prototype.prev=function(e){var t=this._root,r=null;if(null!==e.left){for(r=e.left;r.right;)r=r.right;return r;}for(var n=this._comparator;t;){var a=n(e.key,t.key);if(0===a)break;a<0?t=t.left:(r=t,t=t.right);}return r;},i.prototype.clear=function(){return this._root=null,this._size=0,this;},i.prototype.toList=function(){return function(t){for(var r=t,n=[],a=!1,i=new e(null,null),o=i;!a;)r?(n.push(r),r=r.left):n.length>0?r=(r=o=o.next=n.pop()).right:a=!0;return o.next=null,i.next;}(this._root);},i.prototype.load=function(t,r,n){void 0===r&&(r=[]),void 0===n&&(n=!1);var a=t.length,i=this._comparator;if(n&&function e(t,r,n,a,i){if(!(n>=a)){for(var o=t[n+a>>1],u=n-1,l=a+1;;){do u++;while(0>i(t[u],o))do l--;while(i(t[l],o)>0)if(u>=l)break;var f=t[u];t[u]=t[l],t[l]=f,f=r[u],r[u]=r[l],r[l]=f;}e(t,r,n,l,i),e(t,r,l+1,a,i);}}(t,r,0,a-1,i),null===this._root)this._root=function t(r,n,a,i){var o=i-a;if(o>0){var u=a+Math.floor(o/2),l=new e(r[u],n[u]);return l.left=t(r,n,a,u),l.right=t(r,n,u+1,i),l;}return null;}(t,r,0,a),this._size=a;else{var o=function(t,r,n){for(var a=new e(null,null),i=a,o=t,u=r;null!==o&&null!==u;)0>n(o.key,u.key)?(i.next=o,o=o.next):(i.next=u,u=u.next),i=i.next;return null!==o?i.next=o:null!==u&&(i.next=u),a.next;}(this.toList(),function(t,r){for(var n=new e(null,null),a=n,i=0;i<t.length;i++)a=a.next=new e(t[i],r[i]);return a.next=null,n.next;}(t,r),i);a=this._size+a,this._root=function e(t,r,n){var a=n-r;if(a>0){var i=r+Math.floor(a/2),o=e(t,r,i),u=t.head;return u.left=o,t.head=t.head.next,u.right=e(t,i+1,n),u;}return null;}({head:o},0,a);}return this;},i.prototype.isEmpty=function(){return null===this._root;},Object.defineProperty(i.prototype,"size",{get:function(){return this._size;},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"root",{get:function(){return this._root;},enumerable:!0,configurable:!0}),i.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key);});var t=[];return function e(t,r,n,a,i){if(t){a(""+r+(n?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+i(t)+"\n");var o=r+(n?"    ":"\u2502   ");t.left&&e(t.left,o,!1,a,i),t.right&&e(t.right,o,!0,a,i);}}(this._root,"",!0,function(e){return t.push(e);},e),t.join("");},i.prototype.update=function(e,t,i){var o,u,l=this._comparator,f=a(e,this._root,l),s=f.left,c=f.right;0>l(e,t)?c=n(t,i,c,l):s=n(t,i,s,l),this._root=(o=s,null===(u=c)?o:(null===o||((u=r(o.key,u,l)).left=o),u));},i.prototype.split=function(e){return a(e,this._root,this._comparator);},i.prototype[Symbol.iterator]=function(){var e,t,r;return function(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function u(i){return function(u){return function(i){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],n=0;}finally{r=a=0;}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,u]);};}}(this,function(n){switch(n.label){case 0:e=this._root,t=[],r=!1,n.label=1;case 1:if(r)return[3,6];if(!(null!==e))return[3,2];return t.push(e),e=e.left,[3,5];case 2:if(!(0!==t.length))return[3,4];return[4,e=t.pop()];case 3:return n.sent(),e=e.right,[3,5];case 4:r=!0,n.label=5;case 5:return[3,1];case 6:return[2];}});},i;}();let u=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,l=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;let r=e.ll.x<t.ll.x?t.ll.x:e.ll.x,n=e.ur.x<t.ur.x?e.ur.x:t.ur.x;return{ll:{x:r,y:e.ll.y<t.ll.y?t.ll.y:e.ll.y},ur:{x:n,y:e.ur.y<t.ur.y?e.ur.y:t.ur.y}};},f=Number.EPSILON;void 0===f&&(f=2220446049250313e-31);let s=f*f,c=(e,t)=>{if(-f<e&&e<f&&-f<t&&t<f)return 0;let r=e-t;return r*r<s*e*t?0:e<t?-1:1;};class d{constructor(){this.tree=new o,this.round(0);}round(e){let t=this.tree.add(e),r=this.tree.prev(t);if(null!==r&&0===c(t.key,r.key))return this.tree.remove(e),r.key;let n=this.tree.next(t);return null!==n&&0===c(t.key,n.key)?(this.tree.remove(e),n.key):e;}}let h=new class{constructor(){this.reset();}reset(){this.xRounder=new d,this.yRounder=new d;}round(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)};}},p=(3+8881784197001252e-31)*11102230246251565e-32;function v(e,t,r,n,a){let i,o,u,l;let f=t[0],s=n[0],c=0,d=0;s>f==s>-f?(i=f,f=t[++c]):(i=s,s=n[++d]);let h=0;if(c<e&&d<r)for(s>f==s>-f?(o=f+i,u=i-(o-f),f=t[++c]):(o=s+i,u=i-(o-s),s=n[++d]),i=o,0!==u&&(a[h++]=u);c<e&&d<r;)s>f==s>-f?(l=(o=i+f)-i,u=i-(o-l)+(f-l),f=t[++c]):(l=(o=i+s)-i,u=i-(o-l)+(s-l),s=n[++d]),i=o,0!==u&&(a[h++]=u);for(;c<e;)l=(o=i+f)-i,u=i-(o-l)+(f-l),f=t[++c],i=o,0!==u&&(a[h++]=u);for(;d<r;)l=(o=i+s)-i,u=i-(o-l)+(s-l),s=n[++d],i=o,0!==u&&(a[h++]=u);return(0!==i||0===h)&&(a[h++]=i),h;}function _(e){return new Float64Array(e);}let m=(3+17763568394002505e-31)*11102230246251565e-32,g=(2+13322676295501878e-31)*11102230246251565e-32,b=(9+7105427357601002e-30)*11102230246251565e-32*11102230246251565e-32,y=_(4),E=_(8),T=_(12),A=_(16),S=_(4),O=(e,t)=>e.x*t.y-e.y*t.x,R=(e,t)=>e.x*t.x+e.y*t.y,M=(e,t,r)=>{let n=function(e,t,r,n,a,i){let o=(t-i)*(r-a),u=(e-a)*(n-i),l=o-u,f=Math.abs(o+u);return Math.abs(l)>=m*f?l:-function(e,t,r,n,a,i,o){let u,l,f,s,c,d,h,_,m,O,R,M,x,C,P,L,w,I;let N=e-a,D=r-a,F=t-i,B=n-i;C=N*B,h=(d=134217729*N)-(d-N),_=N-h,m=(d=134217729*B)-(d-B),P=_*(O=B-m)-(C-h*m-_*m-h*O),L=F*D,h=(d=134217729*F)-(d-F),_=F-h,m=(d=134217729*D)-(d-D),R=P-(w=_*(O=D-m)-(L-h*m-_*m-h*O)),c=P-R,y[0]=P-(R+c)+(c-w),c=(M=C+R)-C,R=(x=C-(M-c)+(R-c))-L,c=x-R,y[1]=x-(R+c)+(c-L),c=(I=M+R)-M,y[2]=M-(I-c)+(R-c),y[3]=I;let U=function(e,t){let r=t[0];for(let e=1;e<4;e++)r+=t[e];return r;}(0,y),j=g*o;if(U>=j||-U>=j||(c=e-N,u=e-(N+c)+(c-a),c=r-D,f=r-(D+c)+(c-a),c=t-F,l=t-(F+c)+(c-i),c=n-B,s=n-(B+c)+(c-i),0===u&&0===l&&0===f&&0===s)||(j=b*o+p*Math.abs(U),(U+=N*s+B*u-(F*f+D*l))>=j||-U>=j))return U;C=u*B,h=(d=134217729*u)-(d-u),_=u-h,m=(d=134217729*B)-(d-B),P=_*(O=B-m)-(C-h*m-_*m-h*O),L=l*D,h=(d=134217729*l)-(d-l),_=l-h,m=(d=134217729*D)-(d-D),R=P-(w=_*(O=D-m)-(L-h*m-_*m-h*O)),c=P-R,S[0]=P-(R+c)+(c-w),c=(M=C+R)-C,R=(x=C-(M-c)+(R-c))-L,c=x-R,S[1]=x-(R+c)+(c-L),c=(I=M+R)-M,S[2]=M-(I-c)+(R-c),S[3]=I;let k=v(4,y,4,S,E);C=N*s,h=(d=134217729*N)-(d-N),_=N-h,m=(d=134217729*s)-(d-s),P=_*(O=s-m)-(C-h*m-_*m-h*O),L=F*f,h=(d=134217729*F)-(d-F),_=F-h,m=(d=134217729*f)-(d-f),R=P-(w=_*(O=f-m)-(L-h*m-_*m-h*O)),c=P-R,S[0]=P-(R+c)+(c-w),c=(M=C+R)-C,R=(x=C-(M-c)+(R-c))-L,c=x-R,S[1]=x-(R+c)+(c-L),c=(I=M+R)-M,S[2]=M-(I-c)+(R-c),S[3]=I;let G=v(k,E,4,S,T);C=u*s,h=(d=134217729*u)-(d-u),_=u-h,m=(d=134217729*s)-(d-s),P=_*(O=s-m)-(C-h*m-_*m-h*O),L=l*f,h=(d=134217729*l)-(d-l),_=l-h,m=(d=134217729*f)-(d-f),R=P-(w=_*(O=f-m)-(L-h*m-_*m-h*O)),c=P-R,S[0]=P-(R+c)+(c-w),c=(M=C+R)-C,R=(x=C-(M-c)+(R-c))-L,c=x-R,S[1]=x-(R+c)+(c-L),c=(I=M+R)-M,S[2]=M-(I-c)+(R-c),S[3]=I;let z=v(G,T,4,S,A);return A[z-1];}(e,t,r,n,a,i,f);}(e.x,e.y,t.x,t.y,r.x,r.y);return n>0?-1:n<0?1:0;},x=e=>Math.sqrt(R(e,e)),C=(e,t,r)=>{let n={x:t.x-e.x,y:t.y-e.y},a={x:r.x-e.x,y:r.y-e.y};return O(a,n)/x(a)/x(n);},P=(e,t,r)=>{let n={x:t.x-e.x,y:t.y-e.y},a={x:r.x-e.x,y:r.y-e.y};return R(a,n)/x(a)/x(n);},L=(e,t,r)=>0===t.y?null:{x:e.x+t.x/t.y*(r-e.y),y:r},w=(e,t,r)=>0===t.x?null:{x:r,y:e.y+t.y/t.x*(r-e.x)},I=(e,t,r,n)=>{if(0===t.x)return w(r,n,e.x);if(0===n.x)return w(e,t,r.x);if(0===t.y)return L(r,n,e.y);if(0===n.y)return L(e,t,r.y);let a=O(t,n);if(0==a)return null;let i={x:r.x-e.x,y:r.y-e.y},o=O(i,t)/a,u=O(i,n)/a,l=e.x+u*t.x,f=r.x+o*n.x;return{x:(l+f)/2,y:(e.y+u*t.y+(r.y+o*n.y))/2};};class N{static compare(e,t){let r=N.comparePoints(e.point,t.point);return 0!==r?r:(e.point!==t.point&&e.link(t),e.isLeft!==t.isLeft)?e.isLeft?1:-1:F.compare(e.segment,t.segment);}static comparePoints(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0;}constructor(e,t){void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t;}link(e){if(e.point===this.point)throw Error("Tried to link already linked events");let t=e.point.events;for(let e=0,r=t.length;e<r;e++){let r=t[e];this.point.events.push(r),r.point=this.point;}this.checkForConsuming();}checkForConsuming(){let e=this.point.events.length;for(let t=0;t<e;t++){let r=this.point.events[t];if(void 0===r.segment.consumedBy)for(let n=t+1;n<e;n++){let e=this.point.events[n];void 0===e.consumedBy&&r.otherSE.point.events===e.otherSE.point.events&&r.segment.consume(e.segment);}}}getAvailableLinkedEvents(){let e=[];for(let t=0,r=this.point.events.length;t<r;t++){let r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r);}return e;}getLeftmostComparator(e){let t=new Map,r=r=>{let n=r.otherSE;t.set(r,{sine:C(this.point,e.point,n.point),cosine:P(this.point,e.point,n.point)});};return(e,n)=>{t.has(e)||r(e),t.has(n)||r(n);let{sine:a,cosine:i}=t.get(e),{sine:o,cosine:u}=t.get(n);return a>=0&&o>=0?i<u?1:i>u?-1:0:a<0&&o<0?i<u?-1:i>u?1:0:o<a?-1:o>a?1:0;};}}let D=0;class F{static compare(e,t){let r=e.leftSE.point.x,n=t.leftSE.point.x,a=e.rightSE.point.x,i=t.rightSE.point.x;if(i<r)return 1;if(a<n)return -1;let o=e.leftSE.point.y,u=t.leftSE.point.y,l=e.rightSE.point.y,f=t.rightSE.point.y;if(r<n){if(u<o&&u<l)return 1;if(u>o&&u>l)return -1;let r=e.comparePoint(t.leftSE.point);if(r<0)return 1;if(r>0)return -1;let n=t.comparePoint(e.rightSE.point);return 0!==n?n:-1;}if(r>n){if(o<u&&o<f)return -1;if(o>u&&o>f)return 1;let r=t.comparePoint(e.leftSE.point);if(0!==r)return r;let n=e.comparePoint(t.rightSE.point);return n<0?1:n>0?-1:1;}if(o<u)return -1;if(o>u)return 1;if(a<i){let r=t.comparePoint(e.rightSE.point);if(0!==r)return r;}if(a>i){let r=e.comparePoint(t.rightSE.point);if(r<0)return 1;if(r>0)return -1;}if(a!==i){let e=l-o,t=a-r,s=f-u,c=i-n;if(e>t&&s<c)return 1;if(e<t&&s>c)return -1;}return a>i?1:a<i||l<f?-1:l>f?1:e.id<t.id?-1:e.id>t.id?1:0;}constructor(e,t,r,n){this.id=++D,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=r,this.windings=n;}static fromRing(e,t,r){let n,a,i;let o=N.comparePoints(e,t);if(o<0)n=e,a=t,i=1;else if(o>0)n=t,a=e,i=-1;else throw Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);return new F(new N(n,!0),new N(a,!1),[r],[i]);}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE;}bbox(){let e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}};}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y};}isAnEndpoint(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y;}comparePoint(e){if(this.isAnEndpoint(e))return 0;let t=this.leftSE.point,r=this.rightSE.point,n=this.vector();if(t.x===r.x)return e.x===t.x?0:e.x<t.x?1:-1;let a=(e.y-t.y)/n.y,i=t.x+a*n.x;if(e.x===i)return 0;let o=(e.x-t.x)/n.x,u=t.y+o*n.y;return e.y===u?0:e.y<u?-1:1;}getIntersection(e){let t=this.bbox(),r=e.bbox(),n=l(t,r);if(null===n)return null;let a=this.leftSE.point,i=this.rightSE.point,o=e.leftSE.point,f=e.rightSE.point,s=u(t,o)&&0===this.comparePoint(o),c=u(r,a)&&0===e.comparePoint(a),d=u(t,f)&&0===this.comparePoint(f),p=u(r,i)&&0===e.comparePoint(i);if(c&&s)return p&&!d?i:!p&&d?f:null;if(c)return d&&a.x===f.x&&a.y===f.y?null:a;if(s)return p&&i.x===o.x&&i.y===o.y?null:o;if(p&&d)return null;if(p)return i;if(d)return f;let v=I(a,this.vector(),o,e.vector());return null!==v&&u(n,v)?h.round(v.x,v.y):null;}split(e){let t=[],r=void 0!==e.events,n=new N(e,!0),a=new N(e,!1),i=this.rightSE;this.replaceRightSE(a),t.push(a),t.push(n);let o=new F(n,i,this.rings.slice(),this.windings.slice());return N.comparePoints(o.leftSE.point,o.rightSE.point)>0&&o.swapEvents(),N.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(n.checkForConsuming(),a.checkForConsuming()),t;}swapEvents(){let e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,t=this.windings.length;e<t;e++)this.windings[e]*=-1;}consume(e){let t=this,r=e;for(;t.consumedBy;)t=t.consumedBy;for(;r.consumedBy;)r=r.consumedBy;let n=F.compare(t,r);if(0!==n){if(n>0||t.prev===r){let e=t;t=r,r=e;}for(let e=0,n=r.rings.length;e<n;e++){let n=r.rings[e],a=r.windings[e],i=t.rings.indexOf(n);-1===i?(t.rings.push(n),t.windings.push(a)):t.windings[i]+=a;}r.rings=null,r.windings=null,r.consumedBy=t,r.leftSE.consumedBy=t.leftSE,r.rightSE.consumedBy=t.rightSE;}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult;}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){let e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState();}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState;}afterState(){if(void 0!==this._afterState)return this._afterState;let e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};let t=this._afterState.rings,r=this._afterState.windings,n=this._afterState.multiPolys;for(let e=0,n=this.rings.length;e<n;e++){let n=this.rings[e],a=this.windings[e],i=t.indexOf(n);-1===i?(t.push(n),r.push(a)):r[i]+=a;}let a=[],i=[];for(let e=0,n=t.length;e<n;e++){if(0===r[e])continue;let n=t[e],o=n.poly;if(-1===i.indexOf(o)){if(n.isExterior)a.push(o);else{-1===i.indexOf(o)&&i.push(o);let e=a.indexOf(n.poly);-1!==e&&a.splice(e,1);}}}for(let e=0,t=a.length;e<t;e++){let t=a[e].multiPoly;-1===n.indexOf(t)&&n.push(t);}return this._afterState;}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;let e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(W.type){case"union":{let r=0===e.length,n=0===t.length;this._isInResult=r!==n;break;}case"intersection":{let r,n;e.length<t.length?(r=e.length,n=t.length):(r=t.length,n=e.length),this._isInResult=n===W.numMultiPolys&&r<n;break;}case"xor":{let r=Math.abs(e.length-t.length);this._isInResult=r%2==1;break;}case"difference":this._isInResult=(1===e.length&&e[0].isSubject)!==(1===t.length&&t[0].isSubject);break;default:throw Error(`Unrecognized operation type found ${W.type}`);}return this._isInResult;}}class B{constructor(e,t,r){if(!Array.isArray(e)||0===e.length||(this.poly=t,this.isExterior=r,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1]))throw Error("Input geometry is not a valid Polygon or MultiPolygon");let n=h.round(e[0][0],e[0][1]);this.bbox={ll:{x:n.x,y:n.y},ur:{x:n.x,y:n.y}};let a=n;for(let t=1,r=e.length;t<r;t++){if("number"!=typeof e[t][0]||"number"!=typeof e[t][1])throw Error("Input geometry is not a valid Polygon or MultiPolygon");let r=h.round(e[t][0],e[t][1]);(r.x!==a.x||r.y!==a.y)&&(this.segments.push(F.fromRing(a,r,this)),r.x<this.bbox.ll.x&&(this.bbox.ll.x=r.x),r.y<this.bbox.ll.y&&(this.bbox.ll.y=r.y),r.x>this.bbox.ur.x&&(this.bbox.ur.x=r.x),r.y>this.bbox.ur.y&&(this.bbox.ur.y=r.y),a=r);}(n.x!==a.x||n.y!==a.y)&&this.segments.push(F.fromRing(a,n,this));}getSweepEvents(){let e=[];for(let t=0,r=this.segments.length;t<r;t++){let r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE);}return e;}}class U{constructor(e,t){if(!Array.isArray(e))throw Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new B(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let t=1,r=e.length;t<r;t++){let r=new B(e[t],this,!1);r.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=r.bbox.ur.y),this.interiorRings.push(r);}this.multiPoly=t;}getSweepEvents(){let e=this.exteriorRing.getSweepEvents();for(let t=0,r=this.interiorRings.length;t<r;t++){let r=this.interiorRings[t].getSweepEvents();for(let t=0,n=r.length;t<n;t++)e.push(r[t]);}return e;}}class j{constructor(e,t){if(!Array.isArray(e))throw Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e]);}catch(e){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let t=0,r=e.length;t<r;t++){let r=new U(e[t],this);r.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=r.bbox.ur.y),this.polys.push(r);}this.isSubject=t;}getSweepEvents(){let e=[];for(let t=0,r=this.polys.length;t<r;t++){let r=this.polys[t].getSweepEvents();for(let t=0,n=r.length;t<n;t++)e.push(r[t]);}return e;}}class k{static factory(e){let t=[];for(let r=0,n=e.length;r<n;r++){let n=e[r];if(!n.isInResult()||n.ringOut)continue;let a=null,i=n.leftSE,o=n.rightSE,u=[i],l=i.point,f=[];for(;a=i,i=o,u.push(i),i.point!==l;)for(;;){let e=i.getAvailableLinkedEvents();if(0===e.length){let e=u[0].point,t=u[u.length-1].point;throw Error(`Unable to complete output ring starting at [${e.x}, ${e.y}]. Last matching segment found ends at [${t.x}, ${t.y}].`);}if(1===e.length){o=e[0].otherSE;break;}let r=null;for(let e=0,t=f.length;e<t;e++)if(f[e].point===i.point){r=e;break;}if(null!==r){let e=f.splice(r)[0],n=u.splice(e.index);n.unshift(n[0].otherSE),t.push(new k(n.reverse()));continue;}f.push({index:u.length,point:i.point});let n=i.getLeftmostComparator(a);o=e.sort(n)[0].otherSE;break;}t.push(new k(u));}return t;}constructor(e){this.events=e;for(let t=0,r=e.length;t<r;t++)e[t].segment.ringOut=this;this.poly=null;}getGeom(){let e=this.events[0].point,t=[e];for(let r=1,n=this.events.length-1;r<n;r++){let n=this.events[r].point;0!==M(n,e,this.events[r+1].point)&&(t.push(n),e=n);}if(1===t.length)return null;0===M(t[0],e,t[1])&&t.shift(),t.push(t[0]);let r=this.isExteriorRing()?1:-1,n=this.isExteriorRing()?0:t.length-1,a=this.isExteriorRing()?t.length:-1,i=[];for(let e=n;e!=a;e+=r)i.push([t[e].x,t[e].y]);return i;}isExteriorRing(){if(void 0===this._isExteriorRing){let e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing();}return this._isExteriorRing;}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing;}_calcEnclosingRing(){let e=this.events[0];for(let t=1,r=this.events.length;t<r;t++){let r=this.events[t];N.compare(e,r)>0&&(e=r);}let t=e.segment.prevInResult(),r=t?t.prevInResult():null;for(;;){if(!t)return null;if(!r)return t.ringOut;if(r.ringOut!==t.ringOut){if(r.ringOut.enclosingRing()!==t.ringOut)return t.ringOut;return t.ringOut.enclosingRing();}r=(t=r.prevInResult())?t.prevInResult():null;}}}class G{constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[];}addInterior(e){this.interiorRings.push(e),e.poly=this;}getGeom(){let e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(let t=0,r=this.interiorRings.length;t<r;t++){let r=this.interiorRings[t].getGeom();null!==r&&e.push(r);}return e;}}class z{constructor(e){this.rings=e,this.polys=this._composePolys(e);}getGeom(){let e=[];for(let t=0,r=this.polys.length;t<r;t++){let r=this.polys[t].getGeom();null!==r&&e.push(r);}return e;}_composePolys(e){let t=[];for(let r=0,n=e.length;r<n;r++){let n=e[r];if(!n.poly){if(n.isExteriorRing())t.push(new G(n));else{let e=n.enclosingRing();e.poly||t.push(new G(e)),e.poly.addInterior(n);}}}return t;}}class V{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.compare;this.queue=e,this.tree=new o(t),this.segments=[];}process(e){let t,r;let n=e.segment,a=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(n),a;let i=e.isLeft?this.tree.add(n):this.tree.find(n);if(!i)throw Error(`Unable to find segment #${n.id} [${n.leftSE.point.x}, ${n.leftSE.point.y}] -> [${n.rightSE.point.x}, ${n.rightSE.point.y}] in SweepLine tree.`);let o=i,u=i;for(;void 0===t;)null===(o=this.tree.prev(o))?t=null:void 0===o.key.consumedBy&&(t=o.key);for(;void 0===r;)null===(u=this.tree.next(u))?r=null:void 0===u.key.consumedBy&&(r=u.key);if(e.isLeft){let i=null;if(t){let e=t.getIntersection(n);if(null!==e&&(n.isAnEndpoint(e)||(i=e),!t.isAnEndpoint(e))){let r=this._splitSafely(t,e);for(let e=0,t=r.length;e<t;e++)a.push(r[e]);}}let o=null;if(r){let e=r.getIntersection(n);if(null!==e&&(n.isAnEndpoint(e)||(o=e),!r.isAnEndpoint(e))){let t=this._splitSafely(r,e);for(let e=0,r=t.length;e<r;e++)a.push(t[e]);}}if(null!==i||null!==o){let e=null;e=null===i?o:null===o?i:0>=N.comparePoints(i,o)?i:o,this.queue.remove(n.rightSE),a.push(n.rightSE);let t=n.split(e);for(let e=0,r=t.length;e<r;e++)a.push(t[e]);}a.length>0?(this.tree.remove(n),a.push(e)):(this.segments.push(n),n.prev=t);}else{if(t&&r){let e=t.getIntersection(r);if(null!==e){if(!t.isAnEndpoint(e)){let r=this._splitSafely(t,e);for(let e=0,t=r.length;e<t;e++)a.push(r[e]);}if(!r.isAnEndpoint(e)){let t=this._splitSafely(r,e);for(let e=0,r=t.length;e<r;e++)a.push(t[e]);}}}this.tree.remove(n);}return a;}_splitSafely(e,t){this.tree.remove(e);let r=e.rightSE;this.queue.remove(r);let n=e.split(t);return n.push(r),void 0===e.consumedBy&&this.tree.add(e),n;}}let H=void 0!==i&&i.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,X=void 0!==i&&i.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,W=new class{run(e,t,r){W.type=e,h.reset();let n=[new j(t,!0)];for(let e=0,t=r.length;e<t;e++)n.push(new j(r[e],!1));if(W.numMultiPolys=n.length,"difference"===W.type){let e=n[0],t=1;for(;t<n.length;)null!==l(n[t].bbox,e.bbox)?t++:n.splice(t,1);}if("intersection"===W.type)for(let e=0,t=n.length;e<t;e++){let t=n[e];for(let r=e+1,a=n.length;r<a;r++)if(null===l(t.bbox,n[r].bbox))return[];}let a=new o(N.compare);for(let e=0,t=n.length;e<t;e++){let t=n[e].getSweepEvents();for(let e=0,r=t.length;e<r;e++)if(a.insert(t[e]),a.size>H)throw Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).");}let i=new V(a),u=a.size,f=a.pop();for(;f;){let e=f.key;if(a.size===u){let t=e.segment;throw Error(`Unable to pop() ${e.isLeft?"left":"right"} SweepEvent [${e.point.x}, ${e.point.y}] from segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] from queue.`);}if(a.size>H)throw Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(i.segments.length>X)throw Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");let t=i.process(e);for(let e=0,r=t.length;e<r;e++){let r=t[e];void 0===r.consumedBy&&a.insert(r);}u=a.size,f=a.pop();}return h.reset(),new z(k.factory(i.segments)).getGeom();}};return{union:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return W.run("union",e,r);},intersection:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return W.run("intersection",e,r);},xor:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return W.run("xor",e,r);},difference:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return W.run("difference",e,r);}};},"object"==typeof t&&void 0!==e?e.exports=a():(n="undefined"!=typeof globalThis?globalThis:n||self).polygonClipping=a();},"5f344267":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("79ec59ec")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"5f49fc8a":function(e,t,r){"use strict";function n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);}return this;}function a(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e);}return this;}r.d(t,"__esModule",{value:!0}),r.e(t,{initInterpolator:function(){return a;},initRange:function(){return n;}});},"5f7a0c22":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return o;},hours:function(){return u;}});var n=r("777fffbe")._(r("d365c0f8")),a=r("184d1c4d"),i=(0,n.default)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a.durationSecond-e.getMinutes()*a.durationMinute);},function(e,t){e.setTime(+e+t*a.durationHour);},function(e,t){return(t-e)/a.durationHour;},function(e){return e.getHours();}),o=i,u=i.range;},"5fa1d2f5":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{days:function(){return u;},default:function(){return o;}});var n=r("777fffbe")._(r("d365c0f8")),a=r("184d1c4d"),i=(0,n.default)(function(e){e.setHours(0,0,0,0);},function(e,t){e.setDate(e.getDate()+t);},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*a.durationMinute)/a.durationDay;},function(e){return e.getDate()-1;}),o=i,u=i.range;},"5fbc9797":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"cubehelixLong",{enumerable:!0,get:function(){return u;}});var n,a=r("777fffbe"),i=r("132a6da3"),o=a._(r("a8448745")),u=(n=o.default,function e(t){function r(e,r){var a=n((e=(0,i.cubehelix)(e)).h,(r=(0,i.cubehelix)(r)).h),u=(0,o.default)(e.s,r.s),l=(0,o.default)(e.l,r.l),f=(0,o.default)(e.opacity,r.opacity);return function(r){return e.h=a(r),e.s=u(r),e.l=l(Math.pow(r,t)),e.opacity=f(r),e+"";};}return t=+t,r.gamma=e,r;}(1));},"603e15ab":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("faa3a811")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},60831931:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0d64263c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"60d48ceb":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6e09d791")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"60ea7303":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d5cef021")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"61d054d7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8f12a75b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"61de0bdd":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("18eda913")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"62047a0f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("28642523")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"621f97ae":function(e,t,r){"use strict";var n=r("5535366a");function a(){var e={},t=0,r=0,n=0;return{add:function(a,i){i||(i=a,a=0),a>r?r=a:a<n&&(n=a),e[a]||(e[a]=[]),e[a].push(i),t++;},process:function(){for(var t=n;t<=r;t++)for(var a=e[t],i=0;i<a.length;i++)(0,a[i])();},size:function(){return t;}};}e.exports=function(e){var t,r=(e=e||{}).reporter,i=n.getOption(e,"async",!0),o=n.getOption(e,"auto",!0);o&&!i&&(r&&r.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),i=!0);var u=a(),l=!1;function f(){for(l=!0;u.size();){var e=u;u=a(),e.process();}l=!1;}function s(e){return setTimeout(e,0);}return{add:function(e,r){!l&&o&&i&&0===u.size()&&(t=s(f)),u.add(e,r);},force:function(e){l||(void 0===e&&(e=i),t&&(clearTimeout(t),t=null),e?t=s(f):f());}};};},"6237b6b3":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("79f1a773")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"62552e1d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("60a9d72d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"62767c40":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return i;},gamma:function(){return a;}});var n=r("777fffbe")._(r("45bd9c82"));function a(e){return 1==(e=+e)?i:function(t,r){var a,i,o;return r-t?(a=t,i=r,a=Math.pow(a,o=e),i=Math.pow(i,o)-a,o=1/o,function(e){return Math.pow(a+e*i,o);}):(0,n.default)(isNaN(t)?r:t);};}function i(e,t){var r=t-e;return r?function(t){return e+t*r;}:(0,n.default)(isNaN(e)?t:e);}},"628599c1":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{GaodeMapStyleConfig:function(){return n;},MapboxMapStyleConfig:function(){return a;}});let n={normal:{text:"\u6807\u51C6",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*qdFDSbvIalgAAAAAAAAAAAAADmJ7AQ/original"},light:{text:"\u6708\u5149\u94F6",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d-vcRLzu8WIAAAAAAAAAAAAADmJ7AQ/original"},dark:{text:"\u5E7B\u5F71\u9ED1",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*HMbRTI3XnpIAAAAAAAAAAAAADmJ7AQ/original"},fresh:{text:"\u8349\u8272\u9752",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kqaGQ5kjSiAAAAAAAAAAAAAADmJ7AQ/original"},grey:{text:"\u96C5\u58EB\u7070",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*XegrTpZIbqAAAAAAAAAAAAAADmJ7AQ/original"},graffiti:{text:"\u6D82\u9E26",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*G5g9SZ_Jg4cAAAAAAAAAAAAADmJ7AQ/original"},macaron:{text:"\u9A6C\u5361\u9F99",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*irVvQbDpQMwAAAAAAAAAAAAADmJ7AQ/original"},darkblue:{text:"\u6781\u591C\u84DD",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lKRzQYB4iR0AAAAAAAAAAAAADmJ7AQ/original"},wine:{text:"\u9171\u7C7D",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*orY0T7QL-lwAAAAAAAAAAAAADmJ7AQ/original"}},a={normal:{text:"\u6807\u51C6",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kIyZTok4Uk0AAAAAAAAAAAAADmJ7AQ/original"},light:{text:"\u4EAE",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Z3JRQKDI-cIAAAAAAAAAAAAADmJ7AQ/original"},dark:{text:"\u6697",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d7HCQbfmyaoAAAAAAAAAAAAADmJ7AQ/original"},satellite:{text:"\u536B\u661F",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*TytUT6pS9okAAAAAAAAAAAAADmJ7AQ/original"},outdoors:{text:"\u6237\u5916",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*hWwFSYJEFWsAAAAAAAAAAAAADmJ7AQ/original"}};},"62942f51":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cb6ad89a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"62bc57df":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("29dc1618")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"62cc2853":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1de5bdfc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"631c953a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("58128e9b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"633c7ed7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3f270c81")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"635ba4e6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f28423fc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"63e59eb0":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{BoxSelectEventList:function(){return i;},default:function(){return o;}});var n=r("89217383"),a=r("311c88c3"),i=["selectstart","selecting","selectend"],o=class extends a.EventEmitter{constructor(e,t={}){super(),this.isEnable=!1,this.onDragStart=e=>{this.box.style.display="block",this.startEvent=this.endEvent=e,this.syncBoxBound(),this.emit("selectstart",this.getLngLatBox(),this.startEvent,this.endEvent);},this.onDragging=e=>{this.endEvent=e,this.syncBoxBound(),this.emit("selecting",this.getLngLatBox(),this.startEvent,this.endEvent);},this.onDragEnd=e=>{this.endEvent=e,this.box.style.display="none",this.emit("selectend",this.getLngLatBox(),this.startEvent,this.endEvent);},this.scene=e,this.options=t;}get container(){return this.scene.getMapService().getMarkerContainer();}enable(){if(this.isEnable)return;let{className:e}=this.options;if(this.scene.setMapStatus({dragEnable:!1}),this.container.style.cursor="crosshair",!this.box){let t=n.DOM.create("div",void 0,this.container);t.classList.add("l7-select-box"),e&&t.classList.add(e),t.style.display="none",this.box=t;}this.scene.on("dragstart",this.onDragStart),this.scene.on("dragging",this.onDragging),this.scene.on("dragend",this.onDragEnd),this.isEnable=!0;}disable(){this.isEnable&&(this.scene.setMapStatus({dragEnable:!0}),this.container.style.cursor="auto",this.scene.off("dragstart",this.onDragStart),this.scene.off("dragging",this.onDragging),this.scene.off("dragend",this.onDragEnd),this.isEnable=!1);}syncBoxBound(){let{x:e,y:t}=this.startEvent,{x:r,y:n}=this.endEvent,a=Math.min(e,r),i=Math.min(t,n),o=Math.abs(e-r),u=Math.abs(t-n);this.box.style.top=`${i}px`,this.box.style.left=`${a}px`,this.box.style.width=`${o}px`,this.box.style.height=`${u}px`;}getLngLatBox(){let{lngLat:{lng:e,lat:t}}=this.startEvent,{lngLat:{lng:r,lat:a}}=this.endEvent;return(0,n.getBBoxFromPoints)([[e,t],[r,a]]);}};},64513235:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6297050d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"649cedff":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1a118c70")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"64a17bb3":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f4041a12")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"64b35461":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fed39621")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"64c7acbf":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return l;},isTexture2D:function(){return u;}});var n=r("42f7077b"),a=r("7f434d9f"),i=r("edce773c"),o=r("9fd1781f");function u(e){return!!(e&&e.texture);}var l=class{constructor(e,t){this.device=e,this.options=t,this.isDestroy=!1;let{wrapS:r=a.gl.CLAMP_TO_EDGE,wrapT:o=a.gl.CLAMP_TO_EDGE,aniso:u,mag:l=a.gl.NEAREST,min:f=a.gl.NEAREST}=t;this.createTexture(t),this.sampler=e.createSampler({addressModeU:i.wrapModeMap[r],addressModeV:i.wrapModeMap[o],minFilter:f===a.gl.NEAREST?n.FilterMode.POINT:n.FilterMode.BILINEAR,magFilter:l===a.gl.NEAREST?n.FilterMode.POINT:n.FilterMode.BILINEAR,mipmapFilter:n.MipmapFilterMode.NO_MIP,maxAnisotropy:u});}createTexture(e){let{type:t=a.gl.UNSIGNED_BYTE,width:r,height:i,flipY:u=!1,format:l=a.gl.RGBA,alignment:f=1,usage:s=a.TextureUsage.SAMPLED,unorm:c=!1,label:d}=e,{data:h}=e;this.width=r,this.height=i;let p=n.Format.U8_RGBA_RT;if(t===a.gl.UNSIGNED_BYTE&&l===a.gl.RGBA)p=c?n.Format.U8_RGBA_NORM:n.Format.U8_RGBA_RT;else if(t===a.gl.UNSIGNED_BYTE&&l===a.gl.LUMINANCE)p=n.Format.U8_LUMINANCE;else if(t===a.gl.FLOAT&&l===a.gl.LUMINANCE)p=n.Format.F32_LUMINANCE;else if(t===a.gl.FLOAT&&l===a.gl.RGB)"WebGPU"===this.device.queryVendorInfo().platformString?(h&&(h=(0,o.extend3ChannelsTo4)(h,0)),p=n.Format.F32_RGBA):p=n.Format.F32_RGB;else if(t===a.gl.FLOAT&&l===a.gl.RGBA)p=n.Format.F32_RGBA;else if(t===a.gl.FLOAT&&l===a.gl.RED)p=n.Format.F32_R;else throw Error(`create texture error, type: ${t}, format: ${l}`);this.texture=this.device.createTexture({format:p,width:r,height:i,usage:s===a.TextureUsage.SAMPLED?n.TextureUsage.SAMPLED:n.TextureUsage.RENDER_TARGET,pixelStore:{unpackFlipY:u,packAlignment:f},mipLevelCount:1}),d&&this.device.setResourceName(this.texture,d),h&&this.texture.setImageData([h]);}get(){return this.texture;}update(e){let{data:t}=e;this.texture.setImageData([t]);}bind(){}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&this.destroy(),this.options.width=e,this.options.height=t,this.createTexture(this.options),this.isDestroy=!1;}getSize(){return[this.width,this.height];}destroy(){var e;this.isDestroy||this.texture.destroyed||null==(e=this.texture)||e.destroy(),this.isDestroy=!0;}};},"64f21371":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"TilePickService",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("89217383"),u=r("7b2413ce");let l="select",f="active";class s{constructor({layerService:e,tileLayerService:t,parent:r}){(0,i.default)(this,"layerService",void 0),(0,i.default)(this,"tileLayerService",void 0),(0,i.default)(this,"tileSourceService",void 0),(0,i.default)(this,"parent",void 0),(0,i.default)(this,"tilePickID",new Map),this.layerService=e,this.tileLayerService=t,this.parent=r,this.tileSourceService=new u.TileSourceService;}pickRender(e){let t=this.tileLayerService.getVisibleTileBylngLat(e.lngLat);if(t){let r=t.getMainLayer();null==r||r.layerPickService.pickRender(e);}}pick(e,t){var r=this;return(0,a.default)(function*(){let n=r.parent.getContainer().pickingService;if("RasterLayer"===e.type){let e=r.tileLayerService.getVisibleTileBylngLat(t.lngLat);if(e&&void 0!==e.getMainLayer()){let n=e.getMainLayer();return n.layerPickService.pickRasterLayer(n,t,r.parent);}return!1;}return r.pickRender(t),n.pickFromPickingFBO(e,t);})();}selectFeature(e){let[t,r,n]=e,a=this.color2PickId(t,r,n);this.tilePickID.set(l,a),this.updateHighLight(t,r,n,l);}highlightPickedFeature(e){let[t,r,n]=e,a=this.color2PickId(t,r,n);this.tilePickID.set(f,a),this.updateHighLight(t,r,n,f);}updateHighLight(e,t,r,n){this.tileLayerService.tiles.map(a=>{let i=a.getMainLayer();switch(n){case l:null==i||i.hooks.beforeSelect.call([e,t,r]);break;case f:null==i||i.hooks.beforeHighlight.call([e,t,r]);}});}setPickState(){let e=this.tilePickID.get(l),t=this.tilePickID.get(f);if(e){let[t,r,n]=this.pickId2Color(e);this.updateHighLight(t,r,n,l);return;}if(t){let[e,r,n]=this.pickId2Color(t);this.updateHighLight(e,r,n,f);return;}}color2PickId(e,t,r){return(0,o.decodePickingColor)(new Uint8Array([e,t,r]));}pickId2Color(e){return(0,o.encodePickingColor)(e);}getFeatureById(e){let t=this.tileLayerService.getTiles().filter(e=>e.visible),r=[];return t.forEach(t=>{r.push(...t.getFeatureById(e));}),r;}pickRasterLayer(){return!1;}}},"6506fd84":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2a19a778")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"654d102f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("eab8ae55")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"656a6974":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("543caa64")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"659a633a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{LayerSwitch:function(){return f;},default:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("be6cb12a"),u=n._(r("07fbb854"));function l(e){return Object.keys(null!=e?e:{}).every(e=>["layer","name","img"].includes(e));}class f extends u.default{constructor(...e){super(...e),(0,i.default)(this,"onLayerChange",()=>{var e;null!==(e=this.controlOption.layers)&&void 0!==e&&e.length||(this.selectValue=this.getLayerVisible(),this.setOptions({options:this.getLayerOptions()}));}),(0,i.default)(this,"onLayerVisibleChane",()=>{this.setSelectValue(this.getLayerVisible());}),(0,i.default)(this,"onSelectChange",()=>{this.layers.forEach(e=>{let t=this.selectValue.includes(e.name),r=e.isVisible();t&&!r&&e.show(),!t&&r&&e.hide();});});}get layers(){let e=this.layerService,{layers:t}=this.controlOption;if(Array.isArray(t)&&t.length){let r=[];return t.forEach(t=>{if(t instanceof Object&&(l(t)?r.push(t.layer):r.push(t)),"string"==typeof t){let n=e.getLayer(t)||e.getLayerByName(t);n&&r.push(n);}}),r;}return e.getLayers()||[];}getDefault(e){var t;return(0,a.default)((0,a.default)({},super.getDefault(e)),{},{title:"\u56FE\u5C42\u63A7\u5236",btnIcon:(0,o.createL7Icon)("l7-icon-layer"),options:[],multiple:null===(t=null==e?void 0:e.multiple)||void 0===t||t});}getLayerVisible(){return this.layers.filter(e=>e.isVisible()).map(e=>e.name);}getLayerOptions(){let{layers:e}=this.controlOption,t=null==e?void 0:e.every(e=>e.img);return e?null==e?void 0:e.map(e=>{if(l(e))return{text:e.name||e.layer.name,value:e.layer.name,img:t?e.img:void 0};if("string"==typeof e){let t=this.layerService.getLayer(e)||this.layerService.getLayerByName(e);return{text:null==t?void 0:t.name,value:null==t?void 0:t.name};}return{text:e.name,value:e.name};}):this.layers.map(e=>({text:e.name,value:e.name}));}setOptions(e){let t=this.checkUpdateOption(e,["layers","multiple"]);super.setOptions(e),t&&(!1===this.controlOption.multiple&&this.handleSingleSelection(),this.selectValue=this.getLayerVisible(),this.controlOption.options=this.getLayerOptions(),this.popper.setContent(this.getPopperContent(this.controlOption.options)));}handleSingleSelection(){this.layers.forEach((e,t)=>{0===t?e.show():e.hide();});}onAdd(){var e;return!1===this.controlOption.multiple&&this.handleSingleSelection(),null!==(e=this.controlOption.options)&&void 0!==e&&e.length||(this.controlOption.options=this.getLayerOptions()),this.controlOption.defaultValue||(this.controlOption.defaultValue=this.getLayerVisible()),this.on("selectChange",this.onSelectChange),this.layerService.on("layerChange",this.onLayerChange),super.onAdd();}onRemove(){this.off("selectChange",this.onSelectChange),this.layerService.off("layerChange",this.onLayerChange);}getIsMultiple(){return this.controlOption.multiple;}}},"65df059a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7b0fd543")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"65dfc61f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fc2e237a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6676b611":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7b8d0438")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"66915ad7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c6a2a945")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"669bc3a2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f0ed0d5f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"66c638de":function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1;}function u(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var u=new o(r,n||e,i),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],u]:e._events[l].push(u):(e._events[l]=u,e._eventsCount++),e;}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t];}function f(){this._events=new i,this._eventsCount=0;}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1)),f.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r;},f.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o;},f.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0;},f.prototype.emit=function(e,t,r,n,i,o){var u=a?a+e:e;if(!this._events[u])return!1;var l,f,s=this._events[u],c=arguments.length;if(s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,r),!0;case 4:return s.fn.call(s.context,t,r,n),!0;case 5:return s.fn.call(s.context,t,r,n,i),!0;case 6:return s.fn.call(s.context,t,r,n,i,o),!0;}for(f=1,l=Array(c-1);f<c;f++)l[f-1]=arguments[f];s.fn.apply(s.context,l);}else{var d,h=s.length;for(f=0;f<h;f++)switch(s[f].once&&this.removeListener(e,s[f].fn,void 0,!0),c){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,t);break;case 3:s[f].fn.call(s[f].context,t,r);break;case 4:s[f].fn.call(s[f].context,t,r,n);break;default:if(!l)for(d=1,l=Array(c-1);d<c;d++)l[d-1]=arguments[d];s[f].fn.apply(s[f].context,l);}}return!0;},f.prototype.on=function(e,t,r){return u(this,e,t,r,!1);},f.prototype.once=function(e,t,r){return u(this,e,t,r,!0);},f.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,i);else{for(var u=0,f=[],s=o.length;u<s;u++)(o[u].fn!==t||n&&!o[u].once||r&&o[u].context!==r)&&f.push(o[u]);f.length?this._events[i]=1===f.length?f[0]:f:l(this,i);}return this;},f.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this;},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=a,f.EventEmitter=f,void 0!==e&&(e.exports=f);},"6709fd95":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return T;}});var n=r("82a731f4"),a=r("89217383"),i=r("66c638de"),o=r("930233a8"),u=r("5887bd2a"),l=r("e96198fd"),f=r("68cc65c7"),s=Object.defineProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,v=(e,t)=>{for(var r in t||(t={}))d.call(t,r)&&p(e,r,t[r]);if(c)for(var r of c(t))h.call(t,r)&&p(e,r,t[r]);return e;},_=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),{cloneDeep:m,isFunction:g,isString:b,mergeWith:y}=a.lodashUtil;function E(e,t){if(Array.isArray(t))return t;}var T=class extends i.EventEmitter{constructor(e,t){super(),this.type="source",this.isTile=!1,this.inited=!1,this.hooks={init:new n.SyncHook},this.parser={type:"geojson"},this.transforms=[],this.cluster=!1,this.clusterOptions={enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"},this.invalidExtent=!1,this.dataArrayChanged=!1,this.cfg={autoRender:!0},this.originData=e,this.initCfg(t),this.init().then(()=>{this.inited=!0,this.emit("update",{type:"inited"});});}getSourceCfg(){return this.cfg;}getClusters(e){return this.clusterIndex.getClusters(this.caculClusterExtent(2),e);}getClustersLeaves(e){return this.clusterIndex.getLeaves(e,1/0);}getParserType(){return this.parser.type;}updateClusterData(e){let{method:t="sum",field:r}=this.clusterOptions,n=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(e));this.clusterOptions.zoom=e,n.forEach(e=>{e.id||(e.properties.point_count=1);}),(r||g(t))&&(n=n.map(e=>{let n=e.id;if(n){let a;let i=this.clusterIndex.getLeaves(n,1/0).map(e=>e.properties);if(b(t)&&r){let e=(0,f.getColumn)(i,r);a=l.statMap[t](e);}g(t)&&(a=t(i)),e.properties.stat=a;}else e.properties.point_count=1;return e;})),this.data=(0,o.getParser)("geojson")({type:"FeatureCollection",features:n}),this.executeTrans();}getFeatureById(e){let{type:t="geojson",geometry:r}=this.parser;if("geojson"!==t||this.cluster)return"json"===t&&r?this.data.dataArray.find(t=>t._id===e):e<this.data.dataArray.length?this.data.dataArray[e]:"null";{let t=m(e<this.originData.features.length?this.originData.features[e]:"null");if((null==t?void 0:t.properties)&&(0!==this.transforms.length||this.dataArrayChanged)){let r=this.data.dataArray.find(t=>t._id===e);t.properties=r;}return t;}}updateFeaturePropertiesById(e,t){this.data.dataArray=this.data.dataArray.map(r=>r._id===e?v(v({},r),t):r),this.dataArrayChanged=!0,this.emit("update",{type:"update"});}getFeatureId(e,t){let r=this.data.dataArray.find(r=>r[e]===t);return null==r?void 0:r._id;}setData(e,t){this.originData=e,this.dataArrayChanged=!1,this.initCfg(t),this.init().then(()=>{this.emit("update",{type:"update"});});}reloadAllTile(){var e;null==(e=this.tileset)||e.reloadAll();}reloadTilebyId(e,t,r){var n;null==(n=this.tileset)||n.reloadTileById(e,t,r);}reloadTileByLnglat(e,t,r){var n;null==(n=this.tileset)||n.reloadTileByLnglat(e,t,r);}getTileExtent(e,t){var r;return null==(r=this.tileset)?void 0:r.getTileExtent(e,t);}getTileByZXY(e,t,r){var n;return null==(n=this.tileset)?void 0:n.getTileByZXY(e,t,r);}reloadTileByExtent(e,t){var r;null==(r=this.tileset)||r.reloadTileByExtent(e,t);}destroy(){var e;this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null,null==(e=this.tileset)||e.destroy();}processData(){return _(this,null,function*(){return new Promise((e,t)=>{try{this.excuteParser(),this.initCluster(),this.executeTrans(),e({});}catch(e){t(e);}});});}initCfg(e){this.cfg=y(this.cfg,e,E);let t=this.cfg;t&&(t.parser&&(this.parser=t.parser),t.transforms&&(this.transforms=t.transforms),this.cluster=t.cluster||!1,t.clusterOptions&&(this.cluster=!0,this.clusterOptions=v(v({},this.clusterOptions),t.clusterOptions)));}init(){return _(this,null,function*(){this.inited=!1,yield this.processData(),this.inited=!0;});}excuteParser(){let e=this.parser,t=e.type||"geojson",r=(0,o.getParser)(t);this.data=r(this.originData,e),this.tileset=this.initTileset(),e.cancelExtent||(this.extent=(0,a.extent)(this.data.dataArray),this.setCenter(this.extent),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3]);}setCenter(e){this.center=[(e[0]+e[2])/2,(e[1]+e[3])/2],(isNaN(this.center[0])||isNaN(this.center[1]))&&(this.center=[108.92361111111111,34.54083333333333]);}initTileset(){let{tilesetOptions:e}=this.data;return e?(this.isTile=!0,this.tileset)?(this.tileset.updateOptions(e),this.tileset):new a.TilesetManager(v({},e)):void 0;}executeTrans(){this.transforms.forEach(e=>{let{type:t}=e,r=(0,o.getTransform)(t)(this.data,e);Object.assign(this.data,r);});}initCluster(){if(!this.cluster)return;let e=this.clusterOptions||{};this.clusterIndex=(0,u.cluster)(this.data,e);}caculClusterExtent(e){let t=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(t=(0,a.padBounds)((0,a.bBoxToBounds)(this.extent),e)),t[0].concat(t[1]);}};},"67d8a09f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("6c8aee75")),f=r("f9b12b3c");class s extends l.default{constructor(...e){super(...e),(0,i.default)(this,"texture",void 0);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9});}getCommonUniformsInfo(){let{opacity:e,brightness:t,contrast:r,saturation:n,gamma:a}=this.layer.getLayerConfig(),i={u_opacity:(0,u.defaultValue)(e,1),u_brightness:(0,u.defaultValue)(t,1),u_contrast:(0,u.defaultValue)(r,1),u_saturation:(0,u.defaultValue)(n,1),u_gamma:(0,u.defaultValue)(a,1)};return this.textures=[this.texture],this.getUniformsBufferInfo(i);}initModels(){var e=this;return(0,a.default)(function*(){return yield e.loadTexture(),e.buildModels();})();}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy();}loadTexture(){var e=this;return(0,a.default)(function*(){let{createTexture2D:t}=e.rendererService,r=e.layer.getSource(),n=yield r.data.images;e.texture=t({data:n[0],width:n[0].width,height:n[0].height,mag:o.gl.LINEAR,min:o.gl.LINEAR});})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"rasterImage",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n    float u_opacity:1.0;\n    float u_brightness:1.0;\n    float u_contrast:1.0;\n    float u_saturation:1.0;\n    float u_gamma:1.0;\n};\n\nout vec2 v_texCoord;\n#pragma include "projection"\n\nvoid main() {\n  v_texCoord = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n}\n',fragmentShader:"uniform sampler2D u_texture;\nlayout(std140) uniform commonUniforms {\n    float u_opacity:1.0;\n    float u_brightness:1.0;\n    float u_contrast:1.0;\n    float u_saturation:1.0;\n    float u_gamma:1.0;\n};\n\nin vec2 v_texCoord;\nout vec4 outputColor;\nvec3 setContrast(vec3 rgb, float contrast) {\n  vec3 color = mix(vec3(0.5), rgb, contrast);\n  color = clamp(color, 0.0, 1.0);\n  return color;\n}\nvec3 setSaturation(vec3 rgb, float adjustment) {\n  const vec3 grayVector = vec3(0.2125, 0.7154, 0.0721);\n  vec3 intensity = vec3(dot(rgb, grayVector));\n  vec3 color = mix(intensity, rgb, adjustment);\n  color = clamp(color, 0.0, 1.0);\n  return color;\n}\nvoid main() {\n  vec4 color = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y));\n  //brightness\n  color.rgb = mix(vec3(0.0, 0.0, 0.0), color.rgb, u_brightness);\n  //contrast\n  color.rgb = setContrast(color.rgb, u_contrast);\n  // saturation\n  color.rgb = setSaturation(color.rgb, u_saturation);\n  // gamma\n  color.rgb = pow(color.rgb, vec3(u_gamma));\n  outputColor = color;\n  outputColor.a *= u_opacity;\n  if(outputColor.a < 0.01)\n    discard;\n}\n",defines:e.getDefines(),triangulation:f.RasterImageTriangulation,primitive:o.gl.TRIANGLES,blend:{enable:!0},depth:{enable:!1},pickingEnabled:!1}))];})();}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:o.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}});}}},"67f9ef21":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=r("7f434d9f"),o=r("89217383"),u=n._(r("6c8aee75")),l=r("f9b12b3c");let{isNumber:f}=o.lodashUtil;class s extends u.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,NORMAL:9,UV:10});}getCommonUniformsInfo(){let{opacity:e=1}=this.layer.getLayerConfig(),t={u_opacity:f(e)?e:1};return this.getUniformsBufferInfo(t);}initModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),e.buildModels();})();}clearModels(){return"";}buildModels(){var e=this;return(0,a.default)(function*(){return e.layer.zIndex=-999,[(yield e.layer.buildLayerModel({moduleName:"earthBloom",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n float u_opacity;\n};\n#pragma include "scene_uniforms"\n\nout vec3 vVertexNormal;\nout vec4 v_Color;\n\nvoid main() {\n    v_Color = a_Color;\n\n    vVertexNormal = a_Normal;\n\n    gl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);\n}\n',fragmentShader:'in vec3 vVertexNormal;\nin vec4 v_Color;\n\nlayout(std140) uniform commonUniforms {\n  float u_opacity;\n};\nout vec4 outputColor;\n#pragma include "scene_uniforms"\nvoid main() {\n  float intensity = -dot(normalize(vVertexNormal), normalize(u_CameraPosition));\n  // \u53BB\u9664\u80CC\u9762\n  if (intensity > 1.0) intensity = 0.0;\n\n  outputColor = vec4(v_Color.rgb, v_Color.a * intensity * u_opacity);\n}\n',defines:e.getDefines(),triangulation:l.earthOuterTriangulation,depth:{enable:!1},blend:e.getBlend()}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:i.AttributeType.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:i.gl.STATIC_DRAW,data:[],type:i.gl.FLOAT},size:3,update:(e,t,r,n,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:i.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}});}}},"6801f755":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{getStencil:function(){return a;},getStencilMask:function(){return i;}});var n=r("7f434d9f");function a(e,t){return{enable:e,mask:255,func:{cmp:n.gl.EQUAL,ref:t?1:0,mask:1}};}function i(e){return e.maskOperation===n.MaskOperation.OR?{enable:!0,mask:255,func:{cmp:n.gl.ALWAYS,ref:1,mask:255},opFront:{fail:n.gl.KEEP,zfail:n.gl.REPLACE,zpass:n.gl.REPLACE}}:{enable:!0,mask:255,func:{cmp:e.stencilType===n.StencilType.SINGLE?n.gl.ALWAYS:0===e.stencilIndex?n.gl.ALWAYS:n.gl.LESS,ref:e.stencilType===n.StencilType.SINGLE?1:0===e.stencilIndex?2:1,mask:255},opFront:{fail:n.gl.KEEP,zfail:n.gl.REPLACE,zpass:n.gl.REPLACE}};}},"680e081d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f1edf2dc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6819fdd3":function(e,t,r){},"689e1311":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b74b09c9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"68ca6e33":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe")._(r("78dc401a")),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i=RegExp(a.source,"g");function o(e,t){var r,o,u,l,f,s=a.lastIndex=i.lastIndex=0,c=-1,d=[],h=[];for(e+="",t+="";(u=a.exec(e))&&(l=i.exec(t));)(f=l.index)>s&&(f=t.slice(s,f),d[c]?d[c]+=f:d[++c]=f),(u=u[0])===(l=l[0])?d[c]?d[c]+=l:d[++c]=l:(d[++c]=null,h.push({i:c,x:(0,n.default)(u,l)})),s=i.lastIndex;return s<t.length&&(f=t.slice(s),d[c]?d[c]+=f:d[++c]=f),d.length<2?h[0]?(r=h[0].x,function(e){return r(e)+"";}):(o=t,function(){return o;}):(t=h.length,function(e){for(var r,n=0;n<t;++n)d[(r=h[n]).i]=r.x(e);return d.join("");});}},"68cc65c7":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{extentToCoord:function(){return f;},geojsonRewind:function(){return l;},getColumn:function(){return o;},isNumberArray:function(){return u;}});var n=r("777fffbe"),a=r("89217383"),i=n._(r("e956a59f"));function o(e,t){return e.map(e=>1*e[t]);}function u(e){return!!Array.isArray(e)&&(0===e.length||"number"==typeof e[0]);}function l(e){let t=Object.isFrozen(e)?a.lodashUtil.cloneDeep(e):e;return(0,i.default)(t,!0),t;}function f(e,t){return e||[[t[0],t[3]],[t[2],t[3]],[t[2],t[1]],[t[0],t[1]]];}},"693049e1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("eb8cd4fb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6939ab91":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f525c656")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"69580ad5":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a491dc13")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6986045b":function(e,t,r){"use strict";var n=r("1c3732b0").default,a=r("91c615af").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("54391344")),o=n(r("c051be1c")),u=n(r("2dccbefc")),l=n(r("ad35a619")),f=a(r("896e0d47")),s=n(r("40b32d6b")),c=r("85c700c3"),d=n(r("6b889f11")),h=r("bf1e085a"),p=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],v=f.forwardRef(function(e,t){var r=e.className,n=e.component,a=e.viewBox,v=e.spin,_=e.rotate,m=e.tabIndex,g=e.onClick,b=e.children,y=(0,l.default)(e,p),E=f.useRef(),T=(0,c.useComposeRef)(E,t);(0,h.warning)(!!(n||b),"Should have `component` prop or `children`."),(0,h.useInsertStyles)(E);var A=f.useContext(d.default),S=A.prefixCls,O=void 0===S?"anticon":S,R=A.rootClassName,M=(0,s.default)(R,O,(0,u.default)({},"".concat(O,"-spin"),!!v&&!!n),r),x=(0,s.default)((0,u.default)({},"".concat(O,"-spin"),!!v)),C=(0,o.default)((0,o.default)({},h.svgBaseProps),{},{className:x,style:_?{msTransform:"rotate(".concat(_,"deg)"),transform:"rotate(".concat(_,"deg)")}:void 0,viewBox:a});a||delete C.viewBox;var P=m;return void 0===P&&g&&(P=-1),f.createElement("span",(0,i.default)({role:"img"},y,{ref:T,tabIndex:P,onClick:g,className:M}),n?f.createElement(n,C,b):b?((0,h.warning)(!!a||1===f.Children.count(b)&&f.isValidElement(b)&&"use"===f.Children.only(b).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),f.createElement("svg",(0,i.default)({},C,{viewBox:a}),b)):null);});v.displayName="AntdIcon",t.default=v;},"69c433b2":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("bcf303a7"));function a(e){return Math.max(0,-(0,n.default)(Math.abs(e)));}},"69d82990":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("242f5689")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"69e0a7a2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("186c0d15")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"69f727c9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c541ef5a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6a720bd8":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Swipe:function(){return s;},default:function(){return s;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("b28eeb4c"),l=r("89217383"),f=r("c1b59056");class s extends f.Control{constructor(...e){super(...e),(0,i.default)(this,"isMoving",!1),(0,i.default)(this,"maskLayer",void 0),(0,i.default)(this,"move",e=>{switch(e.stopPropagation(),e.type){case"touchcancel":case"touchend":case"mouseup":var t;this.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(e=>{document.removeEventListener(e,this.move);}),null===(t=this.scene)||void 0===t||t.render();break;case"mousedown":case"touchstart":this.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(e=>{document.addEventListener(e,this.move);});case"mousemove":case"touchmove":if(this.isMoving){if("vertical"===this.controlOption.orientation){let t;if("pageX"in e?t=e.pageX:e.touches&&e.touches.length&&e.touches[0].pageX?t=e.touches[0].pageX:e.changedTouches&&e.changedTouches.length&&(t=e.changedTouches[0].pageX),!t)break;let r=this.getContainerDOMRect(),n=this.getContainerSize(),a=n[0],i=a-Math.min(Math.max(0,a-(t-((null==r?void 0:r.left)||0)+window.scrollX-document.documentElement.clientLeft)),a),o=i/a;this.setOptions({ratio:o}),this.emit("moving",{size:[i,n[1]],ratio:[o,0]});}else{let t;if("pageY"in e?t=e.pageY:e.touches&&e.touches.length&&e.touches[0].pageY?t=e.touches[0].pageY:e.changedTouches&&e.changedTouches.length&&(t=e.changedTouches[0].pageY),!t)break;let r=this.getContainerDOMRect(),n=this.getContainerSize(),a=n[1],i=a-Math.min(Math.max(0,a-(t-((null==r?void 0:r.top)||0)+window.scrollY-document.documentElement.clientTop)),a),o=i/a;this.setOptions({ratio:o}),this.emit("moving",{size:[n[0],i],ratio:[0,o]});}}}}),(0,i.default)(this,"getMaskLayer",()=>(console.log(this.getMaskGeoData()),new u.PolygonLayer({visible:!1}).source(this.getMaskGeoData()).shape("fill").color("red").style({opacity:.1}))),(0,i.default)(this,"updateMask",()=>{var e;if(!this.mapsService)return;let t=this.getMaskGeoData();null===(e=this.maskLayer)||void 0===e||e.setData(t);});}getDefault(){return(0,a.default)((0,a.default)({},super.getDefault()),{},{layers:[],rightLayers:[],ratio:.5,orientation:"vertical"});}onAdd(){let e=l.DOM.create("div","l7-control-swipe");l.DOM.create("button","l7-control-swipe__button",e);let{orientation:t="vertical",ratio:r=.5}=this.controlOption;return"horizontal"===t?(e.style.top=100*r+"%",e.style.left=""):(e.style.left=100*r+"%",e.style.top=""),e.classList.add(t),e;}addTo(e){this.mapsService=e.mapService,this.renderService=e.rendererService,this.layerService=e.layerService,this.controlService=e.controlService,this.configService=e.globalConfigService,this.scene=e.sceneService,this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd();let{className:t,style:r,layers:n,rightLayers:a}=this.controlOption;t&&this.setClassName(t),r&&this.setStyle(r),this.mapsService.getMarkerContainer().appendChild(this.container),this.maskLayer=this.getMaskLayer(),this.registerEvent();let i=(0,o.createLayerContainer)(e);return this.maskLayer.setContainer(i),this.scene.addLayer(this.maskLayer),this.addMaskToLayers(n,!1),this.addMaskToLayers(a,!0),this.emit("add",this),this;}onRemove(){if(this.maskLayer){var e;let{layers:t,rightLayers:r}=this.controlOption;this.removeMaskFromLayers(t),this.removeMaskFromLayers(r),null===(e=this.layerService)||void 0===e||e.remove(this.maskLayer);}this.unRegisterEvent(),this.removeAllListeners();}show(){var e;let t=this.container;l.DOM.removeClass(t,"l7-control-swipe_hide");let{layers:r,rightLayers:n}=this.controlOption;r.forEach(e=>e.enableMask()),n.forEach(e=>e.enableMask()),null===(e=this.scene)||void 0===e||e.render(),this.isShow=!0,this.emit("show",this);}hide(){var e;let t=this.container;l.DOM.addClass(t,"l7-control-swipe_hide");let{layers:r,rightLayers:n}=this.controlOption;r.forEach(e=>e.disableMask()),n.forEach(e=>e.disableMask()),null===(e=this.scene)||void 0===e||e.render(),this.isShow=!1,this.emit("hide",this);}setOptions(e){let t=(0,a.default)((0,a.default)({},this.controlOption),e);if(e.className&&this.setClassName(e.className),e.style&&this.setStyle(e.style),(e.orientation||void 0!==e.ratio)&&this.setOrientationAndRatio(t.orientation,t.ratio),e.layers){let t=e.layers,r=this.controlOption.layers;this.setLayers(t,r,!1);}if(e.rightLayers){let t=e.rightLayers,r=this.controlOption.rightLayers;this.setLayers(t,r,!0);}this.controlOption=t,this.updateMask();}registerEvent(){this.container.addEventListener("mousedown",this.move),this.container.addEventListener("touchstart",this.move),this.mapsService.on("camerachange",this.updateMask);}unRegisterEvent(){var e;this.container.removeEventListener("mousedown",this.move),this.container.removeEventListener("touchstart",this.move),null===(e=this.mapsService)||void 0===e||e.off("camerachange",this.updateMask);}setOrientationAndRatio(e="vertical",t=.5){this.container.classList.remove("horizontal","vertical"),this.container.classList.add(e),"horizontal"===e?(this.container.style.top=100*t+"%",this.container.style.left=""):(this.container.style.left=100*t+"%",this.container.style.top="");}setLayers(e,t,r=!1){let n=e.filter(e=>!1===t.includes(e)),a=t.filter(t=>!1===e.includes(t));this.addMaskToLayers(n,r),this.removeMaskFromLayers(a);}addMaskToLayers(e,t){e.forEach(e=>{e.updateLayerConfig({maskInside:!t}),e.addMask(this.maskLayer);});}removeMaskFromLayers(e){e.forEach(e=>{e.updateLayerConfig({maskInside:!0}),e.removeMask(this.maskLayer);});}getMaskGeoData(){let e;let{ratio:t=.5,orientation:r="vertical"}=this.controlOption,[n,a]=this.getBounds(),[i,o]=n,[u,l]=a;if("vertical"===r){let r=i+(u-i)*t;e=[[i,l],[r,l],[r,o],n,[i,l]];}else{let r=this.getContainerSize(),n=this.mapsService.containerToLngLat([r[0],r[1]*t]).lat;e=[[i,l],a,[u,n],[i,n],[i,l]];}return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[e]}}]};}getContainerDOMRect(){var e;return null===(e=this.mapsService.getContainer())||void 0===e?void 0:e.getBoundingClientRect();}getContainerSize(){return this.mapsService.getSize();}getBounds(){return this.mapsService.getBounds();}addLayer(e,t=!1){let r=Array.isArray(e)?e:[e];if(t){let e=this.controlOption.rightLayers.concat(...r);this.setOptions({rightLayers:e});}else{let e=this.controlOption.layers.concat(...r);this.setOptions({layers:e});}}removeLayer(e){let t=Array.isArray(e)?e:[e],r=this.controlOption.layers.filter(e=>t.includes(e)),n=this.controlOption.rightLayers.filter(e=>t.includes(e));this.setOptions({layers:r,rightLayers:n});}removeLayers(){this.setOptions({layers:[],rightLayers:[]});}}},"6acff32c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f627baa5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6ad32491":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("bb915d1b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6af03f4f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("79cf27dc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6afc1106":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f6143726")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6b11917e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("19718cc8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6b18bdce":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{bandsOperation:function(){return v;},processRasterData:function(){return _;}});var n=r("8ed010af"),a=r("df7fdcd8"),i=Object.defineProperty,o=Object.defineProperties,u=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))f.call(t,r)&&c(e,r,t[r]);if(l)for(var r of l(t))s.call(t,r)&&c(e,r,t[r]);return e;},h=(e,t)=>o(e,u(t)),p=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());});function v(e,t,r){return p(this,null,function*(){let i;if(0===e.length)return{rasterData:[0],width:1,heigh:1};let o=yield Promise.all(e.map(({data:e,bands:r=[0]})=>t(e,r))),u=[];o.forEach(e=>{Array.isArray(e)?u.push(...e):u.push(e);});let{width:l,height:f}=u[0];switch(typeof r){case"function":i=r(u);break;case"object":i=Array.isArray(r)?{rasterData:(0,n.calculate)(r,u)}:function(e,t){var r,i;let o=a.operationsSchema[e.type];return"function"===o.type?o.method(t,null==e?void 0:e.options):"operation"===o.type?"rgb"===e.type?(r=o.expression,i=t,void 0===r.r&&console.warn("Channel R lost in Operation! Use band[0] to fill!"),void 0===r.g&&console.warn("Channel G lost in Operation! Use band[0] to fill!"),void 0===r.b&&console.warn("Channel B lost in Operation! Use band[0] to fill!"),[(0,n.calculate)(r.r||["band",0],i),(0,n.calculate)(r.g||["band",0],i),(0,n.calculate)(r.b||["band",0],i)]):{rasterData:(0,n.calculate)(o.expression,t)}:void 0;}(r,u);break;default:i={rasterData:u[0].rasterData};}return h(d({},i),{width:l,height:f});});}function _(e,t,r,n){return p(this,null,function*(){n(null,{data:yield v(e,t,r)});});}},"6b69f940":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("e1e610e4")),u=r("89217383"),l=r("e3b549d7"),f=r("3cc20d34"),s=r("3fb4fdb6"),c=n._(r("83cdc5bc"));class d extends c.default{constructor(...e){var t;super(...e),t=this,(0,o.default)(this,"pickingFBO",void 0),(0,o.default)(this,"layer",void 0),(0,o.default)(this,"width",0),(0,o.default)(this,"height",0),(0,o.default)(this,"alreadyInRendering",!1),(0,o.default)(this,"pickFromPickingFBO",({x:e,y:r,lngLat:n,type:o})=>{let l;if(!this.layer.isVisible()||!this.layer.needPick(o))return;let{getViewportSize:f,readPixelsAsync:s,useFramebuffer:c}=this.rendererService,{width:d,height:h}=f(),{enableHighlight:p,enableSelect:v}=this.layer.getLayerConfig(),_=e*u.DOM.DPR,m=r*u.DOM.DPR;_>d||_<0||m>h||m<0||c(this.pickingFBO,(0,i.default)(function*(){if(0!==(l=yield s({x:Math.round(_),y:Math.round(h-(r+1)*u.DOM.DPR),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]||0!==l[1]||0!==l[2]){let a=(0,u.decodePickingColor)(l),i=t.layer.getSource().getFeatureById(a);i&&(t.layer.setCurrentPickId(a),t.triggerHoverOnLayer({x:e,y:r,type:o,lngLat:n,featureId:a,feature:i}));}else{let i={x:e,y:r,lngLat:n,type:null===t.layer.getCurrentPickId()?"un"+o:"mouseout",featureId:null,feature:null};t.triggerHoverOnLayer((0,a.default)((0,a.default)({},i),{},{type:"unpick"})),t.triggerHoverOnLayer(i),t.layer.setCurrentPickId(null);}p&&t.highlightPickedFeature(l),v&&"click"===o&&(null==l?void 0:l.toString())!==[0,0,0,0].toString()&&t.selectFeature(l);}));});}getType(){return s.PassType.Normal;}getName(){return"pixelPicking";}init(e,t){super.init(e,t),this.layer=e;let{createTexture2D:r,createFramebuffer:n,getViewportSize:a}=this.rendererService,{width:i,height:o}=a(),u=r({width:i,height:o,wrapS:f.gl.CLAMP_TO_EDGE,wrapT:f.gl.CLAMP_TO_EDGE,label:"Picking Texture"});this.pickingFBO=n({color:u}),this.interactionService.on(l.InteractionEvent.Hover,this.pickFromPickingFBO),this.interactionService.on(l.InteractionEvent.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(l.InteractionEvent.Active,this.highlightFeatureHandle.bind(this));}render(e){if(this.alreadyInRendering)return;let{getViewportSize:t,useFramebuffer:r,clear:n}=this.rendererService,{width:a,height:i}=t();this.alreadyInRendering=!0,(this.width!==a||this.height!==i)&&(this.pickingFBO.resize({width:a,height:i}),this.width=a,this.height=i),r(this.pickingFBO,()=>{n({framebuffer:this.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});let t=this.layer.multiPassRenderer.getRenderFlag();this.layer.multiPassRenderer.setRenderFlag(!1),e.hooks.beforePickingEncode.call(),e.render(),e.hooks.afterPickingEncode.call(),this.layer.multiPassRenderer.setRenderFlag(t),this.alreadyInRendering=!1;});}triggerHoverOnLayer(e){this.layer.emit(e.type,e);}highlightPickedFeature(e){let[t,r,n]=e;this.layer.hooks.beforeHighlight.call([t,r,n]),this.layerService.renderLayers();}selectFeature(e){let[t,r,n]=e;this.layer.hooks.beforeSelect.call([t,r,n]),this.layerService.renderLayers();}selectFeatureHandle({featureId:e}){let t=(0,u.encodePickingColor)(e);this.selectFeature(new Uint8Array(t));}highlightFeatureHandle({featureId:e}){let t=(0,u.encodePickingColor)(e);this.highlightPickedFeature(new Uint8Array(t));}}},"6b6c60c9":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("89217383"),u=r("07cf040a"),l=n._(r("b4487bb1"));let{merge:f}=o.lodashUtil,s={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,stencil:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},c={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",maskLayers:[],enableMask:!0,maskOperation:u.MaskOperation.AND,pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",activeMix:0,selectColor:"blue",selectMix:0,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0};class d{constructor(){(0,i.default)(this,"sceneConfigCache",{}),(0,i.default)(this,"layerConfigCache",{}),(0,i.default)(this,"layerAttributeConfigCache",{});}getSceneConfig(e){return this.sceneConfigCache[e];}getSceneWarninfo(e){return l.default[e];}setSceneConfig(e,t){this.sceneConfigCache[e]=(0,a.default)((0,a.default)({},s),t);}getLayerConfig(e){return this.layerConfigCache[e];}setLayerConfig(e,t,r){this.layerConfigCache[t]=(0,a.default)({},f({},this.sceneConfigCache[e],c,r));}getAttributeConfig(e){return this.layerAttributeConfigCache[e];}setAttributeConfig(e,t){this.layerAttributeConfigCache[e]=(0,a.default)((0,a.default)({},this.layerAttributeConfigCache[e]),t);}clean(){this.sceneConfigCache={},this.layerConfigCache={};}}},"6b855cf0":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("4b19d198"));class a extends n.default{setupShaders(){return this.shaderModuleService.registerModule("sepia-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform float u_Amount : 0.5;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js\nvec4 sepia_filterColor(vec4 color) {\n  float r = color.r;\n  float g = color.g;\n  float b = color.b;\n  color.r =\n    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));\n  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));\n  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = sepia_filterColor(gl_FragColor);\n}"}),this.shaderModuleService.getModule("sepia-pass");}}},"6b889f11":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r("896e0d47").createContext)({});t.default=n;},"6bacb7eb":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7c4dbe8a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6c190fce":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f8f5912c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6c5dd051":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=r("7f434d9f"),o=r("89217383"),u=n._(r("6c8aee75")),l=r("d86432b3");class f extends u.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,NORMAL:12});}getCommonUniformsInfo(){let{gapWidth:e=2,strokeWidth:t=1,strokeOpacity:r=1}=this.layer.getLayerConfig();return this.getUniformsBufferInfo({u_gap_width:e,u_stroke_width:t,u_stroke_opacity:r});}initModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return[(yield e.layer.buildLayerModel({moduleName:"flow_line",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\n\nlayout(std140) uniform commonUniorm {\n  float u_gap_width: 1.0;\n  float u_stroke_width: 1.0;\n  float u_stroke_opacity: 1.0;\n};\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nout vec4 v_color;\n\nvec2 project_pixel_offset(vec2 offsets) {\n  vec2 data = project_pixel(offsets);\n\n  return vec2(data.x, -data.y);\n}\n\nvec2 line_dir(vec2 target, vec2 source) {\n  return normalize(ProjectFlat(target) - ProjectFlat(source));\n}\n\n\nvoid main() {\n  // \u900F\u660E\u5EA6\u8BA1\u7B97\n  vec2 source_world = a_Instance.rg; // \u8D77\u70B9\n  vec2 target_world = a_Instance.ba; // \u7EC8\u70B9\n  vec2 flowlineDir = line_dir(target_world, source_world);\n  vec2 perpendicularDir = vec2(-flowlineDir.y, flowlineDir.x);\n\n  vec2 position = mix(source_world, target_world, a_Position.x);\n  vec2 position64Low = mix(a_Instance64Low.rg, a_Instance64Low.ba, a_Position.x);\n\n  float lengthCommon = length(\n    project_position(vec4(target_world, 0, 1)) - project_position(vec4(source_world, 0, 1))\n  );\n  vec2 offsetDistances = a_Size.x * project_pixel_offset(vec2(a_Position.y, a_Position.z)); // Mapbox || \u9AD8\u5FB7\n  vec2 limitedOffsetDistances = clamp(\n    offsetDistances,\n    project_pixel(-lengthCommon * 0.2),\n    project_pixel(lengthCommon * 0.2)\n  );\n\n  float startOffsetCommon = project_pixel(offsets[0]);\n  float endOffsetCommon = project_pixel(offsets[1]);\n  float endpointOffset = mix(\n    clamp(startOffsetCommon, 0.0, lengthCommon * 0.2),\n    -clamp(endOffsetCommon, 0.0, lengthCommon * 0.2),\n    a_Position.x\n  );\n\n  vec2 normalsCommon = u_stroke_width * project_pixel_offset(vec2(a_Normal.x, a_Normal.y));\n\n  float gapCommon = -1. * project_pixel(u_gap_width);\n  vec3 offsetCommon = vec3(\n    flowlineDir * (limitedOffsetDistances[1] + normalsCommon.y + endpointOffset * 1.05) -\n      perpendicularDir * (limitedOffsetDistances[0] + gapCommon + normalsCommon.x),\n    0.0\n  );\n\n  vec4 project_pos = project_position(vec4(position.xy, 0, 1.0), position64Low);\n\n  vec4 fillColor = vec4(a_Color.rgb, a_Color.a * opacity);\n  v_color = mix(fillColor, vec4(u_stroke.xyz, u_stroke.w * fillColor.w * u_stroke_opacity), a_Normal.z);\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy +  offsetCommon.xy, 0., 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'// #extension GL_OES_standard_derivatives : enable\n\nin vec4 v_color;\nout vec4 outputColor;\n\n// line texture\n\n#pragma include "picking"\n\nvoid main() {\n  outputColor = v_color;\n  outputColor = filterColor(outputColor);\n}\n',defines:e.getDefines(),inject:e.getInject(),triangulation:l.FlowLineTriangulation,styleOption:e.layer.getLayerConfig().symbol,primitive:i.gl.TRIANGLES,depth:{enable:!1},pick:!1}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:i.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:2,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0],t[1]]:[t,0];}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:i.AttributeType.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:i.gl.STATIC_DRAW,data:[],type:i.gl.FLOAT},size:4,update:(e,t,r)=>[r[3],r[4],r[5],r[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:i.AttributeType.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:i.gl.STATIC_DRAW,data:[],type:i.gl.FLOAT},size:4,update:(e,t,r)=>[(0,o.fp64LowPart)(r[3]),(0,o.fp64LowPart)(r[4]),(0,o.fp64LowPart)(r[5]),(0,o.fp64LowPart)(r[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:i.AttributeType.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:i.gl.STATIC_DRAW,data:[],type:i.gl.FLOAT},size:3,update:(e,t,r,n,a)=>a}});}}},"6c664baa":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b4a5ad95")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6c817216":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return function e(){var t=(0,o.default)(o.identity,o.identity);return t.copy=function(){return(0,o.copy)(t,e());},u.initRange.apply(t,arguments),f(t);};},linearish:function(){return f;}});var n=r("777fffbe"),a=r("852bbaa9"),i=r("af21b0e3"),o=a._(r("4e33fd57")),u=r("5f49fc8a"),l=n._(r("18291793"));function f(e){var t=e.domain;return e.ticks=function(e){var r=t();return(0,i.ticks)(r[0],r[r.length-1],null==e?10:e);},e.tickFormat=function(e,r){var n=t();return(0,l.default)(n[0],n[n.length-1],null==e?10:e,r);},e.nice=function(r){null==r&&(r=10);var n,a=t(),o=0,u=a.length-1,l=a[o],f=a[u];return f<l&&(n=l,l=f,f=n,n=o,o=u,u=n),(n=(0,i.tickIncrement)(l,f,r))>0?(l=Math.floor(l/n)*n,f=Math.ceil(f/n)*n,n=(0,i.tickIncrement)(l,f,r)):n<0&&(l=Math.ceil(l*n)/n,f=Math.floor(f*n)/n,n=(0,i.tickIncrement)(l,f,r)),n>0?(a[o]=Math.floor(l/n)*n,a[u]=Math.ceil(f/n)*n,t(a)):n<0&&(a[o]=Math.ceil(l*n)/n,a[u]=Math.floor(f*n)/n,t(a)),e;},e;}},"6c8aee75":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return v;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=r("89217383"),f=r("5a262fe8"),s=r("6801f755"),c=r("9eb83a1c"),d=r("f4db3465"),h=r("af24cd70");let p="ATTRIBUTE_LOCATION_";class v{get attributeLocation(){return(0,i.default)({},c.COMMON_ATTRIBUTE_LOCATION);}constructor(e){(0,o.default)(this,"triangulation",void 0),(0,o.default)(this,"uniformBuffers",[]),(0,o.default)(this,"textures",[]),(0,o.default)(this,"createTexture2D",void 0),(0,o.default)(this,"preStyleAttribute",{}),(0,o.default)(this,"encodeStyleAttribute",{}),(0,o.default)(this,"layer",void 0),(0,o.default)(this,"dataTexture",void 0),(0,o.default)(this,"DATA_TEXTURE_WIDTH",void 0),(0,o.default)(this,"dataTextureTest",void 0),(0,o.default)(this,"configService",void 0),(0,o.default)(this,"shaderModuleService",void 0),(0,o.default)(this,"rendererService",void 0),(0,o.default)(this,"iconService",void 0),(0,o.default)(this,"fontService",void 0),(0,o.default)(this,"styleAttributeService",void 0),(0,o.default)(this,"mapService",void 0),(0,o.default)(this,"cameraService",void 0),(0,o.default)(this,"layerService",void 0),(0,o.default)(this,"pickingService",void 0),(0,o.default)(this,"attributeUnifoms",void 0),(0,o.default)(this,"commonUnifoms",void 0),this.layer=e,this.configService=e.getContainer().globalConfigService,this.rendererService=e.getContainer().rendererService,this.pickingService=e.getContainer().pickingService,this.shaderModuleService=e.getContainer().shaderModuleService,this.styleAttributeService=e.getContainer().styleAttributeService,this.mapService=e.getContainer().mapService,this.iconService=e.getContainer().iconService,this.fontService=e.getContainer().fontService,this.cameraService=e.getContainer().cameraService,this.layerService=e.getContainer().layerService,this.registerStyleAttribute(),this.registerBuiltinAttributes(),this.startModelAnimate();let{createTexture2D:t}=this.rendererService;this.createTexture2D=t;}getBlend(){let{blend:e="normal"}=this.layer.getLayerConfig();return f.BlendTypes[u.BlendType[e]];}getStencil(e){let{mask:t=!1,maskInside:r=!0,enableMask:n,maskOperation:a=u.MaskOperation.AND}=this.layer.getLayerConfig();if("MaskLayer"===this.layer.type)return(0,s.getStencilMask)({isStencil:!0,stencilType:u.StencilType.SINGLE});if(e.isStencil)return(0,s.getStencilMask)((0,i.default)((0,i.default)({},e),{},{maskOperation:a}));let o=t||n&&0!==this.layer.masks.length||void 0!==this.layer.tileMask;return(0,s.getStencil)(o,r);}getDefaultStyle(){return{};}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());this.updateStyleUnifoms();let r=(0,i.default)((0,i.default)({},t.uniformsOption),e.uniformsOption);return Object.keys(r).forEach(e=>{"boolean"==typeof r[e]&&(r[e]=r[e]?1:0);}),!this.rendererService.hasOwnProperty("device")&&this.textures&&1===this.textures.length&&(r.u_texture=this.textures[0]),r;}getAnimateUniforms(){return{};}needUpdate(){return(0,a.default)(function*(){return!1;})();}buildModels(){return(0,a.default)(function*(){throw Error("Method not implemented.");})();}initModels(){return(0,a.default)(function*(){throw Error("Method not implemented.");})();}clearModels(e=!0){}getAttribute(){throw Error("Method not implemented.");}prerender(){}render(e){throw Error("Method not implemented.");}registerBuiltinAttributes(){throw Error("Method not implemented.");}animateOption2Array(e){return[e.enable?0:1,e.duration||4,e.interval||.2,e.trailLength||.1];}startModelAnimate(){let{animateOption:e}=this.layer.getLayerConfig();e.enable&&this.layer.setAnimateStartTime();}getInject(){return function(e,t){let r=[],n="";e.forEach(e=>{let a=e.replace(/([a-z])([A-Z])/g,"$1_$2").toUpperCase();t[e]?n+=`#define USE_ATTRIBUTE_${a} 0.0 
`:r.push(`  ${d.DefaultUniformStyleType[e]} u_${e};`),n+=`
#ifdef USE_ATTRIBUTE_${a}
layout(location = ${p+a}) in ${d.DefaultUniformStyleType[e]} a_${e.charAt(0).toUpperCase()+e.slice(1)};
#endif 
`;});let a=r.length?`
layout(std140) uniform AttributeUniforms {
  ${r.join("\n")}
};
`:"";n+=a;let i="";return e.forEach(e=>{let t=e.replace(/([a-z])([A-Z])/g,"$1_$2").toUpperCase();i+=`
  #ifdef USE_ATTRIBUTE_${t}
    ${d.DefaultUniformStyleType[e]} ${e} = a_${e.charAt(0).toUpperCase()+e.slice(1)};
  #else
    ${d.DefaultUniformStyleType[e]} ${e} = u_${e};
  #endif
  `;}),{"vs:#decl":n,"fs:#decl":a,"vs:#main-start":i};}(this.layer.enableShaderEncodeStyles,this.layer.encodeStyleAttribute);}getDefines(){let e=Object.keys(this.attributeLocation).reduce((e,t)=>(e[p+t]=this.attributeLocation[t],e),{});return(0,i.default)({},e);}getStyleAttribute(){let e={};return this.layer.enableShaderEncodeStyles.forEach(t=>{if(!this.layer.encodeStyleAttribute[t]){let r=this.layer.getLayerConfig()[t],n=void 0===r?d.DefaultUniformStyleValue[t]:r;"stroke"===t&&(n=(0,l.rgb2arr)(n)),e["u_"+t]=n;}}),e;}registerStyleAttribute(){Object.keys(this.layer.encodeStyleAttribute).forEach(e=>{let t=(0,c.getCommonStyleAttributeOptions)(e);t&&this.styleAttributeService.registerStyleAttribute(t);});}registerPosition64LowAttribute(e=!0){this.styleAttributeService.registerStyleAttribute({name:"position64Low",type:u.AttributeType.Attribute,descriptor:{name:"a_Position64Low",shaderLocation:this.attributeLocation.POSITION_64LOW,buffer:{data:[],type:u.gl.FLOAT},size:2,update:(t,r,n)=>e?[(0,l.fp64LowPart)(n[0]),(0,l.fp64LowPart)(n[1])]:[0,0]}});}updateEncodeAttribute(e,t){this.encodeStyleAttribute[e]=t;}initUniformsBuffer(){let e=this.getUniformsBufferInfo(this.getStyleAttribute()),t=this.getCommonUniformsInfo();0!==e.uniformsLength&&(this.attributeUnifoms=this.rendererService.createBuffer({data:new Float32Array((0,h.MultipleOfFourNumber)(e.uniformsLength)).fill(0),isUBO:!0,label:"layerModelAttributeUnifoms"}),this.uniformBuffers.push(this.attributeUnifoms)),0!==t.uniformsLength&&(this.commonUnifoms=this.rendererService.createBuffer({data:new Float32Array((0,h.MultipleOfFourNumber)(t.uniformsLength)).fill(0),isUBO:!0,label:"layerModelCommonUnifoms"}),this.uniformBuffers.push(this.commonUnifoms));}getUniformsBufferInfo(e){let t=0,r=[];return Object.values(e).forEach(e=>{Array.isArray(e)?(r.push(...e),t+=e.length):"number"==typeof e?(r.push(e),t+=1):"boolean"==typeof e&&(r.push(Number(e)),t+=1);}),{uniformsOption:e,uniformsLength:t,uniformsArray:r};}getCommonUniformsInfo(){return{uniformsLength:0,uniformsArray:[],uniformsOption:{}};}updateStyleUnifoms(){var e,t;let{uniformsArray:r}=this.getUniformsBufferInfo(this.getStyleAttribute()),{uniformsArray:n}=this.getCommonUniformsInfo();null===(e=this.attributeUnifoms)||void 0===e||e.subData({offset:0,data:new Uint8Array(new Float32Array(r).buffer)}),null===(t=this.commonUnifoms)||void 0===t||t.subData({offset:0,data:new Uint8Array(new Float32Array(n).buffer)});}}},"6cb86112":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e5d389d4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6d2c7569":function(e,t,r){"use strict";function n(e,t){let{callback:r}=t;return r&&(e.dataArray=e.dataArray.map(r)),e;}r.d(t,"__esModule",{value:!0}),r.d(t,"map",{enumerable:!0,get:function(){return n;}});},"6d3b5416":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{format:function(){return a.format;},formatPrefix:function(){return a.formatPrefix;},formatSpecifier:function(){return i.default;},precisionFixed:function(){return o.default;},precisionPrefix:function(){return u.default;},precisionRound:function(){return l.default;}});var n=r("777fffbe"),a=r("b87c2d68"),i=n._(r("eec12030")),o=n._(r("d25d8226")),u=n._(r("a3909796")),l=n._(r("c8dd5015"));},"6d58f141":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a58208aa")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6d9d1e93":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("00b7ecde")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6daadc11":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fd75c950")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6db3a7f2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2eb61b17")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6dcd8842":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("58577e4e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6dd50fef":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("b38ee420");function a(e){return(e=(0,n.formatDecimalParts)(Math.abs(e)))?e[1]:NaN;}},"6dd88488":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5a7b5ed4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6def26ee":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c721b66c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6e3462dc":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("defd313e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6e4f938f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9ff4455d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6e9b2640":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9fe17ee6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6f21f217":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{buildIconMaping:function(){return i;},buildMapping:function(){return a;},nextPowOfTwo:function(){return u;}});var n=r("777fffbe")._(r("b9fd3c65"));function a({characterSet:e,getFontWidth:t,fontHeight:r,buffer:n,maxCanvasWidth:a,mapping:i={},xOffset:o=0,yOffset:l=0}){let f=0,s=o;Array.from(e).forEach((e,r)=>{if(!i[e]){let n=t(e,r);s+30>a&&(s=0,f++),i[e]={x:s,y:l+30*f,width:30,height:30,advance:n},s+=30;}});let c=r+2*n;return{mapping:i,xOffset:s,yOffset:l+f*c,canvasHeight:u(l+(f+1)*c)};}function i(e,t,r){let n=0,a=0,i=0,l=[],f={};for(let u of e)if(!f[u.id]){let{size:e}=u;n+e+t>r&&(o(f,l,a),n=0,a=i+a+t,i=0,l=[]),l.push({icon:u,xOffset:n}),n=n+e+t,i=Math.max(i,e);}return l.length>0&&o(f,l,a),{mapping:f,canvasHeight:u(i+a+t)};}function o(e,t,r){for(let a of t){let{icon:t,xOffset:i}=a;e[t.id]=(0,n.default)((0,n.default)({},t),{},{x:i,y:r,image:t.image,width:t.width,height:t.height});}}function u(e){return Math.pow(2,Math.ceil(Math.log2(e)));}},"6f39512d":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{format:function(){return a.format;},formatPrefix:function(){return a.formatPrefix;},formatSpecifier:function(){return i.default;},precisionFixed:function(){return o.default;},precisionPrefix:function(){return u.default;},precisionRound:function(){return l.default;}});var n=r("777fffbe"),a=r("c9b3823a"),i=n._(r("4ff59e0e")),o=n._(r("69c433b2")),u=n._(r("aca3e9eb")),l=n._(r("531bb2b9"));},"6f3a1b4c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("01748428")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6f5f7058":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9b6b7afb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"6fe8650b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("af074c59")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"705e704e":function(e,t,r){},"705f29ca":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("f66a4384"));function a(e,t){var r,a={},i={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?a[r]=(0,n.default)(e[r],t[r]):i[r]=t[r];return function(e){for(r in a)i[r]=a[r](e);return i;};}},70852180:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1da36643")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"708c598b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7fb616f1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"70b33b2a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4a738b2e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"70e2dcc0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c281f863")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"70f1000a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"SourceTile",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe")._(r("c4f922a7")),a=r("f97327bf"),i=r("dda56150"),o=r("d2dd39ef"),u=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),l=class extends a.EventEmitter{constructor(e){super(),this.tileSize=256,this.isVisible=!1,this.isCurrent=!1,this.isVisibleChange=!1,this.loadedLayers=0,this.isLayerLoaded=!1,this.isLoad=!1,this.isChildLoad=!1,this.parent=null,this.children=[],this.data=null,this.properties={},this.loadDataId=0;let{x:t,y:r,z:n,tileSize:a,warp:i=!0}=e;this.x=t,this.y=r,this.z=n,this.warp=i||!0,this.tileSize=a;}get isLoading(){return this.loadStatus===i.LoadTileDataStatus.Loading;}get isLoaded(){return this.loadStatus===i.LoadTileDataStatus.Loaded;}get isFailure(){return this.loadStatus===i.LoadTileDataStatus.Failure;}setTileLayerLoaded(){this.isLayerLoaded=!0;}get isCancelled(){return this.loadStatus===i.LoadTileDataStatus.Cancelled;}get isDone(){return[i.LoadTileDataStatus.Loaded,i.LoadTileDataStatus.Cancelled,i.LoadTileDataStatus.Failure].includes(this.loadStatus);}get bounds(){return(0,o.tileToBounds)(this.x,this.y,this.z);}get bboxPolygon(){let[e,t,r,a]=this.bounds;return(0,n.default)(this.bounds,{properties:{key:this.key,id:this.key,bbox:this.bounds,center:[(r-e)/2,(a-t)/2],meta:`
      ${this.key}
      `}});}get key(){return`${this.x}_${this.y}_${this.z}`;}layerLoad(){this.loadedLayers++,this.emit("layerLoaded");}loadData(e){return u(this,arguments,function*({getData:e,onLoad:t,onError:r}){let n;this.loadDataId++;let a=this.loadDataId;this.isLoading&&this.abortLoad(),this.abortController=new AbortController,this.loadStatus=i.LoadTileDataStatus.Loading;let u=null;try{let{x:t,y:r,z:n,bounds:a,tileSize:i,warp:l}=this,{warpX:f,warpY:s}=(0,o.getTileWarpXY)(t,r,n,l),{signal:c}=this.abortController;u=yield e({x:f,y:s,z:n,bounds:a,tileSize:i,signal:c,warp:l},this);}catch(e){n=e;}if(a===this.loadDataId&&(!this.isCancelled||u)){if(n||!u){this.loadStatus=i.LoadTileDataStatus.Failure,r(n,this);return;}this.loadStatus=i.LoadTileDataStatus.Loaded,this.data=u,t(this);}});}reloadData(e){this.isLoading&&this.abortLoad(),this.loadData(e);}abortLoad(){this.isLoaded||this.isCancelled||(this.loadStatus=i.LoadTileDataStatus.Cancelled,this.abortController.abort(),this.xhrCancel&&this.xhrCancel());}};},"710f846f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("02cbfb6d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7126f5b4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("18e1daf6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"717ed89c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("d1751d7c")._(r("ee129b8e"),t);},"71ba3a17":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return f;},rgbBasis:function(){return c;},rgbBasisClosed:function(){return d;}});var n=r("777fffbe"),a=r("852bbaa9"),i=r("132a6da3"),o=n._(r("97b5ef72")),u=n._(r("3a95bf02")),l=a._(r("a8448745")),f=function e(t){var r=(0,l.gamma)(t);function n(e,t){var n=r((e=(0,i.rgb)(e)).r,(t=(0,i.rgb)(t)).r),a=r(e.g,t.g),o=r(e.b,t.b),u=(0,l.default)(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=o(t),e.opacity=u(t),e+"";};}return n.gamma=e,n;}(1);function s(e){return function(t){var r,n,a=t.length,o=Array(a),u=Array(a),l=Array(a);for(r=0;r<a;++r)n=(0,i.rgb)(t[r]),o[r]=n.r||0,u[r]=n.g||0,l[r]=n.b||0;return o=e(o),u=e(u),l=e(l),n.opacity=1,function(e){return n.r=o(e),n.g=u(e),n.b=l(e),n+"";};};}var c=s(o.default),d=s(u.default);},"7205671e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cfa55813")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7211c640":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1cf64eab")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},72311674:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("eef5cf26")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"72540b09":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("09363c6b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"72c444cf":function(e,t,r){e.exports.VectorTile=r("c6da2991"),e.exports.VectorTileFeature=r("00d4b220"),e.exports.VectorTileLayer=r("444e4caa");},"72ddd429":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8bb183c6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"731aa3a9":function(e,t,r){"use strict";function n(e){return e.map(e=>("string"==typeof e&&(e=[e,{}]),e));}function a(e,t,r,a){let i=e.multiPassRenderer;return i.add(a("render")),n(t).forEach(e=>{let[t,n]=e;i.add(r(t),n);}),i.add(r("copy")),i;}r.d(t,"__esModule",{value:!0}),r.e(t,{createMultiPassRenderer:function(){return a;},normalizePasses:function(){return n;}});},"732edd35":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2eb56e3b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"73318c43":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2da5922f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"734ba2b4":function(e,t,r){"use strict";function n(e,t){return{type:e.type,field:"value",items:e.positions.map((r,n)=>({[t]:n>=e.colors.length?null:e.colors[n],value:r}))};}r.d(t,"__esModule",{value:!0}),r.d(t,"rampColor2legend",{enumerable:!0,get:function(){return n;}});},73975725:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{AJAXError:function(){return p;},formatImage:function(){return M;},getArrayBuffer:function(){return b;},getData:function(){return E;},getImage:function(){return R;},getJSON:function(){return g;},getProtocolAction:function(){return h;},makeXMLHttpRequestPromise:function(){return _;},postData:function(){return y;},sameOrigin:function(){return T;}});var n=r("eebee751"),a=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&s(e,r,t[r]);if(u)for(var r of u(t))f.call(t,r)&&s(e,r,t[r]);return e;},d=(e,t)=>i(e,o(t)),h=e=>n.SceneConifg.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf("://"))],p=class extends Error{constructor(e,t,r,n){super(`AJAXError: ${t} (${e}): ${r}`),this.status=e,this.statusText=t,this.url=r,this.body=n;}};function v(e,t){let r=new XMLHttpRequest,n=Array.isArray(e.url)?e.url[0]:e.url;for(let t in r.open(e.method||"GET",n,!0),"arrayBuffer"===e.type&&(r.responseType="arraybuffer"),e.headers)e.headers.hasOwnProperty(t)&&r.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials="include"===e.credentials,r.onerror=()=>{t(Error(r.statusText));},r.onload=()=>{if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){let n=r.response;if("json"===e.type)try{n=JSON.parse(r.response);}catch(e){return t(e);}t(null,n,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"),r);}else{let e=new Blob([r.response],{type:r.getResponseHeader("Content-Type")});t(new p(r.status,r.statusText,n.toString(),e));}},r.cancel=r.abort,r.send(e.body),r;}function _(e){return new Promise((t,r)=>{v(e,(e,n,a,i,o)=>{e?r({err:e,data:null,xhr:o}):t({err:null,data:n,cacheControl:a,expires:i,xhr:o});});});}function m(e,t){return v(e,t);}var g=(e,t)=>(h(e.url)||m)(d(c({},e),{type:"json"}),t),b=(e,t)=>(h(e.url)||m)(d(c({},e),{type:"arrayBuffer"}),t),y=(e,t)=>v(d(c({},e),{method:"POST"}),t),E=(e,t)=>v(d(c({},e),{method:"GET"}),t);function T(e){let t=window.document.createElement("a");return t.href=e,t.protocol===window.document.location.protocol&&t.host===window.document.location.host;}var A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function S(e,t){let r=new window.Image,n=window.URL||window.webkitURL;r.crossOrigin="anonymous",r.onload=()=>{t(null,r),n.revokeObjectURL(r.src),r.onload=null,window.requestAnimationFrame(()=>{r.src=A;});},r.onerror=()=>t(Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));let a=new Blob([new Uint8Array(e)],{type:"image/png"});r.src=e.byteLength?n.createObjectURL(a):A;}function O(e,t){createImageBitmap(new Blob([new Uint8Array(e)],{type:"image/png"})).then(e=>{t(null,e);}).catch(e=>{t(Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`));});}var R=(e,t,r)=>{let n=(e,n)=>{if(e)t(e);else if(n){let e="function"==typeof createImageBitmap,a=r?r(n):n;e?O(a,t):S(a,t);}};return"json"===e.type?g(e,n):b(e,n);},M=(e,t)=>{"function"==typeof createImageBitmap?O(e,t):S(e,t);};},"739c3714":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{isTileGroup:function(){return a;},tileVectorParser:function(){return n;}});let n=["mvt","geojsonvt","testTile"];function a(e){let t=e.getSource();return n.includes(t.parser.type);}},"741a46d7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9cbbcac1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"74219e25":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("6c8aee75")),f=r("f9b12b3c");class s extends l.default{constructor(...e){super(...e),(0,i.default)(this,"texture",void 0),(0,i.default)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return;}this.texture=e({data:this.iconService.getCanvas(),mag:o.gl.NEAREST,min:o.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture];});}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:12,UV:13,DISTANCE_MITER_TOTAL:15});}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:r="normal",heightfixed:n=!1,lineTexture:a=!1,iconStep:i=100,iconStepCount:o=1}=this.layer.getLayerConfig(),{animateOption:l}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var f;null===(f=this.texture)||void 0===f||f.bind();}let s=0,c=[0,0,0,0],d=[0,0,0,0];e&&t&&(c=(0,u.rgb2arr)(e),d=(0,u.rgb2arr)(t),s=1);let h={u_animate:this.animateOption2Array(l),u_sourceColor:c,u_targetColor:d,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:i,u_heightfixed:Number(n),u_linearColor:s,u_line_texture:a?1:0,u_textureBlend:"normal"===r?0:1,u_iconStepCount:o,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(h);}initModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels();})();}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture);}buildModels(){var e=this;return(0,a.default)(function*(){return[(yield e.layer.buildLayerModel({moduleName:"lineWall",vertexShader:'#define Animate 0.0\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\nlayout(location = ATTRIBUTE_LOCATION_DISTANCE_MITER_TOTAL) in vec3 a_Distance_Total_Miter;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_icon_step: 100;\n  float u_heightfixed;\n  float u_linearColor: 0;\n  float u_line_texture;\n  float u_textureBlend;\n  float u_iconStepCount;\n  float u_time;\n};\n\n// texV \u7EBF\u56FE\u5C42 - \u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\uFF08\u7EBF\u7684\u5BBD\u5EA6\u65B9\u5411\uFF09\nout vec2 v_iconMapUV;\nout vec4 v_color;\nout float v_blur;\nout vec4 v_dataset;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  float a_Distance = a_Distance_Total_Miter.x;\n  float a_Miter = a_Distance_Total_Miter.y;\n  float a_Total_Distance = a_Distance_Total_Miter.z;\n\n  float d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B\n  float d_texPixelLen; // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E\n\n  v_iconMapUV = a_iconMapUV;\n  if (u_heightfixed < 1.0) {\n    // \u9AD8\u5EA6\u968F zoom \u8C03\u6574\n    d_texPixelLen = project_pixel(u_icon_step);\n  } else {\n    d_texPixelLen = u_icon_step;\n  }\n\n  if (u_animate.x == Animate || u_linearColor == 1.0) {\n    d_distance_ratio = a_Distance / a_Total_Distance;\n  }\n\n  float miter = (a_Miter + 1.0) / 2.0;\n  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570\n  v_dataset[0] = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B\n  v_dataset[1] = a_Distance; // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB\n  v_dataset[2] = d_texPixelLen; // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E\n  v_dataset[3] = miter; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C 0 - 1\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);\n\n  float originSize = a_Size.x; // \u56FA\u5B9A\u9AD8\u5EA6\n  if (u_heightfixed < 1.0) {\n    originSize = project_float_meter(a_Size.x); // \u9AD8\u5EA6\u968F zoom \u8C03\u6574\n  }\n\n  float wallHeight = originSize * miter;\n  float lightWeight = calc_lighting(vec4(project_pos.xy, wallHeight, 1.0));\n\n  v_blur = min(project_float_pixel(2.0) / originSize, 0.05);\n  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);\n\n  // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // mapbox\n    // \u4FDD\u6301\u9AD8\u5EA6\u76F8\u5BF9\u4E0D\u53D8\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n    if (u_heightfixed > 0.0) {\n      wallHeight *= mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, wallHeight, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'#define Animate 0.0\n#define LineTexture 1.0\n\n// line texture\n\nuniform sampler2D u_texture;\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_icon_step: 100;\n  float u_heightfixed;\n  float u_linearColor: 0;\n  float u_line_texture;\n  float u_textureBlend;\n  float u_iconStepCount;\n  float u_time;\n};\n\n\nin vec2 v_iconMapUV;\nin vec4 v_color;\nin float v_blur;\nin vec4 v_dataset;\n\nout vec4 outputColor;\n\n#pragma include "picking"\n\nvoid main() {\n  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6\n  float d_distance_ratio = v_dataset.r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B\n  float v = v_dataset.a;\n\n  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272\n    outputColor = mix(u_sourceColor, u_targetColor, v);\n  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272\n     outputColor = v_color;\n  }\n\n  outputColor.a *= v_color.a; // \u5168\u5C40\u900F\u660E\u5EA6\n  if(u_animate.x == Animate) {\n      animateSpeed = u_time / u_animate.y;\n       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\n      alpha = smoothstep(0., 1., alpha);\n      outputColor.a *= alpha;\n  }\n\n  if(u_line_texture == LineTexture) { // while load texture\n    float aDistance = v_dataset.g;      // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB\n    float d_texPixelLen = v_dataset.b;  // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E\n    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);\n    float v = v_dataset.a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C\n\n    // \u8BA1\u7B97\u7EB9\u7406\u95F4\u9694 start\n    float flag = 0.0;\n    if(u > 1.0/u_iconStepCount) {\n      flag = 1.0;\n    }\n    u = fract(u*u_iconStepCount);\n    // \u8BA1\u7B97\u7EB9\u7406\u95F4\u9694 end\n\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\n\n    // Tip: \u5224\u65AD\u7EB9\u7406\u95F4\u9694\n    if(flag > 0.0) {\n      pattern = vec4(0.0);\n    }\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      outputColor = filterColor(outputColor + pattern);\n    } else { // replace\n        pattern.a *= v_color.a;\n        if(outputColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        outputColor = filterColor(pattern);\n    }\n  }\n\n\n  // blur - AA\n  if(v < v_blur) {\n    outputColor.a = mix(0.0, outputColor.a, v/v_blur);\n  } else if(v > 1.0 - v_blur) {\n    outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - v_blur))/v_blur);\n  }\n\n  outputColor = filterColor(outputColor);\n}\n',triangulation:f.LineTriangulation,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},blend:e.getBlend()}))];})();}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:o.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0],t[1]]:[t,0];}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:o.AttributeType.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:(e,t,r,n,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"distanceAndTotalAndMiter",type:o.AttributeType.Attribute,descriptor:{name:"a_Distance_Total_Miter",shaderLocation:this.attributeLocation.DISTANCE_MITER_TOTAL,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:(e,t,r)=>[r[3],r[4],r[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:o.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:r}=e,{x:n,y:a}=t[r]||{x:0,y:0};return[n,a];}}});}}},"74315a66":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("57f1f7f7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7465ee93":function(e,t,r){"use strict";function n(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r;};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"747b5bf8":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("00659dca")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"74975ba4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("caa5d7b6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"74e9b845":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6cb11211")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7501a074":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=r("7f434d9f"),o=r("89217383"),u=n._(r("6c8aee75")),l=r("f9b12b3c");let{isNumber:f}=o.lodashUtil;class s extends u.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,NORMAL:9,UV:10});}getCommonUniformsInfo(){let{opacity:e=1}=this.layer.getLayerConfig(),t={u_opacity:f(e)?e:1};return this.getUniformsBufferInfo(t);}initModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),e.buildModels();})();}clearModels(){return"";}buildModels(){var e=this;return(0,a.default)(function*(){return e.layer.zIndex=-997,[(yield e.layer.buildLayerModel({moduleName:"earthAtmoSphere",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n float u_opacity;\n};\n\n#pragma include "scene_uniforms"\nout vec3 vVertexNormal;\nout vec4 v_Color;\nout float v_offset;\n\nvoid main() {\n    float EARTH_RADIUS = 100.0;\n\n    v_Color = a_Color;\n\n    v_offset = min(((length(u_CameraPosition) - EARTH_RADIUS)/600.0) * 0.5 + 0.4, 1.0);\n    vVertexNormal = a_Normal;\n\n    gl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);\n}\n',fragmentShader:'layout(std140) uniform commonUniforms {\n  float u_opacity;\n};\nin vec3 vVertexNormal;\nin float v_offset;\nin vec4 v_Color;\n\n#pragma include "scene_uniforms"\nout vec4 outputColor;\nvoid main() {\n  // float intensity = pow(0.5 + dot(normalize(vVertexNormal), normalize(u_CameraPosition)), 3.0);\n  float intensity = pow(v_offset + dot(normalize(vVertexNormal), normalize(u_CameraPosition)), 3.0);\n  // \u53BB\u9664\u80CC\u9762\n  if (intensity > 1.0) intensity = 0.0;\n\n  outputColor = vec4(v_Color.rgb, v_Color.a * intensity * u_opacity);\n}\n',defines:e.getDefines(),triangulation:l.earthTriangulation,depth:{enable:!1},blend:e.getBlend()}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:i.AttributeType.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:i.gl.STATIC_DRAW,data:[],type:i.gl.FLOAT},size:3,update:(e,t,r,n,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:i.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}});}}},"7514043a":function(e,t,r){"use strict";var n=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0});var a={IconProvider:!0,createFromIconfontCN:!0};t.IconProvider=void 0,Object.defineProperty(t,"createFromIconfontCN",{enumerable:!0,get:function(){return l.default;}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f.default;}});var i=n(r("6b889f11")),o=r("ddc9a5d2");Object.keys(o).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e];}}));});var u=r("eaa6a05d");Object.keys(u).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(a,e))&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e];}}));});var l=n(r("295ba466")),f=n(r("6986045b"));t.IconProvider=i.default.Provider;},"751f8401":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("305187e8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"753b0e87":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("aef3738c")),u=r("ddf10ed6");class l extends o.default{initTileLayer(){var e=this;return(0,i.default)(function*(){let t=e.parent.getLayerAttributeConfig(),r=e.getLayerOptions(),n=(0,u.getTileLayer)(e.parent.type),i=e.getSourceOption();if(!i){e.isLoaded=!0,e.emit("loaded");return;}let o=new n((0,a.default)({},r)).source(i.data,i.options);Object.keys(t).forEach(e=>{var r,n;o[e](null===(r=t[e])||void 0===r?void 0:r.field,null===(n=t[e])||void 0===n?void 0:n.values);}),yield e.addLayer(o),r.tileMask&&(yield e.addTileMask()),e.setLayerMinMaxZoom(o),e.isLoaded=!0,e.emit("loaded");})();}getSourceOption(){let e=this.parent.getSource(),{sourceLayer:t="defaultLayer",featureId:r="id"}=this.parent.getLayerConfig();return{data:{type:"FeatureCollection",features:this.getFeatures(t)},options:{parser:{type:"geojson",featureId:r},transforms:e.transforms}};}setLayerMinMaxZoom(e){"text"===e.getModelType()&&e.updateLayerConfig({maxZoom:this.z+1,minZoom:this.z-1});}getFeatures(e){return this.sourceTile.data.getTileData(e);}getFeatureById(e){let t=this.getMainLayer();return t?t.getSource().data.dataArray.filter(t=>t._id===e):[];}}},"754d0a8c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{circleArraw:function(){return c;},classicArrow:function(){return s;},diamondArrow:function(){return f;},getSymbol:function(){return h;},halfTriangleArrow:function(){return o;},lineArrowPath:function(){return d;},rectArrow:function(){return l;},triangleArrow:function(){return u;}});var n=r("777fffbe")._(r("fc143ea6")),a=r("a0d5e158");let i={circle:2,triangle:2,diamond:4,rect:2,classic:3,halfTriangle:2,none:0};function o(e,t){let{width:r=2,height:n=1}=t;return{vertices:[0,.5*e,1*e*r,-(n+.5)*e,1*e*r,(n-.5)*e,0,.5*e,1*e*r,-(n+.5)*e,1*e*r,(n-.5)*e],indices:[3,4,5],outLineIndices:[0,1,2],normals:[1*e,-2*e,1,-2*e,1.5*e,1,1*e,1.5*e,1,0,0,0,0,0,0,0,0,0],dimensions:2};}function u(e,t){let{width:r=2,height:n=3}=t;return{vertices:[0,0,1*e*r,1*n,1*e*r,-1*n,0,0,1*e*r,1*n,1*e*r,-1*n],outLineIndices:[0,1,2],indices:[3,4,5],normals:[0,-1.5*e,1,2,1*e,1,-2,1*e,1,0,0,0,0,0,0,0,0,0],dimensions:2};}function l(e,t){let{width:r=2,height:n=2}=t;return{vertices:[0,n/2,e*r*1,n/2,e*r*1,-n/2,0,-n/2,0,n/2,e*r*1,n/2,e*r*1,-n/2,0,-n/2],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]};}function f(e,t){let{width:r=2,height:n=3}=t;return{vertices:[0,0,1*r*e,.5*n,2*r*e,0,1*r*e,-.5*n,0,0,1*r*e,.5*n,2*r*e,0,1*r*e,-.5*n],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]};}function s(e,t){let{width:r=2,height:n=3}=t;return{vertices:[0,0,2*e*r,1*n,1.5*e*r,0,2*e*r,-1*n,0,0,2*e*r,1*n,1.5*e*r,0,2*e*r,-1*n],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]};}function c(e,t){let{width:r=2,height:i=2}=t,o=(0,a.circle)(),u=n.default.flatten([o]),l=(0,n.default)(u.vertices,u.holes,u.dimensions),f=o.map(t=>[t[0]*r*e,t[1]*i]).flat();return{vertices:[...f,...f],dimensions:2,indices:l.map(e=>e+o.length),outLineIndices:l,normals:[...o.map(t=>[t[1]*i,t[0]*r*e,1]).flat(),...Array(3*o.length).fill(0)]};}function d(e,t=0,r){let n="object"==typeof r.source?r.source.type:r.source,a="object"==typeof r.target?r.target.type:r.target,{width:o=n?i[n]:0}="object"==typeof r.source?r.source:{},{width:u=a?i[a]:0}="object"==typeof r.target?r.target:{};return{vertices:[0,.5,1*o,...e,1,.5,-1*u,...e,1,-.5,-1*u,...e,0,-.5,1*o,...e,0,.5,1*o,...e,1,.5,-1*u,...e,1,-.5,-1*u,...e,0,-.5,1*o,...e],outLineIndices:[0,1,2,0,2,3].map(e=>e+t),indices:[4,5,6,4,6,7].map(e=>e+t),normals:[1,-1,1,1,1,1,-1,0,1,-1,0,1,0,0,0,0,0,0,0,0,0,0,0,0],dimensions:2};}function h(e,t){let r="object"==typeof e?e.type:e,n="source"===t?1:-1,a="object"==typeof e?e:{};switch(r){case"circle":return c(n,a);case"triangle":return u(n,a);case"diamond":return f(n,a);case"rect":return l(n,a);case"classic":return s(n,a);case"halfTriangle":return o(n,a);default:return{vertices:[],indices:[],normals:[],dimensions:2,outLineIndices:[],outLineNormals:[]};}}},"7596677a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return v;}});var n=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,f=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&f(e,r,t[r]);if(o)for(var r of o(t))l.call(t,r)&&f(e,r,t[r]);return e;},c=(e,t)=>a(e,i(t)),d=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),h={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0},p=e=>d(void 0,null,function*(){return new Promise(t=>{let[r,n,a,i]=e.bounds;t({layers:{testTile:{features:[{type:"Feature",properties:{key:e.x+"/"+e.y+"/"+e.z,x:(r+a)/2,y:(n+i)/2},geometry:{type:"LineString",coordinates:[[a,i],[a,n],[r,n],[r,n]]}}]}}});});});function v(e,t){return{data:e,dataArray:[],tilesetOptions:c(s(s({},h),t),{getTileData:e=>p(e)}),isTile:!0};}},"75a0d701":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("69a8e943")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"760e9635":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("57935ebf")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7628e89d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9aaf123c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},76428223:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ec8622ff")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"76983c75":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a5bd26b6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"76e7a1ac":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3782e612")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7726797c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7da8c9e4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7745097c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("01414123")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"775da31a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3a7d136c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7769ca39":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a5b7d357")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7777c526":function(e,t,r){"use strict";function n(e,t){let{callback:r}=t;return r&&(e.dataArray=e.dataArray.filter(r)),e;}r.d(t,"__esModule",{value:!0}),r.d(t,"filter",{enumerable:!0,get:function(){return n;}});},"7808b36c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b909d759")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7823d02e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"greatCircleLineAtOffset",{enumerable:!0,get:function(){return a;}});var n=r("3e649c46");function a(e,t,r,i,o=30,u){let l=r;return u&&(l=Math.round(29*r)/29),function(e,t,r){let a=[(0,n.degreesToRadians)(e[0]),(0,n.degreesToRadians)(e[1])],i=[(0,n.degreesToRadians)(t[0]),(0,n.degreesToRadians)(t[1])],o=function(e,t){let r=[e[0]-t[0],e[1]-t[1]],n=[Math.sin(r[0]/2),Math.sin(r[1]/2)],a=n[1]*n[1]+Math.cos(e[1])*Math.cos(t[1])*n[0]*n[0];return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));}(a,i);if(.001>Math.abs(o-Math.PI))return[(1-r)*a[0]+r*i[0],(1-r)*a[1]+r*i[1]];let u=Math.sin((1-r)*o)/Math.sin(o),l=Math.sin(r*o)/Math.sin(o),f=[Math.sin(a[0]),Math.sin(a[1])],s=[Math.cos(a[0]),Math.cos(a[1])],c=[Math.sin(i[0]),Math.sin(i[1])],d=[Math.cos(i[0]),Math.cos(i[1])],h=u*s[1]*s[0]+l*d[1]*d[0],p=u*s[1]*f[0]+l*d[1]*c[0],v=u*f[1]+l*c[1];return[(0,n.radiansToDegrees)(Math.atan2(p,h)),(0,n.radiansToDegrees)(Math.atan2(v,Math.sqrt(h*h+p*p)))];}(e,t,l);}},"783f6c0f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c921a190")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"78dc401a":function(e,t,r){"use strict";function n(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r;};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"78f293f4":function(e,t,r){"use strict";var n;r.d(t,"__esModule",{value:!0}),r.e(t,{CoordinateSystem:function(){return a;},CoordinateUniform:function(){return i;}});let a=((n={})[n.LNGLAT=1]="LNGLAT",n[n.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",n[n.VECTOR_TILE=3]="VECTOR_TILE",n[n.IDENTITY=4]="IDENTITY",n[n.METER_OFFSET=5]="METER_OFFSET",n),i={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter",RelativeOrigin:"u_RelativeOrigin"};},"78f59ac9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("615e7b89")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"791530e0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cf019bc1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"79cb8b44":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("561f3b3b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"79d342a7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("394f31fe")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"79dbb018":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1037d9be")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"79f6d739":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe"),a=n._(r("dd202496")),i=n._(r("acffd71d"));function o(e,t){var r=t.buffer/t.extent,n=e,i=(0,a.default)(e,1,-1-r,r,0,-1,2,t),o=(0,a.default)(e,1,1-r,2+r,0,-1,2,t);return(i||o)&&(n=(0,a.default)(e,1,-r,1+r,0,-1,2,t)||[],i&&(n=u(i,1).concat(n)),o&&(n=n.concat(u(o,-1)))),n;}function u(e,t){for(var r=[],n=0;n<e.length;n++){var a,o=e[n],u=o.type;if("Point"===u||"MultiPoint"===u||"LineString"===u)a=l(o.geometry,t);else if("MultiLineString"===u||"Polygon"===u){a=[];for(var f=0;f<o.geometry.length;f++)a.push(l(o.geometry[f],t));}else if("MultiPolygon"===u)for(f=0,a=[];f<o.geometry.length;f++){for(var s=[],c=0;c<o.geometry[f].length;c++)s.push(l(o.geometry[f][c],t));a.push(s);}r.push((0,i.default)(o.id,u,a,o.tags));}return r;}function l(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r;}},"7a17cb90":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("902ae5c2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7a4671ae":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1015cc8e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7a4e518e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"IDebugLog",{enumerable:!0,get:function(){return n;}});var n={MapInitStart:"mapInitStart",LayerInitStart:"layerInitStart",LayerInitEnd:"layerInitEnd",SourceInitStart:"sourceInitStart",SourceInitEnd:"sourceInitEnd",ScaleInitStart:"scaleInitStart",ScaleInitEnd:"scaleInitEnd",MappingStart:"mappingStart",MappingEnd:"mappingEnd",BuildModelStart:"buildModelStart",BuildModelEnd:"buildModelEnd"};},"7a5ce9d2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5d9219bf")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7a88fb8a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7be21269")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7abfcd43":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c7377d7c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7af874f3":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=r("89217383"),o=n._(r("4b19d198"));let{isNil:u}=i.lodashUtil;class l extends o.default{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n",fs:"varying vec2 v_UV;\n\nuniform float u_BloomFinal: 0.0;\nuniform sampler2D u_Texture;\nuniform sampler2D u_Texture2;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_radius: 5.0;\nuniform float u_intensity: 0.3;\nuniform float u_baseRadio: 0.5;\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nfloat luminance(vec4 color) {\n  return  0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;\n}\n\nvoid main() {\n  // vec4 baseColor = texture2D(u_Texture, v_UV);\n\n  float r = sqrt(u_radius);\n\n  vec4 c1 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(u_radius, 0.0));\n  // c1 *= luminance(c1);\n  vec4 c2 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(0.0, u_radius));\n  // c2 *= luminance(c2);\n  vec4 c3 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, r));\n  // c3 *= luminance(c3);\n  vec4 c4 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, -r));\n  // c4 *= luminance(c4);\n  vec4 inbloomColor = (c1 + c2 + c3 + c4) * 0.25;\n\n  // float lum = luminance(inbloomColor);\n  // inbloomColor.rgb *= lum;\n\n  if(u_BloomFinal > 0.0) {\n    vec4 baseColor = texture2D(u_Texture2, v_UV);\n    float baselum = luminance(baseColor);\n    gl_FragColor = mix(inbloomColor, baseColor, u_baseRadio);\n    if(baselum <= 0.2) {\n      gl_FragColor = inbloomColor * u_intensity;\n    }\n  } else {\n    gl_FragColor = inbloomColor;\n  }\n}"});let{vs:e,fs:t,uniforms:r}=this.shaderModuleService.getModule("blur-pass"),{width:n,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,a.default)((0,a.default)({},r),{},{u_ViewportSize:[n,i]})};}convertOptionsToUniforms(e){let t={};return u(e.bloomRadius)||(t.u_radius=e.bloomRadius),u(e.bloomIntensity)||(t.u_intensity=e.bloomIntensity),u(e.bloomBaseRadio)||(t.u_baseRadio=e.bloomBaseRadio),t;}}},"7b2413ce":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"TileSourceService",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=r("852bbaa9"),i=n._(r("b9fd3c65")),o=a._(r("3e649c46")),u=n._(r("d2f415ac"));class l{getCombineFeature(e){let t=null,r=e[0];return e.map(e=>{let r=o.polygon(e.coordinates);t=null===t?r:(0,u.default)(t,r);}),r&&(t.properties=(0,i.default)({},r)),t;}}},"7b7b94b4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("11c0620c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7b9209ec":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return function e(){var t,r=[.5],o=[0,1],u=1;function l(e){return e<=e?o[(0,n.bisect)(r,e,0,u)]:t;}return l.domain=function(e){return arguments.length?(u=Math.min((r=a.slice.call(e)).length,o.length-1),l):r.slice();},l.range=function(e){return arguments.length?(o=a.slice.call(e),u=Math.min(r.length,o.length-1),l):o.slice();},l.invertExtent=function(e){var t=o.indexOf(e);return[r[t-1],r[t]];},l.unknown=function(e){return arguments.length?(t=e,l):t;},l.copy=function(){return e().domain(r).range(o).unknown(t);},i.initRange.apply(l,arguments);};}});var n=r("af21b0e3"),a=r("81801401"),i=r("5f49fc8a");},"7b9cfd4c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return function e(){var t=(0,n.map)(),r=[],u=[],l=o;function f(e){var n=e+"",a=t.get(n);if(!a){if(l!==o)return l;t.set(n,a=r.push(e));}return u[(a-1)%u.length];}return f.domain=function(e){if(!arguments.length)return r.slice();r=[],t=(0,n.map)();for(var a,i,o=-1,u=e.length;++o<u;)t.has(i=(a=e[o])+"")||t.set(i,r.push(a));return f;},f.range=function(e){return arguments.length?(u=a.slice.call(e),f):u.slice();},f.unknown=function(e){return arguments.length?(l=e,f):l;},f.copy=function(){return e(r,u).unknown(l);},i.initRange.apply(f,arguments),f;};},implicit:function(){return o;}});var n=r("92d110ad"),a=r("81801401"),i=r("5f49fc8a"),o={name:"implicit"};},"7be770e6":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{DEFAULT_BUFFER:function(){return p;},DEFAULT_CHAR_SET:function(){return s;},DEFAULT_CUTOFF:function(){return v;},DEFAULT_FONT_FAMILY:function(){return c;},DEFAULT_FONT_SIZE:function(){return h;},DEFAULT_FONT_WEIGHT:function(){return d;},DEFAULT_RADIUS:function(){return _;},default:function(){return b;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("89217383"),u=n._(r("9f07eaf4")),l=r("d383b231"),f=r("6f21f217");let s=function(){let e=[];for(let t=32;t<128;t++)e.push(String.fromCharCode(t));return e;}(),c="sans-serif",d="normal",h=24,p=3,v=.25,_=8;function m(e,t,r,n){e.font=`${n} ${r}px ${t}`,e.fillStyle="black",e.textBaseline="middle";}function g(e,t){for(let r=0;r<e.length;r++)t.data[4*r+3]=e[r];}class b extends l.EventEmitter{constructor(...e){super(...e),(0,i.default)(this,"fontAtlas",void 0),(0,i.default)(this,"iconFontMap",void 0),(0,i.default)(this,"iconFontGlyphs",{}),(0,i.default)(this,"fontOptions",void 0),(0,i.default)(this,"key",void 0),(0,i.default)(this,"cache",new o.LRUCache(3));}get scale(){return 1;}get canvas(){let e=this.cache.get(this.key);return e&&e.data;}get mapping(){let e=this.cache.get(this.key);return e&&e.mapping||{};}getCanvasByKey(e){let t=this.cache.get(e);return t&&t.data;}getMappingByKey(e){let t=this.cache.get(e);return t&&t.mapping||{};}init(){this.cache.clear(),this.fontOptions={fontFamily:c,fontWeight:d,characterSet:s,fontSize:h,buffer:p,sdf:!0,cutoff:v,radius:_,iconfont:!1},this.key="",this.iconFontMap=new Map;}addIconGlyphs(e){e.forEach(e=>{this.iconFontGlyphs[e.name]=e.unicode;});}addIconFont(e,t){this.iconFontMap.set(e,t);}getIconFontKey(e){return this.iconFontMap.get(e)||e;}getGlyph(e){return this.iconFontGlyphs[e]?String.fromCharCode(parseInt(this.iconFontGlyphs[e],16)):"";}setFontOptions(e){this.fontOptions=(0,a.default)((0,a.default)({},this.fontOptions),e),this.key=this.getKey();let t=this.getNewChars(this.key,this.fontOptions.characterSet),r=this.cache.get(this.key);if(r&&0===t.length)return;let n=this.generateFontAtlas(this.key,t,r);this.fontAtlas=n,this.cache.set(this.key,n);}addFontFace(e,t){let r=document.createElement("style");r.type="text/css",r.innerText=`
        @font-face{
            font-family: '${e}';
            src: url('${t}') format('woff2'),
            url('${t}') format('woff'),
            url('${t}') format('truetype');
        }`,r.onload=()=>{if(document.fonts)try{document.fonts.load(`24px ${e}`,"L7text"),document.fonts.ready.then(()=>{this.emit("fontloaded",{fontFamily:e});});}catch(e){console.warn("\u5F53\u524D\u73AF\u5883\u4E0D\u652F\u6301 document.fonts !"),console.warn("\u5F53\u524D\u73AF\u5883\u4E0D\u652F\u6301 iconfont !"),console.warn(e);}},document.getElementsByTagName("head")[0].appendChild(r);}destroy(){this.cache.clear(),this.iconFontMap.clear();}generateFontAtlas(e,t,r){let{fontFamily:n,fontWeight:i,fontSize:o,buffer:l,sdf:s,radius:c,cutoff:d,iconfont:h}=this.fontOptions,p=r&&r.data;p||((p=window.document.createElement("canvas")).width=1024);let v=p.getContext("2d",{willReadFrequently:!0});m(v,n,o,i);let{mapping:_,canvasHeight:b,xOffset:y,yOffset:E}=(0,f.buildMapping)((0,a.default)({getFontWidth:e=>v.measureText(e).width,fontHeight:1*o,buffer:l,characterSet:t,maxCanvasWidth:1024},r&&{mapping:r.mapping,xOffset:r.xOffset,yOffset:r.yOffset})),T=v.getImageData(0,0,p.width,p.height);if(p.height=b,v.putImageData(T,0,0),m(v,n,o,i),s){let e=new u.default(o,l,c,d,n,i),r=v.getImageData(0,0,e.size,e.size);for(let n of t){if(h){let t=String.fromCharCode(parseInt(n.replace("&#x","").replace(";",""),16));g(e.draw(t),r);}else g(e.draw(n),r);v.putImageData(r,_[n].x,_[n].y);}}else for(let e of t)v.fillText(e,_[e].x,_[e].y+1*o);return{xOffset:y,yOffset:E,mapping:_,data:p,width:p.width,height:p.height};}getKey(){let{fontFamily:e,fontWeight:t}=this.fontOptions;return`${e}_${t}`;}getNewChars(e,t){let r=this.cache.get(e);if(!r)return t;let n=[],a=new Set(Object.keys(r.mapping));return new Set(t).forEach(e=>{a.has(e)||n.push(e);}),n;}}},"7c03f341":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("bb10484b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7c1d26d5":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("be32556c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7c203642":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a731875d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7c4a1616":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1e90d5b0")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7c82ea43":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dc8f3ef4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7c86fae6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("eca4d1f0")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7c9e265b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d714b451")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7cb1d4c0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("124bf43d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7cec4673":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("674efcd7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7d24232d":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Color:function(){return a;},Rgb:function(){return O;},brighter:function(){return o;},darker:function(){return i;},default:function(){return y;},hsl:function(){return L;},hslConvert:function(){return P;},rgb:function(){return S;},rgbConvert:function(){return A;}});var n=r("852bbaa9")._(r("98740c9c"));function a(){}var i=.7,o=1.4285714285714286,u="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3,8})$/,c=RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=RegExp("^rgb\\("+[f,f,f]+"\\)$"),h=RegExp("^rgba\\("+[u,u,u,l]+"\\)$"),p=RegExp("^rgba\\("+[f,f,f,l]+"\\)$"),v=RegExp("^hsl\\("+[l,f,f]+"\\)$"),_=RegExp("^hsla\\("+[l,f,f,l]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex();}function b(){return this.rgb().formatRgb();}function y(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=s.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?E(t):3===r?new O(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?T(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?T(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=c.exec(e))?new O(t[1],t[2],t[3],1):(t=d.exec(e))?new O(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?T(t[1],t[2],t[3],t[4]):(t=p.exec(e))?T(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=v.exec(e))?C(t[1],t[2]/100,t[3]/100,1):(t=_.exec(e))?C(t[1],t[2]/100,t[3]/100,t[4]):m.hasOwnProperty(e)?E(m[e]):"transparent"===e?new O(NaN,NaN,NaN,0):null;}function E(e){return new O(e>>16&255,e>>8&255,255&e,1);}function T(e,t,r,n){return n<=0&&(e=t=r=NaN),new O(e,t,r,n);}function A(e){return(e instanceof a||(e=y(e)),e)?new O((e=e.rgb()).r,e.g,e.b,e.opacity):new O;}function S(e,t,r,n){return 1==arguments.length?A(e):new O(e,t,r,null==n?1:n);}function O(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n;}function R(){return"#"+x(this.r)+x(this.g)+x(this.b);}function M(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")");}function x(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16);}function C(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new w(e,t,r,n);}function P(e){if(e instanceof w)return new w(e.h,e.s,e.l,e.opacity);if(e instanceof a||(e=y(e)),!e)return new w;if(e instanceof w)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),u=NaN,l=o-i,f=(o+i)/2;return l?(u=t===o?(r-n)/l+(r<n)*6:r===o?(n-t)/l+2:(t-r)/l+4,l/=f<.5?o+i:2-o-i,u*=60):l=f>0&&f<1?0:u,new w(u,l,f,e.opacity);}function L(e,t,r,n){return 1==arguments.length?P(e):new w(e,t,r,null==n?1:n);}function w(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n;}function I(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255;}(0,n.default)(a,y,{copy:function(e){return Object.assign(new this.constructor,this,e);},displayable:function(){return this.rgb().displayable();},hex:g,formatHex:g,formatHsl:function(){return P(this).formatHsl();},formatRgb:b,toString:b}),(0,n.default)(O,S,(0,n.extend)(a,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new O(this.r*e,this.g*e,this.b*e,this.opacity);},darker:function(e){return e=null==e?i:Math.pow(i,e),new O(this.r*e,this.g*e,this.b*e,this.opacity);},rgb:function(){return this;},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1;},hex:R,formatHex:R,formatRgb:M,toString:M})),(0,n.default)(w,L,(0,n.extend)(a,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new w(this.h,this.s,this.l*e,this.opacity);},darker:function(e){return e=null==e?i:Math.pow(i,e),new w(this.h,this.s,this.l*e,this.opacity);},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new O(I(e>=240?e-240:e+120,a,n),I(e,a,n),I(e<120?e+240:e-120,a,n),this.opacity);},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1;},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")");}}));},"7d35241c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return function e(){var t,r=0,u=1,l=1,f=[.5],s=[0,1];function c(e){return e<=e?s[(0,n.bisect)(f,e,0,l)]:t;}function d(){var e=-1;for(f=Array(l);++e<l;)f[e]=((e+1)*u-(e-l)*r)/(l+1);return c;}return c.domain=function(e){return arguments.length?(r=+e[0],u=+e[1],d()):[r,u];},c.range=function(e){return arguments.length?(l=(s=a.slice.call(e)).length-1,d()):s.slice();},c.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,f[0]]:t>=l?[f[l-1],u]:[f[t-1],f[t]];},c.unknown=function(e){return arguments.length&&(t=e),c;},c.thresholds=function(){return f.slice();},c.copy=function(){return e().domain([r,u]).range(s).unknown(t);},o.initRange.apply((0,i.linearish)(c),arguments);};}});var n=r("af21b0e3"),a=r("81801401"),i=r("6c817216"),o=r("5f49fc8a");},"7d7dfaa5":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{BOUNDS_BUFFER_SCALE:function(){return o;},DEFAULT_CACHE_SCALE:function(){return u;},DEFAULT_EXTENT:function(){return i;},NOOP:function(){return f;},UPDATE_TILE_STRATEGIES:function(){return l;}});var n=r("dda56150"),a=r("9b7c4560"),i=[-1/0,-1/0,1/0,1/0],o=.2,u=5,l={[n.UpdateTileStrategy.Realtime]:a.updateTileStateRealtime,[n.UpdateTileStrategy.Overlap]:a.updateTileStateOverlap,[n.UpdateTileStrategy.Replace]:a.updateTileStateReplace},f=()=>{};},"7d8c69a2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("011d8e31")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7d8d29a0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e04983b9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7df25834":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7e189b68")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7e4a1ab6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("220f464a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7e4c59c5":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f81efd8e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7e713165":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0902f2a4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7ea5fc5d":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return f;},timeFormat:function(){return a;},timeParse:function(){return i;},utcFormat:function(){return o;},utcParse:function(){return u;}});var n,a,i,o,u,l=r("777fffbe")._(r("c99a06c8"));function f(e){return a=(n=(0,l.default)(e)).format,i=n.parse,o=n.utcFormat,u=n.utcParse,n;}f({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});},"7eacd5a3":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});var n={wind:r("777fffbe")._(r("38c63c7a")).default};},"7ee63360":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d3c385a2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7ee7b465":function(e,t,r){"use strict";function n(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0);}return a>0?e.slice(0,a)+e.slice(t+1):e;}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"7f41553a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{friday:function(){return c;},fridays:function(){return g;},monday:function(){return u;},mondays:function(){return p;},saturday:function(){return d;},saturdays:function(){return b;},sunday:function(){return o;},sundays:function(){return h;},thursday:function(){return s;},thursdays:function(){return m;},tuesday:function(){return l;},tuesdays:function(){return v;},wednesday:function(){return f;},wednesdays:function(){return _;}});var n=r("777fffbe")._(r("d365c0f8")),a=r("184d1c4d");function i(e){return(0,n.default)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0);},function(e,t){e.setDate(e.getDate()+7*t);},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*a.durationMinute)/a.durationWeek;});}var o=i(0),u=i(1),l=i(2),f=i(3),s=i(4),c=i(5),d=i(6),h=o.range,p=u.range,v=l.range,_=f.range,m=s.range,g=c.range,b=d.range;},"7f434d9f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{BasePostProcessingPass:function(){return a.default;},packCircleVertex:function(){return o.packCircleVertex;},removeDuplicateUniforms:function(){return i.removeDuplicateUniforms;}});var n=r("d1751d7c"),a=r("777fffbe")._(r("4b19d198")),i=r("5076dce9"),o=r("54ac936f");n._(r("ad3476a4"),t),n._(r("f031d073"),t),n._(r("c3cea9a4"),t),n._(r("f721d5e7"),t),n._(r("56dda44f"),t),n._(r("0fe7eb19"),t),n._(r("6819fdd3"),t),n._(r("ce6b5d18"),t),n._(r("78f293f4"),t),n._(r("7a4e518e"),t),n._(r("e3b549d7"),t),n._(r("08ff67ec"),t),n._(r("07cf040a"),t),n._(r("8c22d224"),t),n._(r("dcafd1d6"),t),n._(r("3cc20d34"),t),n._(r("49307a9f"),t),n._(r("8be946fc"),t),n._(r("394d542a"),t),n._(r("1d053cb4"),t),n._(r("2bcf52c6"),t),n._(r("dfeb42d4"),t),n._(r("3fb4fdb6"),t),n._(r("af2cb3b0"),t),n._(r("178c66e7"),t),n._(r("f9ae2822"),t),n._(r("705e704e"),t),n._(r("087ba13d"),t),n._(r("4f53d066"),t),n._(r("e9b9738a"),t);},"7f7a279f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("27e609be")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"7fdd6f0e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{timeMinute:function(){return i;},timeMinutes:function(){return o;},utcMinute:function(){return u;},utcMinutes:function(){return l;}});var n=r("d7f30e4c"),a=r("0bb366b0");let i=(0,n.timeInterval)(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*a.durationSecond);},(e,t)=>{e.setTime(+e+t*a.durationMinute);},(e,t)=>(t-e)/a.durationMinute,e=>e.getMinutes()),o=i.range,u=(0,n.timeInterval)(e=>{e.setUTCSeconds(0,0);},(e,t)=>{e.setTime(+e+t*a.durationMinute);},(e,t)=>(t-e)/a.durationMinute,e=>e.getUTCMinutes()),l=u.range;},"802355fa":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d60584a4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"80324b90":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});class n{apply(e){e.hooks.afterInit.tap("LayerMaskPlugin",()=>{let{maskLayers:t,enableMask:r}=e.getLayerConfig();!e.tileLayer&&t&&t.length>0&&e.updateLayerConfig({mask:r});});}}},"808ee591":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5f3458b5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"80ca89d0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8401f803")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"810d556a":function(e,t,r){window._iconfont_svg_string_3580659='<svg><symbol id="l7-icon-area1" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.064889 219.136l38.798223 466.261333a113.777778 113.777778 0 1 1-133.518223 145.237334H279.210667a113.777778 113.777778 0 1 1-60.302223-137.272889L697.856 227.555556A113.777778 113.777778 0 0 1 796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m577.592889-534.072889L269.198222 796.444444c4.152889 7.168 7.509333 14.791111 10.012445 22.812445h465.578666a114.119111 114.119111 0 0 1 65.479111-71.224889l-38.798222-466.261333a112.924444 112.924444 0 0 1-23.210666-7.964445zM796.444444 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-area" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.008 219.136l38.855112 466.261333a113.777778 113.777778 0 0 1-16.497778 224.540445L853.333333 967.111111a113.777778 113.777778 0 0 1-108.544-79.644444H279.210667a113.834667 113.834667 0 0 1-100.067556 79.36L170.666667 967.111111a113.777778 113.777778 0 0 1-17.066667-226.304l30.492444-351.175111a113.777778 113.777778 0 0 1 34.986667-218.680889L227.555556 170.666667a113.777778 113.777778 0 0 1 99.896888 59.221333l355.84-71.395556a113.777778 113.777778 0 0 1 104.675556-101.262222L796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m526.051555-582.314666L340.650667 296.903111a113.891556 113.891556 0 0 1-88.462223 98.645333l-30.947555 355.84c27.477333 13.653333 48.64 38.115556 58.026667 67.754667h465.521777a114.119111 114.119111 0 0 1 65.536-71.168l-38.855111-466.261333a113.948444 113.948444 0 0 1-74.752-56.206222zM227.555556 238.933333a45.511111 45.511111 0 1 0 0 91.022223 45.511111 45.511111 0 0 0 0-91.022223z m568.888888-113.777777a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-delete" viewBox="0 0 1024 1024"><path d="M705.422222 85.333333a34.133333 34.133333 0 0 1 34.133334 34.133334V227.555556h136.533333a34.133333 34.133333 0 0 1 0 68.266666h-25.543111l-24.348445 610.076445a34.133333 34.133333 0 0 1-34.133333 32.768H231.936a34.133333 34.133333 0 0 1-34.076444-32.768L173.340444 295.822222H147.911111a34.133333 34.133333 0 1 1 0-68.266666H284.444444V119.466667a34.133333 34.133333 0 0 1 34.133334-34.133334h386.844444zM241.720889 295.822222l22.983111 574.577778h494.535111l23.04-574.577778H241.720889zM671.288889 153.6H352.711111V227.555556h318.577778V153.6z"  ></path></symbol><symbol id="l7-icon-color" viewBox="0 0 1024 1024"><path d="M512 56.888889c9.841778 0 19.626667 0.341333 29.354667 0.910222 69.176889 4.437333 119.068444 62.577778 124.302222 131.072l0.455111 9.386667c0.739556 44.600889 15.303111 84.935111 44.999111 114.631111 27.022222 27.022222 62.805333 41.528889 102.570667 44.430222l12.060444 0.568889c72.476444 1.194667 135.793778 52.451556 140.458667 124.757333 1.137778 18.261333 1.251556 36.807111 0.170667 55.637334-13.198222 233.585778-211.399111 424.220444-445.326223 428.714666L512 967.111111a455.111111 455.111111 0 0 1-455.054222-464.156444c4.551111-233.927111 195.185778-432.128 428.771555-445.326223C494.535111 57.116444 503.296 56.888889 512 56.888889z m0 68.266667a385.706667 385.706667 0 0 0-22.414222 0.625777C291.726222 136.988444 129.080889 305.948444 125.155556 504.263111c-4.152889 212.366222 163.100444 387.185778 372.508444 394.353778l13.425778 0.227555 8.533333-0.113777c198.371556-3.811556 367.331556-166.456889 378.538667-364.373334a396.174222 396.174222 0 0 0-0.170667-47.331555c-1.991111-31.232-29.127111-56.604444-67.128889-60.472889l-8.248889-0.455111-14.051555-0.682667c-56.547556-4.209778-107.406222-25.884444-145.806222-64.284444-38.855111-38.798222-60.416-90.225778-64.284445-145.749334l-0.910222-21.333333c-2.901333-38.001778-28.785778-66.048-60.302222-68.096A433.891556 433.891556 0 0 0 512 125.155556zM438.044444 682.666667a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m-170.666666-227.555556a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m142.222222-227.555555a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z"  ></path></symbol><symbol id="l7-icon-base-map" viewBox="0 0 1024 1024"><path d="M923.761778 115.029333A34.133333 34.133333 0 0 1 967.111111 147.911111v624.128a34.133333 34.133333 0 0 1-22.186667 32.028445l-278.755555 103.992888a34.133333 34.133333 0 0 1-23.665778 0.056889L381.724444 812.714667a34.133333 34.133333 0 0 0-23.665777 0.113777L102.968889 908.060444a34.133333 34.133333 0 0 1-45.738667-26.965333L56.888889 876.088889V251.960889a34.133333 34.133333 0 0 1 22.186667-32.028445l278.755555-103.992888a34.133333 34.133333 0 0 1 20.992-0.967112l266.183111 72.988445a34.133333 34.133333 0 0 0 18.204445 0zM403.911111 192.625778v555.576889l216.177778 79.075555V251.960889l-216.177778-59.335111z m-68.266667 4.380444L125.155556 275.569778v551.310222l210.432-78.506667V197.006222zM898.844444 192.853333l-210.545777 58.936889v575.089778l210.545777-78.563556V192.853333z"  ></path></symbol><symbol id="l7-icon-dot" viewBox="0 0 1024 1024"><path d="M341.333333 739.555556a113.777778 113.777778 0 0 1 8.533334 227.271111L341.333333 967.111111a113.777778 113.777778 0 0 1-8.533333-227.271111L341.333333 739.555556z m0 68.266666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM910.222222 341.333333a113.777778 113.777778 0 0 1 8.533334 227.271111L910.222222 568.888889a113.777778 113.777778 0 0 1-8.533333-227.271111L910.222222 341.333333z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM227.555556 56.888889a113.777778 113.777778 0 0 1 8.533333 227.271111L227.555556 284.444444a113.777778 113.777778 0 0 1-8.533334-227.271111L227.555556 56.888889z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-display" viewBox="0 0 1024 1024"><path d="M512 170.666667c284.444444 0 455.111111 227.555556 455.111111 341.333333s-170.666667 341.333333-455.111111 341.333333-455.111111-227.555556-455.111111-341.333333 170.666667-341.333333 455.111111-341.333333z m0 68.266666C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 110.762667 178.574222 273.066667 386.844444 273.066667s386.844444-162.304 386.844444-273.066667c0-110.762667-178.574222-273.066667-386.844444-273.066667zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-enlarge" viewBox="0 0 1024 1024"><path d="M546.133333 147.911111l-0.056889 329.955556H876.088889a34.133333 34.133333 0 0 1 0 68.266666H546.076444v329.955556a34.133333 34.133333 0 0 1-68.266666 0V546.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h329.898667V147.911111a34.133333 34.133333 0 0 1 68.266666 0z"  ></path></symbol><symbol id="l7-icon-export-picture" viewBox="0 0 1024 1024"><path d="M883.873684 161.684211a32.336842 32.336842 0 0 1 32.336842 32.336842v582.063158a32.336842 32.336842 0 0 1-32.336842 32.336842H86.231579a32.336842 32.336842 0 0 1-32.336842-32.336842V194.021053a32.336842 32.336842 0 0 1 32.336842-32.336842h797.642105z m-32.336842 64.673684H118.568421v517.389473h170.792421a32.175158 32.175158 0 0 1 0.431158-0.646736l3.772632-4.473264 330.320842-330.374736a32.336842 32.336842 0 0 1 38.588631-5.389474l4.473263 3.018105 184.589474 147.725474V226.357895z m-202.428631 248.131368L379.850105 743.747368H851.536842v-107.304421l-202.428631-161.953684zM323.368421 323.368421a107.789474 107.789474 0 1 1 0 215.578947 107.789474 107.789474 0 0 1 0-215.578947z m0 64.673684a43.115789 43.115789 0 1 0 0 86.231579 43.115789 43.115789 0 0 0 0-86.231579z"  ></path></symbol><symbol id="l7-icon-exit-fullscreen" viewBox="0 0 1024 1024"><path d="M841.955556 591.644444a34.133333 34.133333 0 0 1 5.518222 67.811556l-5.518222 0.455111h-133.745778l192 192.056889a34.133333 34.133333 0 0 1-38.343111 55.182222l-5.176889-2.958222-4.721778-3.982222L659.911111 708.266667V841.955556a34.133333 34.133333 0 0 1-28.615111 33.678222L625.777778 876.088889a34.133333 34.133333 0 0 1-33.678222-28.615111L591.644444 841.955556V625.777778a34.133333 34.133333 0 0 1 28.615112-33.678222L625.777778 591.644444h216.177778z m-443.733334 0a34.133333 34.133333 0 0 1 33.678222 28.615112L432.355556 625.777778v216.177778a34.133333 34.133333 0 0 1-67.811556 5.518222L364.088889 841.955556v-133.745778l-192.056889 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L315.847111 659.911111H182.044444a34.133333 34.133333 0 0 1-33.678222-28.615111L147.911111 625.777778a34.133333 34.133333 0 0 1 28.615111-33.678222L182.044444 591.644444H398.222222zM167.310222 119.808l4.721778 3.982222L364.088889 315.847111V182.044444a34.133333 34.133333 0 0 1 28.615111-33.678222L398.222222 147.911111a34.133333 34.133333 0 0 1 33.678222 28.615111L432.355556 182.044444V398.222222a34.133333 34.133333 0 0 1-28.615112 33.678222L398.222222 432.355556H182.044444a34.133333 34.133333 0 0 1-5.518222-67.811556L182.044444 364.088889h133.802667L123.790222 172.032a34.133333 34.133333 0 0 1 43.52-52.224z m732.899556 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L708.266667 364.088889H841.955556a34.133333 34.133333 0 0 1 33.678222 28.615111L876.088889 398.222222a34.133333 34.133333 0 0 1-28.615111 33.678222L841.955556 432.355556H625.777778a34.133333 34.133333 0 0 1-33.678222-28.615112L591.644444 398.222222V182.044444a34.133333 34.133333 0 0 1 67.811556-5.518222l0.455111 5.518222v133.802667l192.056889-192.056889a34.133333 34.133333 0 0 1 48.241778 0z"  ></path></symbol><symbol id="l7-icon-line" viewBox="0 0 1024 1024"><path d="M853.333333 56.888889a113.777778 113.777778 0 0 1 8.533334 227.271111L853.333333 284.444444c-19.000889 0-36.864-4.664889-52.622222-12.856888l-529.123555 529.066666a113.777778 113.777778 0 0 1-92.387556 166.115556L170.666667 967.111111a113.777778 113.777778 0 0 1-8.533334-227.271111L170.666667 739.555556c19.000889 0 36.864 4.664889 52.622222 12.856888l529.123555-529.066666a113.777778 113.777778 0 0 1 92.387556-166.115556L853.333333 56.888889zM170.666667 807.822222a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m682.666666-682.666666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-layer" viewBox="0 0 1024 1024"><path d="M767.089778 625.777778l180.167111 82.773333a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730667-420.977778 193.422222a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422222a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730667L256.853333 625.777778l81.749334 37.546666L172.771556 739.555556 512 895.374222 851.171556 739.555556l-165.831112-76.231112 81.749334-37.546666z m0-227.555556l180.167111 82.773334a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730666-420.977778 193.422223a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422223a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730666L256.853333 398.222222l81.749334 37.546667-165.831111 76.174222L512 667.818667l339.171556-155.875556-165.831112-76.174222L767.089778 398.222222zM497.720889 60.017778a34.133333 34.133333 0 0 1 28.558222 0l420.977778 193.422222a34.133333 34.133333 0 0 1 0 62.008889l-420.977778 193.422222a34.133333 34.133333 0 0 1-28.558222 0l-420.977778-193.422222a34.133333 34.133333 0 0 1 0-62.008889zM512 128.568889L172.771556 284.387556 512 440.263111l339.171556-155.875555L512 128.568889z"  ></path></symbol><symbol id="l7-icon-narrow" viewBox="0 0 1024 1024"><path d="M910.222222 512a34.133333 34.133333 0 0 1-34.133333 34.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h728.177778a34.133333 34.133333 0 0 1 34.133333 34.133333z"  ></path></symbol><symbol id="l7-icon-fullscreen" viewBox="0 0 1024 1024"><path d="M645.176889 597.674667l4.721778 3.982222L841.955556 793.6l0.056888-133.688889a34.133333 34.133333 0 0 1 28.615112-33.678222L876.088889 625.777778a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 659.911111v216.177778a34.133333 34.133333 0 0 1-28.615111 33.678222L876.088889 910.222222h-216.177778a34.133333 34.133333 0 0 1-5.518222-67.811555l5.518222-0.455111h133.745778l-192-192.056889a34.133333 34.133333 0 0 1 43.52-52.224z m-222.833778 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L230.286222 841.955556H364.088889a34.133333 34.133333 0 0 1 33.678222 28.615111L398.222222 876.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L364.088889 910.222222H147.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 876.088889v-216.177778a34.133333 34.133333 0 0 1 67.811555-5.518222l0.455111 5.518222-0.056888 133.745778 192.113777-192a34.133333 34.133333 0 0 1 48.241778 0zM364.088889 113.777778a34.133333 34.133333 0 0 1 5.518222 67.811555L364.088889 182.044444H230.343111l192 192.056889a34.133333 34.133333 0 0 1-43.52 52.224l-4.721778-3.982222-192.113777-192.056889L182.044444 364.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L147.911111 398.222222a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 364.088889V147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L147.911111 113.777778h216.177778z m512 0a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 147.911111v216.177778a34.133333 34.133333 0 0 1-67.811555 5.518222L841.955556 364.088889l-0.056889-133.745778-192 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L793.6 182.044444H659.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L625.777778 147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L659.911111 113.777778h216.177778z"  ></path></symbol><symbol id="l7-icon-hide" viewBox="0 0 1024 1024"><path d="M875.52 87.836444a34.133333 34.133333 0 0 1 7.281778 43.121778l-3.527111 5.006222-682.666667 796.444445a34.133333 34.133333 0 0 1-55.409778-39.367111l3.527111-5.006222 97.166223-113.379556C123.164444 697.969778 56.888889 582.940444 56.888889 512c0-113.777778 170.666667-341.333333 455.111111-341.333333a496.64 496.64 0 0 1 208.952889 45.112889l106.439111-124.188445a34.133333 34.133333 0 0 1 48.128-3.754667z m-38.684444 202.524445C921.031111 362.951111 967.111111 452.835556 967.111111 512c0 113.777778-170.666667 341.333333-455.111111 341.333333-50.631111 0-97.678222-7.224889-140.8-19.740444l50.232889-58.595556A417.393778 417.393778 0 0 0 512 785.066667c208.270222 0 386.844444-162.304 386.844444-273.066667 0-52.849778-40.675556-117.418667-105.813333-170.496l43.804445-51.2zM512 238.933333C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 66.787556 64.853333 152.291556 162.133333 209.692444L377.173333 616.675556a170.666667 170.666667 0 0 1 217.713778-253.895112l78.620445-91.704888A432.924444 432.924444 0 0 0 512 238.933333z m166.684444 236.088889a170.666667 170.666667 0 0 1-177.664 207.303111l177.607112-207.303111zM512 409.6a102.4 102.4 0 0 0-88.746667 153.486222L548.864 416.426667A102.172444 102.172444 0 0 0 512 409.6z"  ></path></symbol><symbol id="l7-icon-rectangle" viewBox="0 0 1024 1024"><path d="M170.666667 56.888889a113.777778 113.777778 0 0 1 108.544 79.644444H853.333333a34.133333 34.133333 0 0 1 33.678223 28.615111L887.466667 170.666667v574.122666a113.777778 113.777778 0 1 1-142.677334 142.734223L170.666667 887.466667a34.133333 34.133333 0 0 1-33.678223-28.615111L136.533333 853.333333V279.210667A113.777778 113.777778 0 0 1 170.666667 56.888889z m682.666666 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-34.133333-603.022222H279.210667a114.062222 114.062222 0 0 1-74.353778 74.410667L204.8 819.2h539.989333a114.062222 114.062222 0 0 1 74.410667-74.410667V204.8zM170.666667 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-ranging" viewBox="0 0 1024 1024"><path d="M723.171556 50.403556l250.424888 250.424888a31.061333 31.061333 0 0 1 0 43.918223L344.746667 973.596444a31.061333 31.061333 0 0 1-43.918223 0L50.403556 723.171556a31.061333 31.061333 0 0 1 0-43.918223L679.253333 50.403556a31.061333 31.061333 0 0 1 43.918223 0z m-21.959112 74.524444l-39.765333 39.822222 98.986667 98.872889a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222 62.179556 62.122667a34.133333 34.133333 0 0 1-44.088889 51.882667L563.2 387.242667 501.077333 325.063111 437.191111 388.949333l98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222L387.242667 563.2a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.584-62.122667-62.179556-63.886222 63.886222 98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-39.765333 39.822222 197.802667 197.745778 576.284444-576.284444-197.802667-197.745778z"  ></path></symbol><symbol id="l7-icon-reposition" viewBox="0 0 1024 1024"><path d="M512 56.888889a34.133333 34.133333 0 0 1 34.133333 34.133333v24.177778A398.336 398.336 0 0 1 908.856889 477.866667h24.177778a34.133333 34.133333 0 0 1 0 68.266666h-24.177778A398.336 398.336 0 0 1 546.133333 908.856889L546.133333 932.977778a34.133333 34.133333 0 0 1-68.266666 0v-24.177778A398.336 398.336 0 0 1 115.2 546.133333L91.022222 546.133333a34.133333 34.133333 0 1 1 0-68.266666h24.177778A398.336 398.336 0 0 1 477.866667 115.2V91.022222A34.133333 34.133333 0 0 1 512 56.888889z m34.190222 126.862222L546.133333 193.422222a34.133333 34.133333 0 1 1-68.266666 0v-9.671111A330.069333 330.069333 0 0 0 183.751111 477.866667h9.671111a34.133333 34.133333 0 1 1 0 68.266666l-9.671111 0.056889A330.069333 330.069333 0 0 0 477.866667 840.248889V830.577778a34.133333 34.133333 0 0 1 68.266666 0l0.056889 9.671111A330.069333 330.069333 0 0 0 840.248889 546.133333L830.577778 546.133333a34.133333 34.133333 0 0 1 0-68.266666h9.671111A330.069333 330.069333 0 0 0 546.133333 183.751111zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-round" viewBox="0 0 1024 1024"><path d="M512 56.888889a455.111111 455.111111 0 0 1 391.395556 687.502222 113.777778 113.777778 0 0 1-159.061334 158.890667A455.111111 455.111111 0 0 1 120.604444 279.608889 113.777778 113.777778 0 0 1 279.608889 120.604444 452.835556 452.835556 0 0 1 512 56.888889z m0 68.266667a384.910222 384.910222 0 0 0-191.715556 50.744888A113.777778 113.777778 0 0 1 175.957333 320.284444a386.844444 386.844444 0 0 0 527.815111 527.758223 113.777778 113.777778 0 0 1 144.270223-144.440889A386.844444 386.844444 0 0 0 512 125.155556z m299.406222 640.739555a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM212.593778 167.082667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-guanbi" viewBox="0 0 1024 1024"><path d="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z"  ></path></symbol></svg>',function(e){try{var t=(t=document.getElementsByTagName("script"))[t.length-1],r=t.getAttribute("data-injectcss"),t=t.getAttribute("data-disable-injectsvg");if(!t){var n,a,i,o,u,l=function(e,t){t.parentNode.insertBefore(e,t);};if(r&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>");}catch(e){console&&console.log(e);}}n=function(){var t,r=document.createElement("div");r.innerHTML=e._iconfont_svg_string_3580659,(r=r.getElementsByTagName("svg")[0])&&(r.setAttribute("aria-hidden","true"),r.style.position="absolute",r.style.width=0,r.style.height=0,r.style.overflow="hidden",(t=document.body).firstChild?l(r,t.firstChild):t.appendChild(r));},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(n,0):(a=function(){document.removeEventListener("DOMContentLoaded",a,!1),n();},document.addEventListener("DOMContentLoaded",a,!1)):document.attachEvent&&(i=n,o=e.document,u=!1,function e(){try{o.documentElement.doScroll("left");}catch(t){return void setTimeout(e,50);}f();}(),o.onreadystatechange=function(){"complete"==o.readyState&&(o.onreadystatechange=null,f());});}function f(){u||(u=!0,i());}}catch(e){}}(window);},"813cf9e1":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{add:function(){return c;},angle:function(){return G;},bezier:function(){return I;},ceil:function(){return v;},clone:function(){return o;},copy:function(){return f;},create:function(){return i;},cross:function(){return C;},dist:function(){return Z;},distance:function(){return T;},div:function(){return q;},divide:function(){return p;},dot:function(){return x;},equals:function(){return X;},exactEquals:function(){return H;},floor:function(){return _;},forEach:function(){return J;},fromValues:function(){return l;},hermite:function(){return w;},inverse:function(){return R;},len:function(){return $;},length:function(){return u;},lerp:function(){return P;},max:function(){return g;},min:function(){return m;},mul:function(){return Y;},multiply:function(){return h;},negate:function(){return O;},normalize:function(){return M;},random:function(){return N;},rotateX:function(){return U;},rotateY:function(){return j;},rotateZ:function(){return k;},round:function(){return b;},scale:function(){return y;},scaleAndAdd:function(){return E;},set:function(){return s;},slerp:function(){return L;},sqrDist:function(){return K;},sqrLen:function(){return Q;},squaredDistance:function(){return A;},squaredLength:function(){return S;},str:function(){return V;},sub:function(){return W;},subtract:function(){return d;},transformMat3:function(){return F;},transformMat4:function(){return D;},transformQuat:function(){return B;},zero:function(){return z;}});var n,a=r("852bbaa9")._(r("8d58e674"));function i(){var e=new a.ARRAY_TYPE(3);return a.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e;}function o(e){var t=new a.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t;}function u(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n);}function l(e,t,r){var n=new a.ARRAY_TYPE(3);return n[0]=e,n[1]=t,n[2]=r,n;}function f(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e;}function s(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e;}function c(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e;}function d(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e;}function h(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e;}function p(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e;}function v(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e;}function _(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e;}function m(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e;}function g(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e;}function b(e,t){return e[0]=a.round(t[0]),e[1]=a.round(t[1]),e[2]=a.round(t[2]),e;}function y(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e;}function E(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e;}function T(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(r*r+n*n+a*a);}function A(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r*r+n*n+a*a;}function S(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n;}function O(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e;}function R(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e;}function M(e,t){var r=t[0],n=t[1],a=t[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e;}function x(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2];}function C(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],u=r[1],l=r[2];return e[0]=a*l-i*u,e[1]=i*o-n*l,e[2]=n*u-a*o,e;}function P(e,t,r,n){var a=t[0],i=t[1],o=t[2];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e;}function L(e,t,r,n){var a=Math.acos(Math.min(Math.max(x(t,r),-1),1)),i=Math.sin(a),o=Math.sin((1-n)*a)/i,u=Math.sin(n*a)/i;return e[0]=o*t[0]+u*r[0],e[1]=o*t[1]+u*r[1],e[2]=o*t[2]+u*r[2],e;}function w(e,t,r,n,a,i){var o=i*i,u=o*(2*i-3)+1,l=o*(i-2)+i,f=o*(i-1),s=o*(3-2*i);return e[0]=t[0]*u+r[0]*l+n[0]*f+a[0]*s,e[1]=t[1]*u+r[1]*l+n[1]*f+a[1]*s,e[2]=t[2]*u+r[2]*l+n[2]*f+a[2]*s,e;}function I(e,t,r,n,a,i){var o=1-i,u=o*o,l=i*i,f=u*o,s=3*i*u,c=3*l*o,d=l*i;return e[0]=t[0]*f+r[0]*s+n[0]*c+a[0]*d,e[1]=t[1]*f+r[1]*s+n[1]*c+a[1]*d,e[2]=t[2]*f+r[2]*s+n[2]*c+a[2]*d,e;}function N(e,t){t=void 0===t?1:t;var r=2*a.RANDOM()*Math.PI,n=2*a.RANDOM()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e;}function D(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,e[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,e[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,e;}function F(e,t,r){var n=t[0],a=t[1],i=t[2];return e[0]=n*r[0]+a*r[3]+i*r[6],e[1]=n*r[1]+a*r[4]+i*r[7],e[2]=n*r[2]+a*r[5]+i*r[8],e;}function B(e,t,r){var n=r[0],a=r[1],i=r[2],o=r[3],u=t[0],l=t[1],f=t[2],s=a*f-i*l,c=i*u-n*f,d=n*l-a*u;return s+=s,c+=c,d+=d,e[0]=u+o*s+a*d-i*c,e[1]=l+o*c+i*s-n*d,e[2]=f+o*d+n*c-a*s,e;}function U(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e;}function j(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e;}function k(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e;}function G(e,t){var r=e[0],n=e[1],a=e[2],i=t[0],o=t[1],u=t[2],l=Math.sqrt((r*r+n*n+a*a)*(i*i+o*o+u*u));return Math.acos(Math.min(Math.max(l&&x(e,t)/l,-1),1));}function z(e){return e[0]=0,e[1]=0,e[2]=0,e;}function V(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")";}function H(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];}function X(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],u=t[1],l=t[2];return Math.abs(r-o)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-u)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-l)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(l));}var W=d,Y=h,q=p,Z=T,K=A,$=u,Q=S,J=(n=i(),function(e,t,r,a,i,o){var u,l;for(t||(t=3),r||(r=0),l=a?Math.min(a*t+r,e.length):e.length,u=r;u<l;u+=t)n[0]=e[u],n[1]=e[u+1],n[2]=e[u+2],i(n,n,o),e[u]=n[0],e[u+1]=n[1],e[u+2]=n[2];return e;});},"8174e190":function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1;}function u(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var u=new o(r,n||e,i),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],u]:e._events[l].push(u):(e._events[l]=u,e._eventsCount++),e;}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t];}function f(){this._events=new i,this._eventsCount=0;}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1)),f.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r;},f.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o;},f.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0;},f.prototype.emit=function(e,t,r,n,i,o){var u=a?a+e:e;if(!this._events[u])return!1;var l,f,s=this._events[u],c=arguments.length;if(s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,r),!0;case 4:return s.fn.call(s.context,t,r,n),!0;case 5:return s.fn.call(s.context,t,r,n,i),!0;case 6:return s.fn.call(s.context,t,r,n,i,o),!0;}for(f=1,l=Array(c-1);f<c;f++)l[f-1]=arguments[f];s.fn.apply(s.context,l);}else{var d,h=s.length;for(f=0;f<h;f++)switch(s[f].once&&this.removeListener(e,s[f].fn,void 0,!0),c){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,t);break;case 3:s[f].fn.call(s[f].context,t,r);break;case 4:s[f].fn.call(s[f].context,t,r,n);break;default:if(!l)for(d=1,l=Array(c-1);d<c;d++)l[d-1]=arguments[d];s[f].fn.apply(s[f].context,l);}}return!0;},f.prototype.on=function(e,t,r){return u(this,e,t,r,!1);},f.prototype.once=function(e,t,r){return u(this,e,t,r,!0);},f.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,i);else{for(var u=0,f=[],s=o.length;u<s;u++)(o[u].fn!==t||n&&!o[u].once||r&&o[u].context!==r)&&f.push(o[u]);f.length?this._events[i]=1===f.length?f[0]:f:l(this,i);}return this;},f.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this;},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=a,f.EventEmitter=f,void 0!==e&&(e.exports=f);},81801401:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{map:function(){return a;},slice:function(){return i;}});var n=Array.prototype,a=n.map,i=n.slice;},"81ef1e47":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ea726b6f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8209663e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"processRelativeCoordinates",{enumerable:!0,get:function(){return d;}});var n=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,f=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&f(e,r,t[r]);if(o)for(var r of o(t))l.call(t,r)&&f(e,r,t[r]);return e;},c=(e,t)=>a(e,i(t));function d(e,t={}){let r,n,a,i;let{enableRelativeCoordinates:o=!1,relativeOrigin:u}=t;if(!o)return{dataArray:e,relativeOrigin:[0,0],originalExtent:[0,0,0,0]};let l=1/0,f=-1/0,h=1/0,p=-1/0;e.forEach(e=>{let t=e.coordinates;if(!t)return;let r=e=>{if("number"==typeof e[0]&&"number"==typeof e[1]){let[t,r]=e;l=Math.min(l,t),f=Math.max(f,t),h=Math.min(h,r),p=Math.max(p,r);}else Array.isArray(e[0])&&e.forEach(r);};r(t);});let v=[l,h,f,p],_=u||(r=1/0,n=-1/0,a=1/0,i=-1/0,e.forEach(e=>{let t=e.coordinates;if(!t)return;let o=e=>{if("number"==typeof e[0]&&"number"==typeof e[1]){let[t,o]=e;r=Math.min(r,t),n=Math.max(n,t),a=Math.min(a,o),i=Math.max(i,o);}else Array.isArray(e[0])&&e.forEach(o);};o(t);}),[(r+n)/2,(a+i)/2]);return{dataArray:function(e,t){let[r,n]=t;return e.map(e=>{if(!e.coordinates)return e;let t=e=>"number"==typeof e[0]&&"number"==typeof e[1]?[Number((e[0]-r).toPrecision(15)),Number((e[1]-n).toPrecision(15)),...e.slice(2)||[]]:Array.isArray(e[0])?e.map(t):e;return c(s({},e),{coordinates:t(e.coordinates)});});}(e,_),relativeOrigin:_,originalExtent:v};}},"821cb9a8":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b49915b3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"822f7d3c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f881504d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8246ad8d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("99a289e8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8251592a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return f;},rgbBasis:function(){return c;},rgbBasisClosed:function(){return d;}});var n=r("777fffbe"),a=r("852bbaa9"),i=r("d15e993a"),o=n._(r("8a479a90")),u=n._(r("32be59f7")),l=a._(r("62767c40")),f=function e(t){var r=(0,l.gamma)(t);function n(e,t){var n=r((e=(0,i.rgb)(e)).r,(t=(0,i.rgb)(t)).r),a=r(e.g,t.g),o=r(e.b,t.b),u=(0,l.default)(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=o(t),e.opacity=u(t),e+"";};}return n.gamma=e,n;}(1);function s(e){return function(t){var r,n,a=t.length,o=Array(a),u=Array(a),l=Array(a);for(r=0;r<a;++r)n=(0,i.rgb)(t[r]),o[r]=n.r||0,u[r]=n.g||0,l[r]=n.b||0;return o=e(o),u=e(u),l=e(l),n.opacity=1,function(e){return n.r=o(e),n.g=u(e),n.b=l(e),n+"";};};}var c=s(o.default),d=s(u.default);},"82a23b8c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{timeTickInterval:function(){return m;},timeTicks:function(){return _;}});var n=r("3ad7e104"),a=r("0bb366b0"),i=r("d875d83c"),o=r("95c73683"),u=r("7fdd6f0e"),l=r("4ead9522"),f=r("03224ccd"),s=r("f886886e"),c=r("fde9c4bf"),d=r("d36b3ce7");function h(e,t,r,u,l,f){let s=[[o.second,1,a.durationSecond],[o.second,5,5*a.durationSecond],[o.second,15,15*a.durationSecond],[o.second,30,30*a.durationSecond],[f,1,a.durationMinute],[f,5,5*a.durationMinute],[f,15,15*a.durationMinute],[f,30,30*a.durationMinute],[l,1,a.durationHour],[l,3,3*a.durationHour],[l,6,6*a.durationHour],[l,12,12*a.durationHour],[u,1,a.durationDay],[u,2,2*a.durationDay],[r,1,a.durationWeek],[t,1,a.durationMonth],[t,3,3*a.durationMonth],[e,1,a.durationYear]];function c(t,r,o){let u=Math.abs(r-t)/o,l=(0,n.bisector)(([,,e])=>e).right(s,u);if(l===s.length)return e.every((0,n.tickStep)(t/a.durationYear,r/a.durationYear,o));if(0===l)return i.millisecond.every(Math.max((0,n.tickStep)(t,r,o),1));let[f,c]=s[u/s[l-1][2]<s[l][2]/u?l-1:l];return f.every(c);}return[function(e,t,r){let n=t<e;n&&([e,t]=[t,e]);let a=r&&"function"==typeof r.range?r:c(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i;},c];}let[p,v]=h(d.utcYear,c.utcMonth,s.utcSunday,f.unixDay,l.utcHour,u.utcMinute),[_,m]=h(d.timeYear,c.timeMonth,s.timeSunday,f.timeDay,l.timeHour,u.timeMinute);},"82a731f4":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{AsyncSeriesBailHook:function(){return ee;},AsyncSeriesHook:function(){return J;},AsyncWaterfallHook:function(){return et;},SyncBailHook:function(){return Q;},SyncHook:function(){return W;}});let n=r("618b9810");function a(e,t,r,n){return new(r||(r=Promise))(function(a,i){function o(e){try{l(n.next(e));}catch(e){i(e);}}function u(e){try{l(n.throw(e));}catch(e){i(e);}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t);})).then(o,u);}l((n=n.apply(e,t||[])).next());});}function i(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1];},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this;}),i;function u(i){return function(u){return function(i){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue;}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break;}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break;}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break;}a[2]&&o.ops.pop(),o.trys.pop();continue;}i=t.call(e,o);}catch(e){i=[6,e],n=0;}finally{r=a=0;}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0};}([i,u]);};}}function o(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value);}catch(e){a={error:e};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(a)throw a.error;}}return o;}function u(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t));}function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;}var f,s,c,d,h,p,v,_,m,g,b,y,E={exports:{}},T={exports:{}},A={exports:{}};Object.defineProperty(c=A.exports,"__esModule",{value:!0}),c.default=function(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0;},A.exports=c.default;var S={},O={exports:{}},R={exports:{}};Object.defineProperty(d=R.exports,"__esModule",{value:!0}),d.default=function(e){return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=t.pop();return e.call(this,t,n);};},R.exports=d.default;var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.fallback=L,M.wrap=w;var x=M.hasQueueMicrotask="function"==typeof queueMicrotask&&queueMicrotask,C=M.hasSetImmediate="function"==typeof setImmediate&&setImmediate,P=M.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function L(e){setTimeout(e,0);}function w(e){return function(t){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return e(function(){return t.apply(void 0,r);});};}y=x?queueMicrotask:C?setImmediate:P?n.nextTick:L,M.default=w(y),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,S.isAsync)(e)?function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=t.pop();return i(e.apply(this,t),n);}:(0,r.default)(function(t,r){var n;try{n=e.apply(this,t);}catch(e){return r(e);}if(n&&"function"==typeof n.then)return i(n,r);r(null,n);});};var r=a(R.exports),n=a(M);function a(e){return e&&e.__esModule?e:{default:e};}function i(e,t){return e.then(function(e){o(t,null,e);},function(e){o(t,e&&e.message?e:Error(e));});}function o(e,t,r){try{e(t,r);}catch(e){(0,n.default)(function(e){throw e;},e);}}e.exports=t.default;}(O,O.exports),Object.defineProperty(S,"__esModule",{value:!0}),S.isAsyncIterable=S.isAsyncGenerator=S.isAsync=void 0;var I=(f=O.exports)&&f.__esModule?f:{default:f};function N(e){return"AsyncFunction"===e[Symbol.toStringTag];}S.default=function(e){if("function"!=typeof e)throw Error("expected a function");return N(e)?(0,I.default)(e):e;},S.isAsync=N,S.isAsyncGenerator=function(e){return"AsyncGenerator"===e[Symbol.toStringTag];},S.isAsyncIterable=function(e){return"function"==typeof e[Symbol.asyncIterator];};var D={exports:{}};Object.defineProperty(h=D.exports,"__esModule",{value:!0}),h.default=function(e,t){if(void 0===t&&(t=e.length),!t)throw Error("arity is undefined");return function(){for(var r=this,n=[],a=arguments.length;a--;)n[a]=arguments[a];return"function"==typeof n[t-1]?e.apply(this,n):new Promise(function(a,i){n[t-1]=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(e)return i(e);a(t.length>1?t:t[0]);},e.apply(r,n);});};},D.exports=h.default,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=i(A.exports),n=i(S),a=i(D.exports);function i(e){return e&&e.__esModule?e:{default:e};}t.default=(0,a.default)(function(e,t,a){var i=(0,r.default)(t)?[]:{};e(t,function(e,t,r){(0,n.default)(e)(function(e){for(var n=[],a=arguments.length-1;a-- >0;)n[a]=arguments[a+1];n.length<2&&(n=n[0]),i[t]=n,r(e);});},function(e){return a(e,i);});},3),e.exports=t.default;}(T,T.exports);var F={exports:{}},B={exports:{}},U={exports:{}},j={exports:{}};Object.defineProperty(p=j.exports,"__esModule",{value:!0}),p.default=function(e){function t(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(null!==e){var n=e;e=null,n.apply(this,t);}}return Object.assign(t,e),t;},j.exports=p.default;var k={exports:{}},G={exports:{}};Object.defineProperty(v=G.exports,"__esModule",{value:!0}),v.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]();},G.exports=v.default,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e))return t=-1,a=e.length,function(){return++t<a?{value:e[t],key:t}:null;};var t,a,i,o,u,l,f=(0,n.default)(e);return f?(i=-1,function(){var e=f.next();return e.done?null:(i++,{value:e.value,key:i});}):(o=e?Object.keys(e):[],u=-1,l=o.length,function t(){var r=o[++u];return"__proto__"===r?t():u<l?{value:e[r],key:r}:null;});};var r=a(A.exports),n=a(G.exports);function a(e){return e&&e.__esModule?e:{default:e};}e.exports=t.default;}(k,k.exports);var z={exports:{}};Object.defineProperty(_=z.exports,"__esModule",{value:!0}),_.default=function(e){return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(null===e)throw Error("Callback was already called.");var n=e;e=null,n.apply(this,t);};},z.exports=_.default;var V={exports:{}},H={exports:{}};Object.defineProperty(m=H.exports,"__esModule",{value:!0}),m.default={},H.exports=m.default,Object.defineProperty(g=V.exports,"__esModule",{value:!0}),g.default=function(e,t,r,n){var a=!1,i=!1,o=!1,u=0,l=0;function f(){u>=t||o||a||(o=!0,e.next().then(function(e){var t=e.value,c=e.done;if(!i&&!a){if(o=!1,c){a=!0,u<=0&&n(null);return;}u++,r(t,l,s),l++,f();}}).catch(c));}function s(e,t){if(u-=1,!i){if(e)return c(e);if(!1===e){a=!0,i=!0;return;}if(t===b.default||a&&u<=0)return a=!0,n(null);f();}}function c(e){i||(o=!1,a=!0,n(e));}f();},b=(s=H.exports)&&s.__esModule?s:{default:s},V.exports=g.default,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=u(j.exports),n=u(k.exports),a=u(z.exports),i=u(V.exports),o=u(H.exports);function u(e){return e&&e.__esModule?e:{default:e};}t.default=function(e){return function(t,u,l){if(l=(0,r.default)(l),e<=0)throw RangeError("concurrency limit cannot be less than 1");if(!t)return l(null);if((0,S.isAsyncGenerator)(t))return(0,i.default)(t,e,u,l);if((0,S.isAsyncIterable)(t))return(0,i.default)(t[Symbol.asyncIterator](),e,u,l);var f=(0,n.default)(t),s=!1,c=!1,d=0,h=!1;function p(e,t){if(!c){if(d-=1,e)s=!0,l(e);else if(!1===e)s=!0,c=!0;else{if(t===o.default||s&&d<=0)return s=!0,l(null);h||v();}}}function v(){for(h=!0;d<e&&!s;){var t=f();if(null===t){s=!0,d<=0&&l(null);return;}d+=1,u(t.value,t.key,(0,a.default)(p));}h=!1;}v();};},e.exports=t.default;}(U,U.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=i(U.exports),n=i(S),a=i(D.exports);function i(e){return e&&e.__esModule?e:{default:e};}t.default=(0,a.default)(function(e,t,a,i){return(0,r.default)(t)(e,(0,n.default)(a),i);},4),e.exports=t.default;}(B,B.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=a(B.exports),n=a(D.exports);function a(e){return e&&e.__esModule?e:{default:e};}t.default=(0,n.default)(function(e,t,n){return(0,r.default)(e,1,t,n);},3),e.exports=t.default;}(F,F.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(n.default,e,t);};var r=a(T.exports),n=a(F.exports);function a(e){return e&&e.__esModule?e:{default:e};}e.exports=t.default;}(E,E.exports);var X=l(E.exports),W=function(){function e(){this.args=[],this.tasks=[];}return e.prototype.call=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];return this.args=t,X(this.tasks);},e.prototype.tap=function(e,t){var r=this;this.tasks.push(function(n){t.apply(void 0,u([],o(r.args),!1)),n(null,e);});},e;}(),Y={exports:{}},q={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=f(A.exports),n=f(H.exports),a=f(B.exports),i=f(j.exports),o=f(z.exports),u=f(S),l=f(D.exports);function f(e){return e&&e.__esModule?e:{default:e};}t.default=(0,l.default)(function(e,t,l){return((0,r.default)(e)?function(e,t,r){r=(0,i.default)(r);var a=0,u=0,l=e.length,f=!1;function s(e,t){!1===e&&(f=!0),!0!==f&&(e?r(e):(++u===l||t===n.default)&&r(null));}for(0===l&&r(null);a<l;a++)t(e[a],a,(0,o.default)(s));}:function(e,t,r){return(0,a.default)(e,1/0,t,r);})(e,(0,u.default)(t),l);},3),e.exports=t.default;}(q,q.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(r.default,e,t);};var r=a(q.exports),n=a(T.exports);function a(e){return e&&e.__esModule?e:{default:e};}e.exports=t.default;}(Y,Y.exports);var Z=l(Y.exports);!function(){function e(){this.tasks=[];}e.prototype.promise=function(){return Z(this.tasks);},e.prototype.tapPromise=function(e,t){var r=this;this.tasks.push(function(n){return a(r,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,t()];case 1:return r.sent(),n(null,e),[2];}});});});};}();var K={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=o(j.exports),n=o(z.exports),a=o(S),i=o(D.exports);function o(e){return e&&e.__esModule?e:{default:e};}t.default=(0,i.default)(function(e,t){if(t=(0,r.default)(t),!Array.isArray(e))return t(Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var i=0;function o(t){(0,a.default)(e[i++]).apply(void 0,t.concat([(0,n.default)(u)]));}function u(r){for(var n=[],a=arguments.length-1;a-- >0;)n[a]=arguments[a+1];if(!1!==r){if(r||i===e.length)return t.apply(void 0,[r].concat(n));o(n);}}o([]);}),e.exports=t.default;}(K,K.exports);var $=l(K.exports);!function(){function e(){this.tasks=[];}e.prototype.call=function(){return $(this.tasks);},e.prototype.tap=function(e,t){0===this.tasks.length?this.tasks.push(function(e){var r=t();e(!!r&&null,r);}):this.tasks.push(function(r,n){n(!!t.apply(void 0,u([],o(r),!1))&&null,e);});};}();var Q=function(){function e(){this.tasks=[];}return e.prototype.call=function(){return X(this.tasks);},e.prototype.tap=function(e,t){this.tasks.push(function(r){r(t(),e);});},e;}(),J=function(){function e(){this.args=[],this.tasks=[];}return e.prototype.promise=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];return this.args=t,X(this.tasks);},e.prototype.tapPromise=function(e,t){var r=this;this.tasks.push(function(n){return a(r,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,t.apply(void 0,u([],o(this.args),!1))];case 1:return r.sent(),n(null,e),[2];}});});});},e;}(),ee=function(){function e(){this.args=[],this.tasks=[];}return e.prototype.promise=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];return this.args=t,X(this.tasks);},e.prototype.tapPromise=function(e,t){var r=this;this.tasks.push(function(n){return a(r,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,t.apply(void 0,u([],o(this.args),!1))];case 1:return n(r.sent(),e),[2];}});});});},e;}(),et=function(){function e(){this.tasks=[];}return e.prototype.promise=function(){return $(this.tasks);},e.prototype.tapPromise=function(e,t){0===this.tasks.length?this.tasks.push(function(e){t().then(function(t){e(null,t);});}):this.tasks.push(function(e,r){t(e).then(function(e){r(null,e);});});},e;}();},"82f7d1ec":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8ae98c5a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"832ea8dc":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cd70522e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"832f9955":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return o;},minutes:function(){return u;}});var n=r("777fffbe")._(r("d365c0f8")),a=r("184d1c4d"),i=(0,n.default)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a.durationSecond);},function(e,t){e.setTime(+e+t*a.durationMinute);},function(e,t){return(t-e)/a.durationMinute;},function(e){return e.getMinutes();}),o=i,u=i.range;},"83cdc5bc":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("777fffbe")._(r("e1e610e4")),a=r("3fb4fdb6");class i{constructor(){(0,n.default)(this,"shaderModuleService",void 0),(0,n.default)(this,"rendererService",void 0),(0,n.default)(this,"cameraService",void 0),(0,n.default)(this,"mapService",void 0),(0,n.default)(this,"interactionService",void 0),(0,n.default)(this,"layerService",void 0),(0,n.default)(this,"config",void 0);}getName(){return"";}getType(){return a.PassType.Normal;}init(e,t){this.config=t,this.rendererService=e.getContainer().rendererService,this.cameraService=e.getContainer().cameraService,this.mapService=e.getContainer().mapService,this.interactionService=e.getContainer().interactionService,this.layerService=e.getContainer().layerService,this.shaderModuleService=e.getContainer().shaderModuleService;}render(e){}}},"83ebce65":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ab044849")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"844a45e1":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Logo:function(){return i;},default:function(){return i;}});var n=r("89217383"),a=r("c1b59056");class i extends a.Control{getDefault(){return{position:a.PositionType.BOTTOMLEFT,name:"logo",href:"https://l7.antv.antgroup.com/",img:"https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*GRb1TKp4HcMAAAAAAAAAAAAAARQnAQ"};}onAdd(){let e=n.DOM.create("div","l7-control-logo");return this.setLogoContent(e),e;}onRemove(){return null;}setOptions(e){super.setOptions(e),this.checkUpdateOption(e,["img","href"])&&(n.DOM.clearChildren(this.container),this.setLogoContent(this.container));}setLogoContent(e){let{href:t,img:r}=this.controlOption,a=n.DOM.create("img");if(a.setAttribute("src",r),a.setAttribute("aria-label","AntV logo"),n.DOM.setUnDraggable(a),t){let r=n.DOM.create("a","l7-control-logo-link");r.target="_blank",r.href=t,r.rel="noopener nofollow",r.setAttribute("rel","noopener nofollow"),r.appendChild(a),e.appendChild(r);}else e.appendChild(a);}}},"844f219c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return function e(t){let r;let n=[];function a(e){return null==e?r:e;}return a.invert=a,a.domain=a.range=e=>e?(n=e,e):n,a.unknown=e=>e?(r=e,e):r,a.copy=()=>e(t).unknown(r),a;};}});},"84f06726":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"TileLayerService",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4"));class o{constructor({rendererService:e,layerService:t,parent:r}){(0,i.default)(this,"tileResource",new Map),(0,i.default)(this,"rendererService",void 0),(0,i.default)(this,"layerService",void 0),(0,i.default)(this,"parent",void 0),(0,i.default)(this,"layerTiles",[]),this.rendererService=e,this.layerService=t,this.parent=r;}get tiles(){return this.layerTiles;}hasTile(e){return this.layerTiles.some(t=>t.key===e);}addTile(e){this.layerTiles.push(e);}getTile(e){return this.layerTiles.find(t=>t.key===e);}getVisibleTileBylngLat(e){return this.layerTiles.find(t=>t.isLoaded&&t.visible&&t.lnglatInBounds(e));}removeTile(e){let t=this.layerTiles.findIndex(t=>t.key===e),r=this.layerTiles.splice(t,1);r[0]&&r[0].destroy();}updateTileVisible(e){let t=this.getTile(e.key);if(e.isVisible){if(e.parent){let r=this.isChildrenLoaded(e.parent);null==t||t.updateVisible(r);}else null==t||t.updateVisible(!0);}else if(e.parent){let r=this.isChildrenLoaded(e.parent);null==t||t.updateVisible(!r);}else null==t||t.updateVisible(!1);}isParentLoaded(e){let t=e.parent;if(!t)return!0;let r=this.getTile(null==t?void 0:t.key);return null!=r&&!!r.isLoaded;}isChildrenLoaded(e){let t=null==e?void 0:e.children;return 0===t.length||t.every(e=>{let t=this.getTile(null==e?void 0:e.key);return!t||(null==t?void 0:t.isLoaded)===!0;});}render(){var e=this;return(0,a.default)(function*(){var t;let r=e.getRenderLayers().map((t=(0,a.default)(function*(t){yield e.layerService.renderTileLayer(t);}),function(e){return t.apply(this,arguments);}));yield Promise.all(r);})();}getRenderLayers(){let e=this.layerTiles.filter(e=>e.visible&&e.isLoaded),t=[];return e.map(e=>t.push(...e.getLayers())),t;}getLayers(){let e=this.layerTiles.filter(e=>e.isLoaded),t=[];return e.map(e=>t.push(...e.getLayers())),t;}getTiles(){return this.layerTiles;}destroy(){this.layerTiles.forEach(e=>e.destroy()),this.tileResource.clear();}}},"850946c6":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3aa0f353")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"854374b7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("11cc9d3b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"854c8fb7":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("65d445b5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"85837a60":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a8e0bcd7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"85b90aaf":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dbe79d12")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"85c5dbb2":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7f86e347")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"85e5f50c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("6c8aee75")),f=r("f9b12b3c"),s=r("cb029c45");let c={solid:0,dash:1};class d extends l.default{constructor(...e){super(...e),(0,i.default)(this,"texture",void 0),(0,i.default)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return;}this.texture=e({data:this.iconService.getCanvas(),mag:o.gl.NEAREST,min:o.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture];});}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13});}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:r="normal",lineType:n="solid",dashArray:a=[10,5],lineTexture:i=!1,iconStep:o=100,segmentNumber:l=30,globalArcHeight:f=10}=this.layer.getLayerConfig(),{animateOption:d}=this.layer.getLayerConfig();2===a.length&&a.push(0,0);let h=0,p=[0,0,0,0],v=[0,0,0,0];if(e&&t&&(p=(0,u.rgb2arr)(e),v=(0,u.rgb2arr)(t),h=1),this.rendererService.getDirty()){var _;null===(_=this.texture)||void 0===_||_.bind();}let m={u_animate:this.animateOption2Array(d),u_dash_array:a,u_sourceColor:p,u_targetColor:v,u_textSize:[1024,this.iconService.canvasHeight||128],u_globel:"GLOBEL"===this.mapService.version?1:0,u_globel_radius:s.EARTH_RADIUS,u_global_height:f,segmentNumber:l,u_line_type:c[n]||0,u_icon_step:o,u_line_texture:i?1:0,u_textureBlend:"normal"===r?0:1,u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:h};return this.getUniformsBufferInfo(m);}initModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels();})();}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture);}getShaders(){return{frag:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform sampler2D u_texture;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array: [10.0, 5., 0, 0];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_globel;\n  float u_globel_radius;\n  float u_global_height: 10;\n  float segmentNumber;\n  float u_line_type: 0.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_time;\n  float u_linearColor: 0.0;\n};\n\nin vec4 v_color;\nin vec4 v_dash_array;\nin float v_segmentIndex;\nin vec2 v_iconMapUV;\nin vec4 v_line_data;\n\nout vec4 outputColor;\n\n#pragma include "picking"\n\nvoid main() {\n  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6\n  float d_distance_ratio = v_line_data.g; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B\n  outputColor = v_color;\n\n  if(u_line_type == LineTypeDash) {\n    float flag = 0.;\n    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    outputColor.a *=flag;\n  }\n\n  if(u_animate.x == Animate && u_line_texture != LineTexture) {\n      animateSpeed = u_time / u_animate.y;\n      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);\n\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      outputColor.a *= alpha;\n\n      // u_animate\n      // x enable\n      // y duration\n      // z interval\n      // w trailLength\n  }\n\n  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture\n    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));\n    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);\n    float count = v_line_data.b; // // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF\n\n    float time = 0.0;\n    if(u_animate.x == Animate) {\n      time = u_time / u_animate.y;\n    }\n    float redioCount = arcRadio * count;\n\n    float u = fract(redioCount - time);\n\n    float v = v_line_data.a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\n\n    if(u_animate.x == Animate) {\n      float currentPlane = floor(redioCount - time);\n      float textureStep = floor(count * u_animate.z);\n      float a = mod(currentPlane, textureStep);\n      if(a < textureStep - 1.0) {\n        pattern = vec4(0.0);\n      }\n    }\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      outputColor = filterColor(outputColor + pattern);\n    } else { // replace\n        pattern.a *= v_color.a;\n        if(outputColor.a <= 0.0) {\n          pattern.a = 0.0;\n          discard;\n        } else {\n          outputColor = filterColor(pattern);\n        }\n    }\n\n  } else {\n    outputColor = filterColor(outputColor);\n  }\n}\n',vert:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\n\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array: [10.0, 5., 0, 0];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_globel;\n  float u_globel_radius;\n  float u_global_height: 10;\n  float segmentNumber;\n  float u_line_type: 0.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_time;\n  float u_linearColor: 0.0;\n};\nout vec4 v_color;\nout vec4 v_dash_array;\nout float v_segmentIndex;\nout vec2 v_iconMapUV;\nout vec4 v_line_data;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return dir_screenspace.xy * sign(offset_direction);\n}\n\nfloat torad(float deg) {\n  return (deg / 180.0) * acos(-1.0);\n}\n\nvec3 lglt2xyz(vec2 lnglat) {\n  float pi = 3.1415926;\n  // + Math.PI/2 \u662F\u4E3A\u4E86\u5BF9\u9F50\u5750\u6807\n  float lng = torad(lnglat.x) + pi / 2.0;\n  float lat = torad(lnglat.y);\n\n  // \u624B\u52A8\u589E\u52A0\u4E00\u4E9B\u504F\u79FB\uFF0C\u51CF\u8F7B\u9762\u7684\u51B2\u7A81\n  float radius = u_globel_radius;\n\n  float z = radius * cos(lat) * cos(lng);\n  float x = radius * cos(lat) * sin(lng);\n  float y = radius * sin(lat);\n  return vec3(x, y, z);\n}\n\nvoid main() {\n  //vs\u4E2D\u8BA1\u7B97\u6E10\u53D8\u8272\n  if(u_linearColor==1.0){\n    float d_segmentIndex = a_Position.x + 1.0; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E\n    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);\n  }\n  else{\n    v_color = a_Color;\n  }\n  v_color.a = v_color.a * opacity;\n  vec2 source = project_position(vec4(a_Instance.rg, 0, 0), a_Instance64Low.xy).xy;\n  vec2 target = project_position(vec4(a_Instance.ba, 0, 0), a_Instance64Low.zw).xy;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n  float d_distance_ratio;\n   if(u_line_type == LineTypeDash) {\n    d_distance_ratio = segmentIndex / segmentNumber;\n    float total_Distance = pixelDistance(source, target) / 2.0 * PI;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n    if(u_animate.x == Animate) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n  }\n  v_line_data.g = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  vec3 curr = getPos(source, target, segmentRatio);\n  vec3 next = getPos(source, target, nextSegmentRatio);\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n\n\n  v_segmentIndex = a_Position.x;\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F\n\n    float arcDistrance = length(source - target);\n    float pixelLen =  project_pixel_texture(u_icon_step);\n    v_line_data.b = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF\n\n    vec2 projectOffset = project_pixel(offset);\n    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB\n    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB\n    v_line_data.a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C\n\n    v_iconMapUV = a_iconMapUV;\n  }\n\n\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z * thetaOffset, 1.0));\n\n  // \u5730\u7403\u6A21\u5F0F\n  if(u_globel > 0.0) {\n    vec3 startLngLat = lglt2xyz(a_Instance.rg);\n    vec3 endLngLat = lglt2xyz(a_Instance.ba);\n    float globalRadius = length(startLngLat);\n\n    vec3 lineDir = normalize(endLngLat - startLngLat);\n    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);\n\n    // \u7EBF\u7684\u504F\u79FB\n    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;\n    // \u8BA1\u7B97\u8D77\u59CB\u70B9\u548C\u7EC8\u6B62\u70B9\u7684\u8DDD\u79BB\n    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;\n    // \u8BA1\u7B97\u98DE\u7EBF\u5404\u4E2A\u8282\u70B9\u76F8\u5E94\u7684\u9AD8\u5EA6\n    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;\n    // \u5730\u7403\u70B9\u4F4D\n    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;\n\n    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);\n  }\n\n\n  setPickingColor(a_PickingColor);\n}\n',type:""};}buildModels(){var e=this;return(0,a.default)(function*(){let{segmentNumber:t=30}=e.layer.getLayerConfig(),{frag:r,vert:n,type:a}=e.getShaders();return[(yield e.layer.buildLayerModel({moduleName:"lineArc3d"+a,vertexShader:n,fragmentShader:r,defines:e.getDefines(),inject:e.getInject(),triangulation:f.LineArcTriangulation,styleOption:{segmentNumber:t}}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:o.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t];}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:o.AttributeType.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:4,update:(e,t,r)=>[r[3],r[4],r[5],r[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:o.AttributeType.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:4,update:(e,t,r)=>[(0,u.fp64LowPart)(r[3]),(0,u.fp64LowPart)(r[4]),(0,u.fp64LowPart)(r[5]),(0,u.fp64LowPart)(r[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:o.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:r}=e,{x:n,y:a}=t[r]||{x:0,y:0};return[n,a];}}}),this.styleAttributeService.registerStyleAttribute({name:"thetaOffset",type:o.AttributeType.Attribute,descriptor:{name:"a_ThetaOffset",shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:1,update:e=>{let{thetaOffset:t=1}=e;return[t];}}});}}},"85e640df":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("73576732")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8603cd2e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6eaf5cb3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8720377c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("e1e610e4")),u=r("89217383"),l=r("acfdc9f2"),f=r("e3b549d7"),s=r("f9ae2822");class c{constructor(e){var t,r=this;(0,o.default)(this,"pickedColors",void 0),(0,o.default)(this,"pickedTileLayers",[]),(0,o.default)(this,"pickingFBO",void 0),(0,o.default)(this,"width",0),(0,o.default)(this,"height",0),(0,o.default)(this,"alreadyInPicking",!1),(0,o.default)(this,"pickBufferScale",1),(0,o.default)(this,"pickFromPickingFBO",(t=(0,i.default)(function*(e,{x:t,y:n,lngLat:i,type:o,target:l}){let f;let s=!1,{readPixels:c,readPixelsAsync:d,getViewportSize:h,queryVerdorInfo:p}=r.rendererService,{width:v,height:_}=h(),{enableHighlight:m,enableSelect:g}=e.getLayerConfig(),b=t*u.DOM.DPR,y=n*u.DOM.DPR;if(b>v-1*u.DOM.DPR||b<0||y>_-1*u.DOM.DPR||y<0)return!1;if(f="WebGPU"===p()?yield d({x:Math.floor(b/r.pickBufferScale),y:Math.floor((_-(n+1)*u.DOM.DPR)/r.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:r.pickingFBO}):c({x:Math.floor(b/r.pickBufferScale),y:Math.floor((_-(n+1)*u.DOM.DPR)/r.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:r.pickingFBO}),r.pickedColors=f,0!==f[0]||0!==f[1]||0!==f[2]){let a=(0,u.decodePickingColor)(f),c=e.layerPickService.getFeatureById(a);a!==e.getCurrentPickId()&&"mousemove"===o&&(o="mouseenter");let d={x:t,y:n,type:o,lngLat:i,featureId:a,feature:c,target:l};c&&(s=!0,e.setCurrentPickId(a),r.triggerHoverOnLayer(e,d));}else{let u={x:t,y:n,lngLat:i,type:null!==e.getCurrentPickId()&&"mousemove"===o?"mouseout":"un"+o,featureId:null,target:l,feature:null};r.triggerHoverOnLayer(e,(0,a.default)((0,a.default)({},u),{},{type:"unpick"})),r.triggerHoverOnLayer(e,u),e.setCurrentPickId(null);}if(m&&e.layerPickService.highlightPickedFeature(f),g&&"click"===o&&(null==f?void 0:f.toString())!==[0,0,0,0].toString()){let t=(0,u.decodePickingColor)(f);null===e.getCurrentSelectedId()||t!==e.getCurrentSelectedId()?(e.layerPickService.selectFeature(f),e.setCurrentSelectedId(t)):(e.layerPickService.selectFeature(new Uint8Array([0,0,0,0])),e.setCurrentSelectedId(null));}return s;}),function(e,r){return t.apply(this,arguments);})),this.container=e;}get mapService(){return this.container.mapService;}get rendererService(){return this.container.rendererService;}get configService(){return this.container.globalConfigService;}get interactionService(){return this.container.interactionService;}get layerService(){return this.container.layerService;}init(e){let{createTexture2D:t,createFramebuffer:r,getViewportSize:n}=this.rendererService,{width:a,height:i}=n();this.pickBufferScale=this.configService.getSceneConfig(e).pickBufferScale||1;let o=t({width:a=Math.round(a/this.pickBufferScale),height:i=Math.round(i/this.pickBufferScale),usage:s.TextureUsage.RENDER_TARGET,label:"Picking Texture"});this.pickingFBO=r({color:o,depth:!0,width:a,height:i}),this.interactionService.on(f.InteractionEvent.Hover,this.pickingAllLayer.bind(this));}boxPickLayer(e,t,r){var n=this;return(0,i.default)(function*(){let{useFramebufferAsync:a,clear:o}=n.rendererService;n.resizePickingFBO(),e.hooks.beforePickingEncode.call(),yield a(n.pickingFBO,(0,i.default)(function*(){o({framebuffer:n.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),e.renderModels({ispick:!0});})),e.hooks.afterPickingEncode.call(),r((yield n.pickBox(e,t)));})();}pickBox(e,t){var r=this;return(0,i.default)(function*(){let[n,i,o,l]=t.map(e=>Math.floor((e<0?0:e)*u.DOM.DPR/r.pickBufferScale)),{readPixelsAsync:f,getViewportSize:s}=r.rendererService,{width:c,height:d}=s();if(n>(c-1)*u.DOM.DPR/r.pickBufferScale||o<0||i>(d-1)*u.DOM.DPR/r.pickBufferScale||l<0)return[];let h=Math.min(c/r.pickBufferScale,o)-n,p=Math.min(d/r.pickBufferScale,l)-i,v=yield f({x:n,y:Math.floor(d/r.pickBufferScale-(l+1)),width:h,height:p,data:new Uint8Array(h*p*4),framebuffer:r.pickingFBO}),_=[],m={};for(let t=0;t<v.length/4;t+=1){let r=v.slice(4*t,4*t+4),n=(0,u.decodePickingColor)(r);if(-1!==n&&!m[n]){let t=e.layerPickService.getFeatureById(n);_.push((0,a.default)((0,a.default)({},t),{},{pickedFeatureIdx:n})),m[n]=!0;}}return _;})();}handleCursor(e,t){let{cursor:r="",cursorEnabled:n}=e.getLayerConfig();if(n){let e="amap"===this.mapService.getType()?this.mapService.getMapContainer():this.mapService.getMarkerContainer(),n=null==e?void 0:e.style.getPropertyValue("cursor");"unmousemove"===t&&""!==n?null==e||e.style.setProperty("cursor",""):"mousemove"===t&&(null==e||e.style.setProperty("cursor",r));}}destroy(){this.pickingFBO.destroy(),this.pickingFBO=null;}pickingAllLayer(e){var t=this;return(0,i.default)(function*(){t.layerService.needPick(e.type)&&t.isPickingAllLayer()&&(t.alreadyInPicking=!0,yield t.pickingLayers(e),t.layerService.renderLayers(),t.alreadyInPicking=!1);})();}isPickingAllLayer(){return!this.alreadyInPicking&&!this.layerService.alreadyInRendering&&!this.interactionService.indragging&&!!this.layerService.getShaderPickStat();}resizePickingFBO(){let{getViewportSize:e}=this.rendererService,{width:t,height:r}=e();(this.width!==t||this.height!==r)&&(this.pickingFBO.resize({width:Math.round(t/this.pickBufferScale),height:Math.round(r/this.pickBufferScale)}),this.width=t,this.height=r);}pickingLayers(e){var t=this;return(0,i.default)(function*(){let{clear:r,useFramebufferAsync:n}=t.rendererService;for(let a of(t.resizePickingFBO(),t.layerService.getRenderList().filter(t=>t.needPick(e.type)).reverse())){yield n(t.pickingFBO,(0,i.default)(function*(){r({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),a.layerPickService.pickRender(e);}));let o=yield t.pickFromPickingFBO(a,e);if(t.layerService.pickedLayerId=o?+a.id:-1,o&&!a.getLayerConfig().enablePropagation)break;}})();}triggerHoverOnLayer(e,t){(0,l.isEventCrash)(t)&&(this.handleCursor(e,t.type),e.emit(t.type,t));}}},"87459b05":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dc440205")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"876766eb":function(e,t,r){"use strict";function n(e,t){return function(r,n){for(var a=r.length,i=[],o=0,u=e[0],l=0;a>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),i.push(r.substring(a-=u,a+u)),!((l+=u+1)>n));)u=e[o=(o+1)%e.length];return i.reverse().join(t);};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"87acb3bb":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("baf40285")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"87ee4b89":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c05a6a98")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"87fc3b28":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fcc9cf2d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8817064b":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return v;}});var n=r("df7fdcd8"),a=r("68cc65c7"),i=Object.defineProperty,o=Object.defineProperties,u=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))f.call(t,r)&&c(e,r,t[r]);if(l)for(var r of l(t))s.call(t,r)&&c(e,r,t[r]);return e;},h=(e,t)=>o(e,u(t)),p=(e,t)=>{var r={};for(var n in e)f.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&l)for(var n of l(e))0>t.indexOf(n)&&s.call(e,n)&&(r[n]=e[n]);return r;};function v(e,t){let{extent:r,coordinates:i,width:o,height:u}=t,l=p(t,["extent","coordinates","width","height"]);e.length<3&&console.warn("RGB\u89E3\u6790\u9700\u8981\u4E09\u4E2A\u6CE2\u6BB5\u7684\u6570\u636E");let[f,s,c]=l.bands||[0,1,2],v=[e[f],e[s],e[c]],_=[],[m,g]=(null==l?void 0:l.countCut)||[2,98],b=(null==l?void 0:l.RMinMax)||(0,n.percentile)(v[0],m,g),y=(null==l?void 0:l.GMinMax)||(0,n.percentile)(v[1],m,g),E=(null==l?void 0:l.BMinMax)||(0,n.percentile)(v[2],m,g);for(let e=0;e<v[0].length;e++)_.push(Math.max(0,v[0][e]-b[0])),_.push(Math.max(0,v[1][e]-y[0])),_.push(Math.max(0,v[2][e]-E[0]));let T=(0,a.extentToCoord)(i,r);return{_id:1,dataArray:[h(d({_id:1,data:_,width:o,height:u,rMinMax:b,gMinMax:y,bMinMax:E},l),{coordinates:T})]};}},"88492eeb":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f615dc9f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8887c797":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ff3b2c63")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"88a7b0c5":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ffc924cc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"88c816ef":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5e768175")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8907fbfa":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e9d8dac9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},89217383:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{BKDRHash:function(){return o.BKDRHash;},DOM:function(){return i;},Satistics:function(){return u;},defaultValue:function(){return l;},djb2hash:function(){return o.djb2hash;},guid:function(){return o.guid;}});var n=r("d1751d7c"),a=r("852bbaa9");n._(r("73975725"),t),n._(r("3c70584f"),t),n._(r("5931c80f"),t),n._(r("eebee751"),t);var i=a._(r("0032afaa"));n._(r("9f4266e2"),t),n._(r("13c3ad69"),t),n._(r("bcc13b3f"),t);var o=r("2559c42b");n._(r("c995a356"),t),n._(r("5df46fe6"),t),n._(r("01758e1b"),t),n._(r("c130598e"),t);var u=a._(r("204be2e9"));function l(e,t){return null==e?t:e;}n._(r("4551e253"),t);},"8994b5b5":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7c4c52a6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"899e3e75":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"RenderCache",{enumerable:!0,get:function(){return f;}});var n=r("42f7077b"),a=r("4177c31e");function i(e,t){return e=(0,a.hashCodeNumberUpdate)(e,t.blendMode),e=(0,a.hashCodeNumberUpdate)(e,t.blendSrcFactor),e=(0,a.hashCodeNumberUpdate)(e,t.blendDstFactor);}function o(e){let t=0;t=(0,a.hashCodeNumberUpdate)(t,e.program.id),null!==e.inputLayout&&(t=(0,a.hashCodeNumberUpdate)(t,e.inputLayout.id)),t=function(e,t){var r,o,u,l,f,s,c,d,h,p,v,_;for(let r=0;r<t.attachmentsState.length;r++)h=i(h=e,(p=t.attachmentsState[r]).rgbBlendState),h=i(h,p.alphaBlendState),e=h=(0,a.hashCodeNumberUpdate)(h,p.channelWriteMask);return v=e,_=t.blendConstant||n.TransparentBlack,e=v=(0,a.hashCodeNumberUpdate)(v,_.r<<24|_.g<<16|_.b<<8|_.a),e=(0,a.hashCodeNumberUpdate)(e,t.depthCompare),e=(0,a.hashCodeNumberUpdate)(e,t.depthWrite?1:0),e=(0,a.hashCodeNumberUpdate)(e,null==(r=t.stencilFront)?void 0:r.compare),e=(0,a.hashCodeNumberUpdate)(e,null==(o=t.stencilFront)?void 0:o.passOp),e=(0,a.hashCodeNumberUpdate)(e,null==(u=t.stencilFront)?void 0:u.failOp),e=(0,a.hashCodeNumberUpdate)(e,null==(l=t.stencilFront)?void 0:l.depthFailOp),e=(0,a.hashCodeNumberUpdate)(e,null==(f=t.stencilBack)?void 0:f.compare),e=(0,a.hashCodeNumberUpdate)(e,null==(s=t.stencilBack)?void 0:s.passOp),e=(0,a.hashCodeNumberUpdate)(e,null==(c=t.stencilBack)?void 0:c.failOp),e=(0,a.hashCodeNumberUpdate)(e,null==(d=t.stencilBack)?void 0:d.depthFailOp),e=(0,a.hashCodeNumberUpdate)(e,t.stencilWrite?1:0),e=(0,a.hashCodeNumberUpdate)(e,t.cullMode),e=(0,a.hashCodeNumberUpdate)(e,t.frontFace?1:0),e=(0,a.hashCodeNumberUpdate)(e,t.polygonOffset?1:0);}(t,e.megaStateDescriptor);for(let r=0;r<e.colorAttachmentFormats.length;r++)t=(0,a.hashCodeNumberUpdate)(t,e.colorAttachmentFormats[r]||0);return t=(0,a.hashCodeNumberUpdate)(t,e.depthStencilAttachmentFormat||0),(0,a.hashCodeNumberFinish)(t);}function u(e){let t=0;if(e.samplerBindings)for(let r=0;r<e.samplerBindings.length;r++){let n=e.samplerBindings[r];null!==n&&null!==n.texture&&(t=(0,a.hashCodeNumberUpdate)(t,n.texture.id));}if(e.uniformBufferBindings)for(let r=0;r<e.uniformBufferBindings.length;r++){let n=e.uniformBufferBindings[r];null!==n&&null!==n.buffer&&(t=(0,a.hashCodeNumberUpdate)(t,n.buffer.id),t=(0,a.hashCodeNumberUpdate)(t,n.binding),t=(0,a.hashCodeNumberUpdate)(t,n.offset),t=(0,a.hashCodeNumberUpdate)(t,n.size));}if(e.storageBufferBindings)for(let r=0;r<e.storageBufferBindings.length;r++){let n=e.storageBufferBindings[r];null!==n&&null!==n.buffer&&(t=(0,a.hashCodeNumberUpdate)(t,n.buffer.id),t=(0,a.hashCodeNumberUpdate)(t,n.binding),t=(0,a.hashCodeNumberUpdate)(t,n.offset),t=(0,a.hashCodeNumberUpdate)(t,n.size));}if(e.storageTextureBindings)for(let r=0;r<e.storageTextureBindings.length;r++){let n=e.storageTextureBindings[r];null!==n&&null!==n.texture&&(t=(0,a.hashCodeNumberUpdate)(t,n.texture.id),t=(0,a.hashCodeNumberUpdate)(t,n.binding));}return(0,a.hashCodeNumberFinish)(t);}function l(e,t){var r,n,a,i;return(null==(r=e.vertex)?void 0:r.glsl)===(null==(n=t.vertex)?void 0:n.glsl)&&(null==(a=e.fragment)?void 0:a.glsl)===(null==(i=t.fragment)?void 0:i.glsl);}var f=class{constructor(e){this.device=e,this.bindingsCache=new a.HashMap(n.bindingsDescriptorEquals,u),this.renderPipelinesCache=new a.HashMap(n.renderPipelineDescriptorEquals,o),this.inputLayoutsCache=new a.HashMap(n.inputLayoutDescriptorEquals,a.nullHashFunc),this.programCache=new a.HashMap(l,a.nullHashFunc);}createBindings(e){var t;let r=this.bindingsCache.get(e);if(null===r){let a=(0,n.bindingsDescriptorCopy)(e);a.uniformBufferBindings=null==(t=a.uniformBufferBindings)?void 0:t.filter(({size:e})=>e&&e>0),r=this.device.createBindings(a),this.bindingsCache.add(a,r);}return r;}createRenderPipeline(e){let t=this.renderPipelinesCache.get(e);if(null===t){let r=(0,n.renderPipelineDescriptorCopy)(e);r.colorAttachmentFormats=r.colorAttachmentFormats.filter(e=>e),t=this.device.createRenderPipeline(r),this.renderPipelinesCache.add(r,t);}return t;}createInputLayout(e){e.vertexBufferDescriptors=e.vertexBufferDescriptors.filter(e=>!!e);let t=this.inputLayoutsCache.get(e);if(null===t){let r=(0,n.inputLayoutDescriptorCopy)(e);t=this.device.createInputLayout(r),this.inputLayoutsCache.add(r,t);}return t;}createProgram(e){let t=this.programCache.get(e);if(null===t){var r,n;let a={vertex:{glsl:null==(r=e.vertex)?void 0:r.glsl},fragment:{glsl:null==(n=e.fragment)?void 0:n.glsl}};t=this.device.createProgram(e),this.programCache.add(a,t);}return t;}destroy(){for(let e of this.bindingsCache.values())e.destroy();for(let e of this.renderPipelinesCache.values())e.destroy();for(let e of this.inputLayoutsCache.values())e.destroy();for(let e of this.programCache.values())e.destroy();this.bindingsCache.clear(),this.renderPipelinesCache.clear(),this.inputLayoutsCache.clear(),this.programCache.clear();}};},"89aa4b75":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("777fffbe"),a=n._(r("09451e61")),i=n._(r("3f9d8e71")),o=n._(r("004bfbe9")),u={plane:i.default,sprite:o.default,billboard:a.default};},"8a0f7628":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c31e6ece")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8a479a90":function(e,t,r){"use strict";function n(e,t,r,n,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*a)/6;}function a(e){var t=e.length-1;return function(r){var a=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[a],o=e[a+1],u=a>0?e[a-1]:2*i-o,l=a<t-1?e[a+2]:2*o-i;return n((r-a/t)*t,u,i,o,l);};}r.d(t,"__esModule",{value:!0}),r.e(t,{basis:function(){return n;},default:function(){return a;}});},"8a660492":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("093ff907")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8aefe1bb":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("89217383"),u=r("84f06726"),l=r("64f21371"),f=r("f193436a"),s=r("cc6310ba");let{debounce:c}=o.lodashUtil;class d{constructor(e){(0,i.default)(this,"parent",void 0),(0,i.default)(this,"tileLayerService",void 0),(0,i.default)(this,"mapService",void 0),(0,i.default)(this,"layerService",void 0),(0,i.default)(this,"rendererService",void 0),(0,i.default)(this,"pickingService",void 0),(0,i.default)(this,"tilePickService",void 0),(0,i.default)(this,"tilesetManager",void 0),(0,i.default)(this,"initedTileset",!1),(0,i.default)(this,"lastViewStates",void 0),(0,i.default)(this,"mapchange",()=>{var e;if(!1===this.parent.isVisible())return;let{latLonBounds:t,zoom:r}=this.getCurrentView();this.lastViewStates&&this.lastViewStates.zoom===r&&this.lastViewStates.latLonBounds.toString()===t.toString()||(this.lastViewStates={zoom:r,latLonBounds:t},null===(e=this.tilesetManager)||void 0===e||e.throttleUpdate(r,t));}),(0,i.default)(this,"viewchange",c(this.mapchange,24)),this.parent=e;let t=this.parent.getContainer();this.rendererService=t.rendererService,this.layerService=t.layerService,this.mapService=t.mapService,this.pickingService=t.pickingService,this.tileLayerService=new u.TileLayerService({rendererService:this.rendererService,layerService:this.layerService,parent:e}),this.tilePickService=new l.TilePickService({tileLayerService:this.tileLayerService,layerService:this.layerService,parent:e}),this.parent.setLayerPickService(this.tilePickService),this.proxy(e),this.initTileSetManager();}initTileSetManager(){var e;let t=this.parent.getSource();if(this.tilesetManager=t.tileset,this.initedTileset||(this.bindTilesetEvent(),this.initedTileset=!0),!1===this.parent.isVisible())return;let{latLonBounds:r,zoom:n}=this.getCurrentView();null===(e=this.tilesetManager)||void 0===e||e.update(n,r);}getCurrentView(){let e=this.mapService.getBounds();return{latLonBounds:[e[0][0],e[0][1],e[1][0],e[1][1]],zoom:this.mapService.getZoom()};}bindTilesetEvent(){this.tilesetManager.on("tile-loaded",e=>{}),this.tilesetManager.on("tile-unload",e=>{this.tileUnLoad(e);}),this.tilesetManager.on("tile-error",(e,t)=>{this.tileError(e);}),this.tilesetManager.on("tile-update",()=>{this.tileUpdate();}),this.mapService.on("zoomend",this.mapchange),this.mapService.on("moveend",this.viewchange);}render(){this.tileLayerService.render();}getLayers(){return this.tileLayerService.getLayers();}getTiles(){return this.tileLayerService.getTiles();}getTile(e){return this.tileLayerService.getTile(e);}tileLoaded(e){}tileError(e){console.warn("error:",e);}destroy(){var e;this.mapService.off("zoomend",this.mapchange),this.mapService.off("moveend",this.viewchange),null===(e=this.tilesetManager)||void 0===e||e.destroy(),this.tileLayerService.destroy();}reload(){var e;this.tilesetManager.clear();let{latLonBounds:t,zoom:r}=this.getCurrentView();null===(e=this.tilesetManager)||void 0===e||e.update(r,t);}tileUnLoad(e){this.tileLayerService.removeTile(e.key);}tileUpdate(){var e=this;return(0,a.default)(function*(){var t;if(!e.tilesetManager)return;let r=e.parent.getMinZoom(),n=e.parent.getMaxZoom(),i=e.tilesetManager.tiles.filter(e=>e.isLoaded).filter(e=>e.isVisibleChange).filter(e=>e.data).filter(e=>e.z>=r&&e.z<n);yield Promise.all(i.map((t=(0,a.default)(function*(t){if(e.tileLayerService.hasTile(t.key))e.tileLayerService.updateTileVisible(t),e.tilePickService.setPickState(),e.layerService.reRender();else{let r=new((0,f.getTileFactory)(e.parent))(t,e.parent);yield r.initTileLayer(),e.tilePickService.setPickState(),0!==r.getLayers().length&&(e.tileLayerService.addTile(r),e.tileLayerService.updateTileVisible(t),e.layerService.reRender());}}),function(e){return t.apply(this,arguments);}))),e.tilesetManager.isLoaded&&e.parent.emit("tiles-loaded",e.tilesetManager.currentTiles);})();}setPickState(e){}pickRender(e){this.tilePickService.pickRender(e);}selectFeature(e){this.tilePickService.selectFeature(e);}highlightPickedFeature(e){this.tilePickService.highlightPickedFeature(e);}proxy(e){s.ProxyFuncs.forEach(t=>{let r=e[t].bind(e);e[t]=(...n)=>(r(...n),this.getLayers().map(e=>{e[t](...n);}),"style"===t&&this.getTiles().forEach(e=>e.styleUpdate(...n)),e);});}}},"8b831afe":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return p;}});var n=r("777fffbe"),a=r("852bbaa9"),i=r("132a6da3"),o=n._(r("71ba3a17")),u=r("35da6179"),l=n._(r("d75f960c")),f=n._(r("78dc401a")),s=n._(r("b0101f85")),c=n._(r("68ca6e33")),d=n._(r("5da5b083")),h=a._(r("219cabe6"));function p(e,t){var r,n=typeof t;return null==t||"boolean"===n?(0,d.default)(t):("number"===n?f.default:"string"===n?(r=(0,i.color)(t))?(t=r,o.default):c.default:t instanceof i.color?o.default:t instanceof Date?l.default:(0,h.isNumberArray)(t)?h.default:Array.isArray(t)?u.genericArray:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?s.default:f.default)(e,t);}},"8b9742ef":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c9b88f2b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8bc068ac":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Cubehelix:function(){return l;},default:function(){return u;}});var n=r("852bbaa9")._(r("a5c6da28")),a=r("2d6f995c"),i=r("0da7f664"),o=-1.78277*.29227-.1347134789;function u(e,t,r,n){return 1==arguments.length?function(e){if(e instanceof l)return new l(e.h,e.s,e.l,e.opacity);e instanceof a.Rgb||(e=(0,a.rgbConvert)(e));var t=e.r/255,r=e.g/255,n=e.b/255,u=(o*n+-1.7884503806*t-3.5172982438*r)/(o+-1.7884503806-3.5172982438),f=n-u,s=-((1.97294*(r-u)- -.29227*f)/.90649),c=Math.sqrt(s*s+f*f)/(1.97294*u*(1-u)),d=c?Math.atan2(s,f)*i.degrees-120:NaN;return new l(d<0?d+360:d,c,u,e.opacity);}(e):new l(e,t,r,null==n?1:n);}function l(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n;}(0,n.default)(l,u,(0,n.extend)(a.Color,{brighter(e){return e=null==e?a.brighter:Math.pow(a.brighter,e),new l(this.h,this.s,this.l*e,this.opacity);},darker(e){return e=null==e?a.darker:Math.pow(a.darker,e),new l(this.h,this.s,this.l*e,this.opacity);},rgb(){var e=isNaN(this.h)?0:(this.h+120)*i.radians,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),o=Math.sin(e);return new a.Rgb(255*(t+r*(-.14861*n+1.78277*o)),255*(t+r*(-.29227*n+-.90649*o)),255*(t+1.97294*n*r),this.opacity);}}));},"8bdf14aa":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return h;}});var n=r("777fffbe"),a=n._(r("cc661f7c")),i=n._(r("a0c669d5")),o=n._(r("b9fd3c65")),u=n._(r("e1e610e4")),l=r("7f434d9f"),f=n._(r("6c8aee75")),s=r("f9b12b3c");let c=["data"],d=["rasterData"];class h extends f.default{constructor(...e){super(...e),(0,u.default)(this,"texture",void 0),(0,u.default)(this,"dataOption",{});}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,o.default)((0,o.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{opacity:e=1,noDataValue:t=0}=this.layer.getLayerConfig(),{rMinMax:r=[0,255],gMinMax:n=[0,255],bMinMax:a=[0,255]}=this.dataOption,i={u_rminmax:r,u_gminmax:n,u_bminmax:a,u_opacity:e||1,u_noDataValue:t,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(i);}getRasterData(e){var t=this;return(0,i.default)(function*(){if(Array.isArray(e.data)){let{data:r}=e,n=(0,a.default)(e,c);return t.dataOption=n,(0,o.default)({data:r},n);}let r=yield e.data,{rasterData:n}=r,i=(0,a.default)(r,d);return(t.dataOption=i,Array.isArray(n))?(0,o.default)({data:n},i):(0,o.default)({data:Array.from(n)},i);})();}initModels(){var e=this;return(0,i.default)(function*(){e.initUniformsBuffer();let t=e.layer.getSource(),{createTexture2D:r}=e.rendererService,n=t.data.dataArray[0],{data:a,width:i,height:o}=yield e.getRasterData(n);return e.texture=r({data:new Float32Array(a),width:i,height:o,format:l.gl.RGB,type:l.gl.FLOAT}),[(yield e.layer.buildLayerModel({moduleName:"rasterImageDataRGBA",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_rminmax;\n  vec2 u_gminmax;\n  vec2 u_bminmax;\n  float u_opacity;\n  float u_noDataValue;\n};\n\nout vec2 v_texCoord;\n\n#pragma include "projection"\n\nvoid main() {\n  v_texCoord = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n}\n',fragmentShader:"uniform sampler2D u_texture;\nlayout(std140) uniform commonUniforms {\n  vec2 u_rminmax;\n  vec2 u_gminmax;\n  vec2 u_bminmax;\n  float u_opacity;\n  float u_noDataValue;\n};\n\nin vec2 v_texCoord;\n\nout vec4 outputColor;\n\nvoid main() {\n  vec3 rgb = texture(SAMPLER_2D(u_texture), vec2(v_texCoord.x, v_texCoord.y)).rgb;\n\n  if (rgb == vec3(u_noDataValue)) {\n    outputColor = vec4(0.0, 0, 0, 0.0);\n  } else {\n    outputColor = vec4(\n      rgb.r / (u_rminmax.y - u_rminmax.x),\n      rgb.g / (u_gminmax.y - u_gminmax.x),\n      rgb.b / (u_bminmax.y - u_bminmax.x),\n      u_opacity\n    );\n  }\n\n  if (outputColor.a < 0.01) discard;\n\n}\n",defines:e.getDefines(),triangulation:s.RasterImageTriangulation,primitive:l.gl.TRIANGLES,depth:{enable:!1},pickingEnabled:!1}))];})();}buildModels(){var e=this;return(0,i.default)(function*(){return e.initModels();})();}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy();}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:l.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:l.gl.DYNAMIC_DRAW,data:[],type:l.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}});}}},"8be946fc":function(e,t,r){},"8c0a2111":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5681962e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8c22d224":function(e,t,r){"use strict";var n,a,i;r.d(t,"__esModule",{value:!0}),r.e(t,{AttributeType:function(){return l;},ScaleTypes:function(){return o;},StyleScaleType:function(){return u;}});let o=((n={}).LINEAR="linear",n.SEQUENTIAL="sequential",n.POWER="power",n.LOG="log",n.IDENTITY="identity",n.TIME="time",n.QUANTILE="quantile",n.QUANTIZE="quantize",n.THRESHOLD="threshold",n.CAT="cat",n.DIVERGING="diverging",n.CUSTOM="threshold",n),u=((a={}).CONSTANT="constant",a.VARIABLE="variable",a),l=((i={})[i.Attribute=0]="Attribute",i[i.InstancedAttribute=1]="InstancedAttribute",i[i.Uniform=2]="Uniform",i);},"8cb9b5ca":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1fcd004a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8d0197e9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e3c26939")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8d0448b5":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a614d868")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8d324609":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("bc8b81f1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8d480751":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1f0eab1b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8d58e674":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{ANGLE_ORDER:function(){return o;},ARRAY_TYPE:function(){return a;},EPSILON:function(){return n;},RANDOM:function(){return i;},round:function(){return u;}});var n=1e-6,a="undefined"!=typeof Float32Array?Float32Array:Array,i=Math.random,o="zyx";function u(e){return e>=0?Math.round(e):e%.5==0?Math.floor(e):Math.round(e);}},"8d659c1f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1b09a590")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8d82bf75":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("68f06e43")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8d84869c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe"),a=n._(r("5396ee4f")),i=n._(r("acffd71d"));function o(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)u(r,e.features[n],t,n);else"Feature"===e.type?u(r,e,t):u(r,{geometry:e},t);return r;}function u(e,t,r,n){if(t.geometry){var a=t.geometry.coordinates,o=t.geometry.type,c=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),d=[],h=t.id;if(r.promoteId?h=t.properties[r.promoteId]:r.generateId&&(h=n||0),"Point"===o)l(a,d);else if("MultiPoint"===o)for(var p=0;p<a.length;p++)l(a[p],d);else if("LineString"===o)f(a,d,c,!1);else if("MultiLineString"===o){if(r.lineMetrics){for(p=0;p<a.length;p++)d=[],f(a[p],d,c,!1),e.push((0,i.default)(h,"LineString",d,t.properties));return;}s(a,d,c,!1);}else if("Polygon"===o)s(a,d,c,!0);else if("MultiPolygon"===o)for(p=0;p<a.length;p++){var v=[];s(a[p],v,c,!0),d.push(v);}else if("GeometryCollection"===o){for(p=0;p<t.geometry.geometries.length;p++)u(e,{id:h,geometry:t.geometry.geometries[p],properties:t.properties},r,n);return;}else throw Error("Input data is not a valid GeoJSON object.");e.push((0,i.default)(h,o,d,t.properties));}}function l(e,t){t.push(e[0]/360+.5),t.push(c(e[1])),t.push(0);}function f(e,t,r,n){for(var i,o,u=0,l=0;l<e.length;l++){var f=e[l][0]/360+.5,s=c(e[l][1]);t.push(f),t.push(s),t.push(0),l>0&&(n?u+=(i*s-f*o)/2:u+=Math.sqrt(Math.pow(f-i,2)+Math.pow(s-o,2))),i=f,o=s;}var d=t.length-3;t[2]=1,(0,a.default)(t,0,d,r),t[d+2]=1,t.size=Math.abs(u),t.start=0,t.end=t.size;}function s(e,t,r,n){for(var a=0;a<e.length;a++){var i=[];f(e[a],i,r,n),t.push(i);}}function c(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r;}},"8da0310f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b7425f00")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8dc09d89":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c9e41fbe")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8dd46b8f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0d1ead16")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8df840ed":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("eac82f26")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8e39ffae":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("37b6bc9d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8e761e08":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ca7fb563")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8ec66f80":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("404a1c00")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8ecdee5e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f1012baa")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8ed010af":function(e,t,r){"use strict";function n(e,t){let{width:r,height:n}=t[0],a=t.map(e=>e.rasterData),i=r*n,o=[],u=JSON.stringify(e);for(let e=0;e<i;e++){let t=JSON.parse(u),r=function e(t,r,n){if(2===t.length&&"band"===t[0]&&"number"==typeof t[1])try{return r[t[1]][n];}catch(e){return console.warn("Raster Data err!"),0;}t.map((a,i)=>{if(Array.isArray(a)&&a.length>0){if("band"===a[0])try{t[i]=r[a[1]][n];}catch(e){console.warn("Raster Data err!"),t[i]=0;}else e(a,r,n);}});}(t,a,e);if("number"==typeof r)o.push(r);else{let e=function e(t){let r=function(e){let[t,r=-1,n=-1]=e;return void 0===t?(console.warn("Express err!"),["+",0,0]):[t.replace(/\s+/g,""),r,n];}(t),n=r[0],a=r[1],i=r[2];return Array.isArray(a)&&(a=e(t[1])),Array.isArray(i)&&(i=e(t[2])),function(e,t,r){switch(e){case"+":return t+r;case"-":return t-r;case"*":return t*r;case"/":return t/r;case"%":return t%r;case"^":return Math.pow(t,r);case"abs":return Math.abs(t);case"floor":return Math.floor(t);case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"sin":return Math.sin(t);case"cos":return Math.cos(t);case"atan":return -1===r?Math.atan(t):Math.atan2(t,r);case"min":return Math.min(t,r);case"max":return Math.max(t,r);case"log10":return Math.log(t);case"log2":return Math.log2(t);default:return console.warn("Calculate symbol err! Return default 0"),0;}}(n,a,i);}(t);o.push(e);}}return o;}r.d(t,"__esModule",{value:!0}),r.d(t,"calculate",{enumerable:!0,get:function(){return n;}});},"8f017671":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d3042bc2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8f0bcb12":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("667cec2f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8f1e4850":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1fa51ecb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8f36d1cd":function(e,t,r){"use strict";function n(e,t){e=e.slice();var r,n=0,a=e.length-1,i=e[n],o=e[a];return o<i&&(r=n,n=a,a=r,r=i,i=o,o=r),e[n]=t.floor(i),e[a]=t.ceil(o),e;}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"8f65ee1f":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("49f1b6ea")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8f9b7c2e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("96ca1c51")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8fad9e8a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c8da0703")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"8fd3909a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("52b83bff")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},90162650:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e55e67aa")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9024770c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cb3158be")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"903503bc":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2cae3b77")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"904e282c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a817bc42")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"906d0414":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("07a31cab")),u=r("734ba2b4"),l=n._(r("15ef2651"));class f extends o.default{constructor(...e){super(...e),(0,i.default)(this,"type","RasterLayer");}buildModels(){var e=this;return(0,a.default)(function*(){let t=e.getModelType();e.layerModel=new l.default[t](e),yield e.initLayerModels();})();}getDefaultConfig(){return({raster:{},rasterRgb:{},raster3d:{},rasterTerrainRgb:{}})[this.getModelType()];}getModelType(){switch(this.layerSource.getParserType()){case"raster":case"ndi":default:return"raster";case"rasterRgb":case"rgb":return"rasterRgb";case"image":return"rasterTerrainRgb";}}getLegend(e){if("color"!==e)return{type:void 0,field:void 0,items:[]};let t=this.getLayerConfig().rampColors;return(0,u.rampColor2legend)(t,e);}}},"90a017af":function(e,t,r){"use strict";function n(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a;};}function a(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView);}r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return n;},isNumberArray:function(){return a;}});},"90c5d26e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c92ecacb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9109acc4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("be710c20")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"910bdb6e":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=r("7f434d9f"),o=n._(r("6c8aee75")),u=r("f9b12b3c"),l=r("49f29790");class f extends o.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11});}getCommonUniformsInfo(){let{strokeOpacity:e=1,strokeWidth:t=0,blend:r,blur:n=0}=this.layer.getLayerConfig();return this.layer.getLayerConfig(),this.getUniformsBufferInfo({u_additive:"additive"===r?1:0,u_stroke_opacity:e,u_stroke_width:t,u_blur:n});}initModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.layer.triangulation=u.GlobelPointFillTriangulation,[(yield e.layer.buildLayerModel({moduleName:"pointEarthFill",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\n\nlayout(std140) uniform commonUniform {\n  float u_additive;\n  float u_stroke_opacity : 1;\n  float u_stroke_width : 2;\n  float u_blur : 0.0;\n};\nout vec4 v_data;\nout vec4 v_color;\nout float v_radius;\n\n#pragma include "projection"\n#pragma include "picking"\n\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  /*\n  *  setPickingSize \u8BBE\u7F6E\u62FE\u53D6\u5927\u5C0F\n  */\n  float newSize = setPickingSize(a_Size);\n  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;\n\n  // unpack color(vec2)\n  v_color = a_Color;\n\n  // radius(16-bit)\n  v_radius = newSize;\n\n  // anti-alias\n  //  float antialiased_blur = -max(u_blur, antialiasblur);\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);\n\n  // TODP: /abs(extrude.x) \u662F\u4E3A\u4E86\u517C\u5BB9\u5730\u7403\u6A21\u5F0F\n  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);\n\n  gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1 + vec3(u_offsets,0.0), 1.0);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:"in vec4 v_data;\nin vec4 v_color;\nin float v_radius;\n\nlayout(std140) uniform commonUniform {\n  float u_additive;\n  float u_stroke_opacity : 1;\n  float u_stroke_width : 2;\n  float u_blur : 0.0;\n};\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\nout vec4 outputColor;\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  vec4 strokeColor = u_stroke == vec4(0.0) ? v_color : u_stroke;\n\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n  if(outer_df > antialiasblur + 0.018) discard;\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiasblur,\n    0.0,\n    inner_df\n  );\n\n  if(u_stroke_width < 0.01) {\n    outputColor = vec4(v_color.rgb, v_color.a * u_opacity);\n  } else {\n    outputColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  }\n\n  if(u_additive > 0.0) {\n    outputColor *= opacity_t;\n    outputColor = filterColorAlpha(outputColor, outputColor.a);\n  } else {\n    outputColor.a *= opacity_t;\n    outputColor = filterColor(outputColor);\n  }\n}\n",triangulation:u.GlobelPointFillTriangulation,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!0},blend:e.getBlend()}))];})();}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0];}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"extrude",type:i.AttributeType.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:3,update:(e,t,r,n)=>{let[a,i,o]=r,u=l.vec3.fromValues(0,0,1),f=l.vec3.fromValues(a,0,o),s=a>=0?l.vec3.angle(u,f):2*Math.PI-l.vec3.angle(u,f),c=2*Math.PI-Math.asin(i/100),d=l.mat4.create();l.mat4.rotateY(d,d,s),l.mat4.rotateX(d,d,c);let h=l.vec3.fromValues(1,1,0);l.vec3.transformMat4(h,h,d),l.vec3.normalize(h,h);let p=l.vec3.fromValues(-1,1,0);l.vec3.transformMat4(p,p,d),l.vec3.normalize(p,p);let v=l.vec3.fromValues(-1,-1,0);l.vec3.transformMat4(v,v,d),l.vec3.normalize(v,v);let _=l.vec3.fromValues(1,-1,0);l.vec3.transformMat4(_,_,d),l.vec3.normalize(_,_);let m=[...h,...p,...v,..._],g=n%4*3;return[m[g],m[g+1],m[g+2]];}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:i.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t];}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:i.AttributeType.Attribute,descriptor:{name:"a_Shape",shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:1,update:e=>{let{shape:t=2}=e;return[this.layer.getLayerConfig().shape2d.indexOf(t)];}}});}}},"911d2d1d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6bc34aa3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},91826671:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("05eedb6a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9184f945":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("71e07027")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9235610d":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2c69c9f5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"92612b85":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("41e3f59f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9264aa11":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("731cfe10")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"92d110ad":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"map",{enumerable:!0,get:function(){return a.default;}});var n=r("777fffbe");r("f668e12e"),r("c806d7be");var a=n._(r("2a3a2be0"));},"92fa1888":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("62888678")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"930233a8":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{getParser:function(){return i;},getTransform:function(){return u;},registerParser:function(){return o;},registerTransform:function(){return l;}});var n={},a={},i=e=>a[e],o=(e,t)=>{a[e]=t;},u=e=>n[e],l=(e,t)=>{n[e]=t;};},"9338f80e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e53632b8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9349713a":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7e01622d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"934f1ab5":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fc50254a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"938396d5":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1e361c5b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"939e99cc":function(e,t,r){},"941d49ca":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("518ee305")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"946884f8":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("44411373")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"946acbe4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("374f1624")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9495f888":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("28c26582")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"950020f9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f7dbc655")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"950450ff":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("022840ed")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"95a60450":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ab22822d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"95ac7a49":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b756df66")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"95c73683":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{second:function(){return i;},seconds:function(){return o;}});var n=r("d7f30e4c"),a=r("0bb366b0");let i=(0,n.timeInterval)(e=>{e.setTime(e-e.getMilliseconds());},(e,t)=>{e.setTime(+e+t*a.durationSecond);},(e,t)=>(t-e)/a.durationSecond,e=>e.getUTCSeconds()),o=i.range;},"96049d56":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8950b131")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"962dc846":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"join",{enumerable:!0,get:function(){return f;}});var n=Object.defineProperty,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))o.call(t,r)&&u(e,r,t[r]);return e;};function f(e,t){let{sourceField:r,targetField:n,data:a}=t,i={};return a.forEach(e=>{i[e[r]]=e;}),e.dataArray=e.dataArray.map(e=>{let t=e[n];return l(l({},e),i[t]);}),e;}},"963c7cba":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("78581ed2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"96543be0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0a6f95da")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"966ac8cc":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b77e7316")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"967635f0":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{PointTriangulation:function(){return u;},default:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=r("7f434d9f"),o=n._(r("6c8aee75"));function u(e){let t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length};}class l extends o.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9});}getDefaultStyle(){return{blend:"additive"};}getCommonUniformsInfo(){return this.getUniformsBufferInfo({u_size_scale:.5});}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.layer.triangulation=u,e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"pointNormal",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\n\nlayout(std140) uniform u_Common {\n  float u_size_scale;\n};\n\nout vec4 v_color;\n\n#pragma include "projection"\n#pragma include "project"\n\nvoid main() {\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(project_pos);\n\n  gl_PointSize = a_Size * u_size_scale * 2.0 * u_DevicePixelRatio;\n}\n',fragmentShader:"in vec4 v_color;\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_color;\n}\n",triangulation:u,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},primitive:i.gl.POINTS,pick:!1}))];})();}clearModels(){}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:i.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t];}}});}}},"9685cf54":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("36c56e88")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"96a1db56":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=r("7f434d9f"),u=n._(r("6c8aee75")),l=r("f9b12b3c");class f extends u.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,POS:9});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{opacity:e,coverage:t,angle:r}=this.layer.getLayerConfig(),n={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:t||.9,u_angle:r||0};return this.getUniformsBufferInfo(n);}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"heatmapHexagon",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_radius;\n  float u_opacity;\n  float u_coverage;\n  float u_angle;\n};\n\nout vec4 v_color;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nvoid main() {\n  v_color = a_Color;\n  v_color.a *= u_opacity;\n\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\n\n  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'in vec4 v_color;\n\n#pragma include "picking"\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_color;\n  outputColor = filterColor(outputColor);\n}\n',defines:e.getDefines(),triangulation:l.HeatmapGridTriangulation,depth:{enable:!1},primitive:o.gl.TRIANGLES}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:o.AttributeType.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:e=>{let t=e.coordinates;return[t[0],t[1],0];}}});}}},"971bebb4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b9b5ef91")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9726dd63":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("590046aa")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"972afd29":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("436773f0")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},97326584:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ca5a6507")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},97934321:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1cc0ae2f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"97b5ef72":function(e,t,r){"use strict";function n(e,t,r,n,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*a)/6;}function a(e){var t=e.length-1;return function(r){var a=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[a],o=e[a+1],u=a>0?e[a-1]:2*i-o,l=a<t-1?e[a+2]:2*o-i;return n((r-a/t)*t,u,i,o,l);};}r.d(t,"__esModule",{value:!0}),r.e(t,{basis:function(){return n;},default:function(){return a;}});},"97cd6df9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f3767b80")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"981221d0":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d7b835a1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"982c46f1":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("96a49a8d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"98367a1c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9379d245")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"98740c9c":function(e,t,r){"use strict";function n(e,t,r){e.prototype=t.prototype=r,r.constructor=e;}function a(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r;}r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return n;},extend:function(){return a;}});},99344744:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a8cd6828")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},99795849:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7c79267e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"99fcb496":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Zoom:function(){return s;},default:function(){return s;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=r("be6cb12a"),f=r("c1b59056");class s extends f.Control{constructor(...e){super(...e),(0,i.default)(this,"disabled",void 0),(0,i.default)(this,"zoomInButton",void 0),(0,i.default)(this,"zoomOutButton",void 0),(0,i.default)(this,"zoomNumDiv",void 0),(0,i.default)(this,"zoomIn",()=>{!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn();}),(0,i.default)(this,"zoomOut",()=>{!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut();}),(0,i.default)(this,"updateDisabled",()=>{let e=this.mapsService;this.zoomInButton.removeAttribute("disabled"),this.zoomOutButton.removeAttribute("disabled"),(this.disabled||e.getZoom()<=e.getMinZoom())&&this.zoomOutButton.setAttribute("disabled","true"),this.controlOption.showZoom&&this.zoomNumDiv&&(this.zoomNumDiv.innerText=String(Math.floor(e.getZoom()))),(this.disabled||e.getZoom()>=e.getMaxZoom())&&this.zoomInButton.setAttribute("disabled","true");});}getDefault(e){return(0,a.default)((0,a.default)({},super.getDefault(e)),{},{position:o.PositionType.BOTTOMRIGHT,name:"zoom",zoomInText:(0,l.createL7Icon)("l7-icon-enlarge"),zoomInTitle:"Zoom in",zoomOutText:(0,l.createL7Icon)("l7-icon-narrow"),zoomOutTitle:"Zoom out",showZoom:!1});}setOptions(e){super.setOptions(e),this.checkUpdateOption(e,["zoomInText","zoomInTitle","zoomOutText","zoomOutTitle","showZoom"])&&this.resetButtonGroup(this.container);}onAdd(){let e=u.DOM.create("div","l7-control-zoom");return this.resetButtonGroup(e),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),e;}onRemove(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled);}disable(){return this.disabled=!0,this.updateDisabled(),this;}enable(){return this.disabled=!1,this.updateDisabled(),this;}resetButtonGroup(e){u.DOM.clearChildren(e),this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,"l7-button-control",e,this.zoomIn),this.controlOption.showZoom&&(this.zoomNumDiv=this.createButton("0","","l7-button-control l7-control-zoom__number",e)),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,"l7-button-control",e,this.zoomOut),this.updateDisabled();}createButton(e,t,r,n,a){let i=u.DOM.create("button",r,n);return"string"==typeof e?i.innerHTML=e:i.append(e),i.title=t,a&&i.addEventListener("click",a),i;}}},"9a4e6586":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ef069d01")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9a51e2f7":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=r("7f434d9f"),o=n._(r("6c8aee75")),u=r("f9b12b3c"),l=r("34540526");class f extends o.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11});}getCommonUniformsInfo(){let{strokeOpacity:e=1,strokeWidth:t=0,blend:r,blur:n=0,raisingHeight:a=0,heightfixed:i=!1,unit:o="pixel"}=this.layer.getLayerConfig(),u=this.getAnimateUniforms().u_time;isNaN(u)&&(u=-1);let f={u_blur_height_fixed:[n,Number(a),Number(i)],u_stroke_width:t,u_additive:"additive"===r?1:0,u_stroke_opacity:e,u_size_unit:l.SizeUnitType[o],u_time:u,u_animate:this.getAnimateUniforms().u_animate};return this.getUniformsBufferInfo(f);}getAnimateUniforms(){let{animateOption:e={enable:!1}}=this.layer.getLayerConfig();return{u_animate:this.animateOption2Array(e),u_time:this.layer.getLayerAnimateTime()};}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),u.PointFillTriangulation);}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){let{frag:t,vert:r,type:n}=e.getShaders();return e.layer.triangulation=u.PointFillTriangulation,e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:n,vertexShader:r,fragmentShader:t,defines:e.getDefines(),inject:e.getInject(),triangulation:u.PointFillTriangulation,depth:{enable:!1}}))];})();}getShaders(){return{frag:"layout(std140) uniform commonUniforms {\n  vec3 u_blur_height_fixed;\n  float u_stroke_width;\n  float u_additive;\n  float u_stroke_opacity;\n  float u_size_unit;\n  float u_time;\n  vec4 u_animate;\n};\n\nin vec4 v_color;\nin vec4 v_stroke;\nin vec4 v_data;\nin float v_radius;\n\n#pragma include \"scene_uniforms\"\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\nout vec4 outputColor;\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n  lowp float antialiasblur = v_data.z;\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.0));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(antialiasblur, 0.0, inner_df);\n\n  float PI = 3.14159;\n  float N_RINGS = 3.0;\n  float FREQ = 1.0;\n\n  if (u_stroke_width < 0.01) {\n    outputColor = v_color;\n  } else {\n    outputColor = mix(v_color, v_stroke * u_stroke_opacity, color_t);\n  }\n  float intensity = 1.0;\n  if (u_time != -1.0) {\n    //wave\u76F8\u5173\u903B\u8F91\n    float d = length(v_data.xy);\n    if (d > 0.5) {\n      discard;\n    }\n    intensity =\n      clamp(cos(d * PI), 0.0, 1.0) *\n      clamp(cos(2.0 * PI * (d * 2.0 * u_animate.z - u_animate.y * u_time)), 0.0, 1.0);\n  }\n\n  if (u_additive > 0.0) {\n    outputColor *= opacity_t;\n    outputColor *= intensity; //wave\n    outputColor = filterColorAlpha(outputColor, outputColor.a);\n  } else {\n    outputColor.a *= opacity_t;\n    outputColor.a *= intensity; //wave\n    outputColor = filterColor(outputColor);\n  }\n  // \u4F5C\u4E3A mask \u6A21\u677F\u65F6\u9700\u8981\u4E22\u5F03\u900F\u660E\u7684\u50CF\u7D20\n  if (outputColor.a < 0.01) {\n    discard;\n  }\n}\n",vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\n\nlayout(std140) uniform commonUniforms {\n  vec3 u_blur_height_fixed;\n  float u_stroke_width;\n  float u_additive;\n  float u_stroke_opacity;\n  float u_size_unit;\n  float u_time;\n  vec4 u_animate;\n};\n\nout vec4 v_color;\nout vec4 v_stroke;\nout vec4 v_data;\nout float v_radius;\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "rotation_2d"\n\nvoid main() {\n  // \u900F\u660E\u5EA6\u8BA1\u7B97\n   v_stroke = stroke;\n  vec3 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  /*\n  *  setPickingSize \u8BBE\u7F6E\u62FE\u53D6\u5927\u5C0F\n  *  u_meter2coord \u5728\u7B49\u9762\u79EF\u5927\u5C0F\u7684\u65F6\u5019\u8BBE\u7F6E\u5355\u4F4D\n  */\n  float newSize = setPickingSize(a_Size);\n  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;\n\n\n\n  // unpack color(vec2)\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n\n  if(u_size_unit == 1.0) {\n    newSize = newSize  * u_PixelsPerMeter.z;\n  }\n\n   v_radius = newSize;\n\n  // anti-alias\n  //  float antialiased_blur = -max(u_blur, antialiasblur);\n  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur_height_fixed.x);\n\n  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + u_offsets);\n\n  offset = project_pixel(offset);\n  offset = rotate_matrix(offset,rotation);\n\n  // TODP: /abs(extrude.x) \u662F\u4E3A\u4E86\u517C\u5BB9\u5730\u7403\u6A21\u5F0F\n  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n\n  float raisingHeight = u_blur_height_fixed.y;\n\n  if(u_blur_height_fixed.z < 1.0) { // false\n    raisingHeight = project_pixel(u_blur_height_fixed.y);\n  } else {\n     if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n      raisingHeight = u_blur_height_fixed.y * mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',type:"pointFill"};}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0];}registerBuiltinAttributes(){let e=this.layer.getLayerConfig().shape2d;this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:i.AttributeType.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:3,update:(e,t,r,n)=>{let a=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],i=n%4*3;return[a[i],a[i+1],a[i+2]];}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:i.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t];}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:i.AttributeType.Attribute,descriptor:{name:"a_Shape",shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:1,update:t=>{let{shape:r=2}=t;return[e.indexOf(r)];}}});}}},"9a666bec":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("cc661f7c")),i=n._(r("b9fd3c65")),o=n._(r("a0c669d5")),u=n._(r("906d0414")),l=n._(r("aef3738c"));let f=["rasterData"];class s extends l.default{initTileLayer(){var e=this;return(0,o.default)(function*(){let t=e.parent.getLayerAttributeConfig(),r=e.getLayerOptions(),n=e.getSourceOption(),a=new u.default((0,i.default)({},r)).source(n.data,n.options);t&&Object.keys(t).forEach(e=>{var r,n;a[e](null===(r=t[e])||void 0===r?void 0:r.field,null===(n=t[e])||void 0===n?void 0:n.values);}),yield e.addLayer(a),e.isLoaded=!0;})();}getSourceOption(){let e=this.parent.getSource(),t=this.sourceTile.data.data,{rasterData:r}=t,n=(0,a.default)(t,f);return{data:r,options:{parser:(0,i.default)({type:"rasterRgb",extent:this.sourceTile.bounds},n),transforms:e.transforms}};}}},"9a95e627":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"timeFormat",{enumerable:!0,get:function(){return n.timeFormat;}});var n=r("7ea5fc5d");},"9ac4ff83":function(e,t,r){"use strict";function n(e,t,r,n,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),u={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},l=0;l<e.length;l++){u.numFeatures++,function(e,t,r,n){var i=t.geometry,o=t.type,u=[];if("Point"===o||"MultiPoint"===o)for(var l=0;l<i.length;l+=3)u.push(i[l]),u.push(i[l+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)a(u,i,e,r,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(l=0;l<i.length;l++)a(u,i[l],e,r,"Polygon"===o,0===l);else if("MultiPolygon"===o)for(var f=0;f<i.length;f++){var s=i[f];for(l=0;l<s.length;l++)a(u,s[l],e,r,!0,0===l);}if(u.length){var c=t.tags||null;if("LineString"===o&&n.lineMetrics){for(var d in c={},t.tags)c[d]=t.tags[d];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size;}var h={geometry:u,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==t.id&&(h.id=t.id),e.features.push(h);}}(u,e[l],o,i);var f=e[l].minX,s=e[l].minY,c=e[l].maxX,d=e[l].maxY;f<u.minX&&(u.minX=f),s<u.minY&&(u.minY=s),c>u.maxX&&(u.maxX=c),d>u.maxY&&(u.maxY=d);}return u;}function a(e,t,r,n,a,i){var o=n*n;if(n>0&&t.size<(a?o:n)){r.numPoints+=t.length/3;return;}for(var u=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>o)&&(r.numSimplified++,u.push(t[l]),u.push(t[l+1])),r.numPoints++;a&&function(e,t){for(var r=0,n=0,a=e.length,i=a-2;n<a;i=n,n+=2)r+=(e[n]-e[i])*(e[n+1]+e[i+1]);if(r>0===t)for(n=0,a=e.length;n<a/2;n+=2){var o=e[n],u=e[n+1];e[n]=e[a-2-n],e[n+1]=e[a-1-n],e[a-2-n]=o,e[a-1-n]=u;}}(u,i),e.push(u);}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},"9aed6313":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f0952dfd")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9b26080b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e21be5cf")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9b30a736":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0bafadb9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9b5812ad":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("777fffbe")._(r("e1e610e4")),a=r("89217383");class i{constructor(e){(0,n.default)(this,"layer",void 0),(0,n.default)(this,"rendererService",void 0),(0,n.default)(this,"colorTexture",void 0),(0,n.default)(this,"key",void 0),this.layer=e;let t=this.layer.getContainer();this.rendererService=t.rendererService;}getColorTexture(e,t){let r=this.getTextureKey(e,t);return this.key===r||(this.createColorTexture(e,t),this.key=r),this.colorTexture;}createColorTexture(e,t){let{createTexture2D:r}=this.rendererService,n=this.getColorRampBar(e,t),a=r({data:new Uint8Array(n.data),width:n.width,height:n.height,flipY:!1,unorm:!0});return this.colorTexture=a,a;}setColorTexture(e,t,r){this.key=this.getTextureKey(t,r),this.colorTexture=e;}destroy(){var e;null===(e=this.colorTexture)||void 0===e||e.destroy();}getColorRampBar(e,t){switch(e.type){case"cat":return(0,a.generateCatRamp)(e);case"quantize":return(0,a.generateQuantizeRamp)(e);case"custom":return(0,a.generateCustomRamp)(e,t);case"linear":return(0,a.generateLinearRamp)(e,t);default:return(0,a.generateColorRamp)(e);}}getTextureKey(e,t){var r;return`${e.colors.join("_")}_${null==e||null===(r=e.positions)||void 0===r?void 0:r.join("_")}_${e.type}_${null==t?void 0:t.join("_")}`;}}},"9b68de3b":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});var n=class{constructor(e,t){let{width:r,height:n,color:a,colors:i}=t,o={width:r,height:n};Array.isArray(i)&&(o.colors=i.map(e=>e.get())),a&&"boolean"!=typeof a&&(o.color=a.get()),this.framebuffer=e.framebuffer(o);}get(){return this.framebuffer;}destroy(){this.framebuffer.destroy();}resize({width:e,height:t}){this.framebuffer.resize(e,t);}};},"9b6e2745":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("222e5310")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9b7c4560":function(e,t,r){"use strict";function n(e){e.forEach(e=>{e.isCurrent&&(e.isVisible=e.isLoaded);});}function a(e){e.forEach(e=>{e.properties.state=0;}),e.forEach(e=>{e.isCurrent&&!o(e)&&u(e);}),e.forEach(e=>{e.isVisible=!!(2&e.properties.state);});}function i(e){e.forEach(e=>{e.properties.state=0;}),e.forEach(e=>{e.isCurrent&&o(e);}),e.slice().sort((e,t)=>e.z-t.z).forEach(e=>{e.isVisible=!!(2&e.properties.state),e.children.length&&(e.isVisible||1&e.properties.state)?e.children.forEach(e=>{e.properties.state=1;}):e.isCurrent&&u(e);});}function o(e){for(;e;){if(e.isLoaded)return e.properties.state|=2,!0;e=e.parent;}return!1;}function u(e){e.children.forEach(e=>{e.isLoaded?e.properties.state|=2:u(e);});}r.d(t,"__esModule",{value:!0}),r.e(t,{updateTileStateOverlap:function(){return a;},updateTileStateRealtime:function(){return n;},updateTileStateReplace:function(){return i;}});},"9b9b1d0b":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ef64c6c9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9bd27ef3":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6b6ca014")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9be96ae3":function(e,t,r){!function(t,r,n,a){"use strict";var i,o=["","webkit","Moz","MS","ms","o"],u=r.createElement("div"),l=Math.round,f=Math.abs,s=Date.now;function c(e,t,r){return setTimeout(g(e,r),t);}function d(e,t,r){return!!Array.isArray(e)&&(h(e,r[t],r),!0);}function h(e,t,r){var n;if(e){if(e.forEach)e.forEach(t,r);else if(e.length!==a)for(n=0;n<e.length;)t.call(r,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e);}}function p(e,r,n){var a="DEPRECATED METHOD: "+r+"\n"+n+" AT \n";return function(){var r=Error("get-stack-trace"),n=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=t.console&&(t.console.warn||t.console.log);return i&&i.call(t.console,a,n),e.apply(this,arguments);};}i="function"!=typeof Object.assign?function(e){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a]);}return t;}:Object.assign;var v=p(function(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;)(!r||r&&e[n[i]]===a)&&(e[n[i]]=t[n[i]]),i++;return e;},"extend","Use `assign`."),_=p(function(e,t){return v(e,t,!0);},"merge","Use `assign`.");function m(e,t,r){var n,a=t.prototype;(n=e.prototype=Object.create(a)).constructor=e,n._super=a,r&&i(n,r);}function g(e,t){return function(){return e.apply(t,arguments);};}function b(e,t){return"function"==typeof e?e.apply(t&&t[0]||a,t):e;}function y(e,t,r){h(S(t),function(t){e.addEventListener(t,r,!1);});}function E(e,t,r){h(S(t),function(t){e.removeEventListener(t,r,!1);});}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode;}return!1;}function A(e,t){return e.indexOf(t)>-1;}function S(e){return e.trim().split(/\s+/g);}function O(e,t,r){if(e.indexOf&&!r)return e.indexOf(t);for(var n=0;n<e.length;){if(r&&e[n][r]==t||!r&&e[n]===t)return n;n++;}return -1;}function R(e){return Array.prototype.slice.call(e,0);}function M(e,t,r){for(var n=[],a=[],i=0;i<e.length;){var o=t?e[i][t]:e[i];0>O(a,o)&&n.push(e[i]),a[i]=o,i++;}return r&&(n=t?n.sort(function(e,r){return e[t]>r[t];}):n.sort()),n;}function x(e,t){for(var r,n,i=t[0].toUpperCase()+t.slice(1),u=0;u<o.length;){if((n=(r=o[u])?r+i:t)in e)return n;u++;}return a;}var C=1;function P(e){var r=e.ownerDocument||e;return r.defaultView||r.parentWindow||t;}var L="ontouchstart"in t,w=x(t,"PointerEvent")!==a,I=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N="touch",D="mouse",F=["x","y"],B=["clientX","clientY"];function U(e,t){var r=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){b(e.options.enable,[e])&&r.handler(t);},this.init();}function j(e,t,r){var n,i,o,u,l,c,d,h,p,v,_,m,g,b,y,E=r.pointers.length,A=r.changedPointers.length,S=1&t&&E-A==0,O=12&t&&E-A==0;r.isFirst=!!S,r.isFinal=!!O,S&&(e.session={}),r.eventType=t,n=e.session,o=(i=r.pointers).length,n.firstInput||(n.firstInput=k(r)),o>1&&!n.firstMultiple?n.firstMultiple=k(r):1===o&&(n.firstMultiple=!1),u=n.firstInput,c=(l=n.firstMultiple)?l.center:u.center,d=r.center=G(i),r.timeStamp=s(),r.deltaTime=r.timeStamp-u.timeStamp,r.angle=X(c,d),r.distance=H(c,d),h=r.center,p=n.offsetDelta||{},v=n.prevDelta||{},_=n.prevInput||{},(1===r.eventType||4===_.eventType)&&(v=n.prevDelta={x:_.deltaX||0,y:_.deltaY||0},p=n.offsetDelta={x:h.x,y:h.y}),r.deltaX=v.x+(h.x-p.x),r.deltaY=v.y+(h.y-p.y),r.offsetDirection=V(r.deltaX,r.deltaY),m=z(r.deltaTime,r.deltaX,r.deltaY),r.overallVelocityX=m.x,r.overallVelocityY=m.y,r.overallVelocity=f(m.x)>f(m.y)?m.x:m.y,r.scale=l?(g=l.pointers,H(i[0],i[1],B)/H(g[0],g[1],B)):1,r.rotation=l?(b=l.pointers,X(i[1],i[0],B)+X(b[1],b[0],B)):0,r.maxPointers=n.prevInput?r.pointers.length>n.prevInput.maxPointers?r.pointers.length:n.prevInput.maxPointers:r.pointers.length,function(e,t){var r,n,i,o,u=e.lastInterval||t,l=t.timeStamp-u.timeStamp;if(8!=t.eventType&&(l>25||u.velocity===a)){var s=t.deltaX-u.deltaX,c=t.deltaY-u.deltaY,d=z(l,s,c);n=d.x,i=d.y,r=f(d.x)>f(d.y)?d.x:d.y,o=V(s,c),e.lastInterval=t;}else r=u.velocity,n=u.velocityX,i=u.velocityY,o=u.direction;t.velocity=r,t.velocityX=n,t.velocityY=i,t.direction=o;}(n,r),y=e.element,T(r.srcEvent.target,y)&&(y=r.srcEvent.target),r.target=y,e.emit("hammer.input",r),e.recognize(r),e.session.prevInput=r;}function k(e){for(var t=[],r=0;r<e.pointers.length;)t[r]={clientX:l(e.pointers[r].clientX),clientY:l(e.pointers[r].clientY)},r++;return{timeStamp:s(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY};}function G(e){var t=e.length;if(1===t)return{x:l(e[0].clientX),y:l(e[0].clientY)};for(var r=0,n=0,a=0;a<t;)r+=e[a].clientX,n+=e[a].clientY,a++;return{x:l(r/t),y:l(n/t)};}function z(e,t,r){return{x:t/e||0,y:r/e||0};}function V(e,t){return e===t?1:f(e)>=f(t)?e<0?2:4:t<0?8:16;}function H(e,t,r){r||(r=F);var n=t[r[0]]-e[r[0]],a=t[r[1]]-e[r[1]];return Math.sqrt(n*n+a*a);}function X(e,t,r){r||(r=F);var n=t[r[0]]-e[r[0]];return 180*Math.atan2(t[r[1]]-e[r[1]],n)/Math.PI;}U.prototype={handler:function(){},init:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(P(this.element),this.evWin,this.domHandler);},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(P(this.element),this.evWin,this.domHandler);}};var W={mousedown:1,mousemove:2,mouseup:4};function Y(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,U.apply(this,arguments);}m(Y,U,{handler:function(e){var t=W[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:D,srcEvent:e}));}});var q={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Z={2:N,3:"pen",4:D,5:"kinect"},K="pointerdown",$="pointermove pointerup pointercancel";function Q(){this.evEl=K,this.evWin=$,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[];}t.MSPointerEvent&&!t.PointerEvent&&(K="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),m(Q,U,{handler:function(e){var t=this.store,r=!1,n=q[e.type.toLowerCase().replace("ms","")],a=Z[e.pointerType]||e.pointerType,i=a==N,o=O(t,e.pointerId,"pointerId");1&n&&(0===e.button||i)?o<0&&(t.push(e),o=t.length-1):12&n&&(r=!0),!(o<0)&&(t[o]=e,this.callback(this.manager,n,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),r&&t.splice(o,1));}});var J={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ee(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments);}function et(e,t){var r=R(e.touches),n=R(e.changedTouches);return 12&t&&(r=M(r.concat(n),"identifier",!0)),[r,n];}m(ee,U,{handler:function(e){var t=J[e.type];if(1===t&&(this.started=!0),this.started){var r=et.call(this,e,t);12&t&&r[0].length-r[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:r[0],changedPointers:r[1],pointerType:N,srcEvent:e});}}});var er={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function en(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},U.apply(this,arguments);}function ea(e,t){var r=R(e.touches),n=this.targetIds;if(3&t&&1===r.length)return n[r[0].identifier]=!0,[r,r];var a,i,o=R(e.changedTouches),u=[],l=this.target;if(i=r.filter(function(e){return T(e.target,l);}),1===t)for(a=0;a<i.length;)n[i[a].identifier]=!0,a++;for(a=0;a<o.length;)n[o[a].identifier]&&u.push(o[a]),12&t&&delete n[o[a].identifier],a++;if(u.length)return[M(i.concat(u),"identifier",!0),u];}function ei(){U.apply(this,arguments);var e=g(this.handler,this);this.touch=new en(this.manager,e),this.mouse=new Y(this.manager,e),this.primaryTouch=null,this.lastTouches=[];}function eo(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,eu.call(this,t)):12&e&&eu.call(this,t);}function eu(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY};this.lastTouches.push(r);var n=this.lastTouches;setTimeout(function(){var e=n.indexOf(r);e>-1&&n.splice(e,1);},2500);}}function el(e){for(var t=e.srcEvent.clientX,r=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var a=this.lastTouches[n],i=Math.abs(t-a.x),o=Math.abs(r-a.y);if(i<=25&&o<=25)return!0;}return!1;}m(en,U,{handler:function(e){var t=er[e.type],r=ea.call(this,e,t);r&&this.callback(this.manager,t,{pointers:r[0],changedPointers:r[1],pointerType:N,srcEvent:e});}}),m(ei,U,{handler:function(e,t,r){var n=r.pointerType==N,a=r.pointerType==D;if(!a||!r.sourceCapabilities||!r.sourceCapabilities.firesTouchEvents){if(n)eo.call(this,t,r);else if(a&&el.call(this,r))return;this.callback(e,t,r);}},destroy:function(){this.touch.destroy(),this.mouse.destroy();}});var ef=x(u.style,"touchAction"),es=a!==ef,ec="compute",ed="auto",eh="manipulation",ep="none",ev="pan-x",e_="pan-y",em=function(){if(!es)return!1;var e={},r=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!r||t.CSS.supports("touch-action",n);}),e;}();function eg(e,t){this.manager=e,this.set(t);}function eb(e){var t;this.options=i({},this.defaults,e||{}),this.id=C++,this.manager=null,this.options.enable=a===(t=this.options.enable)||t,this.state=1,this.simultaneous={},this.requireFail=[];}function ey(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":"";}function eE(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":"";}function eT(e,t){var r=t.manager;return r?r.get(e):e;}function eA(){eb.apply(this,arguments);}function eS(){eA.apply(this,arguments),this.pX=null,this.pY=null;}function eO(){eA.apply(this,arguments);}function eR(){eb.apply(this,arguments),this._timer=null,this._input=null;}function eM(){eA.apply(this,arguments);}function ex(){eA.apply(this,arguments);}function eC(){eb.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0;}function eP(e,t){var r,n;return(t=t||{}).recognizers=(r=t.recognizers,n=eP.defaults.preset,a===r?n:r),new eL(e,t);}function eL(e,t){var r;this.options=i({},eP.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((r=this.options.inputClass)?r:w?Q:I?en:L?ei:Y)(this,j),this.touchAction=new eg(this,this.options.touchAction),ew(this,!0),h(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3]);},this);}function ew(e,t){var r,n=e.element;n.style&&(h(e.options.cssProps,function(a,i){r=x(n.style,i),t?(e.oldCssProps[r]=n.style[r],n.style[r]=a):n.style[r]=e.oldCssProps[r]||"";}),t||(e.oldCssProps={}));}eg.prototype={set:function(e){e==ec&&(e=this.compute()),es&&this.manager.element.style&&em[e]&&(this.manager.element.style[ef]=e),this.actions=e.toLowerCase().trim();},update:function(){this.set(this.manager.options.touchAction);},compute:function(){var e=[];return h(this.manager.recognizers,function(t){b(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()));}),function(e){if(A(e,ep))return ep;var t=A(e,ev),r=A(e,e_);return t&&r?ep:t||r?t?ev:e_:A(e,eh)?eh:ed;}(e.join(" "));},preventDefaults:function(e){var t=e.srcEvent,r=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return;}var n=this.actions,a=A(n,ep)&&!em[ep],i=A(n,e_)&&!em[e_],o=A(n,ev)&&!em[ev];if(a){var u=1===e.pointers.length,l=e.distance<2,f=e.deltaTime<250;if(u&&l&&f)return;}if((!o||!i)&&(a||i&&6&r||o&&24&r))return this.preventSrc(t);},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault();}},eb.prototype={defaults:{},set:function(e){return i(this.options,e),this.manager&&this.manager.touchAction.update(),this;},recognizeWith:function(e){if(d(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=eT(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this;},dropRecognizeWith:function(e){return d(e,"dropRecognizeWith",this)||(e=eT(e,this),delete this.simultaneous[e.id]),this;},requireFailure:function(e){if(d(e,"requireFailure",this))return this;var t=this.requireFail;return -1===O(t,e=eT(e,this))&&(t.push(e),e.requireFailure(this)),this;},dropRequireFailure:function(e){if(d(e,"dropRequireFailure",this))return this;e=eT(e,this);var t=O(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this;},hasRequireFailures:function(){return this.requireFail.length>0;},canRecognizeWith:function(e){return!!this.simultaneous[e.id];},emit:function(e){var t=this,r=this.state;function n(r){t.manager.emit(r,e);}r<8&&n(t.options.event+ey(r)),n(t.options.event),e.additionalEvent&&n(e.additionalEvent),r>=8&&n(t.options.event+ey(r));},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32;},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++;}return!0;},recognize:function(e){var t=i({},e);if(!b(this.options.enable,[this,t])){this.reset(),this.state=32;return;}56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t);},process:function(e){},getTouchAction:function(){},reset:function(){}},m(eA,eb,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t;},process:function(e){var t=this.state,r=e.eventType,n=6&t,a=this.attrTest(e);return n&&(8&r||!a)?16|t:n||a?4&r?8|t:2&t?4|t:2:32;}}),m(eS,eA,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(e_),24&e&&t.push(ev),t;},directionTest:function(e){var t=this.options,r=!0,n=e.distance,a=e.direction,i=e.deltaX,o=e.deltaY;return a&t.direction||(6&t.direction?(a=0===i?1:i<0?2:4,r=i!=this.pX,n=Math.abs(e.deltaX)):(a=0===o?1:o<0?8:16,r=o!=this.pY,n=Math.abs(e.deltaY))),e.direction=a,r&&n>t.threshold&&a&t.direction;},attrTest:function(e){return eA.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e));},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=eE(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e);}}),m(eO,eA,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ep];},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state);},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t;}this._super.emit.call(this,e);}}),m(eR,eb,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ed];},process:function(e){var t=this.options,r=e.pointers.length===t.pointers,n=e.distance<t.threshold,a=e.deltaTime>t.time;if(this._input=e,n&&r&&(!(12&e.eventType)||a)){if(1&e.eventType)this.reset(),this._timer=c(function(){this.state=8,this.tryEmit();},t.time,this);else if(4&e.eventType)return 8;}else this.reset();return 32;},reset:function(){clearTimeout(this._timer);},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=s(),this.manager.emit(this.options.event,this._input)));}}),m(eM,eA,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ep];},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state);}}),m(ex,eA,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return eS.prototype.getTouchAction.call(this);},attrTest:function(e){var t,r=this.options.direction;return 30&r?t=e.overallVelocity:6&r?t=e.overallVelocityX:24&r&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&r&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&4&e.eventType;},emit:function(e){var t=eE(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e);}}),m(eC,eb,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[eh];},process:function(e){var t=this.options,r=e.pointers.length===t.pointers,n=e.distance<t.threshold,a=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(n&&a&&r){if(4!=e.eventType)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||H(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&i?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=8,this.tryEmit();},t.interval,this),2):8;}return 32;},failTimeout:function(){return this._timer=c(function(){this.state=32;},this.options.interval,this),32;},reset:function(){clearTimeout(this._timer);},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input));}}),eP.VERSION="2.0.7",eP.defaults={domEvents:!1,touchAction:ec,enable:!0,inputTarget:null,inputClass:null,preset:[[eM,{enable:!1}],[eO,{enable:!1},["rotate"]],[ex,{direction:6}],[eS,{direction:6},["swipe"]],[eC],[eC,{event:"doubletap",taps:2},["tap"]],[eR]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},eL.prototype={set:function(e){return i(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this;},stop:function(e){this.session.stopped=e?2:1;},recognize:function(e){var t,r=this.session;if(!r.stopped){this.touchAction.preventDefaults(e);var n=this.recognizers,a=r.curRecognizer;(!a||a&&8&a.state)&&(a=r.curRecognizer=null);for(var i=0;i<n.length;)t=n[i],2!==r.stopped&&(!a||t==a||t.canRecognizeWith(a))?t.recognize(e):t.reset(),!a&&14&t.state&&(a=r.curRecognizer=t),i++;}},get:function(e){if(e instanceof eb)return e;for(var t=this.recognizers,r=0;r<t.length;r++)if(t[r].options.event==e)return t[r];return null;},add:function(e){if(d(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e;},remove:function(e){if(d(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,r=O(t,e);-1!==r&&(t.splice(r,1),this.touchAction.update());}return this;},on:function(e,t){if(a!==e&&a!==t){var r=this.handlers;return h(S(e),function(e){r[e]=r[e]||[],r[e].push(t);}),this;}},off:function(e,t){if(a!==e){var r=this.handlers;return h(S(e),function(e){t?r[e]&&r[e].splice(O(r[e],t),1):delete r[e];}),this;}},emit:function(e,t){this.options.domEvents&&((n=r.createEvent("Event")).initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n));var n,a=this.handlers[e]&&this.handlers[e].slice();if(a&&a.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault();};for(var i=0;i<a.length;)a[i](t),i++;}},destroy:function(){this.element&&ew(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null;}},i(eP,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:eL,Input:U,TouchAction:eg,TouchInput:en,MouseInput:Y,PointerEventInput:Q,TouchMouseInput:ei,SingleTouchInput:ee,Recognizer:eb,AttrRecognizer:eA,Tap:eC,Pan:eS,Swipe:ex,Pinch:eO,Rotate:eM,Press:eR,on:y,off:E,each:h,merge:_,extend:v,assign:i,inherit:m,bindFn:g,prefixed:x}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=eP,void 0!==e&&e.exports?e.exports=eP:t[n]=eP;}(window,document,"Hammer");},"9c03c80e":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9523eb91")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9c80a93c":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4d0eeba6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9cdb934f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return v;}});var n=r("6b18bdce"),a=r("68cc65c7"),i=Object.defineProperty,o=Object.defineProperties,u=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))f.call(t,r)&&c(e,r,t[r]);if(l)for(var r of l(t))s.call(t,r)&&c(e,r,t[r]);return e;},h=(e,t)=>o(e,u(t)),p=(e,t)=>{var r={};for(var n in e)f.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&l)for(var n of l(e))0>t.indexOf(n)&&s.call(e,n)&&(r[n]=e[n]);return r;};function v(e,t){let r;let{extent:i,coordinates:o,min:u,max:l,width:f,height:s,format:c,operation:v}=t,_=p(t,["extent","coordinates","min","max","width","height","format","operation"]);if(void 0===c||(0,a.isNumberArray)(e))r=Array.from(e);else{let t=Array.isArray(e)?e:[e];r=(0,n.bandsOperation)(t,c,v);}let m=(0,a.extentToCoord)(o,i);return{_id:1,dataArray:[h(d({_id:1,data:r,width:f,height:s},_),{min:u,max:l,coordinates:m})]};}},"9dfb90c4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dece558f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9e7522b4":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6e7ea9db")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9eb83a1c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{COMMON_ATTRIBUTE_LOCATION:function(){return a;},getCommonStyleAttributeOptions:function(){return i;}});var n=r("7f434d9f");let a={POSITION:0,POSITION_64LOW:1,COLOR:2,PICKING_COLOR:3,STROKE:4,OPACITY:5,OFFSETS:6,ROTATION:7,MAX:8};function i(e){switch(e){case"rotation":return{name:"Rotation",type:n.AttributeType.Attribute,descriptor:{name:"a_Rotation",shaderLocation:a.ROTATION,buffer:{usage:n.gl.DYNAMIC_DRAW,data:[],type:n.gl.FLOAT},size:1,update:e=>{let{rotation:t=0}=e;return Array.isArray(t)?[t[0]]:[t];}}};case"stroke":return{name:"stroke",type:n.AttributeType.Attribute,descriptor:{name:"a_Stroke",shaderLocation:a.STROKE,buffer:{usage:n.gl.DYNAMIC_DRAW,data:[],type:n.gl.FLOAT},size:4,update:e=>{let{stroke:t=[1,1,1,1]}=e;return t;}}};case"opacity":return{name:"opacity",type:n.AttributeType.Attribute,descriptor:{name:"a_Opacity",shaderLocation:a.OPACITY,buffer:{usage:n.gl.STATIC_DRAW,data:[],type:n.gl.FLOAT},size:1,update:e=>{let{opacity:t=1}=e;return[t];}}};case"offsets":return{name:"offsets",type:n.AttributeType.Attribute,descriptor:{name:"a_Offsets",shaderLocation:a.OFFSETS,buffer:{usage:n.gl.STATIC_DRAW,data:[],type:n.gl.FLOAT},size:2,update:e=>{let{offsets:t}=e;return t;}}};default:return;}}},"9eea8d66":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("82296690")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9f07eaf4":function(e,t,r){"use strict";function n(e,t,r,n,a,i){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=n||.25,this.fontFamily=a||"sans-serif",this.fontWeight=i||"normal",this.radius=r||8;var o=this.size=this.fontSize+2*this.buffer,u=o+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(u*u),this.gridInner=new Float64Array(u*u),this.f=new Float64Array(u),this.z=new Float64Array(u+1),this.v=new Uint16Array(u),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(o/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1));}function a(e,t,r,n,a,o){for(var u=0;u<t;u++)i(e,u,t,r,n,a,o);for(var l=0;l<r;l++)i(e,l*t,1,t,n,a,o);}function i(e,t,r,n,a,i,o){var u,l,f,s;for(u=0,i[0]=0,o[0]=-1e20,o[1]=1e20;u<n;u++)a[u]=e[t+u*r];for(u=1,l=0,f=0;u<n;u++){do s=i[l],f=(a[u]-a[s]+u*u-s*s)/(u-s)/2;while(f<=o[l]&&--l>-1)i[++l]=u,o[l]=f,o[l+1]=1e20;}for(u=0,l=0;u<n;u++){for(;o[l+1]<u;)l++;s=i[l],e[t+u*r]=a[s]+(u-s)*(u-s);}}e.exports=n,e.exports.default=n,n.prototype._draw=function(e,t){var r,n,i,o,u,l,f,s,c,d=this.ctx.measureText(e),h=d.width,p=2*this.buffer;t&&this.useMetrics?(u=Math.floor(d.actualBoundingBoxAscent),s=this.buffer+Math.ceil(d.actualBoundingBoxAscent),l=this.buffer,f=this.buffer,n=Math.min(this.size,Math.ceil(d.actualBoundingBoxRight-d.actualBoundingBoxLeft)),o=Math.min(this.size-l,Math.ceil(d.actualBoundingBoxAscent+d.actualBoundingBoxDescent)),r=n+p,i=o+p,this.ctx.textBaseline="alphabetic"):(r=n=this.size,i=o=this.size,u=19*this.fontSize/24,l=f=0,s=this.middle,this.ctx.textBaseline="middle"),n&&o&&(this.ctx.clearRect(f,l,n,o),this.ctx.fillText(e,this.buffer,s),c=this.ctx.getImageData(f,l,n,o));var v=new Uint8ClampedArray(r*i);return function(e,t,r,n,a,i,o){i.fill(1e20,0,t*r),o.fill(0,0,t*r);for(var u=(t-n)/2,l=0;l<a;l++)for(var f=0;f<n;f++){var s=(l+u)*t+f+u,c=e.data[4*(l*n+f)+3]/255;if(1===c)i[s]=0,o[s]=1e20;else if(0===c)i[s]=1e20,o[s]=0;else{var d=Math.max(0,.5-c),h=Math.max(0,c-.5);i[s]=d*d,o[s]=h*h;}}}(c,r,i,n,o,this.gridOuter,this.gridInner),a(this.gridOuter,r,i,this.f,this.v,this.z),a(this.gridInner,r,i,this.f,this.v,this.z),function(e,t,r,n,a,i,o){for(var u=0;u<t*r;u++){var l=Math.sqrt(n[u])-Math.sqrt(a[u]);e[u]=Math.round(255-255*(l/i+o));}}(v,r,i,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:v,metrics:{width:n,height:o,sdfWidth:r,sdfHeight:i,top:u,left:0,advance:h}};},n.prototype.draw=function(e){return this._draw(e,!1).data;},n.prototype.drawWithMetrics=function(e){return this._draw(e,!0);};},"9f4266e2":function(e,t,r){"use strict";function n(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap;}function a(){return"function"==typeof importScripts;}r.d(t,"__esModule",{value:!0}),r.e(t,{getReferrer:function(){return i;},isAndroid:function(){return l;},isImageBitmap:function(){return n;},isPC:function(){return f;},isWorker:function(){return a;},isiOS:function(){return u;}});var i=a()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,o=null==navigator?void 0:navigator.userAgent,u=!!o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),l=o.indexOf("Android")>-1||o.indexOf("Adr")>-1;function f(){let e=!0;for(let t of["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"])if(o.indexOf(t)>0){e=!1;break;}return e;}},"9f7a91e9":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b45cc5be")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9fbc5f51":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("e1e610e4"));class a{constructor(){(0,n.default)(this,"container",void 0),(0,n.default)(this,"scene",void 0),(0,n.default)(this,"mapsService",void 0),(0,n.default)(this,"markers",[]),(0,n.default)(this,"markerLayers",[]),(0,n.default)(this,"unAddMarkers",[]),(0,n.default)(this,"unAddMarkerLayers",[]);}addMarkerLayer(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(e),e.addTo(this.scene)):this.unAddMarkerLayers.push(e);}removeMarkerLayer(e){e.destroy(),this.markerLayers.indexOf(e);let t=this.markerLayers.indexOf(e);t>-1&&this.markerLayers.splice(t,1);}addMarker(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(e),e.addTo(this.scene)):this.unAddMarkers.push(e);}addMarkers(){this.unAddMarkers.forEach(e=>{e.addTo(this.scene),this.markers.push(e);}),this.unAddMarkers=[];}addMarkerLayers(){this.unAddMarkerLayers.forEach(e=>{this.markerLayers.push(e),e.addTo(this.scene);}),this.unAddMarkers=[];}removeMarker(e){e.remove(),this.markers.indexOf(e);let t=this.markers.indexOf(e);t>-1&&this.markers.splice(t,1);}removeAllMarkers(){this.destroy();}init(e){this.scene=e,this.mapsService=e.mapService;}destroy(){this.markers.forEach(e=>{e.remove();}),this.markers=[],this.markerLayers.forEach(e=>{e.destroy();}),this.markerLayers=[];}removeMakerLayerMarker(e){e.destroy();}}},"9fcd0265":function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c1164925")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},"9fd1781f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{extend3ChannelsTo4:function(){return i;},isTypedArray:function(){return a;}});var n={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function a(e){return Object.prototype.toString.call(e) in n;}function i(e,t){let r=e.length,n=Math.ceil(r/3),a=r+n,i=new Float32Array(a);for(let r=0;r<a;r+=4)i[r]=e[r/4*3],i[r+1]=e[r/4*3+1],i[r+2]=e[r/4*3+2],i[r+3]=t;return i;}},a01fbe0a:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("4b19d198"));class a extends n.default{setupShaders(){return this.shaderModuleService.registerModule("copy-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}\n"}),this.shaderModuleService.getModule("copy-pass");}}},a0211744:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a8701255")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a03735d6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b6b9a4e6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a042fda9:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("e1e610e4"));class a{constructor(e=!0){(0,n.default)(this,"autoStart",void 0),(0,n.default)(this,"startTime",0),(0,n.default)(this,"oldTime",0),(0,n.default)(this,"running",!1),(0,n.default)(this,"elapsedTime",0),this.autoStart=e;}start(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0;}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1;}getElapsedTime(){return this.getDelta(),this.elapsedTime;}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e;}return e;}}},a0b404b4:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b70cef7d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a0c669d5:function(e,t,r){"use strict";function n(e,t,r,n,a,i,o){try{var u=e[i](o),l=u.value;}catch(e){return void r(e);}u.done?t(l):Promise.resolve(l).then(n,a);}function a(e){return function(){var t=this,r=arguments;return new Promise(function(a,i){var o=e.apply(t,r);function u(e){n(o,a,i,u,l,"next",e);}function l(e){n(o,a,i,u,l,"throw",e);}u(void 0);});};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});},a0cdd7e8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ee91237a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a0d5e158:function(e,t,r){"use strict";var n,a;r.d(t,"__esModule",{value:!0}),r.e(t,{ShapeType2D:function(){return o;},ShapeType3D:function(){return i;},circle:function(){return l;},geometryShape:function(){return h;},hexagon:function(){return c;},pentagon:function(){return d;},polygonPath:function(){return u;},square:function(){return f;},triangle:function(){return s;}});let i=((n={}).CYLINDER="cylinder",n.SQUARECOLUMN="squareColumn",n.TRIANGLECOLUMN="triangleColumn",n.HEXAGONCOLUMN="hexagonColumn",n.PENTAGONCOLUMN="pentagonColumn",n),o=((a={}).CIRCLE="circle",a.SQUARE="square",a.TRIANGLE="triangle",a.HEXAGON="hexagon",a.PENTAGON="pentagon",a);function u(e,t=0){let r=2*Math.PI/e,n=[];for(let a=0;a<e;a++)n.push(r*a+t*Math.PI/12);return n.map(e=>[Math.sin(e+Math.PI/4),Math.cos(e+Math.PI/4),0]);}function l(){return u(30);}function f(){return u(4);}function s(){return u(3);}function c(){return u(6,1);}function d(){return u(5);}let h={[o.CIRCLE]:l,[o.HEXAGON]:c,[o.TRIANGLE]:s,[o.SQUARE]:f,[o.PENTAGON]:d,[i.CYLINDER]:l,[i.HEXAGONCOLUMN]:c,[i.TRIANGLECOLUMN]:s,[i.SQUARECOLUMN]:f,[i.PENTAGONCOLUMN]:d};},a1276e8e:function(e,t,r){"use strict";function n(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10);}function a(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)];}r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return n;},formatDecimalParts:function(){return a;}});},a1297dfa:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c1d71f03")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a17b880f:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("55a10e0f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a199c95d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("79739dc2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a1b1d2eb:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2628384a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a1e7aa32:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e52698ea")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a1e81b04:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("37c64a0e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a21688ad:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return g;}});var n=r("777fffbe"),a=r("89217383"),i=n._(r("b097594f")),o=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(f)for(var r of f(t))c.call(t,r)&&d(e,r,t[r]);return e;},p=(e,t)=>u(e,l(t)),v=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),_={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0},m=(e,t,r,n,o)=>v(void 0,null,function*(){let u=(0,a.getURLFromTemplate)(e,t);return new Promise(e=>{if(o)o({x:r.x,y:r.y,z:r.z},(t,n)=>{t||!n?e(void 0):e(new i.default(n,r.x,r.y,r.z));});else{let t=(0,a.getArrayBuffer)(p(h({},n),{url:u}),(t,n)=>{t||!n?e(void 0):e(new i.default(n,r.x,r.y,r.z));});r.xhrCancel=()=>t.cancel();}});});function g(e,t){let r=Array.isArray(e)?e[0]:e,n=p(h(h({},_),t),{getTileData:(e,n)=>m(r,e,n,null==t?void 0:t.requestParameters,null==t?void 0:t.getCustomData)});return{data:r,dataArray:[],tilesetOptions:n,isTile:!0};}},a23649c0:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{blendEquationMap:function(){return h;},blendFuncMap:function(){return p;},colorSpaceMap:function(){return c;},cullFaceMap:function(){return m;},dataTypeMap:function(){return o;},depthFuncMap:function(){return d;},filterMap:function(){return f;},formatMap:function(){return u;},mipmapMap:function(){return l;},primitiveMap:function(){return a;},stencilFuncMap:function(){return v;},stencilOpMap:function(){return _;},usageMap:function(){return i;},wrapModeMap:function(){return s;}});var n=r("7f434d9f"),a={[n.gl.POINTS]:"points",[n.gl.LINES]:"lines",[n.gl.LINE_LOOP]:"line loop",[n.gl.LINE_STRIP]:"line strip",[n.gl.TRIANGLES]:"triangles",[n.gl.TRIANGLE_FAN]:"triangle fan",[n.gl.TRIANGLE_STRIP]:"triangle strip"},i={[n.gl.STATIC_DRAW]:"static",[n.gl.DYNAMIC_DRAW]:"dynamic",[n.gl.STREAM_DRAW]:"stream"},o={[n.gl.BYTE]:"int8",[n.gl.INT]:"int32",[n.gl.UNSIGNED_BYTE]:"uint8",[n.gl.UNSIGNED_SHORT]:"uint16",[n.gl.UNSIGNED_INT]:"uint32",[n.gl.FLOAT]:"float"},u={[n.gl.ALPHA]:"alpha",[n.gl.LUMINANCE]:"luminance",[n.gl.LUMINANCE_ALPHA]:"luminance alpha",[n.gl.RGB]:"rgb",[n.gl.RGBA]:"rgba",[n.gl.RGBA4]:"rgba4",[n.gl.RGB5_A1]:"rgb5 a1",[n.gl.RGB565]:"rgb565",[n.gl.DEPTH_COMPONENT]:"depth",[n.gl.DEPTH_STENCIL]:"depth stencil"},l={[n.gl.DONT_CARE]:"dont care",[n.gl.NICEST]:"nice",[n.gl.FASTEST]:"fast"},f={[n.gl.NEAREST]:"nearest",[n.gl.LINEAR]:"linear",[n.gl.LINEAR_MIPMAP_LINEAR]:"mipmap",[n.gl.NEAREST_MIPMAP_LINEAR]:"nearest mipmap linear",[n.gl.LINEAR_MIPMAP_NEAREST]:"linear mipmap nearest",[n.gl.NEAREST_MIPMAP_NEAREST]:"nearest mipmap nearest"},s={[n.gl.REPEAT]:"repeat",[n.gl.CLAMP_TO_EDGE]:"clamp",[n.gl.MIRRORED_REPEAT]:"mirror"},c={[n.gl.NONE]:"none",[n.gl.BROWSER_DEFAULT_WEBGL]:"browser"},d={[n.gl.NEVER]:"never",[n.gl.ALWAYS]:"always",[n.gl.LESS]:"less",[n.gl.LEQUAL]:"lequal",[n.gl.GREATER]:"greater",[n.gl.GEQUAL]:"gequal",[n.gl.EQUAL]:"equal",[n.gl.NOTEQUAL]:"notequal"},h={[n.gl.FUNC_ADD]:"add",[n.gl.MIN_EXT]:"min",[n.gl.MAX_EXT]:"max",[n.gl.FUNC_SUBTRACT]:"subtract",[n.gl.FUNC_REVERSE_SUBTRACT]:"reverse subtract"},p={[n.gl.ZERO]:"zero",[n.gl.ONE]:"one",[n.gl.SRC_COLOR]:"src color",[n.gl.ONE_MINUS_SRC_COLOR]:"one minus src color",[n.gl.SRC_ALPHA]:"src alpha",[n.gl.ONE_MINUS_SRC_ALPHA]:"one minus src alpha",[n.gl.DST_COLOR]:"dst color",[n.gl.ONE_MINUS_DST_COLOR]:"one minus dst color",[n.gl.DST_ALPHA]:"dst alpha",[n.gl.ONE_MINUS_DST_ALPHA]:"one minus dst alpha",[n.gl.CONSTANT_COLOR]:"constant color",[n.gl.ONE_MINUS_CONSTANT_COLOR]:"one minus constant color",[n.gl.CONSTANT_ALPHA]:"constant alpha",[n.gl.ONE_MINUS_CONSTANT_ALPHA]:"one minus constant alpha",[n.gl.SRC_ALPHA_SATURATE]:"src alpha saturate"},v={[n.gl.NEVER]:"never",[n.gl.ALWAYS]:"always",[n.gl.LESS]:"less",[n.gl.LEQUAL]:"lequal",[n.gl.GREATER]:"greater",[n.gl.GEQUAL]:"gequal",[n.gl.EQUAL]:"equal",[n.gl.NOTEQUAL]:"notequal"},_={[n.gl.ZERO]:"zero",[n.gl.KEEP]:"keep",[n.gl.REPLACE]:"replace",[n.gl.INVERT]:"invert",[n.gl.INCR]:"increment",[n.gl.DECR]:"decrement",[n.gl.INCR_WRAP]:"increment wrap",[n.gl.DECR_WRAP]:"decrement wrap"},m={[n.gl.FRONT]:"front",[n.gl.BACK]:"back"};},a262a3db:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("428117ab")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a2844e35:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dd984cc3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a2c9d01f:function(e,t,r){"use strict";e.exports=function(e){var t={};function r(r){var n=e.get(r);return void 0===n?[]:t[n]||[];}return{get:r,add:function(r,n){var a=e.get(r);t[a]||(t[a]=[]),t[a].push(n);},removeListener:function(e,t){for(var n=r(e),a=0,i=n.length;a<i;++a)if(n[a]===t){n.splice(a,1);break;}},removeAllListeners:function(e){var t=r(e);t&&(t.length=0);}};};},a34f47f9:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return i;},identity:function(){return a;}});var n=180/Math.PI,a={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function i(e,t,r,a,i,o){var u,l,f;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(f=e*r+t*a)&&(r-=e*f,a-=t*f),(l=Math.sqrt(r*r+a*a))&&(r/=l,a/=l,f/=l),e*a<t*r&&(e=-e,t=-t,f=-f,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*n,skewX:Math.atan(f)*n,scaleX:u,scaleY:l};}},a3681348:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d71c629f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a3909796:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("6dd50fef"));function a(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,n.default)(t)/3)))-(0,n.default)(Math.abs(e)));}},a39b5deb:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("29144082")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a3a1fd76:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=n._(r("6c8aee75")),l=r("f9b12b3c");class f extends u.default{constructor(...e){super(...e),(0,i.default)(this,"texture",void 0),(0,i.default)(this,"earthTime",3.4),(0,i.default)(this,"sunX",1e3),(0,i.default)(this,"sunY",1e3),(0,i.default)(this,"sunZ",1e3),(0,i.default)(this,"sunRadius",Math.sqrt(this.sunX*this.sunX+this.sunY*this.sunY+this.sunZ*this.sunZ));}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,NORMAL:9,UV:10});}getCommonUniformsInfo(){let{animateOption:e,globalOptions:t}=this.layer.getLayerConfig();null!=e&&e.enable&&(this.mapService.rotateY({reg:.002}),this.earthTime+=.02,this.sunY=10,this.sunX=Math.cos(this.earthTime)*(this.sunRadius-this.sunY),this.sunZ=Math.sin(this.earthTime)*(this.sunRadius-this.sunY));let r={u_sunLight:[this.sunX,this.sunY,this.sunZ,0],u_ambientRatio:(null==t?void 0:t.ambientRatio)||.6,u_diffuseRatio:(null==t?void 0:t.diffuseRatio)||.4,u_specularRatio:(null==t?void 0:t.specularRatio)||.1};return this.textures=[this.texture],this.getUniformsBufferInfo(r);}setEarthTime(e){this.earthTime=e,this.sunY=10,this.sunX=Math.cos(this.earthTime)*(this.sunRadius-this.sunY),this.sunZ=Math.sin(this.earthTime)*(this.sunRadius-this.sunY),this.layerService.throttleRenderLayers();}initModels(){var e=this;return(0,a.default)(function*(){let{globalOptions:t}=e.layer.getLayerConfig();(null==t?void 0:t.earthTime)!==void 0&&e.setEarthTime(t.earthTime);let r=e.layer.getSource(),{createTexture2D:n}=e.rendererService;return e.texture=n({height:0,width:0}),r.data.images.then(t=>{e.texture=n({data:t[0],width:t[0].width,height:t[0].height}),e.textures=[e.texture],e.layerService.reRender();}),e.initUniformsBuffer(),e.buildModels();})();}clearModels(){return"";}buildModels(){var e=this;return(0,a.default)(function*(){return e.layer.zIndex=-998,[(yield e.layer.buildLayerModel({moduleName:"earthBase",vertexShader:'// attribute vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\n// attribute vec2 a_Extrude;\n// attribute float a_Size;\n// attribute float a_Shape;\n\nlayout(std140) uniform commonUniforms {\n	vec4 u_sunLight: [1.0, -10.5, 12.0,0.0];\n	float u_ambientRatio : 0.5;\n	float u_diffuseRatio : 0.3;\n	float u_specularRatio : 0.2;\n};\n\n#pragma include "scene_uniforms"\n\nout vec2 v_texCoord;\nout float v_lightWeight;\n\nfloat calc_lighting(vec4 pos) {\n\n	vec3 worldPos = vec3(pos * u_ModelMatrix);\n\n	vec3 worldNormal = a_Normal;\n\n	// cal light weight\n	vec3 viewDir = normalize(u_CameraPosition - worldPos);\n\n	vec3 lightDir = normalize(u_sunLight.xyz);\n\n	vec3 halfDir = normalize(viewDir+lightDir);\n	// lambert\n	float lambert = dot(worldNormal, lightDir);\n	// specular\n	float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\n	//sum to light weight\n	float lightWeight = u_ambientRatio + u_diffuseRatio * lambert + u_specularRatio * specular;\n\n	return lightWeight;\n}\n\nvoid main() {\n\n	v_texCoord = a_Uv;\n\n	float lightWeight = calc_lighting(vec4(a_Position, 1.0));\n	v_lightWeight = lightWeight;\n\n	gl_Position = u_ViewProjectionMatrix * u_ModelMatrix * vec4(a_Position, 1.0);\n}\n',fragmentShader:"uniform sampler2D u_texture;\n\nin vec2 v_texCoord;\nin float v_lightWeight;\nout vec4 outputColor;\n\nvoid main() {\n  vec4 color = texture(SAMPLER_2D(u_texture), vec2(v_texCoord.x, v_texCoord.y));\n  color.xyz = color.xyz * v_lightWeight;\n  outputColor = color;\n}\n",defines:e.getDefines(),triangulation:l.earthTriangulation,depth:{enable:!0},blend:e.getBlend()}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:o.AttributeType.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:(e,t,r,n,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:o.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}});}}},a3b590d9:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3e4e8540")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a3f33547:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f0dfe008")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a3fdf0b1:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("6c817216"),r("4e33fd57");},a4285932:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b8283308")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a42b8668:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("748e9792")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a43e6745:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return b;}});var n=r("777fffbe"),a=n._(r("ac893dbf")),i=n._(r("5b54188a")),o=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(f)for(var r of f(t))c.call(t,r)&&d(e,r,t[r]);return e;},p=(e,t)=>u(e,l(t)),v=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),_={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0},m=["Unknown","Point","LineString","Polygon"],g=(e,t,r,n)=>v(void 0,null,function*(){return new Promise(a=>{let o=t.getTile(e.z,e.x,e.y),u=o?o.features.map(e=>(function(e,t,r,n,a){let i,o,u=a.geometry,l=a.type,f=a.tags,s=a.id,c=e*Math.pow(2,n),d=e*t,h=e*r,p=m[l];function v(e){for(let t=0;t<e.length;t++){let r=e[t];if(r[3])break;let n=180-(r[1]+h)*360/c,a=(r[0]+d)*360/c-180,i=360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90;e[t]=[a,i,0,1];}}switch(l){case 1:let _=[];for(i=0;i<u.length;i++)_[i]=u[i][0];v(u=_);break;case 2:for(i=0;i<u.length;i++)v(u[i]);break;case 3:for(i=0,u=function(e){let t,r;let n=e.length;if(n<=1)return[e];let a=[];for(let i=0;i<n;i++){let n=function(e){let t=0;for(let r=0,n=e.length,a=n-1,i,o;r<n;a=r++)i=e[r],t+=((o=e[a]).x-i.x)*(i.y+o.y);return t;}(e[i]);0!==n&&(void 0===r&&(r=n<0),r===n<0?(t&&a.push(t),t=[e[i]]):t.push(e[i]));}return t&&a.push(t),a;}(u);i<u.length;i++)for(o=0;o<u[i].length;o++)v(u[i][o]);}return 1===u.length?u=u[0]:p="Multi"+p,{type:"Feature",geometry:{type:p,coordinates:u},properties:f,id:s,relativeOrigin:[0,0],coord:""};})(n,r.x,r.y,r.z,e)):[];a(new i.default({layers:{defaultLayer:{features:u}}},e.x,e.y,e.z));});});function b(e,t){let r=function(e){let t={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!0,debug:0};return void 0===e||void 0===e.geojsonvtOptions?t:h(h({},t),e.geojsonvtOptions);}(t),n=r.extent||4096,i=(0,a.default)(e,r);return{data:e,dataArray:[],tilesetOptions:p(h(h({},_),t),{getTileData:(e,t)=>g(t,i,e,n)}),isTile:!0};}},a4b4509d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("95f93d05")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a5c6da28:function(e,t,r){"use strict";function n(e,t,r){e.prototype=t.prototype=r,r.constructor=e;}function a(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r;}r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return n;},extend:function(){return a;}});},a601cb74:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6f1145b5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a63fe165:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("777fffbe"),a=n._(r("b38ee420")),i=n._(r("08b2199c")),o=n._(r("50798a9b")),u={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:a.default,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>(0,o.default)(100*e,t),r:o.default,s:i.default,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};},a67d1e61:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7a96ecd5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a6d1d734:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c3e3abab")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a6d5de77:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4a8d4844")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a7005b8f:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e4cf257c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a70d4f04:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ffacc6e6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a7628d50:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("257d2b30")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a7755ce7:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("6c8aee75")),f=r("f9b12b3c");class s extends l.default{constructor(...e){super(...e),(0,i.default)(this,"raiseCount",0),(0,i.default)(this,"raiseRepeat",0);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,NORMAL:11});}getCommonUniformsInfo(){let{animateOption:e={enable:!1,speed:.01,repeat:!1},sourceColor:t,targetColor:r,pickLight:n=!1,heightfixed:a=!1,opacityLinear:i={enable:!1,dir:"up"},lightEnable:o=!0}=this.layer.getLayerConfig(),l=0,f=[0,0,0,0],s=[0,0,0,0];if(t&&r&&(f=(0,u.rgb2arr)(t),s=(0,u.rgb2arr)(r),l=1),this.raiseCount<1&&this.raiseRepeat>0&&e.enable){let{speed:t=.01}=e;this.raiseCount+=t,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1);}let c={u_pickLight:Number(n),u_heightfixed:Number(a),u_r:e.enable&&this.raiseRepeat>0?this.raiseCount:1,u_linearColor:l,u_sourceColor:f,u_targetColor:s,u_opacitylinear:Number(i.enable),u_opacitylinear_dir:"up"===i.dir?1:0,u_lightEnable:Number(o)};return this.getUniformsBufferInfo(c);}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){let{depth:t=!0,animateOption:{repeat:r=1}}=e.layer.getLayerConfig();return e.raiseRepeat=r,e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"pointExtrude",vertexShader:'#define pi (3.1415926535)\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec4 a_Extrude;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\n\nlayout(std140) uniform commonUniforms {\n  float u_pickLight;\n  float u_heightfixed;\n  float u_r;\n  float u_linearColor;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_opacitylinear;\n  float u_opacitylinear_dir;\n  float u_lightEnable;\n};\nout vec4 v_color;\nout float v_lightWeight;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nfloat getYRadian(float x, float z) {\n  if (x > 0.0 && z > 0.0) {\n    return atan(x / z);\n  } else if (x > 0.0 && z <= 0.0) {\n    return atan(-z / x) + pi / 2.0;\n  } else if (x <= 0.0 && z <= 0.0) {\n    return pi + atan(x / z); //atan(x/z) +\n  } else {\n    return atan(z / -x) + pi * 3.0 / 2.0;\n  }\n}\n\nfloat getXRadian(float y, float r) {\n  return atan(y / r);\n}\n\nvoid main() {\n  vec3 size = a_Size * a_Position;\n\n  vec3 offset = size; // \u63A7\u5236\u5706\u67F1\u4F53\u7684\u5927\u5C0F - \u4ECE\u6807\u51C6\u5355\u4F4D\u5706\u67F1\u4F53\u8FDB\u884C\u504F\u79FB\n\n  if (u_heightfixed < 1.0) {\n    // \u5706\u67F1\u4F53\u4E0D\u56FA\u5B9A\u9AD8\u5EA6\n  } else {\n    // \u5706\u67F1\u4F53\u56FA\u5B9A\u9AD8\u5EA6 \uFF08 \u5904\u7406 mapbox \uFF09\n    if (\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    ) {\n      offset *= 4.0 / pow(2.0, 21.0 - u_Zoom);\n    }\n  }\n\n  vec2 positions = a_Extrude.xy;\n  vec2 positions64Low = a_Extrude.zw;\n  vec4 project_pos = project_position(vec4(positions, 0.0, 1.0), positions64Low);\n\n  // u_r \u63A7\u5236\u5706\u67F1\u7684\u751F\u957F\n  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);\n\n  // // \u5706\u67F1\u5149\u7167\u6548\u679C\n  float lightWeight = 1.0;\n\n  if (u_lightEnable > 0.0) {\n    // \u53D6\u6D88\u4E09\u5143\u8868\u8FBE\u5F0F\uFF0C\u589E\u5F3A\u5065\u58EE\u6027\n    lightWeight = calc_lighting(pos);\n  }\n\n  v_lightWeight = lightWeight;\n\n  v_color = a_Color;\n\n  // \u8BBE\u7F6E\u5706\u67F1\u7684\u5E95\u8272\n  if (u_linearColor == 1.0) {\n    // \u4F7F\u7528\u6E10\u53D8\u989C\u8272\n    v_color = mix(u_sourceColor, u_targetColor, a_Position.z);\n    v_color.a = v_color.a * opacity;\n  } else {\n    v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);\n  }\n\n  if (u_opacitylinear > 0.0) {\n    v_color.a *= u_opacitylinear_dir > 0.0 ? 1.0 - a_Position.z : a_Position.z;\n  }\n\n  gl_Position = project_common_position_to_clipspace(pos);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'in vec4 v_color;\nin float v_lightWeight;\nout vec4 outputColor;\n\nlayout(std140) uniform commonUniforms {\n  float u_pickLight;\n  float u_heightfixed;\n  float u_r;\n  float u_linearColor;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_opacitylinear;\n  float u_opacitylinear_dir;\n  float u_lightEnable;\n};\n\n#pragma include "scene_uniforms"\n#pragma include "picking"\n\nvoid main() {\n  outputColor = v_color;\n  // \u5F00\u542F\u900F\u660E\u5EA6\u6E10\u53D8\n  // picking\n  if (u_pickLight > 0.0) {\n    outputColor = filterColorAlpha(outputColor, v_lightWeight);\n  } else {\n    outputColor = filterColor(outputColor);\n  }\n}\n',triangulation:f.PointExtrudeTriangulation,defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:o.gl.FRONT},depth:{enable:t}}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:o.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:e=>{let{size:t}=e;if(!t)return[2,2,2];{let e=[];return Array.isArray(t)&&(e=2===t.length?[t[0],t[0],t[1]]:t),Array.isArray(t)||(e=[t,t,t]),e;}}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:o.AttributeType.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:(e,t,r,n,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:o.AttributeType.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:4,update:e=>{let t=(0,u.calculateCentroid)(e.coordinates);return[t[0],t[1],(0,u.fp64LowPart)(t[0]),(0,u.fp64LowPart)(t[1])];}}});}}},a7cc435e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7c612178")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a7def07c:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b4fe8cd0")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a83db83e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b0bb04de")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a8437387:function(e,t,r){},a8448745:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return u;},gamma:function(){return o;},hue:function(){return i;}});var n=r("777fffbe")._(r("5da5b083"));function a(e,t){return function(r){return e+r*t;};}function i(e,t){var r=t-e;return r?a(e,r>180||r<-180?r-360*Math.round(r/360):r):(0,n.default)(isNaN(e)?t:e);}function o(e){return 1==(e=+e)?u:function(t,r){var a,i,o;return r-t?(a=t,i=r,a=Math.pow(a,o=e),i=Math.pow(i,o)-a,o=1/o,function(e){return Math.pow(a+e*i,o);}):(0,n.default)(isNaN(t)?r:t);};}function u(e,t){var r=t-e;return r?a(e,r):(0,n.default)(isNaN(e)?t:e);}},a8563fd0:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{getCustomData:function(){return o;},getCustomImageData:function(){return u;}});var n=r("89217383"),a=r("6b18bdce"),i=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),o=(e,t,r,n)=>i(void 0,null,function*(){return new Promise((i,o)=>{t({x:e.x,y:e.y,z:e.z},(e,t)=>{if(e||0===t.length){o(e);return;}t&&(0,a.processRasterData)([{data:t,bands:[0]}],r,n,(e,t)=>{e?o(e):t&&i(t);});});});}),u=(e,t)=>i(void 0,null,function*(){return new Promise((r,a)=>{t({x:e.x,y:e.y,z:e.z},(e,t)=>{if(e||!t){a(e);return;}t instanceof ArrayBuffer?(0,n.formatImage)(t,(e,t)=>{e&&a(e),r(t);}):t instanceof HTMLImageElement?r(t):a(e);});});});},a872b802:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("57b4e895")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a8a36ed4:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f974b1ef")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a8a9603d:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("6c8aee75")),f=r("f9b12b3c");class s extends l.default{constructor(...e){super(...e),(0,i.default)(this,"cityCenter",void 0),(0,i.default)(this,"cityMinSize",void 0);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,UV:11});}getCommonUniformsInfo(){let{opacity:e=1,baseColor:t="rgb(16,16,16)",brightColor:r="rgb(255,176,38)",windowColor:n="rgb(30,60,89)",time:a=0,sweep:i={enable:!1,sweepRadius:1,sweepColor:"rgb(255, 255, 255)",sweepSpeed:.4,sweepCenter:this.cityCenter}}=this.layer.getLayerConfig(),o={u_baseColor:(0,u.rgb2arr)(t),u_brightColor:(0,u.rgb2arr)(r),u_windowColor:(0,u.rgb2arr)(n),u_circleSweepColor:[...(0,u.rgb2arr)(i.sweepColor).slice(0,3),1],u_cityCenter:i.sweepCenter||this.cityCenter,u_circleSweep:i.enable?1:0,u_cityMinSize:this.cityMinSize*i.sweepRadius,u_circleSweepSpeed:i.sweepSpeed,u_opacity:e,u_near:0,u_far:1,u_time:this.layer.getLayerAnimateTime()||a};return this.getUniformsBufferInfo(o);}calCityGeo(){let[e,t,r,n]=this.layer.getSource().extent;this.cityCenter=[(r+e)/2,(n+t)/2],this.cityMinSize=Math.sqrt(Math.pow(r-e,2)+Math.pow(n-t,2))/4;}initModels(){var e=this;return(0,a.default)(function*(){return e.calCityGeo(),e.initUniformsBuffer(),e.startModelAnimate(),e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return[(yield e.layer.buildLayerModel({moduleName:"cityBuilding",vertexShader:'precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nout vec2 v_texCoord;\nout vec4 v_Color;\nout float v_worldDis;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_baseColor : [ 1.0, 0, 0, 1.0 ];\n  vec4 u_brightColor : [ 1.0, 0, 0, 1.0 ];\n  vec4 u_windowColor : [ 1.0, 0, 0, 1.0 ];\n  vec4 u_circleSweepColor;\n  vec2 u_cityCenter;\n  float u_circleSweep;\n  float u_cityMinSize;\n  float u_circleSweepSpeed;\n  float u_opacity: 1.0;\n  float u_near : 0;\n  float u_far : 1;\n  float u_time;\n};\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\n\nvoid main() {\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n\n   v_texCoord = a_Uv;\n\n  if(u_circleSweep > 0.0) {\n     vec2 lnglatscale = vec2(0.0);\n    lnglatscale = (a_Position.xy - u_cityCenter) * vec2(0.0, 0.135);\n    v_worldDis = length(a_Position.xy + lnglatscale - u_cityCenter);\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  float lightWeight = calc_lighting(pos);\n  // v_Color = a_Color;\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'precision highp float;\nlayout(std140) uniform commonUniforms {\n  vec4 u_baseColor: [ 1.0, 0, 0, 1.0 ];\n  vec4 u_brightColor: [ 1.0, 0, 0, 1.0 ];\n  vec4 u_windowColor: [ 1.0, 0, 0, 1.0 ];\n  vec4 u_circleSweepColor;\n  vec2 u_cityCenter;\n  float u_circleSweep;\n  float u_cityMinSize;\n  float u_circleSweepSpeed;\n  float u_opacity: 1.0;\n  float u_near: 0;\n  float u_far: 1;\n  float u_time;\n};\nin vec4 v_Color;\nin vec2 v_texCoord;\nin float v_worldDis;\nout vec4 outputColor;\n\n#pragma include "picking"\n#pragma include "scene_uniforms"\n\nvec3 getWindowColor(float n, float hot, vec3 brightColor, vec3 darkColor) {\n    float s = step(hot, n);\n    vec3 color = mix(brightColor,vec3(0.9,0.9,1.0),n);\n\n    return mix(darkColor, color, s);\n}\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123);\n}\n\nfloat LinearizeDepth()\n{\n    float z = gl_FragCoord.z * 2.0 - 1.0;\n    return (2.0 * u_near * u_far) / (u_far + u_near - z * (u_far - u_near));\n}\n\nvec3 fog(vec3 color, vec3 fogColor, float depth){\n    float fogFactor=clamp(depth,0.0,1.0);\n    vec3 output_color=mix(fogColor,color,fogFactor);\n    return output_color;\n}\n\nfloat sdRect(vec2 p, vec2 sz) {\n  vec2 d = abs(p) - sz;\n  float outside = length(max(d, 0.));\n  float inside = min(max(d.x, d.y), 0.);\n  return outside + inside;\n}\n\nvoid main() {\n  outputColor = v_Color;\n  vec3 baseColor = u_baseColor.xyz;\n  vec3 brightColor = u_brightColor.xyz;\n  vec3 windowColor = u_windowColor.xyz;\n  float targetColId = 5.;\n  float depth = 1.0 - LinearizeDepth() / u_far * u_Zoom;\n  vec3 fogColor = vec3(23.0/255.0,31.0/255.0,51.0/255.0);\n  if(v_texCoord.x < 0.) { //\u9876\u90E8\u989C\u8272\n       vec3 foggedColor = fog(baseColor.xyz + vec3(0.12*0.9,0.2*0.9,0.3*0.9),fogColor,depth);\n       outputColor = vec4( foggedColor, v_Color.w);\n  }else { // \u4FA7\u9762\u989C\u8272\n        vec2 st = v_texCoord;\n        vec2  UvScale = v_texCoord;\n        float tStep = min(0.08,max(0.05* (18.0-u_Zoom),0.02));\n        float tStart = 0.25 * tStep;\n        float tEnd = 0.75 * tStep;\n        float u = mod(UvScale.x, tStep);\n        float v = mod(UvScale.y, tStep);\n        float ux = floor(UvScale.x/tStep);\n        float uy = floor(UvScale.y/tStep);\n        float n = random(vec2(ux,uy));\n        float lightP = u_time;\n        float head = 1.0- step(0.005,st.y);\n        /*step3*/\n        // \u5C06\u7A97\u6237\u989C\u8272\u548C\u5899\u9762\u989C\u8272\u533A\u522B\u5F00\u6765\n        float sU = step(tStart, u) - step(tEnd, u);\n        float sV = step(tStart, v) - step(tEnd, v);\n        vec2 windowSize = vec2(abs(tEnd-tStart),abs(tEnd-tStart));\n        float dist = sdRect(vec2(u,v), windowSize);\n        float s = sU * sV;\n\n        float curColId = floor(UvScale.x / tStep);\n        float sCol = step(targetColId - 0.2, curColId) - step(targetColId + 0.2, curColId);\n\n        float mLightP = mod(lightP, 2.);\n        float sRow = step(mLightP - 0.2, st.y) - step(mLightP, st.y);\n        if(ux == targetColId){\n            n =0.;\n        }\n        float timeP = min(0.75, abs ( sin(u_time/3.0) ) );\n        float hot = smoothstep(1.0,0.0,timeP);\n        vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), s);\n        //vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), 1.0);\n        float sFinal = s * sCol * sRow;\n        color += mix(baseColor, brightColor, sFinal*n);\n        if (st.y<0.01){\n        color = baseColor;\n         }\n        if(head ==1.0) { // \u9876\u90E8\u4EAE\u7EBF\n            color = brightColor;\n        }\n        color = color * v_Color.rgb;\n\n        vec3 foggedColor = fog(color,fogColor,depth);\n\n        outputColor = vec4(foggedColor,1.0);\n  }\n\n\n  if(u_circleSweep > 0.0 && v_worldDis < u_cityMinSize) {\n    float r = fract(((v_worldDis/u_cityMinSize) - u_time * u_circleSweepSpeed) * 2.0);\n    outputColor.rgb += r * r * u_circleSweepColor.rgb;\n  }\n\n  outputColor.a *= u_opacity;\n  outputColor = filterColor(outputColor);\n}\n',triangulation:f.PolygonExtrudeTriangulation,depth:{enable:!0},defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:o.gl.BACK}}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:o.AttributeType.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:(e,t,r,n,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:o.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:1,update:e=>{let{size:t=10}=e;return Array.isArray(t)?[t[0]]:[t];}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:o.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}});}}},a9072c5e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("28edeae4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a9f398ac:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0f364f9c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},a9f9f035:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Scale:function(){return l;},default:function(){return l;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("89217383"),u=r("c1b59056");class l extends u.Control{constructor(...e){super(...e),(0,i.default)(this,"mScale",void 0),(0,i.default)(this,"iScale",void 0),(0,i.default)(this,"update",()=>{let e=this.mapsService,{maxWidth:t}=this.controlOption,r=e.getSize()[1]/2,n=e.containerToLngLat([0,r]),a=e.containerToLngLat([t,r]),i=(0,o.lnglatDistance)([n.lng,n.lat],[a.lng,a.lat]);this.updateScales(i);});}getDefault(e){return(0,a.default)((0,a.default)({},super.getDefault(e)),{},{name:"scale",position:u.PositionType.BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,lockWidth:!0});}onAdd(){let e=o.DOM.create("div","l7-control-scale");this.resetScaleLines(e);let{updateWhenIdle:t}=this.controlOption;return this.mapsService.on(t?"moveend":"mapmove",this.update),this.mapsService.on(t?"zoomend":"zoomchange",this.update),e;}onRemove(){let{updateWhenIdle:e}=this.controlOption;this.mapsService.off(e?"zoomend":"zoomchange",this.update),this.mapsService.off(e?"moveend":"mapmove",this.update);}setOptions(e){super.setOptions(e),this.checkUpdateOption(e,["lockWidth","maxWidth","metric","updateWhenIdle","imperial"])&&this.resetScaleLines(this.container);}updateScales(e){let{metric:t,imperial:r}=this.controlOption;t&&e&&this.updateMetric(e),r&&e&&this.updateImperial(e);}resetScaleLines(e){o.DOM.clearChildren(e);let{metric:t,imperial:r,maxWidth:n,lockWidth:a}=this.controlOption;a&&o.DOM.addStyle(e,`width: ${n}px`),t&&(this.mScale=o.DOM.create("div","l7-control-scale-line",e)),r&&(this.iScale=o.DOM.create("div","l7-control-scale-line",e)),this.update();}updateScale(e,t,r){let{maxWidth:n}=this.controlOption;e.style.width=Math.round(n*r)+"px",e.innerHTML=t;}getRoundNum(e){let t=Math.pow(10,(Math.floor(e)+"").length-1),r=e/t;return t*(r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1);}updateMetric(e){let t=this.getRoundNum(e);this.updateScale(this.mScale,t<1e3?t+" m":t/1e3+" km",t/e);}updateImperial(e){let t,r,n;let a=3.2808399*e;a>5280?(t=a/5280,r=this.getRoundNum(t),this.updateScale(this.iScale,r+" mi",r/t)):(n=this.getRoundNum(a),this.updateScale(this.iScale,n+" ft",n/a));}}},aa0c791d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e02d4aac")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},aa113865:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a9d20673")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},aa2d8bee:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("465205c8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},aa3bb66e:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("e1e610e4")),i=n._(r("d383b231")),o=n._(r("9be96ae3")),u=r("e3b549d7");let l={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"};class f extends i.default{get mapService(){return this.container.mapService;}constructor(e){super(),(0,a.default)(this,"indragging",!1),(0,a.default)(this,"hammertime",void 0),(0,a.default)(this,"lastClickTime",0),(0,a.default)(this,"lastClickXY",[-1,-1]),(0,a.default)(this,"clickTimer",void 0),(0,a.default)(this,"$containter",void 0),(0,a.default)(this,"onDrag",e=>{let t=this.interactionEvent(e);t.type=l[t.type],"dragging"===t.type?this.indragging=!0:this.indragging=!1,this.emit(u.InteractionEvent.Drag,t);}),(0,a.default)(this,"onHammer",e=>{e.srcEvent.stopPropagation();let t=this.interactionEvent(e);this.emit(u.InteractionEvent.Hover,t);}),(0,a.default)(this,"onTouch",e=>{let t=e.touches[0];this.onHover({clientX:t.clientX,clientY:t.clientY,type:"touchstart"});}),(0,a.default)(this,"onTouchEnd",e=>{if(e.changedTouches.length>0){let t=e.changedTouches[0];this.onHover({clientX:t.clientX,clientY:t.clientY,type:"touchend"});}}),(0,a.default)(this,"onTouchMove",e=>{let t=e.changedTouches[0];this.onHover({clientX:t.clientX,clientY:t.clientY,type:"touchmove"});}),(0,a.default)(this,"onHover",e=>{let{clientX:t,clientY:r}=e,n=t,a=r,i=e.type,o=this.mapService.getMapContainer();if(o){let{top:e,left:t}=o.getBoundingClientRect();n=n-t-o.clientLeft,a=a-e-o.clientTop;}let l=this.mapService.containerToLngLat([n,a]);if("click"===i||"touch"===i){this.isDoubleTap(n,a,l);return;}"click"!==i&&"dblclick"!==i&&this.emit(u.InteractionEvent.Hover,{x:n,y:a,lngLat:l,type:i,target:e});}),this.container=e;}init(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer();}destroy(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(u.InteractionEvent.Hover);}triggerHover({x:e,y:t}){this.emit(u.InteractionEvent.Hover,{x:e,y:t});}triggerSelect(e){this.emit(u.InteractionEvent.Select,{featureId:e});}triggerActive(e){this.emit(u.InteractionEvent.Active,{featureId:e});}addEventListenerOnMap(){let e=this.mapService.getMapContainer();if(e){let t=new o.default.Manager(e);t.add(new o.default.Tap({event:"dblclick",taps:2})),t.add(new o.default.Tap({event:"click"})),t.add(new o.default.Pan({threshold:0,pointers:0})),t.add(new o.default.Press({})),t.on("dblclick click",this.onHammer),t.on("panstart panmove panend pancancel",this.onDrag),e.addEventListener("touchstart",this.onTouch),e.addEventListener("touchend",this.onTouchEnd),e.addEventListener("mousemove",this.onHover),e.addEventListener("touchmove",this.onTouchMove),e.addEventListener("mousedown",this.onHover,!0),e.addEventListener("mouseup",this.onHover),e.addEventListener("contextmenu",this.onHover),this.hammertime=t;}}removeEventListenerOnMap(){let e=this.mapService.getMapContainer();e&&(e.removeEventListener("mousemove",this.onHover),this.hammertime.off("dblclick click",this.onHammer),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),e.removeEventListener("touchstart",this.onTouch),e.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("mousedown",this.onHover),e.removeEventListener("mouseup",this.onHover),e.removeEventListener("contextmenu",this.onHover));}interactionEvent(e){let t,r;let{type:n,pointerType:a}=e;"touch"===a?(r=Math.floor(e.pointers[0].clientY),t=Math.floor(e.pointers[0].clientX)):(r=Math.floor(e.srcEvent.y),t=Math.floor(e.srcEvent.x));let i=this.mapService.getMapContainer();if(i){let{top:e,left:n}=i.getBoundingClientRect();t-=n,r-=e;}let o=this.mapService.containerToLngLat([t,r]);return{x:t,y:r,lngLat:o,type:n,target:e.srcEvent};}isDoubleTap(e,t,r){let n=new Date().getTime(),a="click";n-this.lastClickTime<400&&10>Math.abs(this.lastClickXY[0]-e)&&10>Math.abs(this.lastClickXY[1]-t)?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),a="dblclick",this.emit(u.InteractionEvent.Hover,{x:e,y:t,lngLat:r,type:a})):(this.lastClickTime=n,this.lastClickXY=[e,t],this.clickTimer=setTimeout(()=>{a="click",this.emit(u.InteractionEvent.Hover,{x:e,y:t,lngLat:r,type:a});},400));}}},aa42bbf6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cfcba0e5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ab478382:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("450970ad")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ab68b706:function(e,t,r){"use strict";var n=r("4b532267");e.exports=function(e){var t=(e=e||{}).reporter,r=e.batchProcessor,a=e.stateHandler.getState;if(!t)throw Error("Missing required dependency: reporter.");return{makeDetectable:function(i,o,u){u||(u=o,o=i,i=null),(i=i||{}).debug,n.isIE(8)?u(o):function(o,u){var l,f,s=(l=["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"],f=e.important?" !important; ":"; ",(l.join(f)+f).trim()),c=!1,d=window.getComputedStyle(o),h=o.offsetWidth,p=o.offsetHeight;function v(){function e(){if("static"===d.position){o.style.setProperty("position","relative",i.important?"important":"");var e=function(e,t,r,n){var a=r[n];"auto"!==a&&"0"!==a.replace(/[^-\d\.]/g,"")&&(e.warn("An element that is positioned static has style."+n+"="+a+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+n+" will be set to 0. Element: ",t),t.style.setProperty(n,"0",i.important?"important":""));};e(t,o,d,"top"),e(t,o,d,"right"),e(t,o,d,"bottom"),e(t,o,d,"left");}}""!==d.position&&(e(d),c=!0);var r=document.createElement("object");r.style.cssText=s,r.tabIndex=-1,r.type="text/html",r.setAttribute("aria-hidden","true"),r.onload=function(){c||e(),function e(t,r){if(!t.contentDocument){var n=a(t);n.checkForObjectDocumentTimeoutId&&window.clearTimeout(n.checkForObjectDocumentTimeoutId),n.checkForObjectDocumentTimeoutId=setTimeout(function(){n.checkForObjectDocumentTimeoutId=0,e(t,r);},100);return;}r(t.contentDocument);}(this,function(e){u(o);});},n.isIE()||(r.data="about:blank"),a(o)&&(o.appendChild(r),a(o).object=r,n.isIE()&&(r.data="about:blank"));}a(o).startSize={width:h,height:p},r?r.add(v):v();}(o,u);},addListener:function(e,t){function r(){t(e);}if(n.isIE(8))a(e).object={proxy:r},e.attachEvent("onresize",r);else{var i=a(e).object;if(!i)throw Error("Element is not detectable by this strategy.");i.contentDocument.defaultView.addEventListener("resize",r);}},uninstall:function(e){if(a(e)){var t=a(e).object;t&&(n.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),a(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(a(e).checkForObjectDocumentTimeoutId),delete a(e).object);}}};};},aba8b8c6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9625adce")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},abc56d0d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("76b4ae11")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},abd92112:function(e,t,r){"use strict";function n(e,t){this.x=e,this.y=t;}e.exports=n,n.prototype={clone:function(){return new n(this.x,this.y);},add:function(e){return this.clone()._add(e);},sub:function(e){return this.clone()._sub(e);},multByPoint:function(e){return this.clone()._multByPoint(e);},divByPoint:function(e){return this.clone()._divByPoint(e);},mult:function(e){return this.clone()._mult(e);},div:function(e){return this.clone()._div(e);},rotate:function(e){return this.clone()._rotate(e);},rotateAround:function(e,t){return this.clone()._rotateAround(e,t);},matMult:function(e){return this.clone()._matMult(e);},unit:function(){return this.clone()._unit();},perp:function(){return this.clone()._perp();},round:function(){return this.clone()._round();},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y);},equals:function(e){return this.x===e.x&&this.y===e.y;},dist:function(e){return Math.sqrt(this.distSqr(e));},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r;},angle:function(){return Math.atan2(this.y,this.x);},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x);},angleWith:function(e){return this.angleWithSep(e.x,e.y);},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t);},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this;},_add:function(e){return this.x+=e.x,this.y+=e.y,this;},_sub:function(e){return this.x-=e.x,this.y-=e.y,this;},_mult:function(e){return this.x*=e,this.y*=e,this;},_div:function(e){return this.x/=e,this.y/=e,this;},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this;},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this;},_unit:function(){return this._div(this.mag()),this;},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this;},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=t*this.x-r*this.y,a=r*this.x+t*this.y;return this.x=n,this.y=a,this;},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),a=t.x+r*(this.x-t.x)-n*(this.y-t.y),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=a,this.y=i,this;},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this;}},n.convert=function(e){return e instanceof n?e:Array.isArray(e)?new n(e[0],e[1]):e;};},ac19bdaa:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9b33a4d3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ac283c86:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("458e0e94")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ac283fff:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("777fffbe")._(r("e1e610e4"));let{isNil:a}=r("89217383").lodashUtil;class i{constructor(e){(0,n.default)(this,"name",void 0),(0,n.default)(this,"type",void 0),(0,n.default)(this,"scale",void 0),(0,n.default)(this,"descriptor",void 0),(0,n.default)(this,"featureBufferLayout",[]),(0,n.default)(this,"needRescale",!1),(0,n.default)(this,"needRemapping",!1),(0,n.default)(this,"needRegenerateVertices",!1),(0,n.default)(this,"featureRange",{startIndex:0,endIndex:1/0}),(0,n.default)(this,"vertexAttribute",void 0),(0,n.default)(this,"defaultCallback",e=>{if(0===e.length){var t;return(null===(t=this.scale)||void 0===t?void 0:t.defaultValues)||[];}return e.map((e,t)=>{var r;return(null===(r=this.scale)||void 0===r?void 0:r.scalers[t].func)(e);});}),this.setProps(e);}setProps(e){Object.assign(this,e);}mapping(e){var t,r;if(null!==(t=this.scale)&&void 0!==t&&t.callback){let t=null===(r=this.scale)||void 0===r?void 0:r.callback(...e);if(!a(t))return[t];}return this.defaultCallback(e);}resetDescriptor(){this.descriptor&&(this.descriptor.buffer.data=[]);}}},ac509eda:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2f2c601e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ac621341:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0046ead5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ac893dbf:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("8d84869c")),i=n._(r("dd202496")),o=n._(r("79f6d739")),u=n._(r("d78ada93")),l=n._(r("9ac4ff83"));function f(e,t){return new s(e,t);}function s(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e;}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw Error("promoteId and generateId cannot be used together.");var n=(0,a.default)(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=(0,o.default)(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)));}function c(e,t,r){return((1<<e)*r+t)*32+e;}s.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},s.prototype.splitTile=function(e,t,r,n,a,o,u){for(var f=[e,t,r,n],s=this.options,d=s.debug;f.length;){n=f.pop(),r=f.pop(),t=f.pop(),e=f.pop();var h=1<<t,p=c(t,r,n),v=this.tiles[p];if(!v&&(d>1&&console.time("creation"),v=this.tiles[p]=(0,l.default)(e,t,r,n,s),this.tileCoords.push({z:t,x:r,y:n}),d)){d>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,v.numFeatures,v.numPoints,v.numSimplified),console.timeEnd("creation"));var _="z"+t;this.stats[_]=(this.stats[_]||0)+1,this.total++;}if(v.source=e,a){if(t===s.maxZoom||t===a)continue;var m=1<<a-t;if(r!==Math.floor(o/m)||n!==Math.floor(u/m))continue;}else if(t===s.indexMaxZoom||v.numPoints<=s.indexMaxPoints)continue;if(v.source=null,0!==e.length){d>1&&console.time("clipping");var g,b,y,E,T,A,S=.5*s.buffer/s.extent,O=.5-S,R=.5+S,M=1+S;g=b=y=E=null,T=(0,i.default)(e,h,r-S,r+R,0,v.minX,v.maxX,s),A=(0,i.default)(e,h,r+O,r+M,0,v.minX,v.maxX,s),e=null,T&&(g=(0,i.default)(T,h,n-S,n+R,1,v.minY,v.maxY,s),b=(0,i.default)(T,h,n+O,n+M,1,v.minY,v.maxY,s),T=null),A&&(y=(0,i.default)(A,h,n-S,n+R,1,v.minY,v.maxY,s),E=(0,i.default)(A,h,n+O,n+M,1,v.minY,v.maxY,s),A=null),d>1&&console.timeEnd("clipping"),f.push(g||[],t+1,2*r,2*n),f.push(b||[],t+1,2*r,2*n+1),f.push(y||[],t+1,2*r+1,2*n),f.push(E||[],t+1,2*r+1,2*n+1);}}},s.prototype.getTile=function(e,t,r){var n=this.options,a=n.extent,i=n.debug;if(e<0||e>24)return null;var o=1<<e,l=c(e,t=(t%o+o)%o,r);if(this.tiles[l])return(0,u.default)(this.tiles[l],a);i>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var f,s=e,d=t,h=r;!f&&s>0;)s--,d=Math.floor(d/2),h=Math.floor(h/2),f=this.tiles[c(s,d,h)];return f&&f.source?(i>1&&console.log("found parent tile z%d-%d-%d",s,d,h),i>1&&console.time("drilling down"),this.splitTile(f.source,s,d,h,e,t,r),i>1&&console.timeEnd("drilling down"),this.tiles[l]?(0,u.default)(this.tiles[l],a):null):null;};},ac98b261:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=n._(r("6c8aee75")),f=r("f9b12b3c");class s extends l.default{constructor(...e){super(...e),(0,o.default)(this,"texture",void 0),(0,o.default)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),setTimeout(()=>{this.layerService.throttleRenderLayers();});return;}this.texture=e({data:this.iconService.getCanvas(),mag:u.gl.LINEAR,min:u.gl.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0});});}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,UV:10});}getUninforms(){if(this.rendererService.getDirty()){var e;null===(e=this.texture)||void 0===e||e.bind();}let t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},t.uniformsOption),r.uniformsOption);}getCommonUniformsInfo(){let{raisingHeight:e=0,heightfixed:t=!1}=this.layer.getLayerConfig(),r={u_textSize:[1024,this.iconService.canvasHeight||128],u_raisingHeight:Number(e),u_heightfixed:Number(t),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(r);}initModels(){var e=this;return(0,a.default)(function*(){return e.iconService.on("imageUpdate",e.updateTexture),e.updateTexture(),e.buildModels();})();}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture);}buildModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"pointImage",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_textSize;\n  float u_raisingHeight;\n  float u_heightfixed;\n};\n\nout vec4 v_color;\nout vec2 v_uv;\nout float v_opacity;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97\n  v_color = a_Color;\n  v_opacity = opacity;\n  v_uv = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n\n  vec2 offset = project_pixel(offsets);\n\n  float raisingHeight = u_raisingHeight;\n  if (u_heightfixed < 1.0) {\n    // false\n    raisingHeight = project_pixel(u_raisingHeight);\n  } else {\n    if (\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    ) {\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n      raisingHeight = u_raisingHeight * mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));\n\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'layout(std140) uniform commonUniforms {\n  vec2 u_textSize;\n  float u_raisingHeight;\n  float u_heightfixed;\n};\n\nuniform sampler2D u_texture;\n\nin vec4 v_color;\nin vec2 v_uv;\nin float v_opacity;\n\n#pragma include "picking"\n\nout vec4 outputColor;\n\nvoid main() {\n  vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.0;\n  vec4 textureColor;\n\n  // Y = 0.299R + 0.587G + 0.114B // \u4EAE\u5EA6\u63D0\u53D6\n\n  textureColor = texture(SAMPLER_2D(u_texture), pos);\n\n  // Tip: \u53BB\u9664\u8FB9\u7F18\u90E8\u5206 mipmap \u5BFC\u81F4\u7684\u6DF7\u5408\u53D8\u6697\n  float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);\n  if (fragmengTocenter >= 0.5) {\n    float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;\n    textureColor.a *= luma;\n  }\n\n  if (\n    all(lessThan(v_color, vec4(1.0 + 0.00001))) && all(greaterThan(v_color, vec4(1.0 - 0.00001))) ||\n    v_color == vec4(1.0)\n  ) {\n    outputColor = textureColor;\n  } else {\n    outputColor = step(0.01, textureColor.z) * v_color;\n  }\n  outputColor.a *= v_opacity;\n  if (outputColor.a < 0.01) {\n    discard;\n  }\n  outputColor = filterColor(outputColor);\n}\n',triangulation:f.PointImageTriangulation,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},primitive:u.gl.POINTS}))];})();}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:u.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t];}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:u.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{shape:r}=e,{x:n,y:a}=t[r]||{x:-64,y:-64};return[n,a];}}});}}},aca3e9eb:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("bcf303a7"));function a(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,n.default)(t)/3)))-(0,n.default)(Math.abs(e)));}},acc2bca3:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("99a949b8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},acfd9fe9:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{ExportImage:function(){return f;},default:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("e1e610e4")),u=r("be6cb12a"),l=n._(r("e46f20cf"));class f extends l.default{constructor(...e){var t;super(...e),t=this,(0,o.default)(this,"onClick",(0,i.default)(function*(){let{onExport:e}=t.controlOption;null==e||e((yield t.getImage()));})),(0,o.default)(this,"mergeImage",(0,i.default)(function*(...e){var r,n;let{imageType:a}=t.controlOption,{width:i=0,height:o=0}=null!==(r=null===(n=t.mapsService.getContainer())||void 0===n?void 0:n.getBoundingClientRect())&&void 0!==r?r:{},u=document.createElement("canvas");u.width=i,u.height=o;let l=u.getContext("2d");return(yield Promise.all(e.map(e=>new Promise(t=>{let r=new Image;r.onload=()=>{t(r);},r.src=e;})))).forEach(e=>{null==l||l.drawImage(e,0,0,i,o);}),u.toDataURL(`image/${a}`);}));}onAdd(){let e=super.onAdd();return e.addEventListener("click",this.onClick),e;}getDefault(e){return(0,a.default)((0,a.default)({},super.getDefault(e)),{},{title:"\u5BFC\u51FA\u56FE\u7247",btnIcon:(0,u.createL7Icon)("l7-icon-export-picture"),imageType:"png"});}getImage(){var e=this;return(0,i.default)(function*(){let t=yield e.mapsService.exportMap("png"),r=yield e.scene.exportPng("png");return e.mergeImage(...[t,r].filter(e=>e));})();}}},acfdc9f2:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{createRendererContainer:function(){return a;},isEventCrash:function(){return i;}});let n=0;function a(e){let t=e;if("string"==typeof e&&(t=document.getElementById(e)),t){let e=document.createElement("div");return e.style.cssText+=`
      position: absolute;
      z-index:2;
      height: 100%;
      width: 100%;
      pointer-events: none;
    `,e.id=`l7-scene-${n++}`,e.classList.add("l7-scene"),t.appendChild(e),e;}return null;}function i(e){var t,r,n;let a=!0;if((null==e||null===(t=e.target)||void 0===t?void 0:t.target)instanceof HTMLElement){let t=null==e||null===(r=e.target)||void 0===r?void 0:r.target;for(;t;){let e=Array.from(t.classList);if(e.includes("l7-marker")||e.includes("l7-popup")){a=!1;break;}t=null===(n=t)||void 0===n?void 0:n.parentElement;}}return a;}},acff11ad:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{calendar:function(){return p;},default:function(){return v;}});var n=r("777fffbe"),a=r("852bbaa9"),i=r("af21b0e3"),o=r("378174f7"),u=r("fac013d5"),l=r("81801401"),f=a._(r("4e33fd57")),s=r("5f49fc8a"),c=n._(r("8f36d1cd"));function d(e){return new Date(e);}function h(e){return e instanceof Date?+e:+new Date(+e);}function p(e,t,r,n,a,o,u,s,v){var _=(0,f.default)(f.identity,f.identity),m=_.invert,g=_.domain,b=v(".%L"),y=v(":%S"),E=v("%I:%M"),T=v("%I %p"),A=v("%a %d"),S=v("%b %d"),O=v("%B"),R=v("%Y"),M=[[u,1,1e3],[u,5,5e3],[u,15,15e3],[u,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[a,1,36e5],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,864e5],[n,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function x(i){return(u(i)<i?b:o(i)<i?y:a(i)<i?E:n(i)<i?T:t(i)<i?r(i)<i?A:S:e(i)<i?O:R)(i);}function C(t,r,n,a){if(null==t&&(t=10),"number"==typeof t){var o=Math.abs(n-r)/t,u=(0,i.bisector)(function(e){return e[2];}).right(M,o);u===M.length?(a=(0,i.tickStep)(r/31536e6,n/31536e6,t),t=e):u?(a=(u=M[o/M[u-1][2]<M[u][2]/o?u-1:u])[1],t=u[0]):(a=Math.max((0,i.tickStep)(r,n,t),1),t=s);}return null==a?t:t.every(a);}return _.invert=function(e){return new Date(m(e));},_.domain=function(e){return arguments.length?g(l.map.call(e,h)):g().map(d);},_.ticks=function(e,t){var r,n=g(),a=n[0],i=n[n.length-1],o=i<a;return o&&(r=a,a=i,i=r),r=(r=C(e,a,i,t))?r.range(a,i+1):[],o?r.reverse():r;},_.tickFormat=function(e,t){return null==t?x:v(t);},_.nice=function(e,t){var r=g();return(e=C(e,r[0],r[r.length-1],t))?g((0,c.default)(r,e)):_;},_.copy=function(){return(0,f.copy)(_,p(e,t,r,n,a,o,u,s,v));},_;}function v(){return s.initRange.apply(p(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,u.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments);}},acffd71d:function(e,t,r){"use strict";function n(e,t,r,n){var i={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)a(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)a(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)a(e,t[n][i]);}(i),i;}function a(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1]);}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},ad098253:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4cc569ce")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ad3476a4:function(e,t,r){},ad51bf9b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("31317ebe")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ad752d90:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b21b4358")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ad9f0caa:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f13d53dd")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},adfc26bf:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"pointToHexbin",{enumerable:!0,get:function(){return p;}});var n=r("89217383"),a=r("d8f8c848"),i=Object.defineProperty,o=Object.defineProperties,u=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))f.call(t,r)&&c(e,r,t[r]);if(l)for(var r of l(t))s.call(t,r)&&c(e,r,t[r]);return e;},h=(e,t)=>o(e,u(t));function p(e,t){let r=e.dataArray,{size:i=10,method:o="sum"}=t,u=i/(2*Math.PI*6378e3)*268435456/2,l=r.map(e=>{let[t,r]=(0,n.aProjectFlat)(e.coordinates);return h(d({},e),{coordinates:[t,r]});});return{dataArray:(0,a.hexbin)().radius(u).x(e=>e.coordinates[0]).y(e=>e.coordinates[1])(l).map((e,r)=>{if(t.field&&o){let r=n.Satistics.getColumn(e,t.field);e[o]=n.Satistics.statMap[o](r);}return{[t.method]:e[o],count:e.length,rawData:e,coordinates:[e.x,e.y],_id:r};}),radius:u,xOffset:u,yOffset:u,type:"hexagon"};}},ae848069:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return i;},milliseconds:function(){return o;}});var n=r("777fffbe")._(r("d365c0f8")),a=(0,n.default)(function(){},function(e,t){e.setTime(+e+t);},function(e,t){return t-e;});a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?(0,n.default)(function(t){t.setTime(Math.floor(t/e)*e);},function(t,r){t.setTime(+t+r*e);},function(t,r){return(r-t)/e;}):a:null;};var i=a,o=a.range;},ae8ece4f:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{add:function(){return q;},adjoint:function(){return d;},clone:function(){return i;},copy:function(){return o;},create:function(){return a;},decompose:function(){return w;},determinant:function(){return h;},equals:function(){return J;},exactEquals:function(){return Q;},frob:function(){return Y;},fromQuat:function(){return D;},fromQuat2:function(){return x;},fromRotation:function(){return A;},fromRotationTranslation:function(){return M;},fromRotationTranslationScale:function(){return I;},fromRotationTranslationScaleOrigin:function(){return N;},fromScaling:function(){return T;},fromTranslation:function(){return E;},fromValues:function(){return u;},fromXRotation:function(){return S;},fromYRotation:function(){return O;},fromZRotation:function(){return R;},frustum:function(){return F;},getRotation:function(){return L;},getScaling:function(){return P;},getTranslation:function(){return C;},identity:function(){return f;},invert:function(){return c;},lookAt:function(){return H;},mul:function(){return ee;},multiply:function(){return p;},multiplyScalar:function(){return K;},multiplyScalarAndAdd:function(){return $;},ortho:function(){return z;},orthoNO:function(){return G;},orthoZO:function(){return V;},perspective:function(){return U;},perspectiveFromFieldOfView:function(){return k;},perspectiveNO:function(){return B;},perspectiveZO:function(){return j;},rotate:function(){return m;},rotateX:function(){return g;},rotateY:function(){return b;},rotateZ:function(){return y;},scale:function(){return _;},set:function(){return l;},str:function(){return W;},sub:function(){return et;},subtract:function(){return Z;},targetTo:function(){return X;},translate:function(){return v;},transpose:function(){return s;}});var n=r("852bbaa9")._(r("8d58e674"));function a(){var e=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e;}function i(e){var t=new n.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t;}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e;}function u(e,t,r,a,i,o,u,l,f,s,c,d,h,p,v,_){var m=new n.ARRAY_TYPE(16);return m[0]=e,m[1]=t,m[2]=r,m[3]=a,m[4]=i,m[5]=o,m[6]=u,m[7]=l,m[8]=f,m[9]=s,m[10]=c,m[11]=d,m[12]=h,m[13]=p,m[14]=v,m[15]=_,m;}function l(e,t,r,n,a,i,o,u,l,f,s,c,d,h,p,v,_){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=u,e[7]=l,e[8]=f,e[9]=s,e[10]=c,e[11]=d,e[12]=h,e[13]=p,e[14]=v,e[15]=_,e;}function f(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e;}function s(e,t){if(e===t){var r=t[1],n=t[2],a=t[3],i=t[6],o=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=u;}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e;}function c(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=t[5],l=t[6],f=t[7],s=t[8],c=t[9],d=t[10],h=t[11],p=t[12],v=t[13],_=t[14],m=t[15],g=r*u-n*o,b=r*l-a*o,y=r*f-i*o,E=n*l-a*u,T=n*f-i*u,A=a*f-i*l,S=s*v-c*p,O=s*_-d*p,R=s*m-h*p,M=c*_-d*v,x=c*m-h*v,C=d*m-h*_,P=g*C-b*x+y*M+E*R-T*O+A*S;return P?(P=1/P,e[0]=(u*C-l*x+f*M)*P,e[1]=(a*x-n*C-i*M)*P,e[2]=(v*A-_*T+m*E)*P,e[3]=(d*T-c*A-h*E)*P,e[4]=(l*R-o*C-f*O)*P,e[5]=(r*C-a*R+i*O)*P,e[6]=(_*y-p*A-m*b)*P,e[7]=(s*A-d*y+h*b)*P,e[8]=(o*x-u*R+f*S)*P,e[9]=(n*R-r*x-i*S)*P,e[10]=(p*T-v*y+m*g)*P,e[11]=(c*y-s*T-h*g)*P,e[12]=(u*O-o*M-l*S)*P,e[13]=(r*M-n*O+a*S)*P,e[14]=(v*b-p*E-_*g)*P,e[15]=(s*E-c*b+d*g)*P,e):null;}function d(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=t[5],l=t[6],f=t[7],s=t[8],c=t[9],d=t[10],h=t[11],p=t[12],v=t[13],_=t[14],m=t[15],g=r*u-n*o,b=r*l-a*o,y=r*f-i*o,E=n*l-a*u,T=n*f-i*u,A=a*f-i*l,S=s*v-c*p,O=s*_-d*p,R=s*m-h*p,M=c*_-d*v,x=c*m-h*v,C=d*m-h*_;return e[0]=u*C-l*x+f*M,e[1]=a*x-n*C-i*M,e[2]=v*A-_*T+m*E,e[3]=d*T-c*A-h*E,e[4]=l*R-o*C-f*O,e[5]=r*C-a*R+i*O,e[6]=_*y-p*A-m*b,e[7]=s*A-d*y+h*b,e[8]=o*x-u*R+f*S,e[9]=n*R-r*x-i*S,e[10]=p*T-v*y+m*g,e[11]=c*y-s*T-h*g,e[12]=u*O-o*M-l*S,e[13]=r*M-n*O+a*S,e[14]=v*b-p*E-_*g,e[15]=s*E-c*b+d*g,e;}function h(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],u=e[6],l=e[7],f=e[8],s=e[9],c=e[10],d=e[11],h=e[12],p=e[13],v=e[14],_=e[15],m=t*o-r*i,g=t*u-n*i,b=r*u-n*o,y=f*p-s*h,E=f*v-c*h,T=s*v-c*p;return l*(t*T-r*E+n*y)-a*(i*T-o*E+u*y)+_*(f*b-s*g+c*m)-d*(h*b-p*g+v*m);}function p(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=t[4],l=t[5],f=t[6],s=t[7],c=t[8],d=t[9],h=t[10],p=t[11],v=t[12],_=t[13],m=t[14],g=t[15],b=r[0],y=r[1],E=r[2],T=r[3];return e[0]=b*n+y*u+E*c+T*v,e[1]=b*a+y*l+E*d+T*_,e[2]=b*i+y*f+E*h+T*m,e[3]=b*o+y*s+E*p+T*g,b=r[4],y=r[5],E=r[6],T=r[7],e[4]=b*n+y*u+E*c+T*v,e[5]=b*a+y*l+E*d+T*_,e[6]=b*i+y*f+E*h+T*m,e[7]=b*o+y*s+E*p+T*g,b=r[8],y=r[9],E=r[10],T=r[11],e[8]=b*n+y*u+E*c+T*v,e[9]=b*a+y*l+E*d+T*_,e[10]=b*i+y*f+E*h+T*m,e[11]=b*o+y*s+E*p+T*g,b=r[12],y=r[13],E=r[14],T=r[15],e[12]=b*n+y*u+E*c+T*v,e[13]=b*a+y*l+E*d+T*_,e[14]=b*i+y*f+E*h+T*m,e[15]=b*o+y*s+E*p+T*g,e;}function v(e,t,r){var n,a,i,o,u,l,f,s,c,d,h,p,v=r[0],_=r[1],m=r[2];return t===e?(e[12]=t[0]*v+t[4]*_+t[8]*m+t[12],e[13]=t[1]*v+t[5]*_+t[9]*m+t[13],e[14]=t[2]*v+t[6]*_+t[10]*m+t[14],e[15]=t[3]*v+t[7]*_+t[11]*m+t[15]):(n=t[0],a=t[1],i=t[2],o=t[3],u=t[4],l=t[5],f=t[6],s=t[7],c=t[8],d=t[9],h=t[10],p=t[11],e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=u,e[5]=l,e[6]=f,e[7]=s,e[8]=c,e[9]=d,e[10]=h,e[11]=p,e[12]=n*v+u*_+c*m+t[12],e[13]=a*v+l*_+d*m+t[13],e[14]=i*v+f*_+h*m+t[14],e[15]=o*v+s*_+p*m+t[15]),e;}function _(e,t,r){var n=r[0],a=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e;}function m(e,t,r,a){var i,o,u,l,f,s,c,d,h,p,v,_,m,g,b,y,E,T,A,S,O,R,M,x,C=a[0],P=a[1],L=a[2],w=Math.sqrt(C*C+P*P+L*L);return w<n.EPSILON?null:(C*=w=1/w,P*=w,L*=w,i=Math.sin(r),u=1-(o=Math.cos(r)),l=t[0],f=t[1],s=t[2],c=t[3],d=t[4],h=t[5],p=t[6],v=t[7],_=t[8],m=t[9],g=t[10],b=t[11],y=C*C*u+o,E=P*C*u+L*i,T=L*C*u-P*i,A=C*P*u-L*i,S=P*P*u+o,O=L*P*u+C*i,R=C*L*u+P*i,M=P*L*u-C*i,x=L*L*u+o,e[0]=l*y+d*E+_*T,e[1]=f*y+h*E+m*T,e[2]=s*y+p*E+g*T,e[3]=c*y+v*E+b*T,e[4]=l*A+d*S+_*O,e[5]=f*A+h*S+m*O,e[6]=s*A+p*S+g*O,e[7]=c*A+v*S+b*O,e[8]=l*R+d*M+_*x,e[9]=f*R+h*M+m*x,e[10]=s*R+p*M+g*x,e[11]=c*R+v*M+b*x,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e);}function g(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[4],o=t[5],u=t[6],l=t[7],f=t[8],s=t[9],c=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+f*n,e[5]=o*a+s*n,e[6]=u*a+c*n,e[7]=l*a+d*n,e[8]=f*a-i*n,e[9]=s*a-o*n,e[10]=c*a-u*n,e[11]=d*a-l*n,e;}function b(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],u=t[2],l=t[3],f=t[8],s=t[9],c=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-f*n,e[1]=o*a-s*n,e[2]=u*a-c*n,e[3]=l*a-d*n,e[8]=i*n+f*a,e[9]=o*n+s*a,e[10]=u*n+c*a,e[11]=l*n+d*a,e;}function y(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],u=t[2],l=t[3],f=t[4],s=t[5],c=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+f*n,e[1]=o*a+s*n,e[2]=u*a+c*n,e[3]=l*a+d*n,e[4]=f*a-i*n,e[5]=s*a-o*n,e[6]=c*a-u*n,e[7]=d*a-l*n,e;}function E(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e;}function T(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e;}function A(e,t,r){var a,i,o,u=r[0],l=r[1],f=r[2],s=Math.sqrt(u*u+l*l+f*f);return s<n.EPSILON?null:(u*=s=1/s,l*=s,f*=s,a=Math.sin(t),o=1-(i=Math.cos(t)),e[0]=u*u*o+i,e[1]=l*u*o+f*a,e[2]=f*u*o-l*a,e[3]=0,e[4]=u*l*o-f*a,e[5]=l*l*o+i,e[6]=f*l*o+u*a,e[7]=0,e[8]=u*f*o+l*a,e[9]=l*f*o-u*a,e[10]=f*f*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);}function S(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e;}function O(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e;}function R(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e;}function M(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=n+n,l=a+a,f=i+i,s=n*u,c=n*l,d=n*f,h=a*l,p=a*f,v=i*f,_=o*u,m=o*l,g=o*f;return e[0]=1-(h+v),e[1]=c+g,e[2]=d-m,e[3]=0,e[4]=c-g,e[5]=1-(s+v),e[6]=p+_,e[7]=0,e[8]=d+m,e[9]=p-_,e[10]=1-(s+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e;}function x(e,t){var r=new n.ARRAY_TYPE(3),a=-t[0],i=-t[1],o=-t[2],u=t[3],l=t[4],f=t[5],s=t[6],c=t[7],d=a*a+i*i+o*o+u*u;return d>0?(r[0]=(l*u+c*a+f*o-s*i)*2/d,r[1]=(f*u+c*i+s*a-l*o)*2/d,r[2]=(s*u+c*o+l*i-f*a)*2/d):(r[0]=(l*u+c*a+f*o-s*i)*2,r[1]=(f*u+c*i+s*a-l*o)*2,r[2]=(s*u+c*o+l*i-f*a)*2),M(e,t,r),e;}function C(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e;}function P(e,t){var r=t[0],n=t[1],a=t[2],i=t[4],o=t[5],u=t[6],l=t[8],f=t[9],s=t[10];return e[0]=Math.sqrt(r*r+n*n+a*a),e[1]=Math.sqrt(i*i+o*o+u*u),e[2]=Math.sqrt(l*l+f*f+s*s),e;}function L(e,t){var r=new n.ARRAY_TYPE(3);P(r,t);var a=1/r[0],i=1/r[1],o=1/r[2],u=t[0]*a,l=t[1]*i,f=t[2]*o,s=t[4]*a,c=t[5]*i,d=t[6]*o,h=t[8]*a,p=t[9]*i,v=t[10]*o,_=u+c+v,m=0;return _>0?(m=2*Math.sqrt(_+1),e[3]=.25*m,e[0]=(d-p)/m,e[1]=(h-f)/m,e[2]=(l-s)/m):u>c&&u>v?(m=2*Math.sqrt(1+u-c-v),e[3]=(d-p)/m,e[0]=.25*m,e[1]=(l+s)/m,e[2]=(h+f)/m):c>v?(m=2*Math.sqrt(1+c-u-v),e[3]=(h-f)/m,e[0]=(l+s)/m,e[1]=.25*m,e[2]=(d+p)/m):(m=2*Math.sqrt(1+v-u-c),e[3]=(l-s)/m,e[0]=(h+f)/m,e[1]=(d+p)/m,e[2]=.25*m),e;}function w(e,t,r,n){t[0]=n[12],t[1]=n[13],t[2]=n[14];var a=n[0],i=n[1],o=n[2],u=n[4],l=n[5],f=n[6],s=n[8],c=n[9],d=n[10];r[0]=Math.sqrt(a*a+i*i+o*o),r[1]=Math.sqrt(u*u+l*l+f*f),r[2]=Math.sqrt(s*s+c*c+d*d);var h=1/r[0],p=1/r[1],v=1/r[2],_=a*h,m=i*p,g=o*v,b=u*h,y=l*p,E=f*v,T=s*h,A=c*p,S=d*v,O=_+y+S,R=0;return O>0?(R=2*Math.sqrt(O+1),e[3]=.25*R,e[0]=(E-A)/R,e[1]=(T-g)/R,e[2]=(m-b)/R):_>y&&_>S?(R=2*Math.sqrt(1+_-y-S),e[3]=(E-A)/R,e[0]=.25*R,e[1]=(m+b)/R,e[2]=(T+g)/R):y>S?(R=2*Math.sqrt(1+y-_-S),e[3]=(T-g)/R,e[0]=(m+b)/R,e[1]=.25*R,e[2]=(E+A)/R):(R=2*Math.sqrt(1+S-_-y),e[3]=(m-b)/R,e[0]=(T+g)/R,e[1]=(E+A)/R,e[2]=.25*R),e;}function I(e,t,r,n){var a=t[0],i=t[1],o=t[2],u=t[3],l=a+a,f=i+i,s=o+o,c=a*l,d=a*f,h=a*s,p=i*f,v=i*s,_=o*s,m=u*l,g=u*f,b=u*s,y=n[0],E=n[1],T=n[2];return e[0]=(1-(p+_))*y,e[1]=(d+b)*y,e[2]=(h-g)*y,e[3]=0,e[4]=(d-b)*E,e[5]=(1-(c+_))*E,e[6]=(v+m)*E,e[7]=0,e[8]=(h+g)*T,e[9]=(v-m)*T,e[10]=(1-(c+p))*T,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e;}function N(e,t,r,n,a){var i=t[0],o=t[1],u=t[2],l=t[3],f=i+i,s=o+o,c=u+u,d=i*f,h=i*s,p=i*c,v=o*s,_=o*c,m=u*c,g=l*f,b=l*s,y=l*c,E=n[0],T=n[1],A=n[2],S=a[0],O=a[1],R=a[2],M=(1-(v+m))*E,x=(h+y)*E,C=(p-b)*E,P=(h-y)*T,L=(1-(d+m))*T,w=(_+g)*T,I=(p+b)*A,N=(_-g)*A,D=(1-(d+v))*A;return e[0]=M,e[1]=x,e[2]=C,e[3]=0,e[4]=P,e[5]=L,e[6]=w,e[7]=0,e[8]=I,e[9]=N,e[10]=D,e[11]=0,e[12]=r[0]+S-(M*S+P*O+I*R),e[13]=r[1]+O-(x*S+L*O+N*R),e[14]=r[2]+R-(C*S+w*O+D*R),e[15]=1,e;}function D(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,u=n+n,l=a+a,f=r*o,s=n*o,c=n*u,d=a*o,h=a*u,p=a*l,v=i*o,_=i*u,m=i*l;return e[0]=1-c-p,e[1]=s+m,e[2]=d-_,e[3]=0,e[4]=s-m,e[5]=1-f-p,e[6]=h+v,e[7]=0,e[8]=d+_,e[9]=h-v,e[10]=1-f-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e;}function F(e,t,r,n,a,i,o){var u=1/(r-t),l=1/(a-n),f=1/(i-o);return e[0]=2*i*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*l,e[6]=0,e[7]=0,e[8]=(r+t)*u,e[9]=(a+n)*l,e[10]=(o+i)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*f,e[15]=0,e;}function B(e,t,r,n,a){var i=1/Math.tan(t/2);if(e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0){var o=1/(n-a);e[10]=(a+n)*o,e[14]=2*a*n*o;}else e[10]=-1,e[14]=-2*n;return e;}var U=B;function j(e,t,r,n,a){var i=1/Math.tan(t/2);if(e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0){var o=1/(n-a);e[10]=a*o,e[14]=a*n*o;}else e[10]=-1,e[14]=-n;return e;}function k(e,t,r,n){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+u),f=2/(a+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=-((o-u)*l*.5),e[9]=(a-i)*f*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e;}function G(e,t,r,n,a,i,o){var u=1/(t-r),l=1/(n-a),f=1/(i-o);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*f,e[11]=0,e[12]=(t+r)*u,e[13]=(a+n)*l,e[14]=(o+i)*f,e[15]=1,e;}var z=G;function V(e,t,r,n,a,i,o){var u=1/(t-r),l=1/(n-a),f=1/(i-o);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=f,e[11]=0,e[12]=(t+r)*u,e[13]=(a+n)*l,e[14]=i*f,e[15]=1,e;}function H(e,t,r,a){var i,o,u,l,s,c,d,h,p,v,_=t[0],m=t[1],g=t[2],b=a[0],y=a[1],E=a[2],T=r[0],A=r[1],S=r[2];return Math.abs(_-T)<n.EPSILON&&Math.abs(m-A)<n.EPSILON&&Math.abs(g-S)<n.EPSILON?f(e):(v=1/Math.sqrt((d=_-T)*d+(h=m-A)*h+(p=g-S)*p),d*=v,h*=v,p*=v,(v=Math.sqrt((i=y*p-E*h)*i+(o=E*d-b*p)*o+(u=b*h-y*d)*u))?(i*=v=1/v,o*=v,u*=v):(i=0,o=0,u=0),(v=Math.sqrt((l=h*u-p*o)*l+(s=p*i-d*u)*s+(c=d*o-h*i)*c))?(l*=v=1/v,s*=v,c*=v):(l=0,s=0,c=0),e[0]=i,e[1]=l,e[2]=d,e[3]=0,e[4]=o,e[5]=s,e[6]=h,e[7]=0,e[8]=u,e[9]=c,e[10]=p,e[11]=0,e[12]=-(i*_+o*m+u*g),e[13]=-(l*_+s*m+c*g),e[14]=-(d*_+h*m+p*g),e[15]=1,e);}function X(e,t,r,n){var a=t[0],i=t[1],o=t[2],u=n[0],l=n[1],f=n[2],s=a-r[0],c=i-r[1],d=o-r[2],h=s*s+c*c+d*d;h>0&&(s*=h=1/Math.sqrt(h),c*=h,d*=h);var p=l*d-f*c,v=f*s-u*d,_=u*c-l*s;return(h=p*p+v*v+_*_)>0&&(p*=h=1/Math.sqrt(h),v*=h,_*=h),e[0]=p,e[1]=v,e[2]=_,e[3]=0,e[4]=c*_-d*v,e[5]=d*p-s*_,e[6]=s*v-c*p,e[7]=0,e[8]=s,e[9]=c,e[10]=d,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e;}function W(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")";}function Y(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]+e[4]*e[4]+e[5]*e[5]+e[6]*e[6]+e[7]*e[7]+e[8]*e[8]+e[9]*e[9]+e[10]*e[10]+e[11]*e[11]+e[12]*e[12]+e[13]*e[13]+e[14]*e[14]+e[15]*e[15]);}function q(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e;}function Z(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e;}function K(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e;}function $(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e;}function Q(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15];}function J(e,t){var r=e[0],a=e[1],i=e[2],o=e[3],u=e[4],l=e[5],f=e[6],s=e[7],c=e[8],d=e[9],h=e[10],p=e[11],v=e[12],_=e[13],m=e[14],g=e[15],b=t[0],y=t[1],E=t[2],T=t[3],A=t[4],S=t[5],O=t[6],R=t[7],M=t[8],x=t[9],C=t[10],P=t[11],L=t[12],w=t[13],I=t[14],N=t[15];return Math.abs(r-b)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(a-y)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(i-E)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(o-T)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(u-A)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(l-S)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-O)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(s-R)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(c-M)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(d-x)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(x))&&Math.abs(h-C)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(p-P)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(v-L)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(_-w)<=n.EPSILON*Math.max(1,Math.abs(_),Math.abs(w))&&Math.abs(m-I)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(g-N)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(N));}var ee=p,et=Z;},aef3738c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=r("f9311c0b"),f=n._(r("ee4a79b8")),s=r("ddf10ed6");class c extends l.EventEmitter{constructor(e,t){super(),(0,o.default)(this,"x",void 0),(0,o.default)(this,"y",void 0),(0,o.default)(this,"z",void 0),(0,o.default)(this,"key",void 0),(0,o.default)(this,"parent",void 0),(0,o.default)(this,"sourceTile",void 0),(0,o.default)(this,"visible",!0),(0,o.default)(this,"layers",[]),(0,o.default)(this,"isLoaded",!1),(0,o.default)(this,"tileMaskLayers",[]),(0,o.default)(this,"tileMask",void 0),this.parent=t,this.sourceTile=e,this.x=e.x,this.y=e.y,this.z=e.z,this.key=`${this.x}_${this.y}_${this.z}`;}getLayers(){return this.layers;}styleUpdate(...e){}lnglatInBounds(e){let[t,r,n,a]=this.sourceTile.bounds,{lng:i,lat:o}=e;return i>=t&&i<=n&&o>=r&&o<=a;}getLayerOptions(){var e;let t=this.parent.getLayerConfig();return(0,i.default)((0,i.default)({},t),{},{textAllowOverlap:!0,autoFit:!1,maskLayers:this.getMaskLayer(),tileMask:(0,s.isNeedMask)(this.parent.type),mask:t.mask||(null===(e=t.maskLayers)||void 0===e?void 0:e.length)!==0&&t.enableMask});}getMaskLayer(){let{maskLayers:e}=this.parent.getLayerConfig(),t=[];return null==e||e.forEach(e=>{if(!e.tileLayer)return t.push(e),e;let r=e.tileLayer.getTile(this.sourceTile.key),n=null==r?void 0:r.getLayers()[0];n&&t.push(n);}),t;}addTileMask(){var e=this;return(0,a.default)(function*(){let t=new f.default({name:"mask",visible:!0,enablePicking:!1}).source({type:"FeatureCollection",features:[e.sourceTile.bboxPolygon]},{parser:{type:"geojson",featureId:"id"}}).shape("fill").color("#0f0").style({opacity:.5}),r=(0,u.createLayerContainer)(e.parent.container);t.setContainer(r),yield t.init(),e.tileMask=t;let n=e.getMainLayer();return void 0!==n&&(n.tileMask=t),t;})();}addMask(e,t){var r=this;return(0,a.default)(function*(){let n=(0,u.createLayerContainer)(r.parent.container);t.setContainer(n),yield t.init(),e.addMask(t),r.tileMaskLayers.push(t);})();}addLayer(e){var t=this;return(0,a.default)(function*(){e.isTileLayer=!0;let r=(0,u.createLayerContainer)(t.parent.container);e.setContainer(r),t.layers.push(e),yield e.init();})();}updateVisible(e){this.visible=e,this.updateOptions("visible",e);}updateOptions(e,t){this.layers.forEach(r=>{r.updateLayerConfig({[e]:t});});}getMainLayer(){return this.layers[0];}getFeatures(e){return[];}getFeatureById(e){return[];}destroy(){var e;null===(e=this.tileMask)||void 0===e||e.destroy(),this.layers.forEach(e=>e.destroy());}}},af00b779:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e7e80a03")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},af24cd70:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{MultipleOfFourNumber:function(){return o;},getPolygonSurfaceIndices:function(){return u;}});var n=r("777fffbe"),a=r("89217383"),i=n._(r("fc143ea6"));function o(e){return Math.max(4*Math.ceil(e/4),4);}function u(e,t,r,n=!0){let o=3===r;if(n){e=e.slice();let t=[];for(let n=0;n<e.length;n+=r){t[0]=e[n],t[1]=e[n+1],o&&(t[2]=e[n+2]);let r=(0,a.lngLatToMeters)(t,!0,{enable:!1,decimal:1});e[n]=r[0],e[n+1]=r[1],o&&(e[n+2]=r[2]);}}return(0,i.default)(e,t,r);}},af2cb3b0:function(e,t,r){},af5e84b7:function(e,t,r){"use strict";function n(e,t,r){let n=a(e,e.VERTEX_SHADER,t),i=a(e,e.FRAGMENT_SHADER,r);if(!n||!i)return null;let o=e.createProgram();if(!o)return null;if(e.attachShader(o,n),e.attachShader(o,i),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))return console.warn("Failed to link program: "+e.getProgramInfoLog(o)),e.deleteProgram(o),e.deleteShader(i),e.deleteShader(n),null;let u=e.getProgramParameter(o,e.ACTIVE_ATTRIBUTES);for(let t=0;t<u;t++){let r=e.getActiveAttrib(o,t);o[r.name]=e.getAttribLocation(o,r.name);}let l=e.getProgramParameter(o,e.ACTIVE_UNIFORMS);for(let t=0;t<l;t++){let r=e.getActiveUniform(o,t);o[r.name]=e.getUniformLocation(o,r.name);}return o.vertexShader=n,o.fragmentShader=i,o;}function a(e,t,r){let n=e.createShader(t);return null==n?(console.warn("unable to create shader"),null):(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))?n:(console.warn("Failed to compile shader: "+e.getShaderInfoLog(n)),e.deleteShader(n),null);}function i(e,t,r,n,a){let i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,a,0,e.RGBA,e.UNSIGNED_BYTE,r),e.bindTexture(e.TEXTURE_2D,null),i;}function o(e,t,r){let n=e.createTexture();if(e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),r instanceof HTMLImageElement)e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);else{let t=Math.sqrt(r.length/4);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,t,0,e.RGBA,e.UNSIGNED_BYTE,r);}return e.bindTexture(e.TEXTURE_2D,null),n;}function u(e,t,r){e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,t);}function l(e,t){let r=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),r;}r.d(t,"__esModule",{value:!0}),r.e(t,{bindTexture:function(){return u;},createBuffer:function(){return l;},createDataTexture:function(){return o;},createProgram:function(){return n;},createTexture:function(){return i;},loadShader:function(){return a;}});},af7df5c9:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});let n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=(()=>{if("undefined"==typeof document)return!1;let e=n[0],t={};for(let r of n)if((null==r?void 0:r[1])in document){for(let[n,a]of r.entries())t[e[n]]=a;return t;}return!1;})(),i={change:a.fullscreenchange,error:a.fullscreenerror},o={request:(e=document.documentElement,t)=>new Promise((r,n)=>{let i=()=>{o.off("change",i),r();};o.on("change",i);let u=e[a.requestFullscreen](t);u instanceof Promise&&u.then(i).catch(n);}),exit:()=>new Promise((e,t)=>{if(!o.isFullscreen){e();return;}let r=()=>{o.off("change",r),e();};o.on("change",r);let n=document[a.exitFullscreen]();n instanceof Promise&&n.then(r).catch(t);}),toggle:(e,t)=>o.isFullscreen?o.exit():o.request(e,t),onchange(e){o.on("change",e);},onerror(e){o.on("error",e);},on(e,t){let r=i[e];r&&document.addEventListener(r,t,!1);},off(e,t){let r=i[e];r&&document.removeEventListener(r,t,!1);},raw:a};Object.defineProperties(o,{isFullscreen:{get:()=>!!document[a.fullscreenElement]},element:{enumerable:!0,get:()=>{var e;return null!==(e=document[a.fullscreenElement])&&void 0!==e?e:void 0;}},isEnabled:{enumerable:!0,get:()=>!!document[a.fullscreenEnabled]}}),a||(o={isEnabled:!1});var u=o;},afc4fb9b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f7598ab4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},afcbe3ff:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("16282700")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},afd13841:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b2715947")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},aff4d40a:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7c45c544")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},aff8928e:function(e,t,r){"use strict";(e.exports={}).forEach=function(e,t){for(var r=0;r<e.length;r++){var n=t(e[r]);if(n)return n;}};},b0101f85:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("8b831afe"));function a(e,t){var r,a={},i={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?a[r]=(0,n.default)(e[r],t[r]):i[r]=t[r];return function(e){for(r in a)i[r]=a[r](e);return i;};}},b02395aa:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8acca694")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b06244b7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("bf853f73")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b06e8ab6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("444ed363")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b095f197:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});class n{apply(e,{styleAttributeService:t}){e.hooks.init.tapPromise("UpdateStyleAttributePlugin",()=>{this.initStyleAttribute(e,{styleAttributeService:t});}),e.hooks.beforeRender.tap("UpdateStyleAttributePlugin",()=>{!e.layerModelNeedUpdate&&e.inited&&this.updateStyleAttribute(e,{styleAttributeService:t});});}updateStyleAttribute(e,{styleAttributeService:t}){let r=t.getLayerStyleAttributes()||[],n=t.getLayerStyleAttribute("filter");if(n&&n.needRegenerateVertices){e.layerModelNeedUpdate=!0,r.forEach(e=>e.needRegenerateVertices=!1);return;}r.filter(e=>e.needRegenerateVertices).forEach(r=>{t.updateAttributeByFeatureRange(r.name,e.getEncodedData(),r.featureRange.startIndex,r.featureRange.endIndex,e),r.needRegenerateVertices=!1;});}initStyleAttribute(e,{styleAttributeService:t}){(t.getLayerStyleAttributes()||[]).filter(e=>e.needRegenerateVertices).forEach(r=>{t.updateAttributeByFeatureRange(r.name,e.getEncodedData(),r.featureRange.startIndex,r.featureRange.endIndex),r.needRegenerateVertices=!1;});}}},b097594f:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return v;}});var n=r("777fffbe"),a=r("72c444cf"),i=n._(r("33f06efb")),o=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(f)for(var r of f(t))c.call(t,r)&&d(e,r,t[r]);return e;},p=(e,t)=>u(e,l(t)),v=class{constructor(e,t,r,n){this.vectorLayerCache={},this.x=t,this.y=r,this.z=n,this.vectorTile=new a.VectorTile(new i.default(e));}getTileData(e){if(!e||!this.vectorTile.layers[e])return[];if(this.vectorLayerCache[e])return this.vectorLayerCache[e];let t=this.vectorTile.layers[e];if(Array.isArray(t.features))return this.vectorLayerCache[e]=t.features,t.features;let r=[];for(let e=0;e<t.length;e++){let n=t.feature(e).toGeoJSON(this.x,this.y,this.z);r.push(p(h({},n),{properties:h({id:n.id},n.properties)}));}return this.vectorLayerCache[e]=r,r;}getFeatureById(){throw Error("Method not implemented.");}};},b0b08c10:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f5c9df64")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b15232eb:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("40859a5f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b1738f6d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("07443c7c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b18b8e28:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("0aa51e1c");function a(e){var t=[1/0,1/0,-1/0,-1/0];return(0,n.coordEach)(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1]);}),t;}a.default=a;var i=a;},b18bb84b:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=n._(r("c46b883b")),i=n._(r("85e5f50c")),o=n._(r("6c5dd051")),u=n._(r("f383377a")),l=n._(r("df6924be")),f=n._(r("3d6bdc3c")),s=n._(r("74219e25")),c={arc:a.default,arc3d:i.default,greatcircle:u.default,wall:s.default,line:l.default,simple:f.default,flowline:o.default,earthArc3d:i.default};},b1c219d8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("59442c96")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b1e7f561:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("523d8a97")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b1f445b7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("14b44580")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b23154c8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("41b26393")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b23bdfc8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b9e2e45f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b242b455:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3adc0f5c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b24d0c04:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e589c5da")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b2564227:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dec6a377")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b26e67ff:function(e,t,r){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var r=t(e);return r&&!!r.isDetectable;},markAsDetectable:function(e){t(e).isDetectable=!0;},isBusy:function(e){return!!t(e).busy;},markBusy:function(e,r){t(e).busy=!!r;}};};},b28eeb4c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{BaseLayer:function(){return u.default;},BaseModel:function(){return l.default;},CanvasLayer:function(){return i.default;},CityBuildingLayer:function(){return o.default;},EarthLayer:function(){return g.default;},GeometryLayer:function(){return f.default;},HeatmapLayer:function(){return s.default;},ImageLayer:function(){return c.default;},LineLayer:function(){return d.default;},MaskLayer:function(){return b.default;},PointLayer:function(){return h.default;},PolygonLayer:function(){return p.default;},RasterLayer:function(){return v.default;},TileDebugLayer:function(){return m.default;},TileLayer:function(){return _.default;},WindLayer:function(){return y.default;}});var n=r("d1751d7c"),a=r("777fffbe"),i=a._(r("d77d9150")),o=a._(r("f1e9aa19")),u=a._(r("07a31cab")),l=a._(r("6c8aee75")),f=a._(r("f6b3d98a")),s=a._(r("f4112dd2")),c=a._(r("bd0e8648")),d=a._(r("00f7e909")),h=a._(r("39cf136b")),p=a._(r("ee4a79b8")),v=a._(r("906d0414")),_=a._(r("8aefe1bb")),m=a._(r("516f0869")),g=a._(r("4386a6a2")),b=a._(r("58a69d6e")),y=a._(r("4c8dd98b"));n._(r("34540526"),t);},b29b4a2b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8f95c6a2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b2c44152:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1c0a069f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b2e15da9:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ab2ef5ba")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b2f5502e:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe")._(r("0e87104f")),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i=RegExp(a.source,"g");function o(e,t){var r,o,u,l,f,s=a.lastIndex=i.lastIndex=0,c=-1,d=[],h=[];for(e+="",t+="";(u=a.exec(e))&&(l=i.exec(t));)(f=l.index)>s&&(f=t.slice(s,f),d[c]?d[c]+=f:d[++c]=f),(u=u[0])===(l=l[0])?d[c]?d[c]+=l:d[++c]=l:(d[++c]=null,h.push({i:c,x:(0,n.default)(u,l)})),s=i.lastIndex;return s<t.length&&(f=t.slice(s),d[c]?d[c]+=f:d[++c]=f),d.length<2?h[0]?(r=h[0].x,function(e){return r(e)+"";}):(o=t,function(){return o;}):(t=h.length,function(e){for(var r,n=0;n<t;++n)d[(r=h[n]).i]=r.x(e);return d.join("");});}},b38ee420:function(e,t,r){"use strict";function n(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10);}function a(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)];}r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return n;},formatDecimalParts:function(){return a;}});},b4487bb1:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});var n={MapToken:"\u60A8\u6B63\u5728\u4F7F\u7528 Demo \u6D4B\u8BD5 Token, \u751F\u4EA7\u73AF\u5883\u52A1\u5FC5\u81EA\u884C\u6CE8\u518C Token \u786E\u4FDD\u670D\u52A1\u7A33\u5B9A \u9AD8\u5FB7\u5730\u56FE\u7533\u8BF7\u5730\u5740 https://lbs.amap.com/api/javascript-api/guide/abc/prepare  Mapbox\u5730\u56FE\u7533\u8BF7\u5730\u5740 https://docs.mapbox.com/help/glossary/access-token/",SDK:"\u8BF7\u786E\u8BA4\u5F15\u5165\u4E86mapbox-gl api\u4E14\u5728L7\u4E4B\u524D\u5F15\u5165"};},b47f981b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c8e357ff")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b48d839f:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return function e(){var t=(0,o.default)();return t.copy=function(){return(0,o.copy)(t,e());},u.initRange.apply(t,arguments),f(t);};},linearish:function(){return f;}});var n=r("777fffbe"),a=r("852bbaa9"),i=r("3ad7e104"),o=a._(r("39721a47")),u=r("d0fac4de"),l=n._(r("4315aacf"));function f(e){var t=e.domain;return e.ticks=function(e){var r=t();return(0,i.ticks)(r[0],r[r.length-1],null==e?10:e);},e.tickFormat=function(e,r){var n=t();return(0,l.default)(n[0],n[n.length-1],null==e?10:e,r);},e.nice=function(r){null==r&&(r=10);var n,a,o=t(),u=0,l=o.length-1,f=o[u],s=o[l],c=10;for(s<f&&(a=f,f=s,s=a,a=u,u=l,l=a);c-- >0;){if((a=(0,i.tickIncrement)(f,s,r))===n)return o[u]=f,o[l]=s,t(o);if(a>0)f=Math.floor(f/a)*a,s=Math.ceil(s/a)*a;else if(a<0)f=Math.ceil(f*a)/a,s=Math.floor(s*a)/a;else break;n=a;}return e;},e;}},b4d7966f:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e2d4a234")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b5458794:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5956f130")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b5885134:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("cc661f7c")),i=n._(r("b9fd3c65")),o=n._(r("e1e610e4")),u=r("3cc20d34"),l=n._(r("ac283fff"));let f=["buffer","update","name"],s=["buffer","update","name"],c={[u.gl.FLOAT]:4,[u.gl.UNSIGNED_BYTE]:1,[u.gl.UNSIGNED_SHORT]:2};class d{constructor(e){(0,o.default)(this,"attributesAndIndices",void 0),(0,o.default)(this,"attributes",[]),(0,o.default)(this,"triangulation",void 0),(0,o.default)(this,"featureLayout",{sizePerElement:0,elements:[]}),this.rendererService=e;}registerStyleAttribute(e){let t=this.getLayerStyleAttribute(e.name||"");return t?t.setProps(e):(t=new l.default(e),this.attributes.push(t)),t;}unRegisterStyleAttribute(e){let t=this.attributes.findIndex(t=>t.name===e);t>-1&&this.attributes.splice(t,1);}updateScaleAttribute(e){this.attributes.forEach(t=>{var r;let n=t.name,a=null===(r=t.scale)||void 0===r?void 0:r.field;(e[n]||a&&e[a])&&(t.needRescale=!0,t.needRemapping=!0,t.needRegenerateVertices=!0);});}updateStyleAttribute(e,t,r){let n=this.getLayerStyleAttribute(e);n||(n=this.registerStyleAttribute((0,i.default)((0,i.default)({},t),{},{name:e})));let{scale:a}=t;a&&n&&(n.scale=a,n.needRescale=!0,n.needRemapping=!0,n.needRegenerateVertices=!0,r&&r.featureRange&&(n.featureRange=r.featureRange));}getLayerStyleAttributes(){return this.attributes;}getLayerStyleAttribute(e){return this.attributes.find(t=>t.name===e);}getLayerAttributeScale(e){var t;let r=this.getLayerStyleAttribute(e),n=null==r||null===(t=r.scale)||void 0===t?void 0:t.scalers;return n&&n[0]?n[0].func:null;}updateAttributeByFeatureRange(e,t,r=0,n,a){let i=this.attributes.find(t=>t.name===e);if(i&&i.descriptor){let{descriptor:o}=i,{update:l,buffer:f,size:s=0}=o,d=c[f.type||u.gl.FLOAT];if(l){let{elements:o,sizePerElement:u}=this.featureLayout,f=o.slice(r,n);if(!f.length)return;let{offset:c}=f[0],h=f.map(({featureIdx:e,vertices:r,normals:n},a)=>{let i=r.length/u,o=[];for(let f=0;f<i;f++){let i=n?n.slice(3*f,3*f+3):[];o.push(...l(t[e],e,r.slice(f*u,f*u+u),a,i));}return o;}).flat();i.vertexAttribute.updateBuffer({data:h,offset:c*s*d}),null==a||a.emit(`legend:${e}`,a.getLegend(e));}}}createAttributesAndIndices(e,t,r,n){this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);let o=this.attributes.map(e=>(e.resetDescriptor(),e.descriptor)),l=0,s=0,c=[],d=3;e.forEach((e,t)=>{let{indices:n,vertices:a,normals:i,size:u,indexes:f,count:h}=this.triangulation(e,r);"number"==typeof h&&(s+=h),n.forEach(e=>{c.push(e+l);}),d=u;let p=a.length/u;this.featureLayout.sizePerElement=d,this.featureLayout.elements.push({featureIdx:t,vertices:a,normals:i,offset:l}),l+=p;for(let r=0;r<p;r++){let n=(null==i?void 0:i.slice(3*r,3*r+3))||[],l=a.slice(r*u,r*u+u),s=0;f&&void 0!==f[r]&&(s=f[r]),o.forEach((a,i)=>{a&&a.update&&a.buffer.data.push(...a.update(e,t,l,r,n,s));});}});let{createAttribute:h,createBuffer:p,createElements:v}=this.rendererService,_={};o.forEach((e,t)=>{if(e){let{buffer:r,update:n,name:o}=e,u=(0,a.default)(e,f),l=h((0,i.default)({buffer:p(r)},u));_[e.name||""]=l,this.attributes[t].vertexAttribute=l;}});let m=v({data:c,type:u.gl.UNSIGNED_INT,count:c.length});return this.attributesAndIndices={attributes:_,elements:m,count:s},Object.values(this.attributes).filter(e=>e.scale).forEach(e=>{let t=e.name;null==n||n.emit(`legend:${t}`,n.getLegend(t));}),this.attributesAndIndices;}createAttributes(e,t){this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);let r=this.attributes.map(e=>(e.resetDescriptor(),e.descriptor)),n=0,o=[],u=3;e.forEach((e,t)=>{let{indices:a,vertices:i,normals:l,size:f,indexes:s}=this.triangulation(e);a.forEach(e=>{o.push(e+n);}),u=f;let c=i.length/f;this.featureLayout.sizePerElement=u,this.featureLayout.elements.push({featureIdx:t,vertices:i,normals:l,offset:n}),n+=c;for(let n=0;n<c;n++){let a=(null==l?void 0:l.slice(3*n,3*n+3))||[],o=i.slice(n*f,n*f+f),u=0;s&&void 0!==s[n]&&(u=s[n]),r.forEach((r,i)=>{r&&r.update&&r.buffer.data.push(...r.update(e,t,o,n,a,u));});}});let{createAttribute:l,createBuffer:f}=this.rendererService,c={};return r.forEach((e,t)=>{if(e){let{buffer:r,update:n,name:o}=e,u=(0,a.default)(e,s),d=l((0,i.default)({buffer:f(r)},u));c[e.name||""]=d,this.attributes[t].vertexAttribute=d;}}),{attributes:c};}clearAllAttributes(){var e;this.attributes.forEach(e=>{e.vertexAttribute&&e.vertexAttribute.destroy();}),null===(e=this.attributesAndIndices)||void 0===e||e.elements.destroy(),this.attributes=[];}}},b5cc3410:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{add:function(){return x;},adjoint:function(){return h;},clone:function(){return o;},copy:function(){return u;},create:function(){return a;},determinant:function(){return p;},equals:function(){return I;},exactEquals:function(){return w;},frob:function(){return M;},fromMat2d:function(){return T;},fromMat4:function(){return i;},fromQuat:function(){return A;},fromRotation:function(){return y;},fromScaling:function(){return E;},fromTranslation:function(){return b;},fromValues:function(){return l;},identity:function(){return s;},invert:function(){return d;},mul:function(){return N;},multiply:function(){return v;},multiplyScalar:function(){return P;},multiplyScalarAndAdd:function(){return L;},normalFromMat4:function(){return S;},projection:function(){return O;},rotate:function(){return m;},scale:function(){return g;},set:function(){return f;},str:function(){return R;},sub:function(){return D;},subtract:function(){return C;},translate:function(){return _;},transpose:function(){return c;}});var n=r("852bbaa9")._(r("8d58e674"));function a(){var e=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e;}function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e;}function o(e){var t=new n.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t;}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e;}function l(e,t,r,a,i,o,u,l,f){var s=new n.ARRAY_TYPE(9);return s[0]=e,s[1]=t,s[2]=r,s[3]=a,s[4]=i,s[5]=o,s[6]=u,s[7]=l,s[8]=f,s;}function f(e,t,r,n,a,i,o,u,l,f){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=u,e[7]=l,e[8]=f,e;}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e;}function c(e,t){if(e===t){var r=t[1],n=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=a;}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e;}function d(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=t[5],l=t[6],f=t[7],s=t[8],c=s*o-u*f,d=-s*i+u*l,h=f*i-o*l,p=r*c+n*d+a*h;return p?(p=1/p,e[0]=c*p,e[1]=(-s*n+a*f)*p,e[2]=(u*n-a*o)*p,e[3]=d*p,e[4]=(s*r-a*l)*p,e[5]=(-u*r+a*i)*p,e[6]=h*p,e[7]=(-f*r+n*l)*p,e[8]=(o*r-n*i)*p,e):null;}function h(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=t[5],l=t[6],f=t[7],s=t[8];return e[0]=o*s-u*f,e[1]=a*f-n*s,e[2]=n*u-a*o,e[3]=u*l-i*s,e[4]=r*s-a*l,e[5]=a*i-r*u,e[6]=i*f-o*l,e[7]=n*l-r*f,e[8]=r*o-n*i,e;}function p(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],u=e[6],l=e[7],f=e[8];return t*(f*i-o*l)+r*(-f*a+o*u)+n*(l*a-i*u);}function v(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=t[4],l=t[5],f=t[6],s=t[7],c=t[8],d=r[0],h=r[1],p=r[2],v=r[3],_=r[4],m=r[5],g=r[6],b=r[7],y=r[8];return e[0]=d*n+h*o+p*f,e[1]=d*a+h*u+p*s,e[2]=d*i+h*l+p*c,e[3]=v*n+_*o+m*f,e[4]=v*a+_*u+m*s,e[5]=v*i+_*l+m*c,e[6]=g*n+b*o+y*f,e[7]=g*a+b*u+y*s,e[8]=g*i+b*l+y*c,e;}function _(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=t[4],l=t[5],f=t[6],s=t[7],c=t[8],d=r[0],h=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=u,e[5]=l,e[6]=d*n+h*o+f,e[7]=d*a+h*u+s,e[8]=d*i+h*l+c,e;}function m(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],u=t[4],l=t[5],f=t[6],s=t[7],c=t[8],d=Math.sin(r),h=Math.cos(r);return e[0]=h*n+d*o,e[1]=h*a+d*u,e[2]=h*i+d*l,e[3]=h*o-d*n,e[4]=h*u-d*a,e[5]=h*l-d*i,e[6]=f,e[7]=s,e[8]=c,e;}function g(e,t,r){var n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e;}function b(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e;}function y(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e;}function E(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e;}function T(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e;}function A(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,u=n+n,l=a+a,f=r*o,s=n*o,c=n*u,d=a*o,h=a*u,p=a*l,v=i*o,_=i*u,m=i*l;return e[0]=1-c-p,e[3]=s-m,e[6]=d+_,e[1]=s+m,e[4]=1-f-p,e[7]=h-v,e[2]=d-_,e[5]=h+v,e[8]=1-f-c,e;}function S(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=t[5],l=t[6],f=t[7],s=t[8],c=t[9],d=t[10],h=t[11],p=t[12],v=t[13],_=t[14],m=t[15],g=r*u-n*o,b=r*l-a*o,y=r*f-i*o,E=n*l-a*u,T=n*f-i*u,A=a*f-i*l,S=s*v-c*p,O=s*_-d*p,R=s*m-h*p,M=c*_-d*v,x=c*m-h*v,C=d*m-h*_,P=g*C-b*x+y*M+E*R-T*O+A*S;return P?(P=1/P,e[0]=(u*C-l*x+f*M)*P,e[1]=(l*R-o*C-f*O)*P,e[2]=(o*x-u*R+f*S)*P,e[3]=(a*x-n*C-i*M)*P,e[4]=(r*C-a*R+i*O)*P,e[5]=(n*R-r*x-i*S)*P,e[6]=(v*A-_*T+m*E)*P,e[7]=(_*y-p*A-m*b)*P,e[8]=(p*T-v*y+m*g)*P,e):null;}function O(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e;}function R(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")";}function M(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]+e[4]*e[4]+e[5]*e[5]+e[6]*e[6]+e[7]*e[7]+e[8]*e[8]);}function x(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e;}function C(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e;}function P(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e;}function L(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e;}function w(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8];}function I(e,t){var r=e[0],a=e[1],i=e[2],o=e[3],u=e[4],l=e[5],f=e[6],s=e[7],c=e[8],d=t[0],h=t[1],p=t[2],v=t[3],_=t[4],m=t[5],g=t[6],b=t[7],y=t[8];return Math.abs(r-d)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(a-h)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(i-p)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-v)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-_)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(l-m)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(f-g)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(s-b)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-y)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(y));}var N=v,D=C;},b607e2ff:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("27a1fe20")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b608b591:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=r("89217383"),o=n._(r("4b19d198"));let{isNil:u}=i.lodashUtil;class l extends o.default{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}"});let{vs:e,fs:t,uniforms:r}=this.shaderModuleService.getModule("blur-pass"),{width:n,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,a.default)((0,a.default)({},r),{},{u_ViewportSize:[n,i]})};}convertOptionsToUniforms(e){let t={};return u(e.blurRadius)||(t.u_BlurDir=[e.blurRadius,0]),t;}}},b6265131:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("359a9815")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b680a4ca:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8eab2bd5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b6db7973:function(e,t,r){"use strict";var n=r("aff8928e").forEach,a=r("b26e67ff"),i=r("a2c9d01f"),o=r("06221d45"),u=r("d3371d71"),l=r("10f26fb8"),f=r("4b532267"),s=r("621f97ae"),c=r("1c8fdc6f"),d=r("ab68b706"),h=r("2f5074d6");function p(e){return Array.isArray(e)||void 0!==e.length;}function v(e){if(Array.isArray(e))return e;var t=[];return n(e,function(e){t.push(e);}),t;}function _(e){return e&&1===e.nodeType;}function m(e,t,r){var n=e[t];return null==n&&void 0!==r?r:n;}e.exports=function(e){if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0);},set:e.idHandler.set};else{var t,r;t=u({idGenerator:o(),stateHandler:c});}var g=e.reporter;g||(g=l(!1===g));var b=m(e,"batchProcessor",s({reporter:g})),y={};y.callOnAdd=!!m(e,"callOnAdd",!0),y.debug=!!m(e,"debug",!1);var E=i(t),T=a({stateHandler:c}),A=m(e,"strategy","object"),S=m(e,"important",!1),O={reporter:g,batchProcessor:b,stateHandler:c,idHandler:t,important:S};if("scroll"===A&&(f.isLegacyOpera()?(g.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),A="object"):f.isIE(9)&&(g.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),A="object")),"scroll"===A)r=h(O);else if("object"===A)r=d(O);else throw Error("Invalid strategy name: "+A);var R={};return{listenTo:function(e,a,i){function o(e){n(E.get(e),function(t){t(e);});}function u(e,t,r){E.add(t,r),e&&r(t);}if(i||(i=a,a=e,e={}),!a)throw Error("At least one element required.");if(!i)throw Error("Listener required.");if(_(a))a=[a];else{if(!p(a))return g.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");a=v(a);}var l=0,f=m(e,"callOnAdd",y.callOnAdd),s=m(e,"onReady",function(){}),d=m(e,"debug",y.debug);n(a,function(e){c.getState(e)||(c.initState(e),t.set(e));var h=t.get(e);if(d&&g.log("Attaching listener to element",h,e),!T.isDetectable(e)){if(d&&g.log(h,"Not detectable."),T.isBusy(e)){d&&g.log(h,"System busy making it detectable"),u(f,e,i),R[h]=R[h]||[],R[h].push(function(){++l===a.length&&s();});return;}return d&&g.log(h,"Making detectable..."),T.markBusy(e,!0),r.makeDetectable({debug:d,important:S},e,function(e){if(d&&g.log(h,"onElementDetectable"),c.getState(e)){T.markAsDetectable(e),T.markBusy(e,!1),r.addListener(e,o),u(f,e,i);var t=c.getState(e);if(t&&t.startSize){var p=e.offsetWidth,v=e.offsetHeight;(t.startSize.width!==p||t.startSize.height!==v)&&o(e);}R[h]&&n(R[h],function(e){e();});}else d&&g.log(h,"Element uninstalled before being detectable.");delete R[h],++l===a.length&&s();});}d&&g.log(h,"Already detecable, adding listener."),u(f,e,i),l++;}),l===a.length&&s();},removeListener:E.removeListener,removeAllListeners:E.removeAllListeners,uninstall:function(e){if(!e)return g.error("At least one element is required.");if(_(e))e=[e];else{if(!p(e))return g.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=v(e);}n(e,function(e){E.removeAllListeners(e),r.uninstall(e),c.cleanState(e);});},initDocument:function(e){r.initDocument&&r.initDocument(e);}};};},b70569b2:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cf084b78")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b7766d0f:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f0c73fb5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b7be79ef:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("00c53398")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b7c58136:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("62f00211")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b83f33f1:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8a47f434")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},b87c2d68:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return u;},format:function(){return a;},formatPrefix:function(){return i;}});var n,a,i,o=r("777fffbe")._(r("ee9217fe"));function u(e){return a=(n=(0,o.default)(e)).format,i=n.formatPrefix,n;}u({thousands:",",grouping:[3],currency:["$",""]});},b993dbad:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"color",{enumerable:!0,get:function(){return n.default;}});var n=r("777fffbe")._(r("7d24232d"));},b9e6fe91:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("353a23a6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bab9fc2f:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"aggregatorToGrid",{enumerable:!0,get:function(){return a;}});var n=r("89217383");function a(e,t){let r=e.dataArray,{size:a=10}=t,i=a/(2*Math.PI*6378e3)*268435456/2,{gridHash:o,gridOffset:u}=function(e,t){let r,n=1/0,a=-1/0;for(let t of e)Number.isFinite(r=t.coordinates[1])&&(n=r<n?r:n,a=r>a?r:a);let i={yOffset:t/6378e3*(180/Math.PI),xOffset:t/6378e3*(180/Math.PI)/Math.cos((n+a)/2*Math.PI/180)};if(i.xOffset<=0||i.yOffset<=0)return{gridHash:{},gridOffset:i};let o={};for(let t of e){let e=t.coordinates[1],r=t.coordinates[0];if(Number.isFinite(e)&&Number.isFinite(r)){let n=Math.floor((e+90)/i.yOffset),a=Math.floor((r+180)/i.xOffset),u=`${n}-${a}`;o[u]=o[u]||{count:0,points:[]},o[u].count+=1,o[u].points.push(t);}}return{gridHash:o,gridOffset:i};}(r,a);return{yOffset:i,xOffset:i,radius:i,type:"grid",dataArray:Object.keys(o).reduce((e,r,a)=>{let i=r.split("-"),l=parseInt(i[0],10),f=parseInt(i[1],10),s={};if(t.field&&t.method){let e=n.Satistics.getColumn(o[r].points,t.field);s[t.method]=n.Satistics.statMap[t.method](e);}return Object.assign(s,{_id:a,coordinates:(0,n.aProjectFlat)([-180+u.xOffset*(f+.5),-90+u.yOffset*(l+.5)]),rawData:o[r].points,count:o[r].count}),e.push(s),e;},[])};}},bad178bf:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c06ddc5a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bb1598c0:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9dca3288")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bb5f8a2d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9f8d9913")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bb8400bc:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("74a4449d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bbf2393b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ed2a9618")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bc27b93e:function(e,t,r){"use strict";function n(e,t){e=e.slice();var r,n=0,a=e.length-1,i=e[n],o=e[a];return o<i&&(r=n,n=a,a=r,r=i,i=o,o=r),e[n]=t.floor(i),e[a]=t.ceil(o),e;}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},bc2cea50:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9c596217")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bc515af8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dbdef362")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bc8ef742:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e1617ad4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bcc13b3f:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{aProjectFlat:function(){return v;},amap2Project:function(){return m;},amap2UnProject:function(){return g;},bBoxToBounds:function(){return A;},boundsContains:function(){return T;},calAngle:function(){return M;},calDistance:function(){return O;},calculateCentroid:function(){return P;},calculatePointsCenterAndRadius:function(){return L;},extent:function(){return l;},flow:function(){return C;},getAngle:function(){return x;},getBBoxFromPoints:function(){return w;},latitude:function(){return h;},lngLatInExtent:function(){return u;},lngLatToMeters:function(){return s;},lnglatDistance:function(){return b;},longitude:function(){return d;},metersToLngLat:function(){return c;},normalize:function(){return S;},padBounds:function(){return E;},project:function(){return y;},tranfrormCoord:function(){return f;},unProjectFlat:function(){return _;},validateLngLat:function(){return p;}});var n=r("777fffbe")._(r("b18b8e28")),a=r("3e649c46"),i=r("c130598e"),o=2*Math.PI*6378137/2;function u(e,t){let[r,n,a,i]=t;return e.lng>r&&e.lng<=a&&e.lat>n&&e.lat<=i;}function l(e){let t=[1/0,1/0,-1/0,-1/0];return e.forEach(e=>{let{coordinates:r}=e;(function e(t,r){return Array.isArray(r[0])?r.forEach(r=>{e(t,r);}):(t[0]>r[0]&&(t[0]=r[0]),t[1]>r[1]&&(t[1]=r[1]),t[2]<r[0]&&(t[2]=r[0]),t[3]<r[1]&&(t[3]=r[1])),t;})(t,r);}),t;}function f(e,t){return function e(t,r){return Array.isArray(t[0])?t.map(t=>e(t,r)):r(t);}(e,t);}function s(e,t=!0,r={enable:!0,decimal:1}){let n=(e=p(e,t))[0],a=e[1],i=n*o/180,u=Math.log(Math.tan((90+a)*Math.PI/360))/(Math.PI/180);return u=u*o/180,r.enable&&(i=Number(i.toFixed(r.decimal)),u=Number(u.toFixed(r.decimal))),3===e.length?[i,u,e[2]]:[i,u];}function c(e,t=6){let r=e[0],n=e[1],a=r/o*180,i=n/o*180;return i=180/Math.PI*(2*Math.atan(Math.exp(i*Math.PI/180))-Math.PI/2),null!=t&&(a=Number(a.toFixed(t)),i=Number(i.toFixed(t))),3===e.length?[a,i,e[2]]:[a,i];}function d(e){if(null==e)throw Error("lng is required");return(e>180||e<-180)&&((e%=360)>180&&(e=-360+e),e<-180&&(e=360+e),0===e&&(e=0)),e;}function h(e){if(null==e)throw Error("lat is required");return(e>90||e<-90)&&((e%=180)>90&&(e=-180+e),e<-90&&(e=180+e),0===e&&(e=0)),e;}function p(e,t){if(!1===t)return e;let r=d(e[0]),n=h(e[1]);return n>85&&(n=85),n<-85&&(n=-85),3===e.length?[r,n,e[2]]:[r,n];}function v(e){let t=Math.max(Math.min(85.0511287798,e[1]),-85.0511287798),r=Math.PI/180,n=e[0]*r,a=t*r;a=Math.log(Math.tan(Math.PI/4+a/2));let i=-.5/Math.PI;return r=.5,[Math.floor(n=268435456*(.5/Math.PI*n+.5)),Math.floor(a=268435456*(i*a+r))];}function _(e){let t=-.5/Math.PI,r=.5,[n,a]=e;n=(n/268435456-.5)/(.5/Math.PI);let i=(a=(Math.atan(Math.pow(Math.E,a=(a/268435456-r)/t))-Math.PI/4)*2)/(r=Math.PI/180);return[n/r,i];}function m(e,t){let r=Math.PI/180;return t=Math.max(Math.min(85.0511287798,t),-85.0511287798),e*=r,t*=r,[6378137*e,6378137*(t=Math.log(Math.tan(Math.PI/4+t/2)))];}function g(e,t){let r=Math.PI/180,n=2*(Math.atan(Math.exp(t/6378137))-Math.PI/4)/r;return[e/6378137/r,n];}function b(e,t,r){let n=(0,a.degreesToRadians)(t[1]-e[1]),i=Math.pow(Math.sin(n/2),2)+Math.pow(Math.sin((0,a.degreesToRadians)(t[0]-e[0])/2),2)*Math.cos((0,a.degreesToRadians)(e[1]))*Math.cos((0,a.degreesToRadians)(t[1]));return(0,a.radiansToLength)(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),"meters");}function y(e){let t=Math.PI/180,r=Math.sin(Math.max(Math.min(85.0511287798,e[1]),-85.0511287798)*t);return[6378137*e[0]*t,6378137*Math.log((1+r)/(1-r))/2];}function E(e,t){let r=Math.abs(e[1][1]-e[0][1])*t,n=Math.abs(e[1][0]-e[0][0])*t;return[[e[0][0]-n,e[0][1]-r],[e[1][0]+n,e[1][1]+r]];}function T(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1];}function A(e){return[[e[0],e[1]],[e[2],e[3]]];}function S(e){let t=O(e,[0,0]);return[e[0]/t,e[1]/t];}function O(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2));}function R(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]);}function M(e,t){return 180*Math.acos((e[0]*t[0]+e[1]*t[1])/(R(e)*R(t)))/Math.PI;}function x(e,t){return t[0]>0?t[1]>0?90-180*Math.atan(t[1]/t[0])/Math.PI:90+180*Math.atan(-t[1]/t[0])/Math.PI:t[1]<0?180+(90-180*Math.atan(t[1]/t[0])/Math.PI):270+180*Math.atan(-(t[1]/t[0]))/Math.PI;}function C(e,t=100){if(!e||e.length<2)return;let r=[0,1],n=0,a=[];for(let t=0;t<e.length-1;t++){let i=e[t],o=e[t+1],u=O(i,o);n+=u;let l=x(r,[i[0]-o[0],i[1]-o[1]]);if(t>0){let e=a[t-1].rotation;e-l>360-e+l&&(l+=360);}a.push({start:i,end:o,dis:u,rotation:l,duration:0});}return a.map(e=>{e.duration=t*(e.dis/n);}),a;}function P(e){if((0,i.isNumber)(e[0]))return e;if((0,i.isNumber)(e[0][0]))throw Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8");if((0,i.isNumber)(e[0][0][0])){let t=0,r=0,n=0;return e.forEach(e=>{e.forEach(e=>{t+=e[0],r+=e[1],n++;});}),[t/n,r/n,0];}throw Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8");}function L(e){let t=e[0],r=e[1],n=e[0],a=e[1],i=0,o=0,u=0;for(let l=0;l<e.length;l+=2){let f=e[l],s=e[l+1];f&&s&&(t=Math.max(f,t),r=Math.max(s,r),n=Math.min(f,n),a=Math.min(s,a),i+=f,o+=s,u++);}return{center:[i/u,o/u],radius:Math.sqrt(Math.pow(t-n,2)+Math.pow(r-a,2))/2};}function w(e){return(0,n.default)((0,a.featureCollection)([(0,a.lineString)(e)]));}},bccc3ddd:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4be513b9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bcda07e7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6080ea6b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bcf0233c:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("632b0123")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bcf303a7:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("a1276e8e");function a(e){return(e=(0,n.formatDecimalParts)(Math.abs(e)))?e[1]:NaN;}},bd0e8648:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("07a31cab")),u=n._(r("1333cc9c"));class l extends o.default{constructor(...e){super(...e),(0,i.default)(this,"type","ImageLayer");}buildModels(){var e=this;return(0,a.default)(function*(){let t=e.getModelType();e.layerModel=new u.default[t](e),yield e.initLayerModels();})();}getDefaultConfig(){return({image:{}})[this.getModelType()];}getModelType(){return"image";}}},bd22995f:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("315c4c4c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bd3f83ee:function(e,t,r){"use strict";function n(e){return e;}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},bdb6c2a3:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("45fd1221")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bdbbb26f:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("51d56af3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},be1de7f5:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2f766dc8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},be2c9914:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("270e0745")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},be6cb12a:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"createL7Icon",{enumerable:!0,get:function(){return n;}});let n=e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.classList.add("l7-iconfont"),t.setAttribute("aria-hidden","true");let r=document.createElementNS("http://www.w3.org/2000/svg","use");return r.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${e}`),t.appendChild(r),t;};},be92eab7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1bd79ee1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bf1e085a:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.generate=function e(t,r,n){return n?c.default.createElement(t.tag,(0,i.default)((0,i.default)({key:r},h(t.attrs)),n),(t.children||[]).map(function(n,a){return e(n,"".concat(r,"-").concat(t.tag,"-").concat(a));})):c.default.createElement(t.tag,(0,i.default)({key:r},h(t.attrs)),(t.children||[]).map(function(n,a){return e(n,"".concat(r,"-").concat(t.tag,"-").concat(a));}));},t.getSecondaryColor=function(e){return(0,u.generate)(e)[0];},t.iconStyles=void 0,t.isIconDefinition=function(e){return"object"===(0,o.default)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===(0,o.default)(e.icon)||"function"==typeof e.icon);},t.normalizeAttrs=h,t.normalizeTwoToneColors=function(e){return e?Array.isArray(e)?e:[e]:[];},t.useInsertStyles=t.svgBaseProps=void 0,t.warning=function(e,t){(0,s.default)(e,"[@ant-design/icons] ".concat(t));};var i=a(r("c051be1c")),o=a(r("5e9d5e98")),u=r("da74be43"),l=r("d676b339"),f=r("7a8d7fb3"),s=a(r("ec7eb4aa")),c=n(r("896e0d47")),d=a(r("6b889f11"));function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,r){var n=e[r];return"class"===r?(t.className=n,delete t.class):(delete t[r],t[r.replace(/-(.)/g,function(e,t){return t.toUpperCase();})]=n),t;},{});}t.svgBaseProps={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};var p=t.iconStyles="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";t.useInsertStyles=function(e){var t=(0,c.useContext)(d.default),r=t.csp,n=t.prefixCls,a=t.layer,i=p;n&&(i=i.replace(/anticon/g,n)),a&&(i="@layer ".concat(a," {\n").concat(i,"\n}")),(0,c.useEffect)(function(){var t=e.current,n=(0,f.getShadowRoot)(t);(0,l.updateCSS)(i,"@ant-design-icons",{prepend:!a,csp:r,attachTo:n});},[]);};},bf4c361b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1db483d2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bf709c9d:function(e,t,r){"use strict";function n(e){return+e;}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},bfc531b7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("851afd64")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},bfd073ce:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c2fe40c5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c01d3903:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c0c7b258")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c030c2d8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b71ce90a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c058acec:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9caada2e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c0d2e91b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("27733f2d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c130598e:function(e,t,r){"use strict";function n(e){return"number"==typeof e;}function a(e){return e-Math.fround(e);}r.d(t,"__esModule",{value:!0}),r.e(t,{fp64LowPart:function(){return a;},isNumber:function(){return n;}});},c1343068:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3d985200")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c197abd4:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2dfac6a6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c1b59056:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{ButtonControl:function(){return n.ButtonControl;},Control:function(){return a.Control;},PopperControl:function(){return i.PopperControl;},PositionType:function(){return a.PositionType;},SelectControl:function(){return o.SelectControl;}});var n=r("e46f20cf"),a=r("506dacbb"),i=r("2ca50b8c"),o=r("07fbb854");},c1b5c886:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("442d45a9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c22a2bdf:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("13f85465")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c23aa907:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("eda75634")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c24b71ce:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("d76d8f6e")),i=n._(r("d7e8e3ca")),o=n._(r("1cbf083d")),u=n._(r("96a1db56")),l={heatmap:o.default,heatmap3d:o.default,grid:a.default,grid3d:i.default,hexagon:u.default};},c26a7d59:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("78bd2d39")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c2aa6c45:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e4f9dcc8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c2cf1df4:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c7f90635")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c2f6dd83:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8bf313e7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c3607386:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ecf8899c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c3bf53df:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=r("89217383"),u=n._(r("6c8aee75")),l=r("f9b12b3c");class f extends u.default{getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{opacity:e=1,color:t="#000"}=this.layer.getLayerConfig(),r={u_color:(0,o.rgb2arr)(t),u_opacity:e||1};return this.getUniformsBufferInfo(r);}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"mask",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_color;\n  float u_opacity;\n};\n\n#pragma include "projection"\n\nvoid main() {\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n}\n\n',fragmentShader:"layout(std140) uniform commonUniorm {\n  vec4 u_color;\n  float u_opacity;\n};\n\nout vec4 outputColor;\n\nvoid main() {\n  outputColor = u_color;\n  outputColor.a *= u_opacity;\n}\n",defines:e.getDefines(),triangulation:l.polygonTriangulation,depth:{enable:!1},pick:!1}))];})();}clearModels(e=!0){e&&this.layerService.clear();}registerBuiltinAttributes(){return"";}}},c3cea9a4:function(e,t,r){},c421af7a:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3424b184")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c42dd1c9:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1d271dad")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c46b883b:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("6c8aee75")),f=r("f9b12b3c");let s={solid:0,dash:1};class c extends l.default{constructor(...e){super(...e),(0,i.default)(this,"texture",void 0),(0,i.default)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return;}this.texture=e({data:this.iconService.getCanvas(),mag:o.gl.NEAREST,min:o.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture];});}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13});}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:r="normal",lineType:n="solid",dashArray:a=[10,5],forward:i=!0,lineTexture:o=!1,iconStep:l=100,segmentNumber:f=30}=this.layer.getLayerConfig(),{animateOption:c}=this.layer.getLayerConfig(),d=a;"dash"!==n&&(d=[0,0]),2===d.length&&d.push(0,0);let h=0,p=[0,0,0,0],v=[0,0,0,0];if(e&&t&&(p=(0,u.rgb2arr)(e),v=(0,u.rgb2arr)(t),h=1),this.rendererService.getDirty()){var _;null===(_=this.texture)||void 0===_||_.bind();}let m={u_animate:this.animateOption2Array(c),u_dash_array:d,u_sourceColor:p,u_targetColor:v,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:f,u_lineDir:i?1:-1,u_icon_step:l,u_line_texture:o?1:0,u_textureBlend:"normal"===r?0:1,u_blur:.9,u_line_type:s[n||"solid"],u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:h};return this.getUniformsBufferInfo(m);}initModels(){var e=this;return(0,a.default)(function*(){return e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels();})();}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture);}getShaders(){return{frag:'\n#define Animate 0.0\n#define LineTexture 1.0\nuniform sampler2D u_texture;\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float segmentNumber;\n  float u_lineDir: 1.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_blur : 0.9;\n  float u_line_type: 0.0;\n  float u_time;\n  float u_linearColor: 0.0;\n};\n\nin vec4 v_color;\nin vec2 v_iconMapUV;\nin vec4 v_lineData;\n//dash\nin vec4 v_dash_array;\nin float v_distance_ratio;\n\nout vec4 outputColor;\n#pragma include "picking"\n\nvoid main() {\n  if(u_dash_array!=vec4(0.0)){\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {\n      discard;\n    };\n  }\n  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6\n  outputColor = v_color;\n  if(u_animate.x == Animate && u_line_texture != LineTexture) {\n      animateSpeed = u_time / u_animate.y;\n      float alpha =1.0 - fract( mod(1.0- v_lineData.b, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      outputColor.a *= alpha;\n  }\n\n  // \u5F53\u5B58\u5728\u8D34\u56FE\u65F6\u5728\u5E95\u8272\u4E0A\u8D34\u4E0A\u8D34\u56FE\n  if(u_line_texture == LineTexture) { // while load texture\n    float arcRadio = smoothstep( 0.0, 1.0, (v_lineData.r / segmentNumber));\n    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);\n\n    float count = v_lineData.g; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF\n\n    float time = 0.0;\n    if(u_animate.x == Animate) {\n      time = u_time / u_animate.y;\n    }\n    float redioCount = arcRadio * count;\n\n    float u = fract(redioCount - time);\n    float v = v_lineData.a; // \u6A2A\u5411 v\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\n\n    if(u_animate.x == Animate) {\n      float currentPlane = floor(redioCount - time);\n      float textureStep = floor(count * u_animate.z);\n      float a = mod(currentPlane, textureStep);\n      if(a < textureStep - 1.0) {\n        pattern = vec4(0.0);\n      }\n    }\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      outputColor = filterColor(outputColor + pattern);\n    } else { // replace\n        pattern.a *= v_color.a;\n        if(outputColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        outputColor = filterColor(pattern);\n    }\n    \n  } else {\n     outputColor = filterColor(outputColor);\n  }\n}',vert:'#define Animate (0.0)\n#define LineTexture (1.0)\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float segmentNumber;\n  float u_lineDir: 1.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_blur : 0.9;\n  float u_line_type: 0.0;\n  float u_time;\n  float u_linearColor: 0.0;\n};\n\nout vec4 v_color;\nout vec2 v_iconMapUV;\nout vec4 v_lineData;\n//dash\nout vec4 v_dash_array;\nout float v_distance_ratio;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1.0 - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\nvec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = arcThetaOffset;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);\n  if (u_lineDir == 1.0) {\n    // \u6B63\u5411\n    return mid;\n  } else {\n    // \u9006\u5411\n    // (mid + vmin)/2 = (s + t)/2\n    vec2 vmid = source + target - mid;\n    return vmid;\n  }\n  // return mid;\n}\nfloat getSegmentRatio(float index) {\n  // dash: index / (segmentNumber - 1.);\n  // normal: smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n  //  return index / (segmentNumber - 1.);\n}\nvec2 interpolate(vec2 source, vec2 target, float t, float arcThetaOffset) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  vec2 mid = midPoint(source, target, arcThetaOffset);\n  vec3 x = vec3(source.x, mid.x, target.x);\n  vec3 y = vec3(source.y, mid.y, target.y);\n  return vec2(bezier3(x, t), bezier3(y, t));\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return dir_screenspace.xy * sign(offset_direction);\n}\n\nvoid main() {\n  //vs\u4E2D\u8BA1\u7B97\u6E10\u53D8\u8272\n  if (u_linearColor == 1.0) {\n    float d_segmentIndex = a_Position.x + 1.0; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E\n    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex / segmentNumber);\n  } else {\n    v_color = a_Color;\n  }\n  v_color.a = v_color.a * opacity;\n\n  vec2 source_world = a_Instance.rg; // \u8D77\u59CB\u70B9\n  vec2 target_world = a_Instance.ba; // \u7EC8\u70B9\n\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n\n  // \u8BA1\u7B97 dashArray \u548C distanceRatio \u8F93\u51FA\u5230\u7247\u5143\n  float total_Distance = pixelDistance(source_world, target_world) / 2.0 * PI;\n  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;\n  v_distance_ratio = segmentIndex / segmentNumber;\n\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  float d_distance_ratio;\n\n  if(u_animate.x == Animate) {\n      d_distance_ratio = segmentIndex / segmentNumber;\n      if(u_lineDir != 1.0) {\n        d_distance_ratio = 1.0 - d_distance_ratio;\n      }\n  }\n\n  v_lineData.b = d_distance_ratio;\n\n  vec4 source = project_position(vec4(source_world, 0, 1.), a_Instance64Low.xy);\n  vec4 target = project_position(vec4(target_world, 0, 1.), a_Instance64Low.zw);\n\n  vec2 currPos = interpolate(source.xy, target.xy, segmentRatio, thetaOffset);\n  vec2 nextPos = interpolate(source.xy, target.xy, nextSegmentRatio, thetaOffset);\n\n  vec2 offset = project_pixel(\n    getExtrusionOffset((nextPos.xy - currPos.xy) * indexDir, a_Position.y)\n  );\n\n  float d_segmentIndex = a_Position.x + 1.0; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E\n  v_lineData.r = d_segmentIndex;\n\n  if(LineTexture == u_line_texture) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F\n    float arcDistrance = length(source - target); // \u8D77\u59CB\u70B9\u548C\u7EC8\u70B9\u7684\u8DDD\u79BB\n    arcDistrance = project_pixel(arcDistrance);\n\n    v_iconMapUV = a_iconMapUV;\n\n    float pixelLen = project_pixel_texture(u_icon_step); // \u8D34\u56FE\u6CBF\u5F27\u7EBF\u65B9\u5411\u7684\u957F\u5EA6 - \u968F\u5730\u56FE\u7F29\u653E\u6539\u53D8\n    float texCount = floor(arcDistrance / pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF\n    v_lineData.g = texCount;\n\n    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB\n    float linePixelSize = project_pixel(a_Size); // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\n    v_lineData.a = lineOffsetWidth / linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(currPos.xy + offset, 0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',type:""};}buildModels(){var e=this;return(0,a.default)(function*(){e.initUniformsBuffer();let{segmentNumber:t=30}=e.layer.getLayerConfig(),{frag:r,vert:n,type:a}=e.getShaders();return[(yield e.layer.buildLayerModel({moduleName:"lineArc2d"+a,vertexShader:n,fragmentShader:r,defines:e.getDefines(),inject:e.getInject(),triangulation:f.LineArcTriangulation,depth:{enable:!1},styleOption:{segmentNumber:t}}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:o.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t];}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:o.AttributeType.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:4,update:(e,t,r)=>[r[3],r[4],r[5],r[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:o.AttributeType.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:4,update:(e,t,r)=>[(0,u.fp64LowPart)(r[3]),(0,u.fp64LowPart)(r[4]),(0,u.fp64LowPart)(r[5]),(0,u.fp64LowPart)(r[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:o.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:r}=e,{x:n,y:a}=t[r]||{x:0,y:0};return[n,a];}}}),this.styleAttributeService.registerStyleAttribute({name:"thetaOffset",type:o.AttributeType.Attribute,descriptor:{name:"a_ThetaOffset",shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:1,update:e=>{let{thetaOffset:t=1}=e;return[t];}}});}}},c4a6f3e9:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e865fbdd")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c4f922a7:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("3e649c46");function a(e,t){void 0===t&&(t={});var r=Number(e[0]),a=Number(e[1]),i=Number(e[2]),o=Number(e[3]);if(6===e.length)throw Error("@turf/bbox-polygon does not support BBox with 6 positions");var u=[r,a],l=[r,o],f=[i,o],s=[i,a];return(0,n.polygon)([[u,s,f,l,u]],t.properties,{bbox:e,id:t.id});}},c4fb5898:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{timeDay:function(){return u.timeDay;},timeFriday:function(){return l.timeFriday;},timeHour:function(){return o.timeHour;},timeMillisecond:function(){return n.millisecond;},timeMinute:function(){return i.timeMinute;},timeMonday:function(){return l.timeMonday;},timeMonth:function(){return f.timeMonth;},timeSaturday:function(){return l.timeSaturday;},timeSecond:function(){return a.second;},timeSunday:function(){return l.timeSunday;},timeThursday:function(){return l.timeThursday;},timeTickInterval:function(){return c.timeTickInterval;},timeTicks:function(){return c.timeTicks;},timeTuesday:function(){return l.timeTuesday;},timeWednesday:function(){return l.timeWednesday;},timeWeek:function(){return l.timeSunday;},timeYear:function(){return s.timeYear;},utcDay:function(){return u.utcDay;},utcMillisecond:function(){return n.millisecond;},utcMonday:function(){return l.utcMonday;},utcSecond:function(){return a.second;},utcSunday:function(){return l.utcSunday;},utcThursday:function(){return l.utcThursday;},utcWeek:function(){return l.utcSunday;},utcYear:function(){return s.utcYear;}});var n=r("d875d83c"),a=r("95c73683"),i=r("7fdd6f0e"),o=r("4ead9522"),u=r("03224ccd"),l=r("f886886e"),f=r("fde9c4bf"),s=r("d36b3ce7"),c=r("82a23b8c");},c577f6cc:function(e,t,r){"use strict";function n(e){return+e;}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},c588cd65:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0f002a12")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c59c4d68:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cdab6002")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c5b24a96:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6d911ade")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c5c43268:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("3fb4fdb6");class u{constructor(e){(0,i.default)(this,"passes",[]),(0,i.default)(this,"layer",void 0),(0,i.default)(this,"renderFlag",void 0),(0,i.default)(this,"width",0),(0,i.default)(this,"height",0),this.postProcessor=e;}setLayer(e){this.layer=e;}setRenderFlag(e){this.renderFlag=e;}getRenderFlag(){return this.renderFlag;}getPostProcessor(){return this.postProcessor;}render(){var e=this;return(0,a.default)(function*(){for(let t of e.passes)yield t.render(e.layer);yield e.postProcessor.render(e.layer);})();}resize(e,t){(this.width!==e||this.height!==t)&&(this.postProcessor.resize(e,t),this.width=e,this.height=t);}add(e,t){e.getType()===o.PassType.PostProcessing?this.postProcessor.add(e,this.layer,t):(e.init(this.layer,t),this.passes.push(e));}insert(e,t,r){e.init(this.layer,t),this.passes.splice(r,0,e);}destroy(){this.passes.length=0;}}},c6a5d63c:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5e3d624b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c6b14059:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4e79131f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c6da2991:function(e,t,r){"use strict";var n=r("444e4caa");function a(e,t,r){if(3===e){var a=new n(r,r.readVarint()+r.pos);a.length&&(t[a.name]=a);}}e.exports=function(e,t){this.layers=e.readFields(a,{},t);};},c7026331:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2f505516")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c7245f9c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{getShapeIndex:function(){return a;},sdf2DFunctions:function(){return n;}});let n=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"];function a(e){return n.indexOf(e);}},c7523b75:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("226e7035")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c7be83bd:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("03058201")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c7e387f0:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"TilesetManager",{enumerable:!0,get:function(){return T;}});var n,a=r("777fffbe")._(r("f97327bf")),i=r("5df46fe6"),o=r("7d7dfaa5"),u=r("70f1000a"),l=r("dda56150"),f=r("e58bd51c"),s=r("d2dd39ef"),c=Object.defineProperty,d=Object.defineProperties,h=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,m=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t)=>{for(var r in t||(t={}))v.call(t,r)&&m(e,r,t[r]);if(p)for(var r of p(t))_.call(t,r)&&m(e,r,t[r]);return e;},b=(e,t)=>d(e,h(t)),{throttle:y}=i.lodashUtil,E=((n=E||{}).TilesLoadStart="tiles-load-start",n.TileLoaded="tile-loaded",n.TileError="tile-error",n.TileUnload="tile-unload",n.TileUpdate="tile-update",n.TilesLoadFinished="tiles-load-finished",n),T=class extends a.default{constructor(e){super(),this.currentTiles=[],this.cacheTiles=new Map,this.throttleUpdate=y((e,t)=>{this.update(e,t);},16),this.onTileLoad=e=>{this.emit("tile-loaded",e),this.updateTileVisible(),this.loadFinished();},this.onTileError=(e,t)=>{this.emit("tile-error",{error:e,tile:t}),this.updateTileVisible(),this.loadFinished();},this.onTileUnload=e=>{this.emit("tile-unload",e),this.loadFinished();},this.options={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,extent:o.DEFAULT_EXTENT,getTileData:o.NOOP,warp:!0,updateStrategy:l.UpdateTileStrategy.Replace},this.updateOptions(e);}get isLoaded(){return this.currentTiles.every(e=>e.isDone);}get tiles(){return Array.from(this.cacheTiles.values()).sort((e,t)=>e.z-t.z);}updateOptions(e){let t=void 0===e.minZoom?this.options.minZoom:Math.ceil(e.minZoom),r=void 0===e.maxZoom?this.options.maxZoom:Math.floor(e.maxZoom);this.options=b(g(g({},this.options),e),{minZoom:t,maxZoom:r});}update(e,t){let r=Math.max(0,Math.ceil(e));if(this.lastViewStates&&this.lastViewStates.zoom===r&&(0,f.isLatLonBoundsContains)(this.lastViewStates.latLonBoundsBuffer,t))return;let n=(0,f.getLatLonBoundsBuffer)(t,o.BOUNDS_BUFFER_SCALE);this.lastViewStates={zoom:r,latLonBounds:t,latLonBoundsBuffer:n},this.currentZoom=r;let a=!1,i=this.getTileIndices(r,n).filter(e=>this.options.warp||e.x>=0&&e.x<Math.pow(2,r));this.emit("tiles-load-start"),this.currentTiles=i.map(({x:e,y:t,z:r})=>{let n=this.getTile(e,t,r);return n?((null==n?void 0:n.isFailure)||(null==n?void 0:n.isCancelled))&&n.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}):(n=this.createTile(e,t,r),a=!0),n;}),a&&this.resizeCacheTiles(),this.updateTileVisible(),this.pruneRequests();}reloadAll(){for(let[e,t]of this.cacheTiles){if(!this.currentTiles.includes(t)){this.cacheTiles.delete(e),this.onTileUnload(t);return;}this.onTileUnload(t),t.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError});}}reloadTileById(e,t,r){let n=this.cacheTiles.get(`${t},${r},${e}`);n&&(this.onTileUnload(n),n.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}));}reloadTileByLnglat(e,t,r){let n=this.getTileByLngLat(e,t,r);n&&this.reloadTileById(n.z,n.x,n.y);}reloadTileByExtent(e,t){this.getTileIndices(t,e).forEach(e=>{this.reloadTileById(e.z,e.x,e.y);});}pruneRequests(){let e=[];for(let t of this.cacheTiles.values())!t.isLoading||t.isCurrent||t.isVisible||e.push(t);for(;e.length>0;)e.shift().abortLoad();}getTileByLngLat(e,t,r){let{zoomOffset:n}=this.options,a=Math.ceil(r)+n,i=(0,s.osmLonLat2TileXY)(e,t,a);return this.tiles.filter(e=>e.key===`${i[0]}_${i[1]}_${a}`)[0];}getTileExtent(e,t){return this.getTileIndices(t,e);}getTileByZXY(e,t,r){return this.tiles.filter(n=>n.key===`${t}_${r}_${e}`)[0];}clear(){for(let e of this.cacheTiles.values())e.isLoading?e.abortLoad():this.onTileUnload(e);this.lastViewStates=void 0,this.cacheTiles.clear(),this.currentTiles=[];}destroy(){this.clear(),this.removeAllListeners();}updateTileVisible(){let e=this.options.updateStrategy,t=new Map;for(let e of this.cacheTiles.values())t.set(e.key,e.isVisible),e.isCurrent=!1,e.isVisible=!1;for(let e of this.currentTiles)e.isCurrent=!0,e.isVisible=!0;let r=Array.from(this.cacheTiles.values());"function"==typeof e?e(r):o.UPDATE_TILE_STRATEGIES[e](r);let n=!1;Array.from(this.cacheTiles.values()).forEach(e=>{e.isVisible!==t.get(e.key)?(e.isVisibleChange=!0,n=!0):e.isVisibleChange=!1;}),n&&this.emit("tile-update");}getTileIndices(e,t){let{tileSize:r,extent:n,zoomOffset:a}=this.options,i=Math.floor(this.options.maxZoom),o=Math.ceil(this.options.minZoom);return(0,s.getTileIndices)({maxZoom:i,minZoom:o,zoomOffset:a,tileSize:r,zoom:e,latLonBounds:t,extent:n});}getTileId(e,t,r){return`${e},${t},${r}`;}loadFinished(){let e=!this.currentTiles.some(e=>!e.isDone);return e&&this.emit("tiles-load-finished"),e;}getTile(e,t,r){let n=this.getTileId(e,t,r);return this.cacheTiles.get(n);}createTile(e,t,r){let n=this.getTileId(e,t,r),a=new u.SourceTile({x:e,y:t,z:r,tileSize:this.options.tileSize,warp:this.options.warp});return this.cacheTiles.set(n,a),a.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),a;}resizeCacheTiles(){let e=o.DEFAULT_CACHE_SCALE*this.currentTiles.length;if(this.cacheTiles.size>e){for(let[t,r]of this.cacheTiles)if(r.isVisible||this.currentTiles.includes(r)||(this.cacheTiles.delete(t),this.onTileUnload(r)),this.cacheTiles.size<=e)break;}this.rebuildTileTree();}rebuildTileTree(){for(let e of this.cacheTiles.values())e.parent=null,e.children.length=0;for(let e of this.cacheTiles.values()){let t=this.getNearestAncestor(e.x,e.y,e.z);e.parent=t,(null==t?void 0:t.children)&&t.children.push(e);}}getNearestAncestor(e,t,r){for(;r>this.options.minZoom;){e=Math.floor(e/2),t=Math.floor(t/2),r-=1;let n=this.getTile(e,t,r);if(n)return n;}return null;}};},c806d7be:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0});var n=r("852bbaa9")._(r("2a3a2be0"));function a(){}var i=n.default.prototype;a.prototype=(function(e,t){var r=new a;if(e instanceof a)e.each(function(e){r.add(e);});else if(e){var n=-1,i=e.length;if(null==t)for(;++n<i;)r.add(e[n]);else for(;++n<i;)r.add(t(e[n],n,e));}return r;}).prototype={constructor:a,has:i.has,add:function(e){return e+="",this[n.prefix+e]=e,this;},remove:i.remove,clear:i.clear,values:i.keys,size:i.size,empty:i.empty,each:i.each};},c85da56e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0852b5ba")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c87a9684:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("217ebff2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c8997871:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cd8f4595")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c8dd5015:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("6dd50fef"));function a(e,t){return t=Math.abs(t)-(e=Math.abs(e)),Math.max(0,(0,n.default)(t)-(0,n.default)(e))+1;}},c92bc3d3:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{PointTriangulation:function(){return l;},default:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=r("7f434d9f"),o=n._(r("6c8aee75")),u=r("89217383");function l(e){let t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length};}class f extends o.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9});}getDefaultStyle(){return{blend:"additive"};}getCommonUniformsInfo(){let{blend:e,strokeOpacity:t=1,strokeWidth:r=0,stroke:n="#fff"}=this.layer.getLayerConfig(),a={u_stroke_color:(0,u.rgb2arr)(n),u_additive:"additive"===e?1:0,u_stroke_opacity:t,u_stroke_width:r};return this.getUniformsBufferInfo(a);}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.layer.triangulation=l,e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"pointSimple",vertexShader:'\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_stroke_color;\n  float u_additive;\n  float u_stroke_opacity;\n  float u_stroke_width;\n};\n\nout vec4 v_color;\nout float v_blur;\nout float v_innerRadius;\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "project"\nvoid main() {\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n  v_blur = 1.0 - max(2.0 / a_Size, 0.05);\n  v_innerRadius = max((a_Size - u_stroke_width) / a_Size, 0.0);\n\n  vec2 offset = project_pixel(u_offsets);\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\n\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'layout(std140) uniform commonUniorm {\n  vec4 u_stroke_color;\n  float u_additive;\n  float u_stroke_opacity;\n  float u_stroke_width;\n};\n\nin vec4 v_color;\nin float v_blur;\nin float v_innerRadius;\n\nout vec4 outputColor;\n\n#pragma include "picking"\nvoid main() {\n  vec2 center = vec2(0.5);\n\n  // Tip: \u7247\u5143\u5230\u4E2D\u5FC3\u70B9\u7684\u8DDD\u79BB 0 - 1\n  float fragmengTocenter = distance(center, gl_PointCoord) * 2.0;\n  // Tip: \u7247\u5143\u7684\u526A\u5207\u6210\u5706\u5F62\n  float circleClipOpacity = 1.0 - smoothstep(v_blur, 1.0, fragmengTocenter);\n\n  if (v_innerRadius < 0.99) {\n    // \u5F53\u5B58\u5728 stroke \u4E14 stroke > 0.01\n    float blurWidth = (1.0 - v_blur) / 2.0;\n    vec4 stroke = vec4(u_stroke_color.rgb, u_stroke_opacity);\n    if (fragmengTocenter > v_innerRadius + blurWidth) {\n      outputColor = stroke;\n    } else if (fragmengTocenter > v_innerRadius - blurWidth) {\n      float mixR = (fragmengTocenter - (v_innerRadius - blurWidth)) / (blurWidth * 2.0);\n      outputColor = mix(v_color, stroke, mixR);\n    } else {\n      outputColor = v_color;\n    }\n  } else {\n    // \u5F53\u4E0D\u5B58\u5728 stroke \u6216 stroke <= 0.01\n    outputColor = v_color;\n  }\n\n  outputColor = filterColor(outputColor);\n\n  if (u_additive > 0.0) {\n    outputColor *= circleClipOpacity;\n  } else {\n    outputColor.a *= circleClipOpacity;\n  }\n\n}\n',defines:e.getDefines(),inject:e.getInject(),triangulation:l,depth:{enable:!1},primitive:i.gl.POINTS}))];})();}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:i.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:i.gl.DYNAMIC_DRAW,data:[],type:i.gl.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t];}}});}}},c92d9246:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("bf6ba2f5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c952732f:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("777fffbe")._(r("e1e610e4")),a=r("731aa3a9");class i{constructor(){(0,n.default)(this,"enabled",void 0);}apply(e,{rendererService:t,postProcessingPassFactory:r,normalPassFactory:n}){e.hooks.init.tapPromise("MultiPassRendererPlugin",()=>{let{enableMultiPassRenderer:t,passes:i=[]}=e.getLayerConfig();this.enabled=!!t&&!1!==e.getLayerConfig().enableMultiPassRenderer,this.enabled&&(e.multiPassRenderer=(0,a.createMultiPassRenderer)(e,i,r,n),e.multiPassRenderer.setRenderFlag(!0));}),e.hooks.beforeRender.tap("MultiPassRendererPlugin",()=>{if(this.enabled){let{width:r,height:n}=t.getViewportSize();e.multiPassRenderer.resize(r,n);}});}}},c97fd940:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f1d3f4a7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c985a7f7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4753e489")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c9949fd0:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("777fffbe"),a=n._(r("e1e610e4")),i=r("49f29790"),o=n._(r("0511fccf"));class u{constructor(e,t){(0,a.default)(this,"width",void 0),(0,a.default)(this,"height",void 0),(0,a.default)(this,"grid",void 0),(0,a.default)(this,"viewportPadding",100),(0,a.default)(this,"screenRightBoundary",void 0),(0,a.default)(this,"screenBottomBoundary",void 0),(0,a.default)(this,"gridRightBoundary",void 0),(0,a.default)(this,"gridBottomBoundary",void 0),this.width=e,this.height=t,this.viewportPadding=Math.max(e,t),this.grid=new o.default(e+this.viewportPadding,t+this.viewportPadding,25),this.screenRightBoundary=e+this.viewportPadding,this.screenBottomBoundary=t+this.viewportPadding,this.gridRightBoundary=e+2*this.viewportPadding,this.gridBottomBoundary=t+2*this.viewportPadding;}placeCollisionBox(e){let t=e.x1+e.anchorPointX+this.viewportPadding,r=e.y1+e.anchorPointY+this.viewportPadding,n=e.x2+e.anchorPointX+this.viewportPadding,a=e.y2+e.anchorPointY+this.viewportPadding;return!this.isInsideGrid(t,r,n,a)||this.grid.hitTest(t,r,n,a)?{box:[]}:{box:[t,r,n,a]};}insertCollisionBox(e,t){this.grid.insert({featureIndex:t},e[0],e[1],e[2],e[3]);}project(e,t,r){let n=i.vec4.fromValues(t,r,0,1),a=i.vec4.create(),o=i.mat4.fromValues(...e);return i.vec4.transformMat4(a,n,o),{x:(a[0]/a[3]+1)/2*this.width+this.viewportPadding,y:(-a[1]/a[3]+1)/2*this.height+this.viewportPadding};}isInsideGrid(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary;}}},c995a356:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{lineAtOffset:function(){return d;},lineAtOffsetAsyc:function(){return h;}});var n=r("434eaf8b"),a=r("7823d02e"),i=r("0d47154c"),o=Object.defineProperty,u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&s(e,r,t[r]);if(u)for(var r of u(t))f.call(t,r)&&s(e,r,t[r]);return e;};function d(e,t){let{featureId:r}=t,o=e.data.dataArray;return"number"==typeof r&&(o=o.filter(({id:e})=>e===r)),o.map(e=>{let r=function(e,t){let r;let{offset:o,shape:u,thetaOffset:l,segmentNumber:f=30,autoFit:s=!0}=t,{coordinates:c}=e;if("line"===u)return(0,i.pathLineAtOffset)(c,o);let d=c[0],h=c[1],p="string"==typeof l?e[l]||0:l;switch(u){case"arc":default:r=n.arcLineAtOffset;break;case"greatcircle":r=a.greatCircleLineAtOffset;}let[v,_,m]=r(d,h,o,p,f,s);return{lng:v,lat:_,height:m};}(e,t);return c(c({},e),r);});}function h(e,t){return new Promise(r=>{e.inited?r(d(e,t)):e.once("update",()=>{r(d(e,t));});});}},c99a06c8:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("c4fb5898");function a(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t;}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L);}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t;}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L));}function o(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0};}function u(e){var t=e.dateTime,r=e.date,u=e.time,f=e.periods,s=e.days,c=e.shortDays,d=e.months,h=e.shortMonths,Y=p(f),eh=v(f),eO=p(s),eR=v(s),eM=p(c),ex=v(c),eC=p(d),eP=v(d),eL=p(h),ew=v(h),eI={a:function(e){return c[e.getDay()];},A:function(e){return s[e.getDay()];},b:function(e){return h[e.getMonth()];},B:function(e){return d[e.getMonth()];},c:null,d:F,e:F,f:G,g:Q,G:ee,H:B,I:U,j:j,L:k,m:z,M:V,p:function(e){return f[+(e.getHours()>=12)];},q:function(e){return 1+~~(e.getMonth()/3);},Q:eA,s:eS,S:H,u:X,U:W,V:q,w:Z,W:K,x:null,X:null,y:$,Y:J,Z:et,"%":eT},eN={a:function(e){return c[e.getUTCDay()];},A:function(e){return s[e.getUTCDay()];},b:function(e){return h[e.getUTCMonth()];},B:function(e){return d[e.getUTCMonth()];},c:null,d:er,e:er,f:eu,g:eg,G:ey,H:en,I:ea,j:ei,L:eo,m:el,M:ef,p:function(e){return f[+(e.getUTCHours()>=12)];},q:function(e){return 1+~~(e.getUTCMonth()/3);},Q:eA,s:eS,S:es,u:ec,U:ed,V:ep,w:ev,W:e_,x:null,X:null,y:em,Y:eb,Z:eE,"%":eT},eD={a:function(e,t,r){var n=eM.exec(t.slice(r));return n?(e.w=ex.get(n[0].toLowerCase()),r+n[0].length):-1;},A:function(e,t,r){var n=eO.exec(t.slice(r));return n?(e.w=eR.get(n[0].toLowerCase()),r+n[0].length):-1;},b:function(e,t,r){var n=eL.exec(t.slice(r));return n?(e.m=ew.get(n[0].toLowerCase()),r+n[0].length):-1;},B:function(e,t,r){var n=eC.exec(t.slice(r));return n?(e.m=eP.get(n[0].toLowerCase()),r+n[0].length):-1;},c:function(e,r,n){return eU(e,t,r,n);},d:R,e:R,f:w,g:T,G:E,H:x,I:x,j:M,L:L,m:O,M:C,p:function(e,t,r){var n=Y.exec(t.slice(r));return n?(e.p=eh.get(n[0].toLowerCase()),r+n[0].length):-1;},q:S,Q:N,s:D,S:P,u:m,U:g,V:b,w:_,W:y,x:function(e,t,n){return eU(e,r,t,n);},X:function(e,t,r){return eU(e,u,t,r);},y:T,Y:E,Z:A,"%":I};function eF(e,t){return function(r){var n,a,i,o=[],u=-1,f=0,s=e.length;for(r instanceof Date||(r=new Date(+r));++u<s;)37===e.charCodeAt(u)&&(o.push(e.slice(f,u)),null!=(a=l[n=e.charAt(++u)])?n=e.charAt(++u):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),o.push(n),f=u+1);return o.push(e.slice(f,u)),o.join("");};}function eB(e,t){return function(r){var u,l,f=o(1900,void 0,1);if(eU(f,e,r+="",0)!=r.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(1e3*f.s+("L"in f?f.L:0));if(!t||"Z"in f||(f.Z=0),"p"in f&&(f.H=f.H%12+12*f.p),void 0===f.m&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(u=(l=(u=i(o(f.y,0,1))).getUTCDay())>4||0===l?n.utcMonday.ceil(u):(0,n.utcMonday)(u),u=n.utcDay.offset(u,(f.V-1)*7),f.y=u.getUTCFullYear(),f.m=u.getUTCMonth(),f.d=u.getUTCDate()+(f.w+6)%7):(u=(l=(u=a(o(f.y,0,1))).getDay())>4||0===l?n.timeMonday.ceil(u):(0,n.timeMonday)(u),u=n.timeDay.offset(u,(f.V-1)*7),f.y=u.getFullYear(),f.m=u.getMonth(),f.d=u.getDate()+(f.w+6)%7);}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:"W"in f?1:0),l="Z"in f?i(o(f.y,0,1)).getUTCDay():a(o(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(l+5)%7:f.w+7*f.U-(l+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,i(f)):a(f);};}function eU(e,t,r,n){for(var a,i,o=0,u=t.length,f=r.length;o<u;){if(n>=f)return -1;if(37===(a=t.charCodeAt(o++))){if(!(i=eD[(a=t.charAt(o++))in l?t.charAt(o++):a])||(n=i(e,r,n))<0)return -1;}else if(a!=r.charCodeAt(n++))return -1;}return n;}return eI.x=eF(r,eI),eI.X=eF(u,eI),eI.c=eF(t,eI),eN.x=eF(r,eN),eN.X=eF(u,eN),eN.c=eF(t,eN),{format:function(e){var t=eF(e+="",eI);return t.toString=function(){return e;},t;},parse:function(e){var t=eB(e+="",!1);return t.toString=function(){return e;},t;},utcFormat:function(e){var t=eF(e+="",eN);return t.toString=function(){return e;},t;},utcParse:function(e){var t=eB(e+="",!0);return t.toString=function(){return e;},t;}};}var l={"-":"",_:" ",0:"0"},f=/^\s*\d+/,s=/^%/,c=/[\\^$*+?|[\]().{}]/g;function d(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?Array(r-i+1).join(t)+a:a);}function h(e){return e.replace(c,"\\$&");}function p(e){return RegExp("^(?:"+e.map(h).join("|")+")","i");}function v(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]));}function _(e,t,r){var n=f.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1;}function m(e,t,r){var n=f.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1;}function g(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1;}function b(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1;}function y(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1;}function E(e,t,r){var n=f.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1;}function T(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1;}function A(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1;}function S(e,t,r){var n=f.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1;}function O(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1;}function R(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1;}function M(e,t,r){var n=f.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1;}function x(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1;}function C(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1;}function P(e,t,r){var n=f.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1;}function L(e,t,r){var n=f.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1;}function w(e,t,r){var n=f.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1;}function I(e,t,r){var n=s.exec(t.slice(r,r+1));return n?r+n[0].length:-1;}function N(e,t,r){var n=f.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1;}function D(e,t,r){var n=f.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1;}function F(e,t){return d(e.getDate(),t,2);}function B(e,t){return d(e.getHours(),t,2);}function U(e,t){return d(e.getHours()%12||12,t,2);}function j(e,t){return d(1+n.timeDay.count((0,n.timeYear)(e),e),t,3);}function k(e,t){return d(e.getMilliseconds(),t,3);}function G(e,t){return k(e,t)+"000";}function z(e,t){return d(e.getMonth()+1,t,2);}function V(e,t){return d(e.getMinutes(),t,2);}function H(e,t){return d(e.getSeconds(),t,2);}function X(e){var t=e.getDay();return 0===t?7:t;}function W(e,t){return d(n.timeSunday.count((0,n.timeYear)(e)-1,e),t,2);}function Y(e){var t=e.getDay();return t>=4||0===t?(0,n.timeThursday)(e):n.timeThursday.ceil(e);}function q(e,t){return e=Y(e),d(n.timeThursday.count((0,n.timeYear)(e),e)+(4===(0,n.timeYear)(e).getDay()),t,2);}function Z(e){return e.getDay();}function K(e,t){return d(n.timeMonday.count((0,n.timeYear)(e)-1,e),t,2);}function $(e,t){return d(e.getFullYear()%100,t,2);}function Q(e,t){return d((e=Y(e)).getFullYear()%100,t,2);}function J(e,t){return d(e.getFullYear()%1e4,t,4);}function ee(e,t){var r=e.getDay();return d((e=r>=4||0===r?(0,n.timeThursday)(e):n.timeThursday.ceil(e)).getFullYear()%1e4,t,4);}function et(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+d(t/60|0,"0",2)+d(t%60,"0",2);}function er(e,t){return d(e.getUTCDate(),t,2);}function en(e,t){return d(e.getUTCHours(),t,2);}function ea(e,t){return d(e.getUTCHours()%12||12,t,2);}function ei(e,t){return d(1+n.utcDay.count((0,n.utcYear)(e),e),t,3);}function eo(e,t){return d(e.getUTCMilliseconds(),t,3);}function eu(e,t){return eo(e,t)+"000";}function el(e,t){return d(e.getUTCMonth()+1,t,2);}function ef(e,t){return d(e.getUTCMinutes(),t,2);}function es(e,t){return d(e.getUTCSeconds(),t,2);}function ec(e){var t=e.getUTCDay();return 0===t?7:t;}function ed(e,t){return d(n.utcSunday.count((0,n.utcYear)(e)-1,e),t,2);}function eh(e){var t=e.getUTCDay();return t>=4||0===t?(0,n.utcThursday)(e):n.utcThursday.ceil(e);}function ep(e,t){return e=eh(e),d(n.utcThursday.count((0,n.utcYear)(e),e)+(4===(0,n.utcYear)(e).getUTCDay()),t,2);}function ev(e){return e.getUTCDay();}function e_(e,t){return d(n.utcMonday.count((0,n.utcYear)(e)-1,e),t,2);}function em(e,t){return d(e.getUTCFullYear()%100,t,2);}function eg(e,t){return d((e=eh(e)).getUTCFullYear()%100,t,2);}function eb(e,t){return d(e.getUTCFullYear()%1e4,t,4);}function ey(e,t){var r=e.getUTCDay();return d((e=r>=4||0===r?(0,n.utcThursday)(e):n.utcThursday.ceil(e)).getUTCFullYear()%1e4,t,4);}function eE(){return"+0000";}function eT(){return"%";}function eA(e){return+e;}function eS(e){return Math.floor(+e/1e3);}},c9b3823a:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return u;},format:function(){return a;},formatPrefix:function(){return i;}});var n,a,i,o=r("777fffbe")._(r("d30c597c"));function u(e){return a=(n=(0,o.default)(e)).format,i=n.formatPrefix,n;}u({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});},c9c4699b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("006c3eca")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c9cd3c36:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4ac4af81")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},c9d36924:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});class n{apply(e){e.hooks.afterInit.tap("LayerStylePlugin",()=>{let{autoFit:t,fitBoundsOptions:r}=e.getLayerConfig();t&&e.fitBounds(r),e.styleNeedUpdate=!1;});}}},ca3bbb17:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return a;},months:function(){return i;}});var n=(0,r("777fffbe")._(r("d365c0f8")).default)(function(e){e.setDate(1),e.setHours(0,0,0,0);},function(e,t){e.setMonth(e.getMonth()+t);},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12;},function(e){return e.getMonth();}),a=n,i=n.range;},ca40291b:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("bd0e8648")),u=n._(r("aef3738c"));class l extends u.default{initTileLayer(){var e=this;return(0,i.default)(function*(){let t=e.parent.getLayerAttributeConfig(),r=e.getLayerOptions(),n=e.getSourceOption(),i=new o.default((0,a.default)({},r)).source(n.data,n.options);t&&Object.keys(t).forEach(e=>{var r,n;i[e](null===(r=t[e])||void 0===r?void 0:r.field,null===(n=t[e])||void 0===n?void 0:n.values);}),yield e.addLayer(i),e.isLoaded=!0;})();}getSourceOption(){let e=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:e.transforms}};}}},ca88f61c:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4d9a26ea")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},caae3024:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e6410c33")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},cb029c45:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{EARTH_RADIUS:function(){return a;},EARTH_RADIUS_OUTER:function(){return o;},EARTH_SEGMENTS:function(){return i;},lglt2xyz:function(){return l;},primitiveSphere:function(){return f;}});var n=r("49f29790");let a=100,i=36,o=40;function u(e){return e/180*Math.acos(-1);}function l(e){let t=u(e[0])+Math.PI/2,r=u(e[1]),n=a+.4*Math.random(),i=n*Math.cos(r)*Math.cos(t);return[n*Math.cos(r)*Math.sin(t),n*Math.sin(r),i];}function f(e,t){let r=n.mat4.create(),a=n.mat4.create(),i=n.vec3.fromValues(0,1,0),o=n.vec3.fromValues(0,0,0);e=void 0!==e?e:1;let u=2+(void 0!==(t=t||{}).segments?t.segments:32),l=2*u,f=[],s=[],c=[],d=[],h=[],p=[];for(let t=0;t<=u;t++){let v=t/u,_=v*Math.PI;for(let t=0;t<=l;t++){let u=t/l,f=u*Math.PI*2;n.mat4.identity(a),n.mat4.rotateZ(a,a,-_),n.mat4.identity(r),n.mat4.rotateY(r,r,f),n.vec3.transformMat4(o,i,a),n.vec3.transformMat4(o,o,r),n.vec3.scale(o,o,-e),c.push(o.slice()),d.push(...o.slice()),n.vec3.normalize(o,o),h.push(...o.slice()),p.push([u,1-v]),d.push(u,1-v);}if(t>0){let e=c.length,t=e-2*(l+1);for(;t+l+2<e;t++)f.push([t,t+1,t+l+1]),s.push(t,t+1,t+l+1),f.push([t+l+1,t+1,t+l+2]),s.push(t+l+1,t+1,t+l+2);}}return{cells:f,positions:c,uvs:p,positionsArr:d,indicesArr:s,normalArr:h};}},cb081ffc:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});var n={fill:r("777fffbe")._(r("c3bf53df")).default};},cb174a80:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e5171bf3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},cb1b0bba:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("103748ad")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},cb2ff3fc:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Fullscreen:function(){return c;},default:function(){return c;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("e1e610e4")),u=r("89217383"),l=r("be6cb12a"),f=n._(r("af7df5c9")),s=n._(r("e46f20cf"));class c extends s.default{constructor(e){var t;super(e),t=this,(0,o.default)(this,"isFullscreen",!1),(0,o.default)(this,"mapContainer",void 0),(0,o.default)(this,"toggleFullscreen",(0,i.default)(function*(){f.default.isEnabled&&(yield f.default.toggle(t.mapContainer));})),(0,o.default)(this,"onClick",()=>{this.toggleFullscreen();}),(0,o.default)(this,"onFullscreenChange",()=>{this.isFullscreen=!!document.fullscreenElement;let{btnText:e,btnIcon:t,title:r,exitBtnText:n,exitBtnIcon:a,exitTitle:i}=this.controlOption;this.isFullscreen?(this.setBtnTitle(i),this.setBtnText(n),this.setBtnIcon(a)):(this.setBtnTitle(r),this.setBtnText(e),this.setBtnIcon(t)),this.emit("fullscreenChange",this.isFullscreen);}),f.default.isEnabled||console.warn("\u5F53\u524D\u6D4F\u89C8\u5668\u73AF\u5883\u4E0D\u652F\u6301\u5BF9\u5730\u56FE\u5168\u5C4F\u5316");}setOptions(e){let{exitBtnText:t,exitBtnIcon:r,exitTitle:n}=e;this.isFullscreen&&(this.checkUpdateOption(e,["exitBtnIcon"])&&this.setBtnIcon(r),this.checkUpdateOption(e,["exitBtnText"])&&this.setBtnText(t),this.checkUpdateOption(e,["exitTitle"])&&this.setBtnTitle(n)),super.setOptions(e);}onAdd(){let e=super.onAdd();return e.addEventListener("click",this.onClick),this.mapContainer=u.DOM.getContainer(this.scene.getSceneConfig().id),this.mapContainer.addEventListener("fullscreenchange",this.onFullscreenChange),e;}onRemove(){super.onRemove(),this.mapContainer.removeEventListener("fullscreenchange",this.onFullscreenChange);}getDefault(e){return(0,a.default)((0,a.default)({},super.getDefault(e)),{},{title:"\u5168\u5C4F",btnIcon:(0,l.createL7Icon)("l7-icon-fullscreen"),exitTitle:"\u9000\u51FA\u5168\u5C4F",exitBtnIcon:(0,l.createL7Icon)("l7-icon-exit-fullscreen")});}}},cb7bfd7d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("85bdd2fb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},cbb6b347:function(e,t,r){"use strict";function n(e,t,r){e.prototype=t.prototype=r,r.constructor=e;}function a(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r;}r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return n;},extend:function(){return a;}});},cbc669ca:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fd820e3e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},cc40bbc6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("71780d03")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},cc6310ba:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"ProxyFuncs",{enumerable:!0,get:function(){return n;}});let n=["shape","color","size","style","animate","filter","rotate","scale","setBlend","setSelect","setActive","disableMask","enableMask","addMask","removeMask"];},cc7519a4:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f5a84696")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ccba6a2e:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=n._(r("6c8aee75")),l=r("34540526"),f=r("f9b12b3c");class s extends u.default{constructor(...e){super(...e),(0,i.default)(this,"meter2coord",1),(0,i.default)(this,"texture",void 0),(0,i.default)(this,"isMeter",!1),(0,i.default)(this,"radian",0),(0,i.default)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),this.layerService.throttleRenderLayers();return;}this.texture=e({data:this.iconService.getCanvas(),mag:o.gl.LINEAR,min:o.gl.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0}),this.textures=[this.texture];});}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,UV:11});}getCommonUniformsInfo(){let{raisingHeight:e=0,heightfixed:t=!1,unit:r="pixel"}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var n;null===(n=this.texture)||void 0===n||n.bind();}let a={u_textSize:[1024,this.iconService.canvasHeight||128],u_heightfixed:Number(t),u_raisingHeight:Number(e),u_size_unit:l.SizeUnitType[r]};return this.getUniformsBufferInfo(a);}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),f.PointFillTriangulation);}initModels(){var e=this;return(0,a.default)(function*(){return e.iconService.on("imageUpdate",e.updateTexture),e.updateTexture(),e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"pointFillImage",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniform {\n  vec2 u_textSize;\n  float u_heightfixed;\n  float u_raisingHeight;\n  float u_size_unit;\n};\n\nout vec2 v_uv;\nout vec2 v_Iconuv;\nout float v_opacity;\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "rotation_2d"\n\nvoid main() {\n  vec3 extrude = a_Extrude;\n  v_uv = (a_Extrude.xy + 1.0) / 2.0;\n  v_uv.x = 1.0 - v_uv.x;\n  v_uv.y = 1.0 - v_uv.y;\n  v_Iconuv = a_Uv;\n  v_opacity = opacity;\n  float newSize = a_Size;\n  if (u_size_unit == 1.0) {\n    newSize = newSize * u_PixelsPerMeter.z;\n  }\n\n  // vec2 offset = (u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);\n  vec2 offset = extrude.xy * newSize + offsets;\n\n  offset = rotate_matrix(offset, rotation);\n\n  offset = project_pixel(offset);\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'in vec2 v_uv;// \u672C\u8EAB\u7684 uv \u5750\u6807\nin vec2 v_Iconuv;\nin float v_opacity;\nout vec4 outputColor;\n\nuniform sampler2D u_texture;\nlayout(std140) uniform commonUniform {\n  vec2 u_textSize;\n  float u_heightfixed: 0.0;\n  float u_raisingHeight: 0.0;\n  float u_size_unit;\n};\n\n#pragma include "scene_uniforms"\n#pragma include "sdf_2d"\n#pragma include "picking"\n\nvoid main() {\n  vec2 pos = v_Iconuv / u_textSize + v_uv / u_textSize * 64.;\n  outputColor = texture(SAMPLER_2D(u_texture), pos);\n  outputColor.a *= v_opacity;\n  outputColor = filterColor(outputColor);\n}\n',triangulation:f.PointFillTriangulation,depth:{enable:!1},defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:o.gl.FRONT}}))];})();}clearModels(){var e;this.iconService.off("imageUpdate",this.updateTexture),null===(e=this.texture)||void 0===e||e.destroy();}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:o.AttributeType.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{shape:r}=e,{x:n,y:a}=t[r]||{x:-64,y:-64};return[n,a];}}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:o.AttributeType.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:(e,t,r,n)=>{let a=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],i=n%4*3;return[a[i],a[i+1],a[i+2]];}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:o.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t];}}});}}},ccda6756:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return v;}});var n=r("0b461d77"),a=r("0aa51e1c"),i=r("68cc65c7"),o=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(f)for(var r of f(t))c.call(t,r)&&d(e,r,t[r]);return e;},p=(e,t)=>u(e,l(t));function v(e,t){let r=[],o={};return e.features?(e.features=e.features.filter(e=>{let t=e.geometry;return null!=e&&t&&t.type&&t.coordinates&&t.coordinates.length>0;}),0===(e=(0,i.geojsonRewind)(e)).features.length)?{dataArray:[],featureKeys:o}:((0,a.flattenEach)(e,(e,a)=>{var i;let o=void 0===(i=null==t?void 0:t.featureId)?null:isNaN(1*e.properties[i])?e.properties&&e.properties[i]?function(e){let t=e.toString(),r=5381,n=t.length;for(;n;)r=33*r^t.charCodeAt(--n);return r>>>0;}(e.properties[i]+"")%1000019:null:1*e.properties[i];null===o&&(o=a);let u=o,l=(0,n.getCoords)(e),f=p(h({},e.properties),{coordinates:l,_id:u});r.push(f);}),{dataArray:r,featureKeys:o}):(e.features=[],{dataArray:[]});}},cd6629e0:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b0cc6620")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},cda97d80:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("df0f8d80")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},cdafb502:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("89217383"),u=r("8174e190");class l extends u.EventEmitter{getMarkerLayerContainerSize(){}constructor(e){super(),(0,i.default)(this,"markerOption",void 0),(0,i.default)(this,"popup",void 0),(0,i.default)(this,"mapsService",void 0),(0,i.default)(this,"lngLat",void 0),(0,i.default)(this,"scene",void 0),(0,i.default)(this,"added",!1),(0,i.default)(this,"preLngLat",{lng:0,lat:0}),(0,i.default)(this,"onMarkerDragStart",e=>{let t=this.mapsService.getContainer();if(!t)return;this.mapsService.setMapStatus({dragEnable:!1,zoomEnable:!1});let{left:r,top:n}=t.getClientRects()[0],{x:a,y:i}=e;this.preLngLat=this.mapsService.containerToLngLat([a-r,i-n]),this.mapsService.on("mousemove",this.onMarkerDragMove),document.addEventListener("mouseup",this.onMarkerDragEnd),this.emit("dragstart",this.lngLat);}),(0,i.default)(this,"onMarkerDragMove",e=>{let t=e.lngLat||e.lnglat,{lng:r,lat:n}=this.preLngLat,{lng:a,lat:i}=t,o={lng:this.lngLat.lng+a-r,lat:this.lngLat.lat+i-n};this.setLnglat(o),this.preLngLat=t,this.emit("dragging",o);}),(0,i.default)(this,"onMarkerDragEnd",()=>{this.mapsService.setMapStatus({dragEnable:!0,zoomEnable:!0}),this.mapsService.off("mousemove",this.onMarkerDragMove),document.removeEventListener("mouseup",this.onMarkerDragEnd),this.emit("dragend",this.lngLat);}),(0,i.default)(this,"eventHandle",e=>{this.polyfillEvent(e),this.emit(e.type,{target:e,data:this.markerOption.extData,lngLat:this.lngLat});}),(0,i.default)(this,"touchStartTime",void 0),this.markerOption=(0,a.default)((0,a.default)({},this.getDefault()),e),(0,o.bindAll)(["update","onMove","onMapClick","updatePositionWhenZoom"],this),this.init();}getDefault(){return{element:void 0,anchor:o.anchorType.BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1,overflowHide:!0};}addTo(e){this.scene=e,this.mapsService=e.mapService;let{element:t}=this.markerOption;return this.mapsService.getMarkerContainer().appendChild(t),this.registerMarkerEvent(t),this.mapsService.on("camerachange",this.update),this.update(),this.updateDraggable(),this.added=!0,this.emit("added"),this;}remove(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("camerachange",this.update)),this.unRegisterMarkerEvent(),this.removeAllListeners();let{element:e}=this.markerOption;return e&&o.DOM.remove(e),this.popup&&this.popup.remove(),this;}setLnglat(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this;}getLnglat(){return this.lngLat;}getElement(){return this.markerOption.element;}setElement(e){if(!this.added)return this.once("added",()=>{this.setElement(e);}),this;let{element:t}=this.markerOption;return t&&o.DOM.remove(t),this.markerOption.element=e,this.init(),this.mapsService.getMarkerContainer().appendChild(e),this.registerMarkerEvent(e),this.updateDraggable(),this.update(),this;}openPopup(){if(!this.added)return this.once("added",()=>{this.openPopup();}),this;let e=this.popup;return e&&(e.isOpen()||e.addTo(this.scene)),this;}closePopup(){this.added||this.once("added",()=>{this.closePopup();});let e=this.popup;return e&&e.remove(),this;}setPopup(e){return this.popup=e,this.lngLat&&this.popup.setLnglat(this.lngLat),this;}togglePopup(){let e=this.popup;return e&&(e.isOpen()?e.remove():e.addTo(this.scene)),this;}getPopup(){return this.popup;}getOffset(){return this.markerOption.offsets;}setDraggable(e){this.markerOption.draggable=e,this.updateDraggable();}getDraggable(){return this.markerOption.draggable;}getExtData(){return this.markerOption.extData;}setExtData(e){this.markerOption.extData=e;}update(){if(!this.mapsService)return;let{element:e,anchor:t}=this.markerOption;this.updatePosition(),o.DOM.setTransform(e,`${o.anchorTranslate[t]}`);}updatePositionWhenZoom(e){if(!this.mapsService)return;let{element:t,offsets:r}=this.markerOption,{lng:n,lat:a}=this.lngLat;if(t){t.style.display="block",t.style.whiteSpace="nowrap";let{containerHeight:i,containerWidth:o,bounds:u}=this.getMarkerLayerContainerSize()||this.getCurrentContainerSize();if(!u)return;let l=e.map,f=e.center,s=e.zoom,c=l.DE(this.lngLat,s,f);if(c.x=Math.round(c.x+r[0]),c.y=Math.round(c.y-r[1]),Math.abs(u[0][0])>180||Math.abs(u[1][0])>180){if(c.x>o){let e=this.mapsService.lngLatToContainer([n-360,a]);c.x=e.x;}if(c.x<0){let e=this.mapsService.lngLatToContainer([n+360,a]);c.x=e.x;}}(c.x>o||c.x<0||c.y>i||c.y<0)&&(t.style.display="none"),t.style.left=c.x+"px",t.style.top=c.y+"px",t.style.transition="left 0.25s cubic-bezier(0,0,0.25,1), top 0.25s cubic-bezier(0,0,0.25,1)";}}onMapClick(e){let{element:t}=this.markerOption;this.popup&&t&&this.togglePopup();}getCurrentContainerSize(){let e=this.mapsService.getContainer();return{containerHeight:(null==e?void 0:e.scrollHeight)||0,containerWidth:(null==e?void 0:e.scrollWidth)||0,bounds:this.mapsService.getBounds()};}updateDraggable(){let{element:e}=this.markerOption;null==e||e.removeEventListener("mousedown",this.onMarkerDragStart),this.mapsService.off("mousemove",this.onMarkerDragMove),document.removeEventListener("mouseup",this.onMarkerDragEnd),this.markerOption.draggable&&(null==e||e.addEventListener("mousedown",this.onMarkerDragStart));}updatePosition(){if(!this.mapsService)return;let{element:e,offsets:t}=this.markerOption,{lng:r,lat:n}=this.lngLat,a=this.mapsService.lngLatToContainer([r,n]);if(e){e.style.display="block",e.style.whiteSpace="nowrap";let{containerHeight:i,containerWidth:o,bounds:u}=this.getMarkerLayerContainerSize()||this.getCurrentContainerSize();if(!u)return;if(Math.abs(u[0][0])>180||Math.abs(u[1][0])>180){if(a.x>o){let e=this.mapsService.lngLatToContainer([r-360,n]);a.x=e.x;}if(a.x<0){let e=this.mapsService.lngLatToContainer([r+360,n]);a.x=e.x;}}this.markerOption.overflowHide&&(a.x>o||a.x<0||a.y>i||a.y<0)&&(e.style.display="none"),e.style.left=a.x+t[0]+"px",e.style.top=a.y-t[1]+"px";}}init(){let{element:e}=this.markerOption,{color:t,anchor:r}=this.markerOption;if(!e){e=o.DOM.create("div"),this.markerOption.element=e;let r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttributeNS(null,"display","block"),r.setAttributeNS(null,"height","48px"),r.setAttributeNS(null,"width","48px"),r.setAttributeNS(null,"viewBox","0 0 1024 1024");let n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),n.setAttributeNS(null,"fill",t),r.appendChild(n),e.appendChild(r);}o.DOM.addClass(e,"l7-marker"),Object.keys(this.markerOption.style||{}).forEach(t=>{var r,n;let a=(null===(r=this.markerOption)||void 0===r?void 0:r.style)&&(null===(n=this.markerOption)||void 0===n?void 0:n.style[t]);e&&(e.style[t]=a);}),(0,o.applyAnchorClass)(e,r,"marker");}registerMarkerEvent(e){e.addEventListener("click",this.onMapClick),e.addEventListener("mousemove",this.eventHandle),e.addEventListener("click",this.eventHandle),e.addEventListener("mousedown",this.eventHandle),e.addEventListener("mouseup",this.eventHandle),e.addEventListener("dblclick",this.eventHandle),e.addEventListener("contextmenu",this.eventHandle),e.addEventListener("mouseover",this.eventHandle),e.addEventListener("mouseout",this.eventHandle),e.addEventListener("touchstart",this.eventHandle),e.addEventListener("touchend",this.eventHandle);}unRegisterMarkerEvent(){let e=this.getElement();e.removeEventListener("click",this.onMapClick),e.removeEventListener("mousemove",this.eventHandle),e.removeEventListener("click",this.eventHandle),e.removeEventListener("mousedown",this.eventHandle),e.removeEventListener("mouseup",this.eventHandle),e.removeEventListener("dblclick",this.eventHandle),e.removeEventListener("contextmenu",this.eventHandle),e.removeEventListener("mouseover",this.eventHandle),e.removeEventListener("mouseout",this.eventHandle),e.removeEventListener("touchstart",this.eventHandle),e.removeEventListener("touchend",this.eventHandle);}polyfillEvent(e){this.mapsService&&"amap"===this.mapsService.getType()&&!(0,o.isPC)()&&("touchstart"===e.type&&(this.touchStartTime=Date.now()),"touchend"===e.type&&Date.now()-this.touchStartTime<300&&this.emit("click",{target:e,data:this.markerOption.extData,lngLat:this.lngLat}));}addDragHandler(e){return null;}onUp(e){throw Error("Method not implemented.");}}},cddbe315:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a7fb610f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ce6b5d18:function(e,t,r){},cf19ffa2:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("89895907")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d001e0a3:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6732060d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d0d2c46a:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ee2cc942")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d0fac4de:function(e,t,r){"use strict";function n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);}return this;}r.d(t,"__esModule",{value:!0}),r.d(t,"initRange",{enumerable:!0,get:function(){return n;}});},d12d51a8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0d67f334")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d14a8e91:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d38cf37c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d15e993a:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{color:function(){return n.default;},rgb:function(){return n.rgb;}});var n=r("852bbaa9")._(r("1f87d2dc"));},d1899eb1:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("83cdc5bc"));class a extends n.default{getName(){return"clear";}init(e,t){super.init(e,t);}render(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null});}}},d1a7884d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b10eeb7f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d1b26b12:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("11532b58")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d1b48036:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("258dcf57")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d1d38596:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ba8ddedb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d1d7e540:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("82a731f4"),u=r("89217383"),l=n._(r("b6db7973")),f=r("d383b231"),s=r("acfdc9f2"),c=r("e3b549d7");class d extends f.EventEmitter{get iconService(){return this.container.iconService;}get fontService(){return this.container.fontService;}get controlService(){return this.container.controlService;}get configService(){return this.container.globalConfigService;}get map(){return this.container.mapService;}get coordinateSystemService(){return this.container.coordinateSystemService;}get rendererService(){return this.container.rendererService;}get layerService(){return this.container.layerService;}get debugService(){return this.container.debugService;}get cameraService(){return this.container.cameraService;}get interactionService(){return this.container.interactionService;}get pickingService(){return this.container.pickingService;}get shaderModuleService(){return this.container.shaderModuleService;}get markerService(){return this.container.markerService;}get popupService(){return this.container.popupService;}constructor(e){super(),(0,i.default)(this,"destroyed",!1),(0,i.default)(this,"loaded",!1),(0,i.default)(this,"id",void 0),(0,i.default)(this,"inited",!1),(0,i.default)(this,"rendering",!1),(0,i.default)(this,"$container",void 0),(0,i.default)(this,"canvas",void 0),(0,i.default)(this,"markerContainer",void 0),(0,i.default)(this,"resizeDetector",void 0),(0,i.default)(this,"hooks",void 0),(0,i.default)(this,"handleWindowResized",()=>{this.emit("resize"),this.$container&&(this.initContainer(),this.coordinateSystemService.needRefresh=!0,this.render());}),(0,i.default)(this,"handleMapCameraChanged",e=>{this.cameraService.update(e),this.render();}),this.container=e,this.hooks={init:new o.AsyncSeriesHook},this.id=e.id;}init(e){var t=this;this.configService.setSceneConfig(this.id,e),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",()=>this.render()),this.fontService.init(),this.hooks.init.tapPromise("initMap",(0,a.default)(function*(){t.debugService.log("map.mapInitStart",{type:t.map.version}),yield new Promise(e=>{t.map.onCameraChanged(r=>{t.cameraService.init(),t.cameraService.update(r),e();}),t.map.init();}),t.map.onCameraChanged(t.handleMapCameraChanged),t.map.addMarkerContainer(),t.markerService.addMarkers(),t.markerService.addMarkerLayers(),t.popupService.initPopup(),t.interactionService.init(),t.interactionService.on(c.InteractionEvent.Drag,t.addSceneEvent.bind(t));})),this.hooks.init.tapPromise("initRenderer",(0,a.default)(function*(){var r,n;let a=(null===(r=t.map)||void 0===r?void 0:r.getOverlayContainer())||void 0;if(a?t.$container=a:t.$container=(0,s.createRendererContainer)(t.configService.getSceneConfig(t.id).id||""),t.$container){let{canvas:r}=e;t.canvas=r||u.DOM.create("canvas","",t.$container),t.setCanvas(),yield t.rendererService.init(t.canvas,t.configService.getSceneConfig(t.id),e.gl),t.registerContextLost(),t.initContainer(),t.resizeDetector=(0,l.default)({strategy:"scroll"}),t.resizeDetector.listenTo(t.$container,t.handleWindowResized),window.matchMedia&&(null===(n=window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)"))||void 0===n||n.addListener(t.handleWindowResized.bind("screen")));}else console.error("\u5BB9\u5668 id \u4E0D\u5B58\u5728");t.pickingService.init(t.id);})),this.render();}registerContextLost(){let e=this.rendererService.getCanvas();e&&e.addEventListener("webglcontextlost",()=>this.emit("webglcontextlost"));}addLayer(e){this.layerService.sceneService=this,this.layerService.add(e);}addMask(e){this.layerService.sceneService=this,this.layerService.addMask(e);}render(){var e=this;return(0,a.default)(function*(){e.rendering||e.destroyed||(e.rendering=!0,e.inited?(yield e.layerService.initLayers(),yield e.layerService.renderLayers()):(yield e.hooks.init.promise(),e.destroyed&&e.destroy(),yield e.layerService.initLayers(),e.layerService.renderLayers(),e.controlService.addControls(),e.loaded=!0,e.emit("loaded"),e.inited=!0),e.rendering=!1);})();}addFontFace(e,t){this.fontService.addFontFace(e,t);}getSceneContainer(){return this.$container;}exportPng(e){var t=this;return(0,a.default)(function*(){var r;let n=null===(r=t.$container)||void 0===r?void 0:r.getElementsByTagName("canvas")[0];return yield t.render(),"jpg"===e?null==n?void 0:n.toDataURL("image/jpeg"):null==n?void 0:n.toDataURL("image/png");})();}getSceneConfig(){return this.configService.getSceneConfig(this.id);}getPointSizeRange(){return this.rendererService.getPointSizeRange();}addMarkerContainer(){let e=this.$container.parentElement;null!==e&&(this.markerContainer=u.DOM.create("div","l7-marker-container",e));}getMarkerContainer(){return this.markerContainer;}destroy(){var e;if(!this.inited){this.destroyed=!0;return;}this.resizeDetector.removeListener(this.$container,this.handleWindowResized),this.pickingService.destroy(),this.layerService.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.fontService.destroy(),this.iconService.destroy(),this.removeAllListeners(),this.inited=!1,this.map.destroy(),setTimeout(()=>{var e;null===(e=this.$container)||void 0===e||e.removeChild(this.canvas),this.canvas=null,this.rendererService.destroy();}),null===(e=this.$container)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this.$container),this.emit("destroy");}initContainer(){var e,t;let r=u.DOM.DPR,n=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,a=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,i=this.canvas;i&&(i.width=n*r,i.height=a*r),this.rendererService.viewport({x:0,y:0,width:r*n,height:r*a});}setCanvas(){var e,t;let r=u.DOM.DPR,n=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,a=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,i=this.canvas;i.width=n*r,i.height=a*r,i.style.width="100%",i.style.height="100%";}addSceneEvent(e){this.emit(e.type,e);}}},d1dd5f6e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d8312c7b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d25d8226:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("6dd50fef"));function a(e){return Math.max(0,-(0,n.default)(Math.abs(e)));}},d26acb34:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("81cda0ed")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d2a16607:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e00fd668")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d2cd3aa9:function(e,t,r){"use strict";function n(e){return function(){return e;};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},d2dd39ef:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{getTileIndices:function(){return u;},getTileWarpXY:function(){return l;},osmLonLat2TileXY:function(){return a;},osmTileXY2LonLat:function(){return i;},tileToBounds:function(){return o;}});var n=r("7d7dfaa5");function a(e,t,r){return[Math.floor((e+180)/360*Math.pow(2,r)),Math.floor((1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,r))];}function i(e,t,r){let n=e/Math.pow(2,r)*360-180,a=Math.PI-2*Math.PI*t/Math.pow(2,r);return[n,180/Math.PI*Math.atan(.5*(Math.exp(a)-Math.exp(-a)))];}var o=(e,t,r)=>{let[n,a]=i(e,t,r),[o,u]=i(e+1,t+1,r);return[n,u,o,a];};function u({zoom:e,latLonBounds:t,maxZoom:r=1/0,minZoom:i=0,zoomOffset:o=0,extent:u=n.DEFAULT_EXTENT}){let l=Math.ceil(e)+o;if(Number.isFinite(i)&&l<i)return[];Number.isFinite(r)&&l>r&&(l=r);let[f,s,c,d]=t,h=[Math.max(f,u[0]),Math.max(s,u[1]),Math.min(c,u[2]),Math.min(d,u[3])],p=[],[v,_]=a(h[0],h[1],l),[m,g]=a(h[2],h[3],l);for(let e=v;e<=m;e++)for(let t=g;t<=_;t++)p.push({x:e,y:t,z:l});let b=(m+v)/2,y=(_+g)/2,E=(e,t)=>Math.abs(e-b)+Math.abs(t-y);return p.sort((e,t)=>E(e.x,e.y)-E(t.x,t.y)),p;}var l=(e,t,r,n=!0)=>{let a=Math.pow(2,r),i=e;return n&&(i<0?i+=a:i>a-1&&(i%=a)),{warpX:i,warpY:t};};},d2dd6937:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ce536f72")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d2f415ac:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe")._(r("5f0c8125")),a=r("0b461d77"),i=r("3e649c46"),o=function(e,t,r){void 0===r&&(r={});var o=(0,a.getGeom)(e),u=(0,a.getGeom)(t),l=n.default.union(o.coordinates,u.coordinates);return 0===l.length?null:1===l.length?(0,i.polygon)(l[0],r.properties):(0,i.multiPolygon)(l,r.properties);};},d30221de:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1c246a0b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d30c597c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return p;}});var n=r("777fffbe"),a=n._(r("bcf303a7")),i=n._(r("0e27f0c3")),o=n._(r("0f31f195")),u=n._(r("4ff59e0e")),l=n._(r("549c31e3")),f=n._(r("43292fcb")),s=r("f6c67a9e"),c=n._(r("184ce7b5")),d=Array.prototype.map,h=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function p(e){var t=void 0===e.grouping||void 0===e.thousands?c.default:(0,i.default)(d.call(e.grouping,Number),e.thousands+""),r=void 0===e.currency?"":e.currency[0]+"",n=void 0===e.currency?"":e.currency[1]+"",p=void 0===e.decimal?".":e.decimal+"",v=void 0===e.numerals?c.default:(0,o.default)(d.call(e.numerals,String)),_=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"-":e.minus+"",g=void 0===e.nan?"NaN":e.nan+"";function b(e){var a=(e=(0,u.default)(e)).fill,i=e.align,o=e.sign,c=e.symbol,d=e.zero,b=e.width,y=e.comma,E=e.precision,T=e.trim,A=e.type;"n"===A?(y=!0,A="g"):f.default[A]||(void 0===E&&(E=12),T=!0,A="g"),(d||"0"===a&&"="===i)&&(d=!0,a="0",i="=");var S="$"===c?r:"#"===c&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",O="$"===c?n:/[%p]/.test(A)?_:"",R=f.default[A],M=/[defgprs%]/.test(A);function x(e){var r,n,u,f=S,c=O;if("c"===A)c=R(e)+c,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?g:R(Math.abs(e),E),T&&(e=(0,l.default)(e)),_&&0==+e&&"+"!==o&&(_=!1),f=(_?"("===o?o:m:"-"===o||"("===o?"":o)+f,c=("s"===A?h[8+s.prefixExponent/3]:"")+c+(_&&"("===o?")":""),M){for(r=-1,n=e.length;++r<n;)if(48>(u=e.charCodeAt(r))||u>57){c=(46===u?p+e.slice(r+1):e.slice(r))+c,e=e.slice(0,r);break;}}}y&&!d&&(e=t(e,1/0));var x=f.length+e.length+c.length,C=x<b?Array(b-x+1).join(a):"";switch(y&&d&&(e=t(C+e,C.length?b-c.length:1/0),C=""),i){case"<":e=f+e+c+C;break;case"=":e=f+C+e+c;break;case"^":e=C.slice(0,x=C.length>>1)+f+e+c+C.slice(x);break;default:e=C+f+e+c;}return v(e);}return E=void 0===E?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E)),x.toString=function(){return e+"";},x;}return{format:b,formatPrefix:function(e,t){var r=b(((e=(0,u.default)(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor((0,a.default)(t)/3))),i=Math.pow(10,-n),o=h[8+n/3];return function(e){return r(i*e)+o;};}};}},d3371d71:function(e,t,r){"use strict";e.exports=function(e){var t=e.idGenerator,r=e.stateHandler.getState;return{get:function(e){var t=r(e);return t&&void 0!==t.id?t.id:null;},set:function(e){var n=r(e);if(!n)throw Error("setId required the element to have a resize detection state.");var a=t.generate();return n.id=a,a;}};};},d365c0f8:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return function e(t,r,i,o){function u(e){return t(e=0==arguments.length?new Date:new Date(+e)),e;}return u.floor=function(e){return t(e=new Date(+e)),e;},u.ceil=function(e){return t(e=new Date(e-1)),r(e,1),t(e),e;},u.round=function(e){var t=u(e),r=u.ceil(e);return e-t<r-e?t:r;},u.offset=function(e,t){return r(e=new Date(+e),null==t?1:Math.floor(t)),e;},u.range=function(e,n,a){var i,o=[];if(e=u.ceil(e),a=null==a?1:Math.floor(a),!(e<n)||!(a>0))return o;do o.push(i=new Date(+e)),r(e,a),t(e);while(i<e&&e<n)return o;},u.filter=function(n){return e(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1);},function(e,t){if(e>=e){if(t<0)for(;++t<=0;)for(;r(e,-1),!n(e););else for(;--t>=0;)for(;r(e,1),!n(e););}});},i&&(u.count=function(e,r){return n.setTime(+e),a.setTime(+r),t(n),t(a),Math.floor(i(n,a));},u.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?u.filter(o?function(t){return o(t)%e==0;}:function(t){return u.count(0,t)%e==0;}):u:null;}),u;};}});var n=new Date,a=new Date;},d36b3ce7:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{timeYear:function(){return a;},timeYears:function(){return i;},utcYear:function(){return o;},utcYears:function(){return u;}});var n=r("d7f30e4c");let a=(0,n.timeInterval)(e=>{e.setMonth(0,1),e.setHours(0,0,0,0);},(e,t)=>{e.setFullYear(e.getFullYear()+t);},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());a.every=e=>isFinite(e=Math.floor(e))&&e>0?(0,n.timeInterval)(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0);},(t,r)=>{t.setFullYear(t.getFullYear()+r*e);}):null;let i=a.range,o=(0,n.timeInterval)(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t);},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());o.every=e=>isFinite(e=Math.floor(e))&&e>0?(0,n.timeInterval)(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e);}):null;let u=o.range;},d36f6811:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("7f434d9f");class u{constructor(){(0,i.default)(this,"cameraService",void 0),(0,i.default)(this,"coordinateSystemService",void 0),(0,i.default)(this,"rendererService",void 0),(0,i.default)(this,"mapService",void 0),(0,i.default)(this,"layerService",void 0);}apply(e,{rendererService:t,mapService:r,layerService:n,coordinateSystemService:i,cameraService:o}){let u;this.rendererService=t,this.mapService=r,this.layerService=n,this.coordinateSystemService=i,this.cameraService=o,this.rendererService.uniformBuffers[0]||(u=this.rendererService.createBuffer({data:new Float32Array(96),isUBO:!0,label:"renderUniformBuffer"}),this.rendererService.uniformBuffers[0]=u),e.hooks.beforeRender.tap("ShaderUniformPlugin",()=>{let t=e.getRelativeOrigin&&e.getRelativeOrigin()||[0,0];this.coordinateSystemService.refresh(),t&&(Math.abs(t[0])>1e-4||Math.abs(t[1])>1e-4)&&2===this.coordinateSystemService.getCoordinateSystem()&&this.coordinateSystemService.setViewportCenter(t);let{width:r,height:n}=this.rendererService.getViewportSize(),{data:i,uniforms:o}=this.generateUBO(r,n,t);this.layerService.alreadyInRendering&&this.rendererService.uniformBuffers[0]&&this.rendererService.uniformBuffers[0].subData({offset:0,data:i}),"WebGL1"===this.rendererService.queryVerdorInfo()&&e.models.forEach(t=>{t.addUniforms((0,a.default)((0,a.default)({},o),{},{u_PickingBuffer:e.getLayerConfig().pickingBuffer||0,u_shaderPick:Number(e.getShaderPickStat())}));});});}generateUBO(e,t,r){let n=this.cameraService.getProjectionMatrix(),a=this.cameraService.getViewMatrix(),i=this.cameraService.getViewProjectionMatrix(),u=this.cameraService.getModelMatrix(),l=this.coordinateSystemService.getViewportCenterProjection(),f=this.coordinateSystemService.getPixelsPerDegree(),s=this.cameraService.getZoom(),c=this.coordinateSystemService.getPixelsPerDegree2(),d=this.cameraService.getZoomScale(),h=this.coordinateSystemService.getPixelsPerMeter(),p=this.coordinateSystemService.getCoordinateSystem(),v=this.cameraService.getCameraPosition(),_=window.devicePixelRatio,m=this.coordinateSystemService.getViewportCenter(),g=[e,t],b=this.cameraService.getFocalDistance(),y=r&&r.length>=2?[r[0],r[1]]:[0,0];return{data:[...a,...n,...i,...u,...l,...f,s,...c,d,...h,p,...v,_,...m,...g,b,...y,0],uniforms:{[o.CameraUniform.ProjectionMatrix]:n,[o.CameraUniform.ViewMatrix]:a,[o.CameraUniform.ViewProjectionMatrix]:i,[o.CameraUniform.Zoom]:s,[o.CameraUniform.ZoomScale]:d,[o.CameraUniform.FocalDistance]:b,[o.CameraUniform.CameraPosition]:v,[o.CoordinateUniform.CoordinateSystem]:p,[o.CoordinateUniform.ViewportCenter]:m,[o.CoordinateUniform.ViewportCenterProjection]:l,[o.CoordinateUniform.PixelsPerDegree]:f,[o.CoordinateUniform.PixelsPerDegree2]:c,[o.CoordinateUniform.PixelsPerMeter]:h,u_ViewportSize:g,u_ModelMatrix:u,u_DevicePixelRatio:_,u_RelativeOrigin:y}};}}},d373a74c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=n._(r("6c8aee75")),f=r("f9b12b3c");class s extends l.default{constructor(...e){super(...e),(0,o.default)(this,"texture",void 0);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,EXTRUSION_BASE:11});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){return this.getUniformsBufferInfo({});}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){let{frag:t,vert:r,type:n}=e.getShaders();return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:n,vertexShader:r,fragmentShader:t,defines:e.getDefines(),inject:e.getInject(),triangulation:f.PolygonExtrudeTriangulation,depth:{enable:!0}}))];})();}getShaders(){return{frag:'in vec4 v_Color;\n#pragma include "scene_uniforms"\n#pragma include "picking"\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_Color;\n  outputColor = filterColor(outputColor);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\n\nout vec4 v_Color;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size + (1.0 - a_Position.z) * extrusionBase, 1.0);\n\n  vec4 project_pos = project_position(pos, a_Position64Low);\n  float lightWeight = calc_lighting(project_pos);\n  v_Color = a_Color;\n  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',type:"polygonExtrude"};}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy();}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"normal",type:u.AttributeType.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:u.gl.STATIC_DRAW,data:[],type:u.gl.FLOAT},size:3,update:(e,t,r,n,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:u.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:1,update:e=>{let{size:t=10}=e;return Array.isArray(t)?[t[0]]:[t];}}}),this.styleAttributeService.registerStyleAttribute({name:"extrusionBase",type:u.AttributeType.Attribute,descriptor:{name:"a_ExtrusionBase",shaderLocation:this.attributeLocation.EXTRUSION_BASE,buffer:{usage:u.gl.STATIC_DRAW,data:[],type:u.gl.FLOAT},size:1,update:e=>{let{extrusionBase:t=0}=e;return[t];}}});}}},d383b231:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1;}function u(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var u=new o(r,n||e,i),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],u]:e._events[l].push(u):(e._events[l]=u,e._eventsCount++),e;}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t];}function f(){this._events=new i,this._eventsCount=0;}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1)),f.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r;},f.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o;},f.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0;},f.prototype.emit=function(e,t,r,n,i,o){var u=a?a+e:e;if(!this._events[u])return!1;var l,f,s=this._events[u],c=arguments.length;if(s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,r),!0;case 4:return s.fn.call(s.context,t,r,n),!0;case 5:return s.fn.call(s.context,t,r,n,i),!0;case 6:return s.fn.call(s.context,t,r,n,i,o),!0;}for(f=1,l=Array(c-1);f<c;f++)l[f-1]=arguments[f];s.fn.apply(s.context,l);}else{var d,h=s.length;for(f=0;f<h;f++)switch(s[f].once&&this.removeListener(e,s[f].fn,void 0,!0),c){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,t);break;case 3:s[f].fn.call(s[f].context,t,r);break;case 4:s[f].fn.call(s[f].context,t,r,n);break;default:if(!l)for(d=1,l=Array(c-1);d<c;d++)l[d-1]=arguments[d];s[f].fn.apply(s[f].context,l);}}return!0;},f.prototype.on=function(e,t,r){return u(this,e,t,r,!1);},f.prototype.once=function(e,t,r){return u(this,e,t,r,!0);},f.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,i);else{for(var u=0,f=[],s=o.length;u<s;u++)(o[u].fn!==t||n&&!o[u].once||r&&o[u].context!==r)&&f.push(o[u]);f.length?this._events[i]=1===f.length?f[0]:f:l(this,i);}return this;},f.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this;},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=a,f.EventEmitter=f,void 0!==e&&(e.exports=f);},d38b445d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d380345b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d4ea4aa1:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1fb23fcc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d5036221:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3a054b56")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d51d23df:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e118fec3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d56d885f:function(e,t,r){"use strict";function n(e){return!!("undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext)||!!(e&&2===e._version);}r.d(t,"__esModule",{value:!0}),r.d(t,"isWebGL2",{enumerable:!0,get:function(){return n;}});},d6008852:function(e,t,r){"use strict";function n(e){return function(){return e;};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},d652ac74:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dd01c285")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d65a0aef:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0991a7e1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d6820598:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("574d5ddb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d68c79c0:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cf4a7bd1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d6e852a3:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4899c9ef")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d6ff4ead:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return i;}});var n=r("777fffbe")._(r("e1e610e4")),a=r("49f29790");class i{constructor(){(0,n.default)(this,"viewport",void 0),(0,n.default)(this,"overridedViewProjectionMatrix",void 0),(0,n.default)(this,"viewMatrixInverse",void 0),(0,n.default)(this,"cameraPosition",void 0);}init(){}update(e){this.viewport=e,this.viewMatrixInverse=a.mat4.create(),a.mat4.invert(this.viewMatrixInverse,e.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]];}getProjectionMatrix(){return this.viewport.getProjectionMatrix();}getModelMatrix(){return this.viewport.getModelMatrix();}getViewMatrix(){return this.viewport.getViewMatrix();}getViewMatrixUncentered(){return this.viewport.getViewMatrixUncentered();}getViewProjectionMatrixUncentered(){return this.viewport.getViewProjectionMatrixUncentered();}getViewProjectionMatrix(){return this.overridedViewProjectionMatrix||this.viewport.getViewProjectionMatrix();}getZoom(){return this.viewport.getZoom();}getZoomScale(){return this.viewport.getZoomScale();}getCenter(){let[e,t]=this.viewport.getCenter();return[e,t];}getFocalDistance(){return this.viewport.getFocalDistance();}getCameraPosition(){return this.cameraPosition;}projectFlat(e,t){return this.viewport.projectFlat(e,t);}setViewProjectionMatrix(e){this.overridedViewProjectionMatrix=e;}}},d7003b6e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9ca12523")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d7266d9b:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{Popup:function(){return f;},default:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("89217383"),u=r("8174e190"),l=r("be6cb12a");class f extends u.EventEmitter{get lngLat(){var e;return null!==(e=this.popupOption.lngLat)&&void 0!==e?e:{lng:0,lat:0};}set lngLat(e){this.popupOption.lngLat=e;}constructor(e){super(),(0,i.default)(this,"popupOption",void 0),(0,i.default)(this,"mapsService",void 0),(0,i.default)(this,"sceneService",void 0),(0,i.default)(this,"layerService",void 0),(0,i.default)(this,"scene",void 0),(0,i.default)(this,"closeButton",void 0),(0,i.default)(this,"container",void 0),(0,i.default)(this,"content",void 0),(0,i.default)(this,"contentTitle",void 0),(0,i.default)(this,"contentPanel",void 0),(0,i.default)(this,"tip",void 0),(0,i.default)(this,"isShow",!0),(0,i.default)(this,"onMouseMove",e=>{var t;let r=this.mapsService.getMapContainer(),{left:n=0,top:a=0}=null!==(t=null==r?void 0:r.getBoundingClientRect())&&void 0!==t?t:{};this.setPopupPosition(e.clientX-n,e.clientY-a);}),(0,i.default)(this,"updateLngLatPosition",()=>{if(!this.mapsService||this.popupOption.followCursor)return;let{lng:e,lat:t}=this.lngLat,{x:r,y:n}=this.mapsService.lngLatToContainer([e,t]);this.setPopupPosition(r,n);}),(0,i.default)(this,"updateLngLatPositionWhenZoom",e=>{if(!this.mapsService||this.popupOption.followCursor)return;let t=e.map,r=t.getSize();r.x=r.x/2,r.y=r.y/2;let n=e.center,a=e.zoom,i=t.DE(this.lngLat,a,n);i.x=Math.round(i.x),i.y=Math.round(i.y),this.setPopupPosition(i.x,i.y,!0);}),(0,i.default)(this,"onKeyDown",e=>{27===e.keyCode&&this.remove();}),(0,i.default)(this,"onCloseButtonClick",e=>{e.stopPropagation&&e.stopPropagation(),this.hide();}),(0,i.default)(this,"updatePosition",(e,t=!0)=>{let r=!!this.lngLat,{className:n,style:a,maxWidth:i,anchor:u,stopPropagation:l}=this.popupOption;if(!this.mapsService||!r||!this.content)return;let f=this.mapsService.getMarkerContainer();if(!this.container&&f&&(this.container=o.DOM.create("div",`l7-popup ${null!=n?n:""} ${this.isShow?"":"l7-popup-hide"}`,f),a&&this.container.setAttribute("style",a),this.tip=o.DOM.create("div","l7-popup-tip",this.container),this.container.appendChild(this.content),l&&["mousemove","mousedown","mouseup","click","dblclick"].forEach(e=>{this.container.addEventListener(e,e=>{e.stopPropagation();});}),this.container.style.whiteSpace="nowrap"),t?this.updateLngLatPositionWhenZoom(e):this.updateLngLatPosition(),o.DOM.setTransform(this.container,`${o.anchorTranslate[u]}`),(0,o.applyAnchorClass)(this.container,u,"popup"),i){let{width:e}=this.container.getBoundingClientRect();e>parseFloat(i)&&(this.container.style.width=i);}else this.container.style.removeProperty("width");}),(0,i.default)(this,"updateWhenZoom",e=>{this.updatePosition(e,!0);}),(0,i.default)(this,"update",()=>{this.updatePosition(null,!1);}),this.popupOption=(0,a.default)((0,a.default)({},this.getDefault(null!=e?e:{})),e);let{lngLat:t}=this.popupOption;t&&(this.lngLat=t);}getIsShow(){return this.isShow;}addTo(e){this.mapsService=e.mapService,this.sceneService=e.sceneService,this.layerService=e.layerService,this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.scene=e,this.update(),this.updateCloseOnClick(),this.updateCloseOnEsc(),this.updateFollowCursor();let{html:t,text:r,title:n}=this.popupOption;return t?this.setHTML(t):r&&this.setText(r),n&&this.setTitle(n),this.emit("open"),this;}remove(){if(this!==null&&void 0!==this&&this.isOpen())return this.content&&o.DOM.remove(this.content),this.container&&(o.DOM.remove(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.updateCloseOnClick(!0),this.updateCloseOnEsc(!0),this.updateFollowCursor(!0),delete this.mapsService),this.emit("close"),this;}getOptions(){return this.popupOption;}setOptions(e){var t,r;this.show();let{className:n}=this.popupOption;return this.popupOption=(0,a.default)((0,a.default)({},this.popupOption),e),this.checkUpdateOption(e,["html","text","title","closeButton","closeButtonOffsets","maxWidth","anchor","stopPropagation","lngLat","offsets"])&&(this.container&&(o.DOM.remove(this.container),this.container=void 0),this.popupOption.html?this.setHTML(this.popupOption.html):this.popupOption.text&&this.setText(this.popupOption.text),this.popupOption.title&&this.setTitle(this.popupOption.title)),this.checkUpdateOption(e,["closeOnEsc"])&&this.updateCloseOnEsc(),this.checkUpdateOption(e,["closeOnClick"])&&this.updateCloseOnClick(),this.checkUpdateOption(e,["followCursor"])&&this.updateFollowCursor(),this.checkUpdateOption(e,["html"])&&e.html?this.setHTML(e.html):this.checkUpdateOption(e,["text"])&&e.text&&this.setText(e.text),this.checkUpdateOption(e,["className"])&&(n&&this.container.classList.remove(null!=n?n:""),this.container.classList.add(null!==(t=e.className)&&void 0!==t?t:"")),this.checkUpdateOption(e,["style"])&&o.DOM.addStyle(this.container,null!==(r=e.style)&&void 0!==r?r:""),this.checkUpdateOption(e,["lngLat"])&&e.lngLat&&this.setLnglat(e.lngLat),this;}open(){return this.addTo(this.scene),this;}close(){return this.remove(),this;}show(){if(!this.isShow)return this.container&&o.DOM.removeClass(this.container,"l7-popup-hide"),this.isShow=!0,this.emit("show"),this;}hide(){if(this.isShow)return this.container&&o.DOM.addClass(this.container,"l7-popup-hide"),this.isShow=!1,this.emit("hide"),this;}setHTML(e){return this.popupOption.html=e,this.setDOMContent(e);}setText(e){return this.popupOption.text=e,this.setDOMContent(window.document.createTextNode(e));}setTitle(e){this.show(),this.popupOption.title=e,e?(this.contentTitle||(this.contentTitle=o.DOM.create("div","l7-popup-content__title"),this.content.firstChild?this.content.insertBefore(this.contentTitle,this.content.firstChild):this.content.append(this.contentTitle)),o.DOM.clearChildren(this.contentTitle),o.DOM.appendElementType(this.contentTitle,e)):this.contentTitle&&(o.DOM.remove(this.contentTitle),this.contentTitle=void 0);}panToPopup(){let{lng:e,lat:t}=this.lngLat;return this.popupOption.autoPan&&this.mapsService.panTo([e,t]),this;}setLngLat(e){return this.setLnglat(e);}setLnglat(e){return this.show(),this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.update(),this.popupOption.autoPan&&setTimeout(()=>{this.panToPopup();},0),this;}getLnglat(){return this.lngLat;}setMaxWidth(e){return this.popupOption.maxWidth=e,this.update(),this;}isOpen(){return!!this.mapsService;}getDefault(e){return{closeButton:!0,closeOnClick:!1,maxWidth:"240px",offsets:[0,0],anchor:o.anchorType.BOTTOM,stopPropagation:!0,autoPan:!1,autoClose:!0,closeOnEsc:!1,followCursor:!1};}setDOMContent(e){return this.show(),this.createContent(),o.DOM.appendElementType(this.contentPanel,e),this.update(),this;}updateCloseOnClick(e){let t=this.mapsService;t&&(null==t||t.off("click",this.onCloseButtonClick),this.popupOption.closeOnClick&&!e&&requestAnimationFrame(()=>{null==t||t.on("click",this.onCloseButtonClick);}));}updateCloseOnEsc(e){window.removeEventListener("keydown",this.onKeyDown),this.popupOption.closeOnEsc&&!e&&window.addEventListener("keydown",this.onKeyDown);}updateFollowCursor(e){var t;let r=null===(t=this.mapsService)||void 0===t?void 0:t.getContainer();r&&(null==r||r.removeEventListener("mousemove",this.onMouseMove),this.popupOption.followCursor&&!e&&(null==r||r.addEventListener("mousemove",this.onMouseMove)));}createContent(){if(this.content&&o.DOM.remove(this.content),this.contentTitle=void 0,this.content=o.DOM.create("div","l7-popup-content",this.container),this.setTitle(this.popupOption.title),this.popupOption.closeButton){let e=(0,l.createL7Icon)("l7-icon-guanbi");o.DOM.addClass(e,"l7-popup-close-button"),this.content.appendChild(e),this.popupOption.closeButtonOffsets&&(e.style.right=this.popupOption.closeButtonOffsets[0]+"px",e.style.top=this.popupOption.closeButtonOffsets[1]+"px"),e.setAttribute("aria-label","Close popup"),e.addEventListener("click",()=>{this.hide();}),e.addEventListener("pointerup",e=>{e.stopPropagation();}),e.addEventListener("pointerdown",e=>{e.stopPropagation();}),this.closeButton=e;}else this.closeButton=void 0;this.contentPanel=o.DOM.create("div","l7-popup-content__panel",this.content);}setPopupPosition(e,t,r=!1){if(this.container){let{offsets:n}=this.popupOption;this.container.style.left=e+n[0]+"px",this.container.style.top=t-n[1]+"px",r?this.container.style.transition="left 0.25s cubic-bezier(0,0,0.25,1), top 0.25s cubic-bezier(0,0,0.25,1)":this.container.style.transition="";}}checkUpdateOption(e,t){return t.some(t=>t in e);}}},d72ca9c3:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("da391b47")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d75f960c:function(e,t,r){"use strict";function n(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r;};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},d76d8f6e:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=r("7f434d9f"),u=n._(r("6c8aee75")),l=r("f9b12b3c");class f extends u.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,POS:9});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{opacity:e,coverage:t,angle:r}=this.layer.getLayerConfig(),n={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:t||.9,u_angle:r||0};return this.getUniformsBufferInfo(n);}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"heatmapGrid",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location =  ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\n\nlayout(std140) uniform commonUniforms {\n    vec2 u_radius;\n    float u_opacity;\n    float u_coverage;\n    float u_angle;\n};\n\nout vec4 v_color;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nvoid main() {\n  v_color = a_Color;\n  v_color.a *= u_opacity;\n\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage;\n\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\n  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\n  gl_Position = project_common_position_to_clipspace(project_pos);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'in vec4 v_color;\n\n#pragma include "scene_uniforms"\n#pragma include "picking"\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_color;\n  outputColor = filterColor(outputColor);\n}\n',defines:e.getDefines(),triangulation:l.HeatmapGridTriangulation,primitive:o.gl.TRIANGLES,depth:{enable:!1}}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:o.AttributeType.Attribute,descriptor:{shaderLocation:this.attributeLocation.POS,name:"a_Pos",buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:e=>{let t=e.coordinates;return[t[0],t[1],0];}}});}}},d77d9150:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("e1e610e4")),u=n._(r("07a31cab")),l=r("717ed89c");class f extends u.default{constructor(...e){super(...e),(0,o.default)(this,"type","CanvasLayer");}getDefaultConfig(){return{zIndex:3,contextType:"canvas2d",trigger:"change"};}buildModels(){var e=this;return(0,i.default)(function*(){e.layerModel=new l.CanvasModel(e),yield e.initLayerModels();})();}getModelType(){return this.getLayerConfig().contextType||"canvas2d";}draw(e){return this.updateLayerConfig({draw:e}),this.render(),this;}getLayerConfig(){let e=(0,a.default)((0,a.default)({},this.getDefaultConfig()),super.getLayerConfig());return e.zIndex<3&&(e.zIndex=3),e;}render(){var e;return null===(e=this.layerModel)||void 0===e||e.renderCanvas(),this;}getCanvas(){var e;return null===(e=this.layerModel)||void 0===e?void 0:e.canvas;}show(){let e=this.getCanvas();return e&&(e.style.display="unset"),this;}hide(){let e=this.getCanvas();return e&&(e.style.display="none"),this;}destroy(){this.layerModel.removeCanvas(),super.destroy();}}},d78ada93:function(e,t,r){"use strict";function n(e,t){if(e.transformed)return e;var r,n,i,o=1<<e.z,u=e.x,l=e.y;for(r=0;r<e.features.length;r++){var f=e.features[r],s=f.geometry,c=f.type;if(f.geometry=[],1===c)for(n=0;n<s.length;n+=2)f.geometry.push(a(s[n],s[n+1],t,o,u,l));else for(n=0;n<s.length;n++){var d=[];for(i=0;i<s[n].length;i+=2)d.push(a(s[n][i],s[n][i+1],t,o,u,l));f.geometry.push(d);}}return e.transformed=!0,e;}function a(e,t,r,n,a,i){return[Math.round(r*(e*n-a)),Math.round(r*(t*n-i))];}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},d792409e:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{DeviceRendererService:function(){return a.default;},ReglRendererService:function(){return i.default;}});var n=r("777fffbe"),a=n._(r("1d8fed69")),i=n._(r("3d60c9b6"));},d79e0bb7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fc15e700")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d7aacd81:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f2fe0972")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d7bf6e9a:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("f023103d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d7e5f3ff:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("89217383"),u=r("8174e190"),l=n._(r("f79679ff")),f=n._(r("cdafb502"));let{merge:s}=o.lodashUtil;class c extends u.EventEmitter{constructor(e){var t;super(),(0,i.default)(this,"markers",[]),(0,i.default)(this,"markerLayerOption",void 0),(0,i.default)(this,"clusterIndex",void 0),(0,i.default)(this,"points",[]),(0,i.default)(this,"clusterMarkers",[]),(0,i.default)(this,"mapsService",void 0),(0,i.default)(this,"scene",void 0),(0,i.default)(this,"zoom",void 0),(0,i.default)(this,"bbox",void 0),(0,i.default)(this,"inited",void 0),(0,i.default)(this,"containerSize",void 0),this.markerLayerOption=s(this.getDefault(),e),(0,o.bindAll)(["update"],this),this.zoom=(null===(t=this.markerLayerOption.clusterOption)||void 0===t?void 0:t.zoom)||-99;}getDefault(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}};}addTo(e){return this.scene=e,this.mapsService=e.mapService,this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.mapsService.on("camerachange",this.setContainerSize.bind(this)),this.mapsService.on("viewchange",this.setContainerSize.bind(this)),this.addMarkers(),this.inited=!0,this;}setContainerSize(){if(!this.mapsService)return;let e=this.mapsService.getContainer();this.containerSize={containerWidth:(null==e?void 0:e.scrollWidth)||0,containerHeight:(null==e?void 0:e.scrollHeight)||0,bounds:this.mapsService.getBounds()};}getContainerSize(){return this.containerSize;}addMarker(e){let t=this.markerLayerOption.cluster;if(e.getMarkerLayerContainerSize=this.getContainerSize.bind(this),t&&(this.addPoint(e,this.markers.length),this.mapsService)){let e=this.mapsService.getZoom(),t=this.mapsService.getBounds();this.bbox=(0,o.padBounds)(t,.5),this.zoom=Math.floor(e),this.getClusterMarker(this.bbox,this.zoom);}this.markers.push(e);}removeMarker(e){this.markers.indexOf(e);let t=this.markers.indexOf(e);t>-1&&(this.markers.splice(t,1),this.markerLayerOption.cluster&&(this.removePoint(t),this.mapsService&&this.getClusterMarker(this.bbox,this.zoom)));}hide(){this.markers.map(e=>{e.getElement().style.opacity="0";}),this.clusterMarkers.map(e=>{e.getElement().style.opacity="0";});}show(){this.markers.map(e=>{e.getElement().style.opacity="1";}),this.clusterMarkers.map(e=>{e.getElement().style.opacity="1";});}getMarkers(){return this.markerLayerOption.cluster?this.clusterMarkers:this.markers;}getOriginMarkers(){return this.markers;}addMarkers(){this.getMarkers().forEach(e=>{e.addTo(this.scene);});}clear(){this.markers.forEach(e=>{e.remove();}),this.clusterMarkers.forEach(e=>{e.remove();}),this.markers=[],this.points=[],this.clusterMarkers=[];}destroy(){this.clear(),this.removeAllListeners(),this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.off("camerachange",this.setContainerSize.bind(this)),this.mapsService.off("viewchange",this.setContainerSize.bind(this));}addPoint(e,t){let{lng:r,lat:n}=e.getLnglat(),i={geometry:{type:"Point",coordinates:[r,n]},properties:(0,a.default)((0,a.default)({},e.getExtData()),{},{marker_id:t})};this.points.push(i),this.clusterIndex&&this.clusterIndex.load(this.points);}removePoint(e){let t=this.points.findIndex(t=>t.properties.marker_id===e);t>-1&&this.points.splice(t,1),this.clusterIndex&&this.clusterIndex.load(this.points);}initCluster(){if(!this.markerLayerOption.cluster)return;let{radius:e,minZoom:t=0,maxZoom:r}=this.markerLayerOption.clusterOption;this.clusterIndex=new l.default({radius:e,minZoom:t,maxZoom:r}),this.clusterIndex.load(this.points);}getClusterMarker(e,t){let r=e[0].concat(e[1]),n=this.clusterIndex.getClusters(r,t);this.clusterMarkers.forEach(e=>{e.remove();}),this.clusterMarkers=[],n.forEach(e=>{var t,r;let{field:n,method:a}=this.markerLayerOption.clusterOption;if(null!==(t=e.properties)&&void 0!==t&&t.cluster_id){let t=this.getLeaves(null===(r=e.properties)||void 0===r?void 0:r.cluster_id);if(e.properties.clusterData=t,n&&a){let r=null==t?void 0:t.map(e=>({[n]:e.properties[n]})),i=o.Satistics.getColumn(r,n),u=o.Satistics.getSatByColumn(a,i),l="point_"+a;e.properties[l]=u.toFixed(2);}}let i=this.clusterMarker(e);this.clusterMarkers.push(i),i.addTo(this.scene);});}getLeaves(e,t=1/0,r=0){return e?this.clusterIndex.getLeaves(e,t,r):null;}clusterMarker(e){let{element:t=this.generateElement.bind(this)}=this.markerLayerOption.clusterOption;return new f.default({element:t(e)}).setLnglat({lng:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]});}normalMarker(e){let t=e.properties.marker_id;return this.markers[t];}update(){if(!this.mapsService||0===this.markers.length)return;let e=this.mapsService.getZoom(),t=this.mapsService.getBounds();(!this.bbox||Math.abs(e-this.zoom)>=1||!(0,o.boundsContains)(this.bbox,t))&&(this.bbox=(0,o.padBounds)(t,.5),this.zoom=Math.floor(e),this.getClusterMarker(this.bbox,this.zoom));}generateElement(e){let t=o.DOM.create("div","l7-marker-cluster"),r=o.DOM.create("div","",t),n=o.DOM.create("span","",r),{field:a,method:i}=this.markerLayerOption.clusterOption;e.properties.point_count=e.properties.point_count||1;let u=a&&i?e.properties["point_"+i]||e.properties[a]:e.properties.point_count;return n.textContent=u,t;}}},d7e8e3ca:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=r("7f434d9f"),u=n._(r("6c8aee75")),l=r("f9b12b3c");class f extends u.default{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,POS:10,NORMAL:11});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{opacity:e,coverage:t,angle:r}=this.layer.getLayerConfig(),n={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:t||.9,u_angle:r||0};return this.getUniformsBufferInfo(n);}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"heatmapGrid3d",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_radius;\n  float u_opacity;\n  float u_coverage;\n  float u_angle;\n};\n\nout vec4 v_color;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);\n\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u5B9E\u9645\u7684\u7ECF\u7EAC\u5EA6\n  vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n\n  float lightWeight = calc_lighting(project_pos);\n  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  gl_Position = project_common_position_to_clipspace(project_pos);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'in vec4 v_color;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_radius;\n  float u_opacity;\n  float u_coverage;\n  float u_angle;\n};\n\n#pragma include "scene_uniforms"\n#pragma include "picking"\n\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_color;\n  outputColor = filterColor(outputColor);\n}\n',defines:e.getDefines(),triangulation:l.PointExtrudeTriangulation,primitive:o.gl.TRIANGLES,depth:{enable:!0}}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:o.AttributeType.Attribute,descriptor:{shaderLocation:this.attributeLocation.SIZE,name:"a_Size",buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:1,update:e=>{let{size:t}=e;return Array.isArray(t)?[t[0]]:[t];}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:o.AttributeType.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:(e,t,r,n,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:o.AttributeType.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:e=>{let t=e.coordinates;return[t[0],t[1],0];}}});}}},d7f30e4c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"timeInterval",{enumerable:!0,get:function(){return function e(t,r,i,o){function u(e){return t(e=0==arguments.length?new Date:new Date(+e)),e;}return u.floor=e=>(t(e=new Date(+e)),e),u.ceil=e=>(t(e=new Date(e-1)),r(e,1),t(e),e),u.round=e=>{let t=u(e),r=u.ceil(e);return e-t<r-e?t:r;},u.offset=(e,t)=>(r(e=new Date(+e),null==t?1:Math.floor(t)),e),u.range=(e,n,a)=>{let i;let o=[];if(e=u.ceil(e),a=null==a?1:Math.floor(a),!(e<n)||!(a>0))return o;do o.push(i=new Date(+e)),r(e,a),t(e);while(i<e&&e<n)return o;},u.filter=n=>e(e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1);},(e,t)=>{if(e>=e){if(t<0)for(;++t<=0;)for(;r(e,-1),!n(e););else for(;--t>=0;)for(;r(e,1),!n(e););}}),i&&(u.count=(e,r)=>(n.setTime(+e),a.setTime(+r),t(n),t(a),Math.floor(i(n,a))),u.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?u.filter(o?t=>o(t)%e==0:t=>u.count(0,t)%e==0):u:null),u;};}});let n=new Date,a=new Date;},d800620f:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("42f7077b"),a=r("7f434d9f"),i=r("edce773c"),o=r("9fd1781f"),u=class{constructor(e,t){let r;let{data:u,type:l,count:f=0}=t;r=(0,o.isTypedArray)(u)?u:new i.typedArrayCtorMap[this.type||a.gl.UNSIGNED_INT](u),this.type=l,this.count=f,this.indexBuffer=e.createBuffer({viewOrSize:r,usage:n.BufferUsage.INDEX});}get(){return this.indexBuffer;}subData({data:e}){let t;t=(0,o.isTypedArray)(e)?e:new i.typedArrayCtorMap[this.type||a.gl.UNSIGNED_INT](e),this.indexBuffer.setSubData(0,new Uint8Array(t.buffer));}destroy(){this.indexBuffer.destroy();}};},d85260bd:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d135e54f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d86432b3:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{ArrowLineTriangulation:function(){return u;},FlowHalfArrowFillTriangulation:function(){return i;},FlowLineTriangulation:function(){return o;}});var n=r("777fffbe")._(r("b9fd3c65")),a=r("754d0a8c");function i(e){let t=e.coordinates.flat();return{vertices:[1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t,1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t],normals:[-1,2,1,2,-1,1,1,-1,1,1,-1,1,-1,-1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],indices:[0,1,2,0,2,3,0,3,4,5,6,7,5,7,8,5,8,9],size:7};}function o(e,t){return t?u(e,t):i(e);}function u(e,t){let r=e.coordinates.flat(),{target:n="classic",source:i="circle"}=t,o=l((0,a.getSymbol)(i,"source"),r,0,0),u=(0,a.lineArrowPath)(r,o.vertices.length/7,t),f=l((0,a.getSymbol)(n,"target"),r,1,o.vertices.length/7+u.vertices.length/7);return{vertices:[...o.vertices,...u.vertices,...f.vertices],indices:[...o.outLineIndices,...u.outLineIndices,...f.outLineIndices,...o.indices,...u.indices,...f.indices],normals:[...o.normals,...u.normals,...f.normals],size:7};}function l(e,t,r=1,a=0){let i=[],{vertices:o,indices:u,dimensions:f,outLineIndices:s}=e;for(let e=0;e<o.length;e+=f)i.push(r,o[e+1],o[e],...t);return(0,n.default)((0,n.default)({},e),{},{vertices:i,indices:u.map(e=>e+a),outLineIndices:s.map(e=>e+a)});}},d875d83c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{millisecond:function(){return a;},milliseconds:function(){return i;}});var n=r("d7f30e4c");let a=(0,n.timeInterval)(()=>{},(e,t)=>{e.setTime(+e+t);},(e,t)=>t-e);a.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?(0,n.timeInterval)(t=>{t.setTime(Math.floor(t/e)*e);},(t,r)=>{t.setTime(+t+r*e);},(t,r)=>(r-t)/e):a:null;let i=a.range;},d8d542bb:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a9ef63e2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d8f3f25c:function(e,t,r){"use strict";function n(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=r,this.p2y=n;}e.exports=n,n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e;},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e;},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx;},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var r=e,n=0;n<8;n++){var a=this.sampleCurveX(r)-e;if(Math.abs(a)<t)return r;var i=this.sampleCurveDerivativeX(r);if(1e-6>Math.abs(i))break;r-=a/i;}var o=0,u=1;for(n=0,r=e;n<20&&!(Math.abs((a=this.sampleCurveX(r))-e)<t);n++)e>a?o=r:u=r,r=(u-o)*.5+o;return r;},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t));}};},d8f8c848:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"hexbin",{enumerable:!0,get:function(){return n.default;}});var n=r("777fffbe")._(r("474ef463"));},d8fd1cb6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("bf24db11")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d9126bee:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("39f0dadd")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d959e41e:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return T;}});var n=r("777fffbe"),a=r("42f7077b"),i=r("7f434d9f"),o=r("89217383"),u=n._(r("3c7c5152")),l=n._(r("64c7acbf")),f=r("edce773c"),s=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&_(e,r,t[r]);if(h)for(var r of h(t))v.call(t,r)&&_(e,r,t[r]);return e;},g=(e,t)=>c(e,d(t)),{isPlainObject:b,isTypedArray:y,isNil:E}=o.lodashUtil,T=class{constructor(e,t,r){this.device=e,this.options=t,this.service=r,this.destroyed=!1,this.uniforms={},this.vertexBuffers=[];let{vs:n,fs:i,attributes:o,uniforms:u,count:l,elements:s,diagnosticDerivativeUniformityEnabled:c}=t;this.options=t;let d=c?"":this.service.viewportOrigin===a.ViewportOrigin.UPPER_LEFT?"diagnostic(off,derivative_uniformity);":"";this.program=r.renderCache.createProgram({vertex:{glsl:n},fragment:{glsl:i,postprocess:e=>d+e}}),u&&(this.uniforms=this.extractUniforms(u));let h=[],p=0;Object.keys(o).forEach(e=>{let t=o[e],r=t.get();this.vertexBuffers.push(r.get());let{offset:n=0,stride:i=0,size:u=1,divisor:l=0,shaderLocation:s=0}=t.attribute;h.push({arrayStride:i||4*u,stepMode:a.VertexStepMode.VERTEX,attributes:[{format:f.sizeFormatMap[u],shaderLocation:s,offset:n,divisor:l}]}),p=r.size/u;}),l||(this.options.count=p),s&&(this.indexBuffer=s.get());let v=r.renderCache.createInputLayout({vertexBufferDescriptors:h,indexBufferFormat:s?a.Format.U32_R:null,program:this.program});this.inputLayout=v,this.pipeline=this.createPipeline(t);}createPipeline(e,t){var r;let{primitive:n=i.gl.TRIANGLES,depth:o,cull:u,blend:l,stencil:s}=e,c=this.initDepthDrawParams({depth:o}),d=!!(c&&c.enable),h=this.initCullDrawParams({cull:u}),p=!!(h&&h.enable),v=this.getBlendDrawParams({blend:l}),_=!!(v&&v.enable),m=this.getStencilDrawParams({stencil:s}),g=!!(m&&m.enable),b=this.device.createRenderPipeline({inputLayout:this.inputLayout,program:this.program,topology:f.primitiveMap[n],colorAttachmentFormats:[a.Format.U8_RGBA_RT],depthStencilAttachmentFormat:a.Format.D24_S8,megaStateDescriptor:{attachmentsState:[t?{channelWriteMask:a.ChannelWriteMask.ALL,rgbBlendState:{blendMode:a.BlendMode.ADD,blendSrcFactor:a.BlendFactor.ONE,blendDstFactor:a.BlendFactor.ZERO},alphaBlendState:{blendMode:a.BlendMode.ADD,blendSrcFactor:a.BlendFactor.ONE,blendDstFactor:a.BlendFactor.ZERO}}:{channelWriteMask:g&&m.opFront.zpass===a.StencilOp.REPLACE?a.ChannelWriteMask.NONE:a.ChannelWriteMask.ALL,rgbBlendState:{blendMode:_&&v.equation.rgb||a.BlendMode.ADD,blendSrcFactor:_&&v.func.srcRGB||a.BlendFactor.SRC_ALPHA,blendDstFactor:_&&v.func.dstRGB||a.BlendFactor.ONE_MINUS_SRC_ALPHA},alphaBlendState:{blendMode:_&&v.equation.alpha||a.BlendMode.ADD,blendSrcFactor:_&&v.func.srcAlpha||a.BlendFactor.ONE,blendDstFactor:_&&v.func.dstAlpha||a.BlendFactor.ONE}}],blendConstant:_?a.TransparentBlack:void 0,depthWrite:d,depthCompare:d&&c.func||a.CompareFunction.LESS,cullMode:p&&h.face||a.CullMode.NONE,stencilWrite:g,stencilFront:{compare:g?m.func.cmp:a.CompareFunction.ALWAYS,passOp:m.opFront.zpass,failOp:m.opFront.fail,depthFailOp:m.opFront.zfail,mask:m.opFront.mask},stencilBack:{compare:g?m.func.cmp:a.CompareFunction.ALWAYS,passOp:m.opBack.zpass,failOp:m.opBack.fail,depthFailOp:m.opBack.zfail,mask:m.opBack.mask}}});return g&&!E(null==(r=null==s?void 0:s.func)?void 0:r.ref)&&(b.stencilFuncReference=s.func.ref),b;}updateAttributesAndElements(){}updateAttributes(){}addUniforms(e){this.uniforms=m(m({},this.uniforms),this.extractUniforms(e));}draw(e,t){let r=m(m({},this.options),e),{count:n=0,instances:a,elements:i,uniforms:o={},uniformBuffers:f,textures:s}=r;this.uniforms=m(m({},this.uniforms),this.extractUniforms(o));let{renderPass:c,currentFramebuffer:d,width:h,height:p}=this.service;this.pipeline=this.createPipeline(r,t);let v=this.service.device,_=v.swapChainHeight;if(v.swapChainHeight=(null==d?void 0:d.height)||p,c.setViewport(0,0,(null==d?void 0:d.width)||h,(null==d?void 0:d.height)||p),v.swapChainHeight=_,c.setPipeline(this.pipeline),E(this.pipeline.stencilFuncReference)||c.setStencilReference(this.pipeline.stencilFuncReference),c.setVertexInput(this.inputLayout,this.vertexBuffers.map(e=>({buffer:e})),i?{buffer:this.indexBuffer,offset:0}:null),f&&(this.bindings=v.createBindings({pipeline:this.pipeline,uniformBufferBindings:f.map((e,t)=>({binding:t,buffer:e.get(),size:e.size})),samplerBindings:null==s?void 0:s.map(e=>({texture:e.texture,sampler:e.sampler}))})),this.bindings&&(c.setBindings(this.bindings),Object.keys(this.uniforms).forEach(e=>{let t=this.uniforms[e];t instanceof l.default?this.uniforms[e]=t.get():t instanceof u.default&&(this.uniforms[e]=t.get().texture);}),this.program.setUniformsLegacy(this.uniforms)),i){let e=i.count;0===e?c.draw(n,a):c.drawIndexed(e,a);}else c.draw(n,a);}destroy(){var e,t,r;null==(e=this.vertexBuffers)||e.forEach(e=>e.destroy()),null==(t=this.indexBuffer)||t.destroy(),null==(r=this.bindings)||r.destroy(),this.pipeline.destroy(),this.destroyed=!0;}initDepthDrawParams({depth:e}){if(e)return{enable:void 0===e.enable||!!e.enable,mask:void 0===e.mask||!!e.mask,func:f.depthFuncMap[e.func||i.gl.LESS],range:e.range||[0,1]};}getBlendDrawParams({blend:e}){let{enable:t,func:r,equation:n,color:a=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:f.blendFuncMap[r&&r.srcRGB||i.gl.SRC_ALPHA],srcAlpha:f.blendFuncMap[r&&r.srcAlpha||i.gl.SRC_ALPHA],dstRGB:f.blendFuncMap[r&&r.dstRGB||i.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:f.blendFuncMap[r&&r.dstAlpha||i.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:f.blendEquationMap[n&&n.rgb||i.gl.FUNC_ADD],alpha:f.blendEquationMap[n&&n.alpha||i.gl.FUNC_ADD]},color:a};}getStencilDrawParams({stencil:e}){let{enable:t,mask:r=4294967295,func:n={cmp:i.gl.ALWAYS,ref:0,mask:4294967295},opFront:a={fail:i.gl.KEEP,zfail:i.gl.KEEP,zpass:i.gl.KEEP},opBack:o={fail:i.gl.KEEP,zfail:i.gl.KEEP,zpass:i.gl.KEEP}}=e||{};return{enable:!!t,mask:r,func:g(m({},n),{cmp:f.stencilFuncMap[n.cmp]}),opFront:{fail:f.stencilOpMap[a.fail],zfail:f.stencilOpMap[a.zfail],zpass:f.stencilOpMap[a.zpass],mask:n.mask},opBack:{fail:f.stencilOpMap[o.fail],zfail:f.stencilOpMap[o.zfail],zpass:f.stencilOpMap[o.zpass],mask:n.mask}};}initCullDrawParams({cull:e}){if(e){let{enable:t,face:r=i.gl.BACK}=e;return{enable:!!t,face:f.cullFaceMap[r]};}}extractUniforms(e){let t={};return Object.keys(e).forEach(r=>{this.extractUniformsRecursively(r,e[r],t,"");}),t;}extractUniformsRecursively(e,t,r,n){if(null===t||"number"==typeof t||"boolean"==typeof t||Array.isArray(t)&&"number"==typeof t[0]||y(t)||""===t||"resize"in t){r[`${n&&n+"."}${e}`]=t;return;}b(t)&&Object.keys(t).forEach(a=>{this.extractUniformsRecursively(a,t[a],r,`${n&&n+"."}${e}`);}),Array.isArray(t)&&t.forEach((t,a)=>{Object.keys(t).forEach(i=>{this.extractUniformsRecursively(i,t[i],r,`${n&&n+"."}${e}[${a}]`);});});}};},d983052d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("24584923")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},d9ce4a54:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{TextTrianglation:function(){return v;},default:function(){return _;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=r("89217383"),f=n._(r("6c8aee75")),s=n._(r("c9949fd0")),c=r("4642ee7d");let d='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 48.0\n\nuniform sampler2D u_sdf_map;\nlayout(std140) uniform commonUniforms {\n  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\n  vec2 u_sdf_map_size;\n  float u_raisingHeight: 0.0;\n  float u_stroke_width : 2;\n  float u_gamma_scale : 0.5;\n  float u_halo_blur : 0.5;\n};\n\nin vec2 v_uv;\nin float v_gamma_scale;\nin vec4 v_color;\nin vec4 v_stroke_color;\nin float v_fontScale;\n\nout vec4 outputColor;\n\n#pragma include "picking"\nvoid main() {\n  // get style data mapping\n\n  // get sdf from atlas\n  float dist = texture(SAMPLER_2D(u_sdf_map), v_uv).a;\n\n  lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;\n  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;\n\n  highp float gamma_scaled = gamma * v_gamma_scale;\n\n  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n  outputColor = mix(v_color, v_stroke_color, smoothstep(0., 0.5, 1.- dist));\n\n  outputColor.a *= alpha;\n   // \u4F5C\u4E3A mask \u6A21\u677F\u65F6\u9700\u8981\u4E22\u5F03\u900F\u660E\u7684\u50CF\u7D20\n  if (outputColor.a < 0.01) {\n    discard;\n  }\n  outputColor = filterColor(outputColor);\n}\n',h='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 24.0\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_TEXT_OFFSETS) in vec2 a_textOffsets;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_tex;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\n  vec2 u_sdf_map_size;\n  float u_raisingHeight: 0.0;\n  float u_stroke_width : 2;\n  float u_gamma_scale : 0.5;\n  float u_halo_blur : 0.5;\n};\n\nout vec2 v_uv;\nout float v_gamma_scale;\nout vec4 v_color;\nout vec4 v_stroke_color;\nout float v_fontScale;\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "rotation_2d"\n\nvoid main() {\n  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97\n\n  v_uv = a_tex / u_sdf_map_size;\n\n\n\n  v_color = vec4(a_Color.xyz, a_Color.w * opacity);\n  v_stroke_color = vec4(u_stroke_color.xyz, u_stroke_color.w * opacity);\n\n  // \u6587\u672C\u7F29\u653E\u6BD4\u4F8B\n  float fontScale = a_Size / FONT_SIZE;\n  v_fontScale = fontScale;\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  vec2 offset = rotate_matrix(a_textOffsets,rotation);\n\n  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n\n  float raiseHeight = u_raisingHeight;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);\n    raiseHeight = u_raisingHeight * mapboxZoomScale;\n  }\n\n  vec4 projected_position = project_common_position_to_clipspace(vec4(project_pos.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));\n\n  gl_Position = vec4(\n    projected_position.xy / projected_position.w + offset * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n  v_gamma_scale = gl_Position.w;\n  setPickingColor(a_PickingColor);\n\n}\n',{isEqual:p}=l.lodashUtil;function v(e){let t=e.id,r=[],n=[];if(!this.glyphInfoMap||!this.glyphInfoMap[t])return{vertices:[],indices:[],size:7};let a=this.glyphInfoMap[t].centroid,i=2===a.length?[a[0],a[1],0]:a;return this.glyphInfoMap[t].glyphQuads.forEach((e,t)=>{r.push(...i,e.tex.x,e.tex.y+e.tex.height,e.tl.x,e.tl.y,...i,e.tex.x+e.tex.width,e.tex.y+e.tex.height,e.tr.x,e.tr.y,...i,e.tex.x+e.tex.width,e.tex.y,e.br.x,e.br.y,...i,e.tex.x,e.tex.y,e.bl.x,e.bl.y),n.push(0+4*t,1+4*t,2+4*t,2+4*t,3+4*t,0+4*t);}),{vertices:r,indices:n,size:7};}class _ extends f.default{constructor(...e){var t;super(...e),t=this,(0,o.default)(this,"glyphInfo",void 0),(0,o.default)(this,"glyphInfoMap",{}),(0,o.default)(this,"rawEncodeData",void 0),(0,o.default)(this,"texture",void 0),(0,o.default)(this,"currentZoom",-1),(0,o.default)(this,"extent",void 0),(0,o.default)(this,"textureHeight",0),(0,o.default)(this,"textCount",0),(0,o.default)(this,"preTextStyle",{}),(0,o.default)(this,"mapping",(0,i.default)(function*(){t.initGlyph(),t.updateTexture(),yield t.reBuildModel();}));}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,TEXT_OFFSETS:10,UV:11});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,a.default)((0,a.default)((0,a.default)({},e.uniformsOption),t.uniformsOption),{u_sdf_map:this.textures[0]});}getCommonUniformsInfo(){let{stroke:e="#fff",strokeWidth:t=0,halo:r=.5,gamma:n=2,raisingHeight:a=0}=this.layer.getLayerConfig(),i=this.getFontServiceMapping(),o=this.getFontServiceCanvas();i&&Object.keys(i).length!==this.textCount&&o&&(this.updateTexture(),this.textCount=Object.keys(i).length),this.preTextStyle=this.getTextStyle();let u={u_stroke_color:(0,l.rgb2arr)(e),u_sdf_map_size:[(null==o?void 0:o.width)||1,(null==o?void 0:o.height)||1],u_raisingHeight:Number(a),u_stroke_width:t,u_gamma_scale:n,u_halo_blur:r};return this.getUniformsBufferInfo(u);}initModels(){var e=this;return(0,i.default)(function*(){return e.bindEvent(),e.extent=e.textExtent(),e.rawEncodeData=e.layer.getEncodedData(),e.preTextStyle=e.getTextStyle(),e.initUniformsBuffer(),e.buildModels();})();}buildModels(){var e=this;return(0,i.default)(function*(){let{textAllowOverlap:t=!1}=e.layer.getLayerConfig();return e.initGlyph(),e.updateTexture(),t||e.filterGlyphs(),[(yield e.layer.buildLayerModel({moduleName:"pointText",vertexShader:h,fragmentShader:d,defines:e.getDefines(),inject:e.getInject(),triangulation:v.bind(e),depth:{enable:!1}}))];})();}needUpdate(){var e=this;return(0,i.default)(function*(){let{textAllowOverlap:t=!1,textAnchor:r="center",textOffset:n,padding:a,fontFamily:i,fontWeight:o}=e.getTextStyle();if(!p(a,e.preTextStyle.padding)||!p(n,e.preTextStyle.textOffset)||!p(r,e.preTextStyle.textAnchor)||!p(i,e.preTextStyle.fontFamily)||!p(o,e.preTextStyle.fontWeight))return yield e.mapping(),!0;if(t)return!1;let u=e.mapService.getZoom(),f=e.mapService.getBounds(),s=(0,l.boundsContains)(e.extent,f);return(Math.abs(e.currentZoom-u)>.5||!s||t!==e.preTextStyle.textAllowOverlap)&&(yield e.reBuildModel(),!0);})();}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.layer.off("remapping",this.mapping);}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:u.AttributeType.Attribute,descriptor:{shaderLocation:this.attributeLocation.TEXT_OFFSETS,name:"a_textOffsets",buffer:{usage:u.gl.STATIC_DRAW,data:[],type:u.gl.FLOAT},size:2,update:(e,t,r)=>[r[5],r[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:u.AttributeType.Attribute,descriptor:{name:"a_tex",shaderLocation:this.attributeLocation.UV,buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:u.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:1,update:e=>{let{size:t=12}=e;return Array.isArray(t)?[t[0]]:[t];}}});}bindEvent(){this.layer.isTileLayer||this.layer.on("remapping",this.mapping);}textExtent(){let e=this.mapService.getBounds();return(0,l.padBounds)(e,.5);}initTextFont(){let{fontWeight:e,fontFamily:t}=this.getTextStyle(),r=this.rawEncodeData,n=[];r.forEach(e=>{let{shape:t=""}=e;for(let e of t=t.toString())-1===n.indexOf(e)&&n.push(e);}),this.fontService.setFontOptions({characterSet:n,fontWeight:e,fontFamily:t,iconfont:!1});}initIconFontTex(){let{fontWeight:e,fontFamily:t}=this.getTextStyle(),r=this.rawEncodeData,n=[];r.forEach(e=>{let{shape:t=""}=e;t=`${t}`,-1===n.indexOf(t)&&n.push(t);}),this.fontService.setFontOptions({characterSet:n,fontWeight:e,fontFamily:t,iconfont:!0});}getTextStyle(){let{fontWeight:e="400",fontFamily:t="sans-serif",textAllowOverlap:r=!1,padding:n=[0,0],textAnchor:a="center",textOffset:i=[0,0],opacity:o=1,strokeOpacity:u=1,strokeWidth:l=0,stroke:f="#000"}=this.layer.getLayerConfig();return{fontWeight:e,fontFamily:t,textAllowOverlap:r,padding:n,textAnchor:a,textOffset:i,opacity:o,strokeOpacity:u,strokeWidth:l,stroke:f};}generateGlyphLayout(e){let t=this.getFontServiceMapping(),{spacing:r=2,textAnchor:n="center",textOffset:a}=this.layer.getLayerConfig(),i=this.rawEncodeData;this.glyphInfo=i.map(i=>{let{shape:o="",id:u,size:f=1}=i,s=i.textOffset?i.textOffset:a||[0,0],d=i.textAnchor?i.textAnchor:n||"center",h=(0,c.shapeText)(o.toString(),t,f,d,"left",r,s,e),p=(0,c.getGlyphQuads)(h,s,!1);return i.shaping=h,i.glyphQuads=p,i.centroid=(0,l.calculateCentroid)(i.coordinates),this.glyphInfoMap[u]={shaping:h,glyphQuads:p,centroid:(0,l.calculateCentroid)(i.coordinates)},i;});}getFontServiceMapping(){let{fontWeight:e="400",fontFamily:t="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getMappingByKey(`${t}_${e}`);}getFontServiceCanvas(){let{fontWeight:e="400",fontFamily:t="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getCanvasByKey(`${t}_${e}`);}filterGlyphs(){let{padding:e=[0,0],textAllowOverlap:t=!1}=this.layer.getLayerConfig();if(t)return;this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();let{width:r,height:n}=this.rendererService.getViewportSize(),a=new s.default(r,n);this.glyphInfo.filter(t=>{let{shaping:r,id:n=0}=t,i=t.centroid,o=t.size/16,u=this.mapService.lngLatToContainer(i),{box:l}=a.placeCollisionBox({x1:r.left*o-e[0],x2:r.right*o+e[0],y1:r.top*o-e[1],y2:r.bottom*o+e[1],anchorPointX:u.x,anchorPointY:u.y});return!!l&&!!l.length&&(a.insertCollisionBox(l,n),!0);}).forEach(e=>{this.glyphInfoMap[e.id]=e;});}initGlyph(){let{iconfont:e=!1}=this.layer.getLayerConfig();e?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(e);}updateTexture(){let{createTexture2D:e}=this.rendererService,t=this.getFontServiceCanvas();this.textureHeight=t.height,this.texture&&this.texture.destroy(),this.texture=e({data:t,mag:u.gl.LINEAR,min:u.gl.LINEAR,width:t.width,height:t.height}),this.textures=[this.texture];}reBuildModel(){var e=this;return(0,i.default)(function*(){e.filterGlyphs();let t=yield e.layer.buildLayerModel({moduleName:"pointText",vertexShader:h,fragmentShader:d,triangulation:v.bind(e),defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}});e.layer.models=[t];})();}}},d9d4d024:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5bb74416")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},da0a15c1:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e429a924")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},db11b38c:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("bd2259ae")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},db54c4ea:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5e258d7c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},db8ec2e5:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return m;}});var n=r("777fffbe"),a=r("89217383"),i=n._(r("5b54188a")),o=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(f)for(var r of f(t))c.call(t,r)&&d(e,r,t[r]);return e;},p=(e,t)=>u(e,l(t)),v=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),_=(e,t,r,n)=>v(void 0,null,function*(){let o={x:t.x,y:t.y,z:t.z},u=(0,a.getURLFromTemplate)(e,o);return new Promise(e=>{n?n(o,(r,n)=>{if(r||!n)e(new i.default({layers:{defaultLayer:{features:[]}}},t.x,t.y,t.z));else{let r={layers:{defaultLayer:{features:n.features}}};e(new i.default(r,t.x,t.y,t.z));}}):(0,a.getData)(p(h({},r),{url:u}),(r,n)=>{if(r||!n)e(new i.default({layers:{defaultLayer:{features:[]}}},t.x,t.y,t.z));else{let r=JSON.parse(n);e(new i.default({layers:{defaultLayer:{features:r}}},t.x,t.y,t.z));}});});});function m(e,t){return{dataArray:[],tilesetOptions:p(h({},t),{getTileData:(r,n)=>_(e,n,null==t?void 0:t.requestParameters,t.getCustomData)}),isTile:!0};}},dbc9361c:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("342c2991")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dc734244:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d6009239")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dc85cf02:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9468712b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dc8b64d6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8f6bc6f2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dc96adc3:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("048e6607")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dcafd1d6:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"MapServiceEvent",{enumerable:!0,get:function(){return n;}});let n=["mapload","mapchange","mapAfterFrameChange"];},dcff27dc:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ae32ec55")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dd202496:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("acffd71d"));function a(e,t,r,a,o,l,f,s){if(r/=t,a/=t,l>=r&&f<a)return e;if(f<r||l>=a)return null;for(var c=[],d=0;d<e.length;d++){var h=e[d],p=h.geometry,v=h.type,_=0===o?h.minX:h.minY,m=0===o?h.maxX:h.maxY;if(_>=r&&m<a){c.push(h);continue;}if(!(m<r)&&!(_>=a)){var g=[];if("Point"===v||"MultiPoint"===v)!function(e,t,r,n,a){for(var i=0;i<e.length;i+=3){var o=e[i+a];o>=r&&o<=n&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]));}}(p,g,r,a,o);else if("LineString"===v)i(p,g,r,a,o,!1,s.lineMetrics);else if("MultiLineString"===v)u(p,g,r,a,o,!1);else if("Polygon"===v)u(p,g,r,a,o,!0);else if("MultiPolygon"===v)for(var b=0;b<p.length;b++){var y=[];u(p[b],y,r,a,o,!0),y.length&&g.push(y);}if(g.length){if(s.lineMetrics&&"LineString"===v){for(b=0;b<g.length;b++)c.push((0,n.default)(h.id,v,g[b],h.tags));continue;}("LineString"===v||"MultiLineString"===v)&&(1===g.length?(v="LineString",g=g[0]):v="MultiLineString"),("Point"===v||"MultiPoint"===v)&&(v=3===g.length?"Point":"MultiPoint"),c.push((0,n.default)(h.id,v,g,h.tags));}}}return c.length?c:null;}function i(e,t,r,n,a,i,u){for(var c,d,h=o(e),p=0===a?f:s,v=e.start,_=0;_<e.length-3;_+=3){var m=e[_],g=e[_+1],b=e[_+2],y=e[_+3],E=e[_+4],T=0===a?m:g,A=0===a?y:E,S=!1;u&&(c=Math.sqrt(Math.pow(m-y,2)+Math.pow(g-E,2))),T<r?A>r&&(d=p(h,m,g,y,E,r),u&&(h.start=v+c*d)):T>n?A<n&&(d=p(h,m,g,y,E,n),u&&(h.start=v+c*d)):l(h,m,g,b),A<r&&T>=r&&(d=p(h,m,g,y,E,r),S=!0),A>n&&T<=n&&(d=p(h,m,g,y,E,n),S=!0),!i&&S&&(u&&(h.end=v+c*d),t.push(h),h=o(e)),u&&(v+=c);}var O=e.length-3;m=e[O],g=e[O+1],b=e[O+2],(T=0===a?m:g)>=r&&T<=n&&l(h,m,g,b),O=h.length-3,i&&O>=3&&(h[O]!==h[0]||h[O+1]!==h[1])&&l(h,h[0],h[1],h[2]),h.length&&t.push(h);}function o(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t;}function u(e,t,r,n,a,o){for(var u=0;u<e.length;u++)i(e[u],t,r,n,a,o,!1);}function l(e,t,r,n){e.push(t),e.push(r),e.push(n);}function f(e,t,r,n,a,i){var o=(i-t)/(n-t);return e.push(i),e.push(r+(a-r)*o),e.push(1),o;}function s(e,t,r,n,a,i){var o=(i-r)/(a-r);return e.push(t+(n-t)*o),e.push(i),e.push(1),o;}},dd36b1bb:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("79609923")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dd39430a:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("372f3a7a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dd436b23:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{add:function(){return s;},ceil:function(){return p;},clone:function(){return o;},copy:function(){return l;},create:function(){return i;},cross:function(){return C;},dist:function(){return G;},distance:function(){return E;},div:function(){return k;},divide:function(){return h;},dot:function(){return x;},equals:function(){return B;},exactEquals:function(){return F;},floor:function(){return v;},forEach:function(){return X;},fromValues:function(){return u;},inverse:function(){return R;},len:function(){return V;},length:function(){return A;},lerp:function(){return P;},max:function(){return m;},min:function(){return _;},mul:function(){return j;},multiply:function(){return d;},negate:function(){return O;},normalize:function(){return M;},random:function(){return L;},round:function(){return g;},scale:function(){return b;},scaleAndAdd:function(){return y;},set:function(){return f;},sqrDist:function(){return z;},sqrLen:function(){return H;},squaredDistance:function(){return T;},squaredLength:function(){return S;},str:function(){return D;},sub:function(){return U;},subtract:function(){return c;},transformMat4:function(){return w;},transformQuat:function(){return I;},zero:function(){return N;}});var n,a=r("852bbaa9")._(r("8d58e674"));function i(){var e=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e;}function o(e){var t=new a.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t;}function u(e,t,r,n){var i=new a.ARRAY_TYPE(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i;}function l(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e;}function f(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e;}function s(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e;}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e;}function d(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e;}function h(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e;}function p(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e;}function v(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e;}function _(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e;}function m(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e;}function g(e,t){return e[0]=a.round(t[0]),e[1]=a.round(t[1]),e[2]=a.round(t[2]),e[3]=a.round(t[3]),e;}function b(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e;}function y(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e;}function E(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(r*r+n*n+a*a+i*i);}function T(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return r*r+n*n+a*a+i*i;}function A(e){var t=e[0],r=e[1],n=e[2],a=e[3];return Math.sqrt(t*t+r*r+n*n+a*a);}function S(e){var t=e[0],r=e[1],n=e[2],a=e[3];return t*t+r*r+n*n+a*a;}function O(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e;}function R(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e;}function M(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=r*o,e[1]=n*o,e[2]=a*o,e[3]=i*o,e;}function x(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];}function C(e,t,r,n){var a=r[0]*n[1]-r[1]*n[0],i=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],u=r[1]*n[2]-r[2]*n[1],l=r[1]*n[3]-r[3]*n[1],f=r[2]*n[3]-r[3]*n[2],s=t[0],c=t[1],d=t[2],h=t[3];return e[0]=c*f-d*l+h*u,e[1]=-(s*f)+d*o-h*i,e[2]=s*l-c*o+h*a,e[3]=-(s*u)+c*i-d*a,e;}function P(e,t,r,n){var a=t[0],i=t[1],o=t[2],u=t[3];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e[3]=u+n*(r[3]-u),e;}function L(e,t){t=void 0===t?1:t;var r,n,i,o,u,l=Math.sqrt((1-((r=2*(u=a.RANDOM())-1)*r+(n=(4*a.RANDOM()-2)*Math.sqrt(-(u*u)+u))*n))/((i=2*(u=a.RANDOM())-1)*i+(o=(4*a.RANDOM()-2)*Math.sqrt(-(u*u)+u))*o));return e[0]=t*r,e[1]=t*n,e[2]=t*i*l,e[3]=t*o*l,e;}function w(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3];return e[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,e[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,e[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,e[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,e;}function I(e,t,r){var n=r[0],a=r[1],i=r[2],o=r[3],u=t[0],l=t[1],f=t[2],s=a*f-i*l,c=i*u-n*f,d=n*l-a*u;return s+=s,c+=c,d+=d,e[0]=u+o*s+a*d-i*c,e[1]=l+o*c+i*s-n*d,e[2]=f+o*d+n*c-a*s,e[3]=t[3],e;}function N(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e;}function D(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")";}function F(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3];}function B(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],u=t[0],l=t[1],f=t[2],s=t[3];return Math.abs(r-u)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-l)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-f)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-s)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(s));}var U=c,j=d,k=h,G=E,z=T,V=A,H=S,X=(n=i(),function(e,t,r,a,i,o){var u,l;for(t||(t=4),r||(r=0),l=a?Math.min(a*t+r,e.length):e.length,u=r;u<l;u+=t)n[0]=e[u],n[1]=e[u+1],n[2]=e[u+2],n[3]=e[u+3],i(n,n,o),e[u]=n[0],e[u+1]=n[1],e[u+2]=n[2],e[u+3]=n[3];return e;});},dd537b86:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("608d52ef")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dd6185e1:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=r("777fffbe")._(r("e1e610e4")),a=r("89217383"),i=r("56dda44f");let o={topleft:"column",topright:"column",bottomright:"column",bottomleft:"column",leftcenter:"column",rightcenter:"column",topcenter:"row",bottomcenter:"row",lefttop:"row",righttop:"row",leftbottom:"row",rightbottom:"row"};class u{constructor(){(0,n.default)(this,"container",void 0),(0,n.default)(this,"controlCorners",void 0),(0,n.default)(this,"controlContainer",void 0),(0,n.default)(this,"scene",void 0),(0,n.default)(this,"mapsService",void 0),(0,n.default)(this,"controls",[]),(0,n.default)(this,"unAddControls",[]);}init(e,t){this.container=e.container,this.scene=t,this.mapsService=t.mapService,this.initControlPos();}addControl(e,t){t.mapService.map?(e.addTo(this.scene),this.controls.push(e)):this.unAddControls.push(e);}getControlByName(e){return this.controls.find(t=>t.controlOption.name===e);}removeControl(e){let t=this.controls.indexOf(e);return t>-1&&this.controls.splice(t,1),e.remove(),this;}addControls(){this.unAddControls.forEach(e=>{e.addTo(this.scene),this.controls.push(e);}),this.unAddControls=[];}destroy(){for(let e of this.controls)e.remove();this.controls=[],this.clearControlPos();}initControlPos(){let e=this.controlCorners={},t=this.controlContainer=a.DOM.create("div","l7-control-container",this.container);Object.values(i.PositionType).forEach(r=>{!function(r=[]){let n=r.map(e=>"l7-"+e).join(" ");e[r.filter(e=>!["row","column"].includes(e)).join("")]=a.DOM.create("div",n,t);}([...r.replace(/^(top|bottom|left|right|center)/,"$1-").split("-"),o[r]]);}),this.checkCornerOverlap();}clearControlPos(){for(let e in this.controlCorners)this.controlCorners[e]&&a.DOM.remove(this.controlCorners[e]);this.controlContainer&&a.DOM.remove(this.controlContainer);}checkCornerOverlap(){let e=window.MutationObserver;if(e)for(let t of Object.keys(this.controlCorners)){let r=t.match(/^(top|bottom)(left|right)$/);if(r){let[,t,n]=r,a=this.controlCorners[`${t}${n}`];new e(([{target:e}])=>{a&&(a.style[t]=e.clientHeight+"px");}).observe(this.controlCorners[`${n}${t}`],{childList:!0,attributes:!0});}}}}},dda56150:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{LoadTileDataStatus:function(){return o;},UpdateTileStrategy:function(){return i;}});var n,a,i=((n=i||{}).Realtime="realtime",n.Overlap="overlap",n.Replace="replace",n),o=((a=o||{}).Loading="Loading",a.Loaded="Loaded",a.Failure="Failure",a.Cancelled="Cancelled",a);},ddc9a5d2:function(e,t,r){"use strict";var n=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AccountBookFilled",{enumerable:!0,get:function(){return a.default;}}),Object.defineProperty(t,"AccountBookOutlined",{enumerable:!0,get:function(){return i.default;}}),Object.defineProperty(t,"AccountBookTwoTone",{enumerable:!0,get:function(){return o.default;}}),Object.defineProperty(t,"AimOutlined",{enumerable:!0,get:function(){return u.default;}}),Object.defineProperty(t,"AlertFilled",{enumerable:!0,get:function(){return l.default;}}),Object.defineProperty(t,"AlertOutlined",{enumerable:!0,get:function(){return f.default;}}),Object.defineProperty(t,"AlertTwoTone",{enumerable:!0,get:function(){return s.default;}}),Object.defineProperty(t,"AlibabaOutlined",{enumerable:!0,get:function(){return c.default;}}),Object.defineProperty(t,"AlignCenterOutlined",{enumerable:!0,get:function(){return d.default;}}),Object.defineProperty(t,"AlignLeftOutlined",{enumerable:!0,get:function(){return h.default;}}),Object.defineProperty(t,"AlignRightOutlined",{enumerable:!0,get:function(){return p.default;}}),Object.defineProperty(t,"AlipayCircleFilled",{enumerable:!0,get:function(){return v.default;}}),Object.defineProperty(t,"AlipayCircleOutlined",{enumerable:!0,get:function(){return _.default;}}),Object.defineProperty(t,"AlipayOutlined",{enumerable:!0,get:function(){return m.default;}}),Object.defineProperty(t,"AlipaySquareFilled",{enumerable:!0,get:function(){return g.default;}}),Object.defineProperty(t,"AliwangwangFilled",{enumerable:!0,get:function(){return b.default;}}),Object.defineProperty(t,"AliwangwangOutlined",{enumerable:!0,get:function(){return y.default;}}),Object.defineProperty(t,"AliyunOutlined",{enumerable:!0,get:function(){return E.default;}}),Object.defineProperty(t,"AmazonCircleFilled",{enumerable:!0,get:function(){return T.default;}}),Object.defineProperty(t,"AmazonOutlined",{enumerable:!0,get:function(){return A.default;}}),Object.defineProperty(t,"AmazonSquareFilled",{enumerable:!0,get:function(){return S.default;}}),Object.defineProperty(t,"AndroidFilled",{enumerable:!0,get:function(){return O.default;}}),Object.defineProperty(t,"AndroidOutlined",{enumerable:!0,get:function(){return R.default;}}),Object.defineProperty(t,"AntCloudOutlined",{enumerable:!0,get:function(){return M.default;}}),Object.defineProperty(t,"AntDesignOutlined",{enumerable:!0,get:function(){return x.default;}}),Object.defineProperty(t,"ApartmentOutlined",{enumerable:!0,get:function(){return C.default;}}),Object.defineProperty(t,"ApiFilled",{enumerable:!0,get:function(){return P.default;}}),Object.defineProperty(t,"ApiOutlined",{enumerable:!0,get:function(){return L.default;}}),Object.defineProperty(t,"ApiTwoTone",{enumerable:!0,get:function(){return w.default;}}),Object.defineProperty(t,"AppleFilled",{enumerable:!0,get:function(){return I.default;}}),Object.defineProperty(t,"AppleOutlined",{enumerable:!0,get:function(){return N.default;}}),Object.defineProperty(t,"AppstoreAddOutlined",{enumerable:!0,get:function(){return D.default;}}),Object.defineProperty(t,"AppstoreFilled",{enumerable:!0,get:function(){return F.default;}}),Object.defineProperty(t,"AppstoreOutlined",{enumerable:!0,get:function(){return B.default;}}),Object.defineProperty(t,"AppstoreTwoTone",{enumerable:!0,get:function(){return U.default;}}),Object.defineProperty(t,"AreaChartOutlined",{enumerable:!0,get:function(){return j.default;}}),Object.defineProperty(t,"ArrowDownOutlined",{enumerable:!0,get:function(){return k.default;}}),Object.defineProperty(t,"ArrowLeftOutlined",{enumerable:!0,get:function(){return G.default;}}),Object.defineProperty(t,"ArrowRightOutlined",{enumerable:!0,get:function(){return z.default;}}),Object.defineProperty(t,"ArrowUpOutlined",{enumerable:!0,get:function(){return V.default;}}),Object.defineProperty(t,"ArrowsAltOutlined",{enumerable:!0,get:function(){return H.default;}}),Object.defineProperty(t,"AudioFilled",{enumerable:!0,get:function(){return X.default;}}),Object.defineProperty(t,"AudioMutedOutlined",{enumerable:!0,get:function(){return W.default;}}),Object.defineProperty(t,"AudioOutlined",{enumerable:!0,get:function(){return Y.default;}}),Object.defineProperty(t,"AudioTwoTone",{enumerable:!0,get:function(){return q.default;}}),Object.defineProperty(t,"AuditOutlined",{enumerable:!0,get:function(){return Z.default;}}),Object.defineProperty(t,"BackwardFilled",{enumerable:!0,get:function(){return K.default;}}),Object.defineProperty(t,"BackwardOutlined",{enumerable:!0,get:function(){return $.default;}}),Object.defineProperty(t,"BaiduOutlined",{enumerable:!0,get:function(){return Q.default;}}),Object.defineProperty(t,"BankFilled",{enumerable:!0,get:function(){return J.default;}}),Object.defineProperty(t,"BankOutlined",{enumerable:!0,get:function(){return ee.default;}}),Object.defineProperty(t,"BankTwoTone",{enumerable:!0,get:function(){return et.default;}}),Object.defineProperty(t,"BarChartOutlined",{enumerable:!0,get:function(){return er.default;}}),Object.defineProperty(t,"BarcodeOutlined",{enumerable:!0,get:function(){return en.default;}}),Object.defineProperty(t,"BarsOutlined",{enumerable:!0,get:function(){return ea.default;}}),Object.defineProperty(t,"BehanceCircleFilled",{enumerable:!0,get:function(){return ei.default;}}),Object.defineProperty(t,"BehanceOutlined",{enumerable:!0,get:function(){return eo.default;}}),Object.defineProperty(t,"BehanceSquareFilled",{enumerable:!0,get:function(){return eu.default;}}),Object.defineProperty(t,"BehanceSquareOutlined",{enumerable:!0,get:function(){return el.default;}}),Object.defineProperty(t,"BellFilled",{enumerable:!0,get:function(){return ef.default;}}),Object.defineProperty(t,"BellOutlined",{enumerable:!0,get:function(){return es.default;}}),Object.defineProperty(t,"BellTwoTone",{enumerable:!0,get:function(){return ec.default;}}),Object.defineProperty(t,"BgColorsOutlined",{enumerable:!0,get:function(){return ed.default;}}),Object.defineProperty(t,"BilibiliFilled",{enumerable:!0,get:function(){return eh.default;}}),Object.defineProperty(t,"BilibiliOutlined",{enumerable:!0,get:function(){return ep.default;}}),Object.defineProperty(t,"BlockOutlined",{enumerable:!0,get:function(){return ev.default;}}),Object.defineProperty(t,"BoldOutlined",{enumerable:!0,get:function(){return e_.default;}}),Object.defineProperty(t,"BookFilled",{enumerable:!0,get:function(){return em.default;}}),Object.defineProperty(t,"BookOutlined",{enumerable:!0,get:function(){return eg.default;}}),Object.defineProperty(t,"BookTwoTone",{enumerable:!0,get:function(){return eb.default;}}),Object.defineProperty(t,"BorderBottomOutlined",{enumerable:!0,get:function(){return ey.default;}}),Object.defineProperty(t,"BorderHorizontalOutlined",{enumerable:!0,get:function(){return eE.default;}}),Object.defineProperty(t,"BorderInnerOutlined",{enumerable:!0,get:function(){return eT.default;}}),Object.defineProperty(t,"BorderLeftOutlined",{enumerable:!0,get:function(){return eA.default;}}),Object.defineProperty(t,"BorderOuterOutlined",{enumerable:!0,get:function(){return eS.default;}}),Object.defineProperty(t,"BorderOutlined",{enumerable:!0,get:function(){return eO.default;}}),Object.defineProperty(t,"BorderRightOutlined",{enumerable:!0,get:function(){return eR.default;}}),Object.defineProperty(t,"BorderTopOutlined",{enumerable:!0,get:function(){return eM.default;}}),Object.defineProperty(t,"BorderVerticleOutlined",{enumerable:!0,get:function(){return ex.default;}}),Object.defineProperty(t,"BorderlessTableOutlined",{enumerable:!0,get:function(){return eC.default;}}),Object.defineProperty(t,"BoxPlotFilled",{enumerable:!0,get:function(){return eP.default;}}),Object.defineProperty(t,"BoxPlotOutlined",{enumerable:!0,get:function(){return eL.default;}}),Object.defineProperty(t,"BoxPlotTwoTone",{enumerable:!0,get:function(){return ew.default;}}),Object.defineProperty(t,"BranchesOutlined",{enumerable:!0,get:function(){return eI.default;}}),Object.defineProperty(t,"BugFilled",{enumerable:!0,get:function(){return eN.default;}}),Object.defineProperty(t,"BugOutlined",{enumerable:!0,get:function(){return eD.default;}}),Object.defineProperty(t,"BugTwoTone",{enumerable:!0,get:function(){return eF.default;}}),Object.defineProperty(t,"BuildFilled",{enumerable:!0,get:function(){return eB.default;}}),Object.defineProperty(t,"BuildOutlined",{enumerable:!0,get:function(){return eU.default;}}),Object.defineProperty(t,"BuildTwoTone",{enumerable:!0,get:function(){return ej.default;}}),Object.defineProperty(t,"BulbFilled",{enumerable:!0,get:function(){return ek.default;}}),Object.defineProperty(t,"BulbOutlined",{enumerable:!0,get:function(){return eG.default;}}),Object.defineProperty(t,"BulbTwoTone",{enumerable:!0,get:function(){return ez.default;}}),Object.defineProperty(t,"CalculatorFilled",{enumerable:!0,get:function(){return eV.default;}}),Object.defineProperty(t,"CalculatorOutlined",{enumerable:!0,get:function(){return eH.default;}}),Object.defineProperty(t,"CalculatorTwoTone",{enumerable:!0,get:function(){return eX.default;}}),Object.defineProperty(t,"CalendarFilled",{enumerable:!0,get:function(){return eW.default;}}),Object.defineProperty(t,"CalendarOutlined",{enumerable:!0,get:function(){return eY.default;}}),Object.defineProperty(t,"CalendarTwoTone",{enumerable:!0,get:function(){return eq.default;}}),Object.defineProperty(t,"CameraFilled",{enumerable:!0,get:function(){return eZ.default;}}),Object.defineProperty(t,"CameraOutlined",{enumerable:!0,get:function(){return eK.default;}}),Object.defineProperty(t,"CameraTwoTone",{enumerable:!0,get:function(){return e$.default;}}),Object.defineProperty(t,"CarFilled",{enumerable:!0,get:function(){return eQ.default;}}),Object.defineProperty(t,"CarOutlined",{enumerable:!0,get:function(){return eJ.default;}}),Object.defineProperty(t,"CarTwoTone",{enumerable:!0,get:function(){return e0.default;}}),Object.defineProperty(t,"CaretDownFilled",{enumerable:!0,get:function(){return e1.default;}}),Object.defineProperty(t,"CaretDownOutlined",{enumerable:!0,get:function(){return e3.default;}}),Object.defineProperty(t,"CaretLeftFilled",{enumerable:!0,get:function(){return e2.default;}}),Object.defineProperty(t,"CaretLeftOutlined",{enumerable:!0,get:function(){return e4.default;}}),Object.defineProperty(t,"CaretRightFilled",{enumerable:!0,get:function(){return e6.default;}}),Object.defineProperty(t,"CaretRightOutlined",{enumerable:!0,get:function(){return e7.default;}}),Object.defineProperty(t,"CaretUpFilled",{enumerable:!0,get:function(){return e5.default;}}),Object.defineProperty(t,"CaretUpOutlined",{enumerable:!0,get:function(){return e9.default;}}),Object.defineProperty(t,"CarryOutFilled",{enumerable:!0,get:function(){return e8.default;}}),Object.defineProperty(t,"CarryOutOutlined",{enumerable:!0,get:function(){return te.default;}}),Object.defineProperty(t,"CarryOutTwoTone",{enumerable:!0,get:function(){return tt.default;}}),Object.defineProperty(t,"CheckCircleFilled",{enumerable:!0,get:function(){return tr.default;}}),Object.defineProperty(t,"CheckCircleOutlined",{enumerable:!0,get:function(){return tn.default;}}),Object.defineProperty(t,"CheckCircleTwoTone",{enumerable:!0,get:function(){return ta.default;}}),Object.defineProperty(t,"CheckOutlined",{enumerable:!0,get:function(){return ti.default;}}),Object.defineProperty(t,"CheckSquareFilled",{enumerable:!0,get:function(){return to.default;}}),Object.defineProperty(t,"CheckSquareOutlined",{enumerable:!0,get:function(){return tu.default;}}),Object.defineProperty(t,"CheckSquareTwoTone",{enumerable:!0,get:function(){return tl.default;}}),Object.defineProperty(t,"ChromeFilled",{enumerable:!0,get:function(){return tf.default;}}),Object.defineProperty(t,"ChromeOutlined",{enumerable:!0,get:function(){return ts.default;}}),Object.defineProperty(t,"CiCircleFilled",{enumerable:!0,get:function(){return tc.default;}}),Object.defineProperty(t,"CiCircleOutlined",{enumerable:!0,get:function(){return td.default;}}),Object.defineProperty(t,"CiCircleTwoTone",{enumerable:!0,get:function(){return th.default;}}),Object.defineProperty(t,"CiOutlined",{enumerable:!0,get:function(){return tp.default;}}),Object.defineProperty(t,"CiTwoTone",{enumerable:!0,get:function(){return tv.default;}}),Object.defineProperty(t,"ClearOutlined",{enumerable:!0,get:function(){return t_.default;}}),Object.defineProperty(t,"ClockCircleFilled",{enumerable:!0,get:function(){return tm.default;}}),Object.defineProperty(t,"ClockCircleOutlined",{enumerable:!0,get:function(){return tg.default;}}),Object.defineProperty(t,"ClockCircleTwoTone",{enumerable:!0,get:function(){return tb.default;}}),Object.defineProperty(t,"CloseCircleFilled",{enumerable:!0,get:function(){return ty.default;}}),Object.defineProperty(t,"CloseCircleOutlined",{enumerable:!0,get:function(){return tE.default;}}),Object.defineProperty(t,"CloseCircleTwoTone",{enumerable:!0,get:function(){return tT.default;}}),Object.defineProperty(t,"CloseOutlined",{enumerable:!0,get:function(){return tA.default;}}),Object.defineProperty(t,"CloseSquareFilled",{enumerable:!0,get:function(){return tS.default;}}),Object.defineProperty(t,"CloseSquareOutlined",{enumerable:!0,get:function(){return tO.default;}}),Object.defineProperty(t,"CloseSquareTwoTone",{enumerable:!0,get:function(){return tR.default;}}),Object.defineProperty(t,"CloudDownloadOutlined",{enumerable:!0,get:function(){return tM.default;}}),Object.defineProperty(t,"CloudFilled",{enumerable:!0,get:function(){return tx.default;}}),Object.defineProperty(t,"CloudOutlined",{enumerable:!0,get:function(){return tC.default;}}),Object.defineProperty(t,"CloudServerOutlined",{enumerable:!0,get:function(){return tP.default;}}),Object.defineProperty(t,"CloudSyncOutlined",{enumerable:!0,get:function(){return tL.default;}}),Object.defineProperty(t,"CloudTwoTone",{enumerable:!0,get:function(){return tw.default;}}),Object.defineProperty(t,"CloudUploadOutlined",{enumerable:!0,get:function(){return tI.default;}}),Object.defineProperty(t,"ClusterOutlined",{enumerable:!0,get:function(){return tN.default;}}),Object.defineProperty(t,"CodeFilled",{enumerable:!0,get:function(){return tD.default;}}),Object.defineProperty(t,"CodeOutlined",{enumerable:!0,get:function(){return tF.default;}}),Object.defineProperty(t,"CodeSandboxCircleFilled",{enumerable:!0,get:function(){return tB.default;}}),Object.defineProperty(t,"CodeSandboxOutlined",{enumerable:!0,get:function(){return tU.default;}}),Object.defineProperty(t,"CodeSandboxSquareFilled",{enumerable:!0,get:function(){return tj.default;}}),Object.defineProperty(t,"CodeTwoTone",{enumerable:!0,get:function(){return tk.default;}}),Object.defineProperty(t,"CodepenCircleFilled",{enumerable:!0,get:function(){return tG.default;}}),Object.defineProperty(t,"CodepenCircleOutlined",{enumerable:!0,get:function(){return tz.default;}}),Object.defineProperty(t,"CodepenOutlined",{enumerable:!0,get:function(){return tV.default;}}),Object.defineProperty(t,"CodepenSquareFilled",{enumerable:!0,get:function(){return tH.default;}}),Object.defineProperty(t,"CoffeeOutlined",{enumerable:!0,get:function(){return tX.default;}}),Object.defineProperty(t,"ColumnHeightOutlined",{enumerable:!0,get:function(){return tW.default;}}),Object.defineProperty(t,"ColumnWidthOutlined",{enumerable:!0,get:function(){return tY.default;}}),Object.defineProperty(t,"CommentOutlined",{enumerable:!0,get:function(){return tq.default;}}),Object.defineProperty(t,"CompassFilled",{enumerable:!0,get:function(){return tZ.default;}}),Object.defineProperty(t,"CompassOutlined",{enumerable:!0,get:function(){return tK.default;}}),Object.defineProperty(t,"CompassTwoTone",{enumerable:!0,get:function(){return t$.default;}}),Object.defineProperty(t,"CompressOutlined",{enumerable:!0,get:function(){return tQ.default;}}),Object.defineProperty(t,"ConsoleSqlOutlined",{enumerable:!0,get:function(){return tJ.default;}}),Object.defineProperty(t,"ContactsFilled",{enumerable:!0,get:function(){return t0.default;}}),Object.defineProperty(t,"ContactsOutlined",{enumerable:!0,get:function(){return t1.default;}}),Object.defineProperty(t,"ContactsTwoTone",{enumerable:!0,get:function(){return t3.default;}}),Object.defineProperty(t,"ContainerFilled",{enumerable:!0,get:function(){return t2.default;}}),Object.defineProperty(t,"ContainerOutlined",{enumerable:!0,get:function(){return t4.default;}}),Object.defineProperty(t,"ContainerTwoTone",{enumerable:!0,get:function(){return t6.default;}}),Object.defineProperty(t,"ControlFilled",{enumerable:!0,get:function(){return t7.default;}}),Object.defineProperty(t,"ControlOutlined",{enumerable:!0,get:function(){return t5.default;}}),Object.defineProperty(t,"ControlTwoTone",{enumerable:!0,get:function(){return t9.default;}}),Object.defineProperty(t,"CopyFilled",{enumerable:!0,get:function(){return t8.default;}}),Object.defineProperty(t,"CopyOutlined",{enumerable:!0,get:function(){return re.default;}}),Object.defineProperty(t,"CopyTwoTone",{enumerable:!0,get:function(){return rt.default;}}),Object.defineProperty(t,"CopyrightCircleFilled",{enumerable:!0,get:function(){return rr.default;}}),Object.defineProperty(t,"CopyrightCircleOutlined",{enumerable:!0,get:function(){return rn.default;}}),Object.defineProperty(t,"CopyrightCircleTwoTone",{enumerable:!0,get:function(){return ra.default;}}),Object.defineProperty(t,"CopyrightOutlined",{enumerable:!0,get:function(){return ri.default;}}),Object.defineProperty(t,"CopyrightTwoTone",{enumerable:!0,get:function(){return ro.default;}}),Object.defineProperty(t,"CreditCardFilled",{enumerable:!0,get:function(){return ru.default;}}),Object.defineProperty(t,"CreditCardOutlined",{enumerable:!0,get:function(){return rl.default;}}),Object.defineProperty(t,"CreditCardTwoTone",{enumerable:!0,get:function(){return rf.default;}}),Object.defineProperty(t,"CrownFilled",{enumerable:!0,get:function(){return rs.default;}}),Object.defineProperty(t,"CrownOutlined",{enumerable:!0,get:function(){return rc.default;}}),Object.defineProperty(t,"CrownTwoTone",{enumerable:!0,get:function(){return rd.default;}}),Object.defineProperty(t,"CustomerServiceFilled",{enumerable:!0,get:function(){return rh.default;}}),Object.defineProperty(t,"CustomerServiceOutlined",{enumerable:!0,get:function(){return rp.default;}}),Object.defineProperty(t,"CustomerServiceTwoTone",{enumerable:!0,get:function(){return rv.default;}}),Object.defineProperty(t,"DashOutlined",{enumerable:!0,get:function(){return r_.default;}}),Object.defineProperty(t,"DashboardFilled",{enumerable:!0,get:function(){return rm.default;}}),Object.defineProperty(t,"DashboardOutlined",{enumerable:!0,get:function(){return rg.default;}}),Object.defineProperty(t,"DashboardTwoTone",{enumerable:!0,get:function(){return rb.default;}}),Object.defineProperty(t,"DatabaseFilled",{enumerable:!0,get:function(){return ry.default;}}),Object.defineProperty(t,"DatabaseOutlined",{enumerable:!0,get:function(){return rE.default;}}),Object.defineProperty(t,"DatabaseTwoTone",{enumerable:!0,get:function(){return rT.default;}}),Object.defineProperty(t,"DeleteColumnOutlined",{enumerable:!0,get:function(){return rA.default;}}),Object.defineProperty(t,"DeleteFilled",{enumerable:!0,get:function(){return rS.default;}}),Object.defineProperty(t,"DeleteOutlined",{enumerable:!0,get:function(){return rO.default;}}),Object.defineProperty(t,"DeleteRowOutlined",{enumerable:!0,get:function(){return rR.default;}}),Object.defineProperty(t,"DeleteTwoTone",{enumerable:!0,get:function(){return rM.default;}}),Object.defineProperty(t,"DeliveredProcedureOutlined",{enumerable:!0,get:function(){return rx.default;}}),Object.defineProperty(t,"DeploymentUnitOutlined",{enumerable:!0,get:function(){return rC.default;}}),Object.defineProperty(t,"DesktopOutlined",{enumerable:!0,get:function(){return rP.default;}}),Object.defineProperty(t,"DiffFilled",{enumerable:!0,get:function(){return rL.default;}}),Object.defineProperty(t,"DiffOutlined",{enumerable:!0,get:function(){return rw.default;}}),Object.defineProperty(t,"DiffTwoTone",{enumerable:!0,get:function(){return rI.default;}}),Object.defineProperty(t,"DingdingOutlined",{enumerable:!0,get:function(){return rN.default;}}),Object.defineProperty(t,"DingtalkCircleFilled",{enumerable:!0,get:function(){return rD.default;}}),Object.defineProperty(t,"DingtalkOutlined",{enumerable:!0,get:function(){return rF.default;}}),Object.defineProperty(t,"DingtalkSquareFilled",{enumerable:!0,get:function(){return rB.default;}}),Object.defineProperty(t,"DisconnectOutlined",{enumerable:!0,get:function(){return rU.default;}}),Object.defineProperty(t,"DiscordFilled",{enumerable:!0,get:function(){return rj.default;}}),Object.defineProperty(t,"DiscordOutlined",{enumerable:!0,get:function(){return rk.default;}}),Object.defineProperty(t,"DislikeFilled",{enumerable:!0,get:function(){return rG.default;}}),Object.defineProperty(t,"DislikeOutlined",{enumerable:!0,get:function(){return rz.default;}}),Object.defineProperty(t,"DislikeTwoTone",{enumerable:!0,get:function(){return rV.default;}}),Object.defineProperty(t,"DockerOutlined",{enumerable:!0,get:function(){return rH.default;}}),Object.defineProperty(t,"DollarCircleFilled",{enumerable:!0,get:function(){return rX.default;}}),Object.defineProperty(t,"DollarCircleOutlined",{enumerable:!0,get:function(){return rW.default;}}),Object.defineProperty(t,"DollarCircleTwoTone",{enumerable:!0,get:function(){return rY.default;}}),Object.defineProperty(t,"DollarOutlined",{enumerable:!0,get:function(){return rq.default;}}),Object.defineProperty(t,"DollarTwoTone",{enumerable:!0,get:function(){return rZ.default;}}),Object.defineProperty(t,"DotChartOutlined",{enumerable:!0,get:function(){return rK.default;}}),Object.defineProperty(t,"DotNetOutlined",{enumerable:!0,get:function(){return r$.default;}}),Object.defineProperty(t,"DoubleLeftOutlined",{enumerable:!0,get:function(){return rQ.default;}}),Object.defineProperty(t,"DoubleRightOutlined",{enumerable:!0,get:function(){return rJ.default;}}),Object.defineProperty(t,"DownCircleFilled",{enumerable:!0,get:function(){return r0.default;}}),Object.defineProperty(t,"DownCircleOutlined",{enumerable:!0,get:function(){return r1.default;}}),Object.defineProperty(t,"DownCircleTwoTone",{enumerable:!0,get:function(){return r3.default;}}),Object.defineProperty(t,"DownOutlined",{enumerable:!0,get:function(){return r2.default;}}),Object.defineProperty(t,"DownSquareFilled",{enumerable:!0,get:function(){return r4.default;}}),Object.defineProperty(t,"DownSquareOutlined",{enumerable:!0,get:function(){return r6.default;}}),Object.defineProperty(t,"DownSquareTwoTone",{enumerable:!0,get:function(){return r7.default;}}),Object.defineProperty(t,"DownloadOutlined",{enumerable:!0,get:function(){return r5.default;}}),Object.defineProperty(t,"DragOutlined",{enumerable:!0,get:function(){return r9.default;}}),Object.defineProperty(t,"DribbbleCircleFilled",{enumerable:!0,get:function(){return r8.default;}}),Object.defineProperty(t,"DribbbleOutlined",{enumerable:!0,get:function(){return ne.default;}}),Object.defineProperty(t,"DribbbleSquareFilled",{enumerable:!0,get:function(){return nt.default;}}),Object.defineProperty(t,"DribbbleSquareOutlined",{enumerable:!0,get:function(){return nr.default;}}),Object.defineProperty(t,"DropboxCircleFilled",{enumerable:!0,get:function(){return nn.default;}}),Object.defineProperty(t,"DropboxOutlined",{enumerable:!0,get:function(){return na.default;}}),Object.defineProperty(t,"DropboxSquareFilled",{enumerable:!0,get:function(){return ni.default;}}),Object.defineProperty(t,"EditFilled",{enumerable:!0,get:function(){return no.default;}}),Object.defineProperty(t,"EditOutlined",{enumerable:!0,get:function(){return nu.default;}}),Object.defineProperty(t,"EditTwoTone",{enumerable:!0,get:function(){return nl.default;}}),Object.defineProperty(t,"EllipsisOutlined",{enumerable:!0,get:function(){return nf.default;}}),Object.defineProperty(t,"EnterOutlined",{enumerable:!0,get:function(){return ns.default;}}),Object.defineProperty(t,"EnvironmentFilled",{enumerable:!0,get:function(){return nc.default;}}),Object.defineProperty(t,"EnvironmentOutlined",{enumerable:!0,get:function(){return nd.default;}}),Object.defineProperty(t,"EnvironmentTwoTone",{enumerable:!0,get:function(){return nh.default;}}),Object.defineProperty(t,"EuroCircleFilled",{enumerable:!0,get:function(){return np.default;}}),Object.defineProperty(t,"EuroCircleOutlined",{enumerable:!0,get:function(){return nv.default;}}),Object.defineProperty(t,"EuroCircleTwoTone",{enumerable:!0,get:function(){return n_.default;}}),Object.defineProperty(t,"EuroOutlined",{enumerable:!0,get:function(){return nm.default;}}),Object.defineProperty(t,"EuroTwoTone",{enumerable:!0,get:function(){return ng.default;}}),Object.defineProperty(t,"ExceptionOutlined",{enumerable:!0,get:function(){return nb.default;}}),Object.defineProperty(t,"ExclamationCircleFilled",{enumerable:!0,get:function(){return ny.default;}}),Object.defineProperty(t,"ExclamationCircleOutlined",{enumerable:!0,get:function(){return nE.default;}}),Object.defineProperty(t,"ExclamationCircleTwoTone",{enumerable:!0,get:function(){return nT.default;}}),Object.defineProperty(t,"ExclamationOutlined",{enumerable:!0,get:function(){return nA.default;}}),Object.defineProperty(t,"ExpandAltOutlined",{enumerable:!0,get:function(){return nS.default;}}),Object.defineProperty(t,"ExpandOutlined",{enumerable:!0,get:function(){return nO.default;}}),Object.defineProperty(t,"ExperimentFilled",{enumerable:!0,get:function(){return nR.default;}}),Object.defineProperty(t,"ExperimentOutlined",{enumerable:!0,get:function(){return nM.default;}}),Object.defineProperty(t,"ExperimentTwoTone",{enumerable:!0,get:function(){return nx.default;}}),Object.defineProperty(t,"ExportOutlined",{enumerable:!0,get:function(){return nC.default;}}),Object.defineProperty(t,"EyeFilled",{enumerable:!0,get:function(){return nP.default;}}),Object.defineProperty(t,"EyeInvisibleFilled",{enumerable:!0,get:function(){return nL.default;}}),Object.defineProperty(t,"EyeInvisibleOutlined",{enumerable:!0,get:function(){return nw.default;}}),Object.defineProperty(t,"EyeInvisibleTwoTone",{enumerable:!0,get:function(){return nI.default;}}),Object.defineProperty(t,"EyeOutlined",{enumerable:!0,get:function(){return nN.default;}}),Object.defineProperty(t,"EyeTwoTone",{enumerable:!0,get:function(){return nD.default;}}),Object.defineProperty(t,"FacebookFilled",{enumerable:!0,get:function(){return nF.default;}}),Object.defineProperty(t,"FacebookOutlined",{enumerable:!0,get:function(){return nB.default;}}),Object.defineProperty(t,"FallOutlined",{enumerable:!0,get:function(){return nU.default;}}),Object.defineProperty(t,"FastBackwardFilled",{enumerable:!0,get:function(){return nj.default;}}),Object.defineProperty(t,"FastBackwardOutlined",{enumerable:!0,get:function(){return nk.default;}}),Object.defineProperty(t,"FastForwardFilled",{enumerable:!0,get:function(){return nG.default;}}),Object.defineProperty(t,"FastForwardOutlined",{enumerable:!0,get:function(){return nz.default;}}),Object.defineProperty(t,"FieldBinaryOutlined",{enumerable:!0,get:function(){return nV.default;}}),Object.defineProperty(t,"FieldNumberOutlined",{enumerable:!0,get:function(){return nH.default;}}),Object.defineProperty(t,"FieldStringOutlined",{enumerable:!0,get:function(){return nX.default;}}),Object.defineProperty(t,"FieldTimeOutlined",{enumerable:!0,get:function(){return nW.default;}}),Object.defineProperty(t,"FileAddFilled",{enumerable:!0,get:function(){return nY.default;}}),Object.defineProperty(t,"FileAddOutlined",{enumerable:!0,get:function(){return nq.default;}}),Object.defineProperty(t,"FileAddTwoTone",{enumerable:!0,get:function(){return nZ.default;}}),Object.defineProperty(t,"FileDoneOutlined",{enumerable:!0,get:function(){return nK.default;}}),Object.defineProperty(t,"FileExcelFilled",{enumerable:!0,get:function(){return n$.default;}}),Object.defineProperty(t,"FileExcelOutlined",{enumerable:!0,get:function(){return nQ.default;}}),Object.defineProperty(t,"FileExcelTwoTone",{enumerable:!0,get:function(){return nJ.default;}}),Object.defineProperty(t,"FileExclamationFilled",{enumerable:!0,get:function(){return n0.default;}}),Object.defineProperty(t,"FileExclamationOutlined",{enumerable:!0,get:function(){return n1.default;}}),Object.defineProperty(t,"FileExclamationTwoTone",{enumerable:!0,get:function(){return n3.default;}}),Object.defineProperty(t,"FileFilled",{enumerable:!0,get:function(){return n2.default;}}),Object.defineProperty(t,"FileGifOutlined",{enumerable:!0,get:function(){return n4.default;}}),Object.defineProperty(t,"FileImageFilled",{enumerable:!0,get:function(){return n6.default;}}),Object.defineProperty(t,"FileImageOutlined",{enumerable:!0,get:function(){return n7.default;}}),Object.defineProperty(t,"FileImageTwoTone",{enumerable:!0,get:function(){return n5.default;}}),Object.defineProperty(t,"FileJpgOutlined",{enumerable:!0,get:function(){return n9.default;}}),Object.defineProperty(t,"FileMarkdownFilled",{enumerable:!0,get:function(){return n8.default;}}),Object.defineProperty(t,"FileMarkdownOutlined",{enumerable:!0,get:function(){return ae.default;}}),Object.defineProperty(t,"FileMarkdownTwoTone",{enumerable:!0,get:function(){return at.default;}}),Object.defineProperty(t,"FileOutlined",{enumerable:!0,get:function(){return ar.default;}}),Object.defineProperty(t,"FilePdfFilled",{enumerable:!0,get:function(){return an.default;}}),Object.defineProperty(t,"FilePdfOutlined",{enumerable:!0,get:function(){return aa.default;}}),Object.defineProperty(t,"FilePdfTwoTone",{enumerable:!0,get:function(){return ai.default;}}),Object.defineProperty(t,"FilePptFilled",{enumerable:!0,get:function(){return ao.default;}}),Object.defineProperty(t,"FilePptOutlined",{enumerable:!0,get:function(){return au.default;}}),Object.defineProperty(t,"FilePptTwoTone",{enumerable:!0,get:function(){return al.default;}}),Object.defineProperty(t,"FileProtectOutlined",{enumerable:!0,get:function(){return af.default;}}),Object.defineProperty(t,"FileSearchOutlined",{enumerable:!0,get:function(){return as.default;}}),Object.defineProperty(t,"FileSyncOutlined",{enumerable:!0,get:function(){return ac.default;}}),Object.defineProperty(t,"FileTextFilled",{enumerable:!0,get:function(){return ad.default;}}),Object.defineProperty(t,"FileTextOutlined",{enumerable:!0,get:function(){return ah.default;}}),Object.defineProperty(t,"FileTextTwoTone",{enumerable:!0,get:function(){return ap.default;}}),Object.defineProperty(t,"FileTwoTone",{enumerable:!0,get:function(){return av.default;}}),Object.defineProperty(t,"FileUnknownFilled",{enumerable:!0,get:function(){return a_.default;}}),Object.defineProperty(t,"FileUnknownOutlined",{enumerable:!0,get:function(){return am.default;}}),Object.defineProperty(t,"FileUnknownTwoTone",{enumerable:!0,get:function(){return ag.default;}}),Object.defineProperty(t,"FileWordFilled",{enumerable:!0,get:function(){return ab.default;}}),Object.defineProperty(t,"FileWordOutlined",{enumerable:!0,get:function(){return ay.default;}}),Object.defineProperty(t,"FileWordTwoTone",{enumerable:!0,get:function(){return aE.default;}}),Object.defineProperty(t,"FileZipFilled",{enumerable:!0,get:function(){return aT.default;}}),Object.defineProperty(t,"FileZipOutlined",{enumerable:!0,get:function(){return aA.default;}}),Object.defineProperty(t,"FileZipTwoTone",{enumerable:!0,get:function(){return aS.default;}}),Object.defineProperty(t,"FilterFilled",{enumerable:!0,get:function(){return aO.default;}}),Object.defineProperty(t,"FilterOutlined",{enumerable:!0,get:function(){return aR.default;}}),Object.defineProperty(t,"FilterTwoTone",{enumerable:!0,get:function(){return aM.default;}}),Object.defineProperty(t,"FireFilled",{enumerable:!0,get:function(){return ax.default;}}),Object.defineProperty(t,"FireOutlined",{enumerable:!0,get:function(){return aC.default;}}),Object.defineProperty(t,"FireTwoTone",{enumerable:!0,get:function(){return aP.default;}}),Object.defineProperty(t,"FlagFilled",{enumerable:!0,get:function(){return aL.default;}}),Object.defineProperty(t,"FlagOutlined",{enumerable:!0,get:function(){return aw.default;}}),Object.defineProperty(t,"FlagTwoTone",{enumerable:!0,get:function(){return aI.default;}}),Object.defineProperty(t,"FolderAddFilled",{enumerable:!0,get:function(){return aN.default;}}),Object.defineProperty(t,"FolderAddOutlined",{enumerable:!0,get:function(){return aD.default;}}),Object.defineProperty(t,"FolderAddTwoTone",{enumerable:!0,get:function(){return aF.default;}}),Object.defineProperty(t,"FolderFilled",{enumerable:!0,get:function(){return aB.default;}}),Object.defineProperty(t,"FolderOpenFilled",{enumerable:!0,get:function(){return aU.default;}}),Object.defineProperty(t,"FolderOpenOutlined",{enumerable:!0,get:function(){return aj.default;}}),Object.defineProperty(t,"FolderOpenTwoTone",{enumerable:!0,get:function(){return ak.default;}}),Object.defineProperty(t,"FolderOutlined",{enumerable:!0,get:function(){return aG.default;}}),Object.defineProperty(t,"FolderTwoTone",{enumerable:!0,get:function(){return az.default;}}),Object.defineProperty(t,"FolderViewOutlined",{enumerable:!0,get:function(){return aV.default;}}),Object.defineProperty(t,"FontColorsOutlined",{enumerable:!0,get:function(){return aH.default;}}),Object.defineProperty(t,"FontSizeOutlined",{enumerable:!0,get:function(){return aX.default;}}),Object.defineProperty(t,"ForkOutlined",{enumerable:!0,get:function(){return aW.default;}}),Object.defineProperty(t,"FormOutlined",{enumerable:!0,get:function(){return aY.default;}}),Object.defineProperty(t,"FormatPainterFilled",{enumerable:!0,get:function(){return aq.default;}}),Object.defineProperty(t,"FormatPainterOutlined",{enumerable:!0,get:function(){return aZ.default;}}),Object.defineProperty(t,"ForwardFilled",{enumerable:!0,get:function(){return aK.default;}}),Object.defineProperty(t,"ForwardOutlined",{enumerable:!0,get:function(){return a$.default;}}),Object.defineProperty(t,"FrownFilled",{enumerable:!0,get:function(){return aQ.default;}}),Object.defineProperty(t,"FrownOutlined",{enumerable:!0,get:function(){return aJ.default;}}),Object.defineProperty(t,"FrownTwoTone",{enumerable:!0,get:function(){return a0.default;}}),Object.defineProperty(t,"FullscreenExitOutlined",{enumerable:!0,get:function(){return a1.default;}}),Object.defineProperty(t,"FullscreenOutlined",{enumerable:!0,get:function(){return a3.default;}}),Object.defineProperty(t,"FunctionOutlined",{enumerable:!0,get:function(){return a2.default;}}),Object.defineProperty(t,"FundFilled",{enumerable:!0,get:function(){return a4.default;}}),Object.defineProperty(t,"FundOutlined",{enumerable:!0,get:function(){return a6.default;}}),Object.defineProperty(t,"FundProjectionScreenOutlined",{enumerable:!0,get:function(){return a7.default;}}),Object.defineProperty(t,"FundTwoTone",{enumerable:!0,get:function(){return a5.default;}}),Object.defineProperty(t,"FundViewOutlined",{enumerable:!0,get:function(){return a9.default;}}),Object.defineProperty(t,"FunnelPlotFilled",{enumerable:!0,get:function(){return a8.default;}}),Object.defineProperty(t,"FunnelPlotOutlined",{enumerable:!0,get:function(){return ie.default;}}),Object.defineProperty(t,"FunnelPlotTwoTone",{enumerable:!0,get:function(){return it.default;}}),Object.defineProperty(t,"GatewayOutlined",{enumerable:!0,get:function(){return ir.default;}}),Object.defineProperty(t,"GifOutlined",{enumerable:!0,get:function(){return ia.default;}}),Object.defineProperty(t,"GiftFilled",{enumerable:!0,get:function(){return ii.default;}}),Object.defineProperty(t,"GiftOutlined",{enumerable:!0,get:function(){return io.default;}}),Object.defineProperty(t,"GiftTwoTone",{enumerable:!0,get:function(){return iu.default;}}),Object.defineProperty(t,"GithubFilled",{enumerable:!0,get:function(){return il.default;}}),Object.defineProperty(t,"GithubOutlined",{enumerable:!0,get:function(){return is.default;}}),Object.defineProperty(t,"GitlabFilled",{enumerable:!0,get:function(){return ic.default;}}),Object.defineProperty(t,"GitlabOutlined",{enumerable:!0,get:function(){return id.default;}}),Object.defineProperty(t,"GlobalOutlined",{enumerable:!0,get:function(){return ih.default;}}),Object.defineProperty(t,"GoldFilled",{enumerable:!0,get:function(){return ip.default;}}),Object.defineProperty(t,"GoldOutlined",{enumerable:!0,get:function(){return iv.default;}}),Object.defineProperty(t,"GoldTwoTone",{enumerable:!0,get:function(){return i_.default;}}),Object.defineProperty(t,"GoldenFilled",{enumerable:!0,get:function(){return im.default;}}),Object.defineProperty(t,"GoogleCircleFilled",{enumerable:!0,get:function(){return ig.default;}}),Object.defineProperty(t,"GoogleOutlined",{enumerable:!0,get:function(){return ib.default;}}),Object.defineProperty(t,"GooglePlusCircleFilled",{enumerable:!0,get:function(){return iy.default;}}),Object.defineProperty(t,"GooglePlusOutlined",{enumerable:!0,get:function(){return iE.default;}}),Object.defineProperty(t,"GooglePlusSquareFilled",{enumerable:!0,get:function(){return iT.default;}}),Object.defineProperty(t,"GoogleSquareFilled",{enumerable:!0,get:function(){return iA.default;}}),Object.defineProperty(t,"GroupOutlined",{enumerable:!0,get:function(){return iS.default;}}),Object.defineProperty(t,"HarmonyOSOutlined",{enumerable:!0,get:function(){return iO.default;}}),Object.defineProperty(t,"HddFilled",{enumerable:!0,get:function(){return iR.default;}}),Object.defineProperty(t,"HddOutlined",{enumerable:!0,get:function(){return iM.default;}}),Object.defineProperty(t,"HddTwoTone",{enumerable:!0,get:function(){return ix.default;}}),Object.defineProperty(t,"HeartFilled",{enumerable:!0,get:function(){return iC.default;}}),Object.defineProperty(t,"HeartOutlined",{enumerable:!0,get:function(){return iP.default;}}),Object.defineProperty(t,"HeartTwoTone",{enumerable:!0,get:function(){return iL.default;}}),Object.defineProperty(t,"HeatMapOutlined",{enumerable:!0,get:function(){return iw.default;}}),Object.defineProperty(t,"HighlightFilled",{enumerable:!0,get:function(){return iI.default;}}),Object.defineProperty(t,"HighlightOutlined",{enumerable:!0,get:function(){return iN.default;}}),Object.defineProperty(t,"HighlightTwoTone",{enumerable:!0,get:function(){return iD.default;}}),Object.defineProperty(t,"HistoryOutlined",{enumerable:!0,get:function(){return iF.default;}}),Object.defineProperty(t,"HolderOutlined",{enumerable:!0,get:function(){return iB.default;}}),Object.defineProperty(t,"HomeFilled",{enumerable:!0,get:function(){return iU.default;}}),Object.defineProperty(t,"HomeOutlined",{enumerable:!0,get:function(){return ij.default;}}),Object.defineProperty(t,"HomeTwoTone",{enumerable:!0,get:function(){return ik.default;}}),Object.defineProperty(t,"HourglassFilled",{enumerable:!0,get:function(){return iG.default;}}),Object.defineProperty(t,"HourglassOutlined",{enumerable:!0,get:function(){return iz.default;}}),Object.defineProperty(t,"HourglassTwoTone",{enumerable:!0,get:function(){return iV.default;}}),Object.defineProperty(t,"Html5Filled",{enumerable:!0,get:function(){return iH.default;}}),Object.defineProperty(t,"Html5Outlined",{enumerable:!0,get:function(){return iX.default;}}),Object.defineProperty(t,"Html5TwoTone",{enumerable:!0,get:function(){return iW.default;}}),Object.defineProperty(t,"IdcardFilled",{enumerable:!0,get:function(){return iY.default;}}),Object.defineProperty(t,"IdcardOutlined",{enumerable:!0,get:function(){return iq.default;}}),Object.defineProperty(t,"IdcardTwoTone",{enumerable:!0,get:function(){return iZ.default;}}),Object.defineProperty(t,"IeCircleFilled",{enumerable:!0,get:function(){return iK.default;}}),Object.defineProperty(t,"IeOutlined",{enumerable:!0,get:function(){return i$.default;}}),Object.defineProperty(t,"IeSquareFilled",{enumerable:!0,get:function(){return iQ.default;}}),Object.defineProperty(t,"ImportOutlined",{enumerable:!0,get:function(){return iJ.default;}}),Object.defineProperty(t,"InboxOutlined",{enumerable:!0,get:function(){return i0.default;}}),Object.defineProperty(t,"InfoCircleFilled",{enumerable:!0,get:function(){return i1.default;}}),Object.defineProperty(t,"InfoCircleOutlined",{enumerable:!0,get:function(){return i3.default;}}),Object.defineProperty(t,"InfoCircleTwoTone",{enumerable:!0,get:function(){return i2.default;}}),Object.defineProperty(t,"InfoOutlined",{enumerable:!0,get:function(){return i4.default;}}),Object.defineProperty(t,"InsertRowAboveOutlined",{enumerable:!0,get:function(){return i6.default;}}),Object.defineProperty(t,"InsertRowBelowOutlined",{enumerable:!0,get:function(){return i7.default;}}),Object.defineProperty(t,"InsertRowLeftOutlined",{enumerable:!0,get:function(){return i5.default;}}),Object.defineProperty(t,"InsertRowRightOutlined",{enumerable:!0,get:function(){return i9.default;}}),Object.defineProperty(t,"InstagramFilled",{enumerable:!0,get:function(){return i8.default;}}),Object.defineProperty(t,"InstagramOutlined",{enumerable:!0,get:function(){return oe.default;}}),Object.defineProperty(t,"InsuranceFilled",{enumerable:!0,get:function(){return ot.default;}}),Object.defineProperty(t,"InsuranceOutlined",{enumerable:!0,get:function(){return or.default;}}),Object.defineProperty(t,"InsuranceTwoTone",{enumerable:!0,get:function(){return on.default;}}),Object.defineProperty(t,"InteractionFilled",{enumerable:!0,get:function(){return oa.default;}}),Object.defineProperty(t,"InteractionOutlined",{enumerable:!0,get:function(){return oi.default;}}),Object.defineProperty(t,"InteractionTwoTone",{enumerable:!0,get:function(){return oo.default;}}),Object.defineProperty(t,"IssuesCloseOutlined",{enumerable:!0,get:function(){return ou.default;}}),Object.defineProperty(t,"ItalicOutlined",{enumerable:!0,get:function(){return ol.default;}}),Object.defineProperty(t,"JavaOutlined",{enumerable:!0,get:function(){return of.default;}}),Object.defineProperty(t,"JavaScriptOutlined",{enumerable:!0,get:function(){return os.default;}}),Object.defineProperty(t,"KeyOutlined",{enumerable:!0,get:function(){return oc.default;}}),Object.defineProperty(t,"KubernetesOutlined",{enumerable:!0,get:function(){return od.default;}}),Object.defineProperty(t,"LaptopOutlined",{enumerable:!0,get:function(){return oh.default;}}),Object.defineProperty(t,"LayoutFilled",{enumerable:!0,get:function(){return op.default;}}),Object.defineProperty(t,"LayoutOutlined",{enumerable:!0,get:function(){return ov.default;}}),Object.defineProperty(t,"LayoutTwoTone",{enumerable:!0,get:function(){return o_.default;}}),Object.defineProperty(t,"LeftCircleFilled",{enumerable:!0,get:function(){return om.default;}}),Object.defineProperty(t,"LeftCircleOutlined",{enumerable:!0,get:function(){return og.default;}}),Object.defineProperty(t,"LeftCircleTwoTone",{enumerable:!0,get:function(){return ob.default;}}),Object.defineProperty(t,"LeftOutlined",{enumerable:!0,get:function(){return oy.default;}}),Object.defineProperty(t,"LeftSquareFilled",{enumerable:!0,get:function(){return oE.default;}}),Object.defineProperty(t,"LeftSquareOutlined",{enumerable:!0,get:function(){return oT.default;}}),Object.defineProperty(t,"LeftSquareTwoTone",{enumerable:!0,get:function(){return oA.default;}}),Object.defineProperty(t,"LikeFilled",{enumerable:!0,get:function(){return oS.default;}}),Object.defineProperty(t,"LikeOutlined",{enumerable:!0,get:function(){return oO.default;}}),Object.defineProperty(t,"LikeTwoTone",{enumerable:!0,get:function(){return oR.default;}}),Object.defineProperty(t,"LineChartOutlined",{enumerable:!0,get:function(){return oM.default;}}),Object.defineProperty(t,"LineHeightOutlined",{enumerable:!0,get:function(){return ox.default;}}),Object.defineProperty(t,"LineOutlined",{enumerable:!0,get:function(){return oC.default;}}),Object.defineProperty(t,"LinkOutlined",{enumerable:!0,get:function(){return oP.default;}}),Object.defineProperty(t,"LinkedinFilled",{enumerable:!0,get:function(){return oL.default;}}),Object.defineProperty(t,"LinkedinOutlined",{enumerable:!0,get:function(){return ow.default;}}),Object.defineProperty(t,"LinuxOutlined",{enumerable:!0,get:function(){return oI.default;}}),Object.defineProperty(t,"Loading3QuartersOutlined",{enumerable:!0,get:function(){return oN.default;}}),Object.defineProperty(t,"LoadingOutlined",{enumerable:!0,get:function(){return oD.default;}}),Object.defineProperty(t,"LockFilled",{enumerable:!0,get:function(){return oF.default;}}),Object.defineProperty(t,"LockOutlined",{enumerable:!0,get:function(){return oB.default;}}),Object.defineProperty(t,"LockTwoTone",{enumerable:!0,get:function(){return oU.default;}}),Object.defineProperty(t,"LoginOutlined",{enumerable:!0,get:function(){return oj.default;}}),Object.defineProperty(t,"LogoutOutlined",{enumerable:!0,get:function(){return ok.default;}}),Object.defineProperty(t,"MacCommandFilled",{enumerable:!0,get:function(){return oG.default;}}),Object.defineProperty(t,"MacCommandOutlined",{enumerable:!0,get:function(){return oz.default;}}),Object.defineProperty(t,"MailFilled",{enumerable:!0,get:function(){return oV.default;}}),Object.defineProperty(t,"MailOutlined",{enumerable:!0,get:function(){return oH.default;}}),Object.defineProperty(t,"MailTwoTone",{enumerable:!0,get:function(){return oX.default;}}),Object.defineProperty(t,"ManOutlined",{enumerable:!0,get:function(){return oW.default;}}),Object.defineProperty(t,"MedicineBoxFilled",{enumerable:!0,get:function(){return oY.default;}}),Object.defineProperty(t,"MedicineBoxOutlined",{enumerable:!0,get:function(){return oq.default;}}),Object.defineProperty(t,"MedicineBoxTwoTone",{enumerable:!0,get:function(){return oZ.default;}}),Object.defineProperty(t,"MediumCircleFilled",{enumerable:!0,get:function(){return oK.default;}}),Object.defineProperty(t,"MediumOutlined",{enumerable:!0,get:function(){return o$.default;}}),Object.defineProperty(t,"MediumSquareFilled",{enumerable:!0,get:function(){return oQ.default;}}),Object.defineProperty(t,"MediumWorkmarkOutlined",{enumerable:!0,get:function(){return oJ.default;}}),Object.defineProperty(t,"MehFilled",{enumerable:!0,get:function(){return o0.default;}}),Object.defineProperty(t,"MehOutlined",{enumerable:!0,get:function(){return o1.default;}}),Object.defineProperty(t,"MehTwoTone",{enumerable:!0,get:function(){return o3.default;}}),Object.defineProperty(t,"MenuFoldOutlined",{enumerable:!0,get:function(){return o2.default;}}),Object.defineProperty(t,"MenuOutlined",{enumerable:!0,get:function(){return o4.default;}}),Object.defineProperty(t,"MenuUnfoldOutlined",{enumerable:!0,get:function(){return o6.default;}}),Object.defineProperty(t,"MergeCellsOutlined",{enumerable:!0,get:function(){return o7.default;}}),Object.defineProperty(t,"MergeFilled",{enumerable:!0,get:function(){return o5.default;}}),Object.defineProperty(t,"MergeOutlined",{enumerable:!0,get:function(){return o9.default;}}),Object.defineProperty(t,"MessageFilled",{enumerable:!0,get:function(){return o8.default;}}),Object.defineProperty(t,"MessageOutlined",{enumerable:!0,get:function(){return ue.default;}}),Object.defineProperty(t,"MessageTwoTone",{enumerable:!0,get:function(){return ut.default;}}),Object.defineProperty(t,"MinusCircleFilled",{enumerable:!0,get:function(){return ur.default;}}),Object.defineProperty(t,"MinusCircleOutlined",{enumerable:!0,get:function(){return un.default;}}),Object.defineProperty(t,"MinusCircleTwoTone",{enumerable:!0,get:function(){return ua.default;}}),Object.defineProperty(t,"MinusOutlined",{enumerable:!0,get:function(){return ui.default;}}),Object.defineProperty(t,"MinusSquareFilled",{enumerable:!0,get:function(){return uo.default;}}),Object.defineProperty(t,"MinusSquareOutlined",{enumerable:!0,get:function(){return uu.default;}}),Object.defineProperty(t,"MinusSquareTwoTone",{enumerable:!0,get:function(){return ul.default;}}),Object.defineProperty(t,"MobileFilled",{enumerable:!0,get:function(){return uf.default;}}),Object.defineProperty(t,"MobileOutlined",{enumerable:!0,get:function(){return us.default;}}),Object.defineProperty(t,"MobileTwoTone",{enumerable:!0,get:function(){return uc.default;}}),Object.defineProperty(t,"MoneyCollectFilled",{enumerable:!0,get:function(){return ud.default;}}),Object.defineProperty(t,"MoneyCollectOutlined",{enumerable:!0,get:function(){return uh.default;}}),Object.defineProperty(t,"MoneyCollectTwoTone",{enumerable:!0,get:function(){return up.default;}}),Object.defineProperty(t,"MonitorOutlined",{enumerable:!0,get:function(){return uv.default;}}),Object.defineProperty(t,"MoonFilled",{enumerable:!0,get:function(){return u_.default;}}),Object.defineProperty(t,"MoonOutlined",{enumerable:!0,get:function(){return um.default;}}),Object.defineProperty(t,"MoreOutlined",{enumerable:!0,get:function(){return ug.default;}}),Object.defineProperty(t,"MutedFilled",{enumerable:!0,get:function(){return ub.default;}}),Object.defineProperty(t,"MutedOutlined",{enumerable:!0,get:function(){return uy.default;}}),Object.defineProperty(t,"NodeCollapseOutlined",{enumerable:!0,get:function(){return uE.default;}}),Object.defineProperty(t,"NodeExpandOutlined",{enumerable:!0,get:function(){return uT.default;}}),Object.defineProperty(t,"NodeIndexOutlined",{enumerable:!0,get:function(){return uA.default;}}),Object.defineProperty(t,"NotificationFilled",{enumerable:!0,get:function(){return uS.default;}}),Object.defineProperty(t,"NotificationOutlined",{enumerable:!0,get:function(){return uO.default;}}),Object.defineProperty(t,"NotificationTwoTone",{enumerable:!0,get:function(){return uR.default;}}),Object.defineProperty(t,"NumberOutlined",{enumerable:!0,get:function(){return uM.default;}}),Object.defineProperty(t,"OneToOneOutlined",{enumerable:!0,get:function(){return ux.default;}}),Object.defineProperty(t,"OpenAIFilled",{enumerable:!0,get:function(){return uC.default;}}),Object.defineProperty(t,"OpenAIOutlined",{enumerable:!0,get:function(){return uP.default;}}),Object.defineProperty(t,"OrderedListOutlined",{enumerable:!0,get:function(){return uL.default;}}),Object.defineProperty(t,"PaperClipOutlined",{enumerable:!0,get:function(){return uw.default;}}),Object.defineProperty(t,"PartitionOutlined",{enumerable:!0,get:function(){return uI.default;}}),Object.defineProperty(t,"PauseCircleFilled",{enumerable:!0,get:function(){return uN.default;}}),Object.defineProperty(t,"PauseCircleOutlined",{enumerable:!0,get:function(){return uD.default;}}),Object.defineProperty(t,"PauseCircleTwoTone",{enumerable:!0,get:function(){return uF.default;}}),Object.defineProperty(t,"PauseOutlined",{enumerable:!0,get:function(){return uB.default;}}),Object.defineProperty(t,"PayCircleFilled",{enumerable:!0,get:function(){return uU.default;}}),Object.defineProperty(t,"PayCircleOutlined",{enumerable:!0,get:function(){return uj.default;}}),Object.defineProperty(t,"PercentageOutlined",{enumerable:!0,get:function(){return uk.default;}}),Object.defineProperty(t,"PhoneFilled",{enumerable:!0,get:function(){return uG.default;}}),Object.defineProperty(t,"PhoneOutlined",{enumerable:!0,get:function(){return uz.default;}}),Object.defineProperty(t,"PhoneTwoTone",{enumerable:!0,get:function(){return uV.default;}}),Object.defineProperty(t,"PicCenterOutlined",{enumerable:!0,get:function(){return uH.default;}}),Object.defineProperty(t,"PicLeftOutlined",{enumerable:!0,get:function(){return uX.default;}}),Object.defineProperty(t,"PicRightOutlined",{enumerable:!0,get:function(){return uW.default;}}),Object.defineProperty(t,"PictureFilled",{enumerable:!0,get:function(){return uY.default;}}),Object.defineProperty(t,"PictureOutlined",{enumerable:!0,get:function(){return uq.default;}}),Object.defineProperty(t,"PictureTwoTone",{enumerable:!0,get:function(){return uZ.default;}}),Object.defineProperty(t,"PieChartFilled",{enumerable:!0,get:function(){return uK.default;}}),Object.defineProperty(t,"PieChartOutlined",{enumerable:!0,get:function(){return u$.default;}}),Object.defineProperty(t,"PieChartTwoTone",{enumerable:!0,get:function(){return uQ.default;}}),Object.defineProperty(t,"PinterestFilled",{enumerable:!0,get:function(){return uJ.default;}}),Object.defineProperty(t,"PinterestOutlined",{enumerable:!0,get:function(){return u0.default;}}),Object.defineProperty(t,"PlayCircleFilled",{enumerable:!0,get:function(){return u1.default;}}),Object.defineProperty(t,"PlayCircleOutlined",{enumerable:!0,get:function(){return u3.default;}}),Object.defineProperty(t,"PlayCircleTwoTone",{enumerable:!0,get:function(){return u2.default;}}),Object.defineProperty(t,"PlaySquareFilled",{enumerable:!0,get:function(){return u4.default;}}),Object.defineProperty(t,"PlaySquareOutlined",{enumerable:!0,get:function(){return u6.default;}}),Object.defineProperty(t,"PlaySquareTwoTone",{enumerable:!0,get:function(){return u7.default;}}),Object.defineProperty(t,"PlusCircleFilled",{enumerable:!0,get:function(){return u5.default;}}),Object.defineProperty(t,"PlusCircleOutlined",{enumerable:!0,get:function(){return u9.default;}}),Object.defineProperty(t,"PlusCircleTwoTone",{enumerable:!0,get:function(){return u8.default;}}),Object.defineProperty(t,"PlusOutlined",{enumerable:!0,get:function(){return le.default;}}),Object.defineProperty(t,"PlusSquareFilled",{enumerable:!0,get:function(){return lt.default;}}),Object.defineProperty(t,"PlusSquareOutlined",{enumerable:!0,get:function(){return lr.default;}}),Object.defineProperty(t,"PlusSquareTwoTone",{enumerable:!0,get:function(){return ln.default;}}),Object.defineProperty(t,"PoundCircleFilled",{enumerable:!0,get:function(){return la.default;}}),Object.defineProperty(t,"PoundCircleOutlined",{enumerable:!0,get:function(){return li.default;}}),Object.defineProperty(t,"PoundCircleTwoTone",{enumerable:!0,get:function(){return lo.default;}}),Object.defineProperty(t,"PoundOutlined",{enumerable:!0,get:function(){return lu.default;}}),Object.defineProperty(t,"PoweroffOutlined",{enumerable:!0,get:function(){return ll.default;}}),Object.defineProperty(t,"PrinterFilled",{enumerable:!0,get:function(){return lf.default;}}),Object.defineProperty(t,"PrinterOutlined",{enumerable:!0,get:function(){return ls.default;}}),Object.defineProperty(t,"PrinterTwoTone",{enumerable:!0,get:function(){return lc.default;}}),Object.defineProperty(t,"ProductFilled",{enumerable:!0,get:function(){return ld.default;}}),Object.defineProperty(t,"ProductOutlined",{enumerable:!0,get:function(){return lh.default;}}),Object.defineProperty(t,"ProfileFilled",{enumerable:!0,get:function(){return lp.default;}}),Object.defineProperty(t,"ProfileOutlined",{enumerable:!0,get:function(){return lv.default;}}),Object.defineProperty(t,"ProfileTwoTone",{enumerable:!0,get:function(){return l_.default;}}),Object.defineProperty(t,"ProjectFilled",{enumerable:!0,get:function(){return lm.default;}}),Object.defineProperty(t,"ProjectOutlined",{enumerable:!0,get:function(){return lg.default;}}),Object.defineProperty(t,"ProjectTwoTone",{enumerable:!0,get:function(){return lb.default;}}),Object.defineProperty(t,"PropertySafetyFilled",{enumerable:!0,get:function(){return ly.default;}}),Object.defineProperty(t,"PropertySafetyOutlined",{enumerable:!0,get:function(){return lE.default;}}),Object.defineProperty(t,"PropertySafetyTwoTone",{enumerable:!0,get:function(){return lT.default;}}),Object.defineProperty(t,"PullRequestOutlined",{enumerable:!0,get:function(){return lA.default;}}),Object.defineProperty(t,"PushpinFilled",{enumerable:!0,get:function(){return lS.default;}}),Object.defineProperty(t,"PushpinOutlined",{enumerable:!0,get:function(){return lO.default;}}),Object.defineProperty(t,"PushpinTwoTone",{enumerable:!0,get:function(){return lR.default;}}),Object.defineProperty(t,"PythonOutlined",{enumerable:!0,get:function(){return lM.default;}}),Object.defineProperty(t,"QqCircleFilled",{enumerable:!0,get:function(){return lx.default;}}),Object.defineProperty(t,"QqOutlined",{enumerable:!0,get:function(){return lC.default;}}),Object.defineProperty(t,"QqSquareFilled",{enumerable:!0,get:function(){return lP.default;}}),Object.defineProperty(t,"QrcodeOutlined",{enumerable:!0,get:function(){return lL.default;}}),Object.defineProperty(t,"QuestionCircleFilled",{enumerable:!0,get:function(){return lw.default;}}),Object.defineProperty(t,"QuestionCircleOutlined",{enumerable:!0,get:function(){return lI.default;}}),Object.defineProperty(t,"QuestionCircleTwoTone",{enumerable:!0,get:function(){return lN.default;}}),Object.defineProperty(t,"QuestionOutlined",{enumerable:!0,get:function(){return lD.default;}}),Object.defineProperty(t,"RadarChartOutlined",{enumerable:!0,get:function(){return lF.default;}}),Object.defineProperty(t,"RadiusBottomleftOutlined",{enumerable:!0,get:function(){return lB.default;}}),Object.defineProperty(t,"RadiusBottomrightOutlined",{enumerable:!0,get:function(){return lU.default;}}),Object.defineProperty(t,"RadiusSettingOutlined",{enumerable:!0,get:function(){return lj.default;}}),Object.defineProperty(t,"RadiusUpleftOutlined",{enumerable:!0,get:function(){return lk.default;}}),Object.defineProperty(t,"RadiusUprightOutlined",{enumerable:!0,get:function(){return lG.default;}}),Object.defineProperty(t,"ReadFilled",{enumerable:!0,get:function(){return lz.default;}}),Object.defineProperty(t,"ReadOutlined",{enumerable:!0,get:function(){return lV.default;}}),Object.defineProperty(t,"ReconciliationFilled",{enumerable:!0,get:function(){return lH.default;}}),Object.defineProperty(t,"ReconciliationOutlined",{enumerable:!0,get:function(){return lX.default;}}),Object.defineProperty(t,"ReconciliationTwoTone",{enumerable:!0,get:function(){return lW.default;}}),Object.defineProperty(t,"RedEnvelopeFilled",{enumerable:!0,get:function(){return lY.default;}}),Object.defineProperty(t,"RedEnvelopeOutlined",{enumerable:!0,get:function(){return lq.default;}}),Object.defineProperty(t,"RedEnvelopeTwoTone",{enumerable:!0,get:function(){return lZ.default;}}),Object.defineProperty(t,"RedditCircleFilled",{enumerable:!0,get:function(){return lK.default;}}),Object.defineProperty(t,"RedditOutlined",{enumerable:!0,get:function(){return l$.default;}}),Object.defineProperty(t,"RedditSquareFilled",{enumerable:!0,get:function(){return lQ.default;}}),Object.defineProperty(t,"RedoOutlined",{enumerable:!0,get:function(){return lJ.default;}}),Object.defineProperty(t,"ReloadOutlined",{enumerable:!0,get:function(){return l0.default;}}),Object.defineProperty(t,"RestFilled",{enumerable:!0,get:function(){return l1.default;}}),Object.defineProperty(t,"RestOutlined",{enumerable:!0,get:function(){return l3.default;}}),Object.defineProperty(t,"RestTwoTone",{enumerable:!0,get:function(){return l2.default;}}),Object.defineProperty(t,"RetweetOutlined",{enumerable:!0,get:function(){return l4.default;}}),Object.defineProperty(t,"RightCircleFilled",{enumerable:!0,get:function(){return l6.default;}}),Object.defineProperty(t,"RightCircleOutlined",{enumerable:!0,get:function(){return l7.default;}}),Object.defineProperty(t,"RightCircleTwoTone",{enumerable:!0,get:function(){return l5.default;}}),Object.defineProperty(t,"RightOutlined",{enumerable:!0,get:function(){return l9.default;}}),Object.defineProperty(t,"RightSquareFilled",{enumerable:!0,get:function(){return l8.default;}}),Object.defineProperty(t,"RightSquareOutlined",{enumerable:!0,get:function(){return fe.default;}}),Object.defineProperty(t,"RightSquareTwoTone",{enumerable:!0,get:function(){return ft.default;}}),Object.defineProperty(t,"RiseOutlined",{enumerable:!0,get:function(){return fr.default;}}),Object.defineProperty(t,"RobotFilled",{enumerable:!0,get:function(){return fn.default;}}),Object.defineProperty(t,"RobotOutlined",{enumerable:!0,get:function(){return fa.default;}}),Object.defineProperty(t,"RocketFilled",{enumerable:!0,get:function(){return fi.default;}}),Object.defineProperty(t,"RocketOutlined",{enumerable:!0,get:function(){return fo.default;}}),Object.defineProperty(t,"RocketTwoTone",{enumerable:!0,get:function(){return fu.default;}}),Object.defineProperty(t,"RollbackOutlined",{enumerable:!0,get:function(){return fl.default;}}),Object.defineProperty(t,"RotateLeftOutlined",{enumerable:!0,get:function(){return ff.default;}}),Object.defineProperty(t,"RotateRightOutlined",{enumerable:!0,get:function(){return fs.default;}}),Object.defineProperty(t,"RubyOutlined",{enumerable:!0,get:function(){return fc.default;}}),Object.defineProperty(t,"SafetyCertificateFilled",{enumerable:!0,get:function(){return fd.default;}}),Object.defineProperty(t,"SafetyCertificateOutlined",{enumerable:!0,get:function(){return fh.default;}}),Object.defineProperty(t,"SafetyCertificateTwoTone",{enumerable:!0,get:function(){return fp.default;}}),Object.defineProperty(t,"SafetyOutlined",{enumerable:!0,get:function(){return fv.default;}}),Object.defineProperty(t,"SaveFilled",{enumerable:!0,get:function(){return f_.default;}}),Object.defineProperty(t,"SaveOutlined",{enumerable:!0,get:function(){return fm.default;}}),Object.defineProperty(t,"SaveTwoTone",{enumerable:!0,get:function(){return fg.default;}}),Object.defineProperty(t,"ScanOutlined",{enumerable:!0,get:function(){return fb.default;}}),Object.defineProperty(t,"ScheduleFilled",{enumerable:!0,get:function(){return fy.default;}}),Object.defineProperty(t,"ScheduleOutlined",{enumerable:!0,get:function(){return fE.default;}}),Object.defineProperty(t,"ScheduleTwoTone",{enumerable:!0,get:function(){return fT.default;}}),Object.defineProperty(t,"ScissorOutlined",{enumerable:!0,get:function(){return fA.default;}}),Object.defineProperty(t,"SearchOutlined",{enumerable:!0,get:function(){return fS.default;}}),Object.defineProperty(t,"SecurityScanFilled",{enumerable:!0,get:function(){return fO.default;}}),Object.defineProperty(t,"SecurityScanOutlined",{enumerable:!0,get:function(){return fR.default;}}),Object.defineProperty(t,"SecurityScanTwoTone",{enumerable:!0,get:function(){return fM.default;}}),Object.defineProperty(t,"SelectOutlined",{enumerable:!0,get:function(){return fx.default;}}),Object.defineProperty(t,"SendOutlined",{enumerable:!0,get:function(){return fC.default;}}),Object.defineProperty(t,"SettingFilled",{enumerable:!0,get:function(){return fP.default;}}),Object.defineProperty(t,"SettingOutlined",{enumerable:!0,get:function(){return fL.default;}}),Object.defineProperty(t,"SettingTwoTone",{enumerable:!0,get:function(){return fw.default;}}),Object.defineProperty(t,"ShakeOutlined",{enumerable:!0,get:function(){return fI.default;}}),Object.defineProperty(t,"ShareAltOutlined",{enumerable:!0,get:function(){return fN.default;}}),Object.defineProperty(t,"ShopFilled",{enumerable:!0,get:function(){return fD.default;}}),Object.defineProperty(t,"ShopOutlined",{enumerable:!0,get:function(){return fF.default;}}),Object.defineProperty(t,"ShopTwoTone",{enumerable:!0,get:function(){return fB.default;}}),Object.defineProperty(t,"ShoppingCartOutlined",{enumerable:!0,get:function(){return fU.default;}}),Object.defineProperty(t,"ShoppingFilled",{enumerable:!0,get:function(){return fj.default;}}),Object.defineProperty(t,"ShoppingOutlined",{enumerable:!0,get:function(){return fk.default;}}),Object.defineProperty(t,"ShoppingTwoTone",{enumerable:!0,get:function(){return fG.default;}}),Object.defineProperty(t,"ShrinkOutlined",{enumerable:!0,get:function(){return fz.default;}}),Object.defineProperty(t,"SignalFilled",{enumerable:!0,get:function(){return fV.default;}}),Object.defineProperty(t,"SignatureFilled",{enumerable:!0,get:function(){return fH.default;}}),Object.defineProperty(t,"SignatureOutlined",{enumerable:!0,get:function(){return fX.default;}}),Object.defineProperty(t,"SisternodeOutlined",{enumerable:!0,get:function(){return fW.default;}}),Object.defineProperty(t,"SketchCircleFilled",{enumerable:!0,get:function(){return fY.default;}}),Object.defineProperty(t,"SketchOutlined",{enumerable:!0,get:function(){return fq.default;}}),Object.defineProperty(t,"SketchSquareFilled",{enumerable:!0,get:function(){return fZ.default;}}),Object.defineProperty(t,"SkinFilled",{enumerable:!0,get:function(){return fK.default;}}),Object.defineProperty(t,"SkinOutlined",{enumerable:!0,get:function(){return f$.default;}}),Object.defineProperty(t,"SkinTwoTone",{enumerable:!0,get:function(){return fQ.default;}}),Object.defineProperty(t,"SkypeFilled",{enumerable:!0,get:function(){return fJ.default;}}),Object.defineProperty(t,"SkypeOutlined",{enumerable:!0,get:function(){return f0.default;}}),Object.defineProperty(t,"SlackCircleFilled",{enumerable:!0,get:function(){return f1.default;}}),Object.defineProperty(t,"SlackOutlined",{enumerable:!0,get:function(){return f3.default;}}),Object.defineProperty(t,"SlackSquareFilled",{enumerable:!0,get:function(){return f2.default;}}),Object.defineProperty(t,"SlackSquareOutlined",{enumerable:!0,get:function(){return f4.default;}}),Object.defineProperty(t,"SlidersFilled",{enumerable:!0,get:function(){return f6.default;}}),Object.defineProperty(t,"SlidersOutlined",{enumerable:!0,get:function(){return f7.default;}}),Object.defineProperty(t,"SlidersTwoTone",{enumerable:!0,get:function(){return f5.default;}}),Object.defineProperty(t,"SmallDashOutlined",{enumerable:!0,get:function(){return f9.default;}}),Object.defineProperty(t,"SmileFilled",{enumerable:!0,get:function(){return f8.default;}}),Object.defineProperty(t,"SmileOutlined",{enumerable:!0,get:function(){return se.default;}}),Object.defineProperty(t,"SmileTwoTone",{enumerable:!0,get:function(){return st.default;}}),Object.defineProperty(t,"SnippetsFilled",{enumerable:!0,get:function(){return sr.default;}}),Object.defineProperty(t,"SnippetsOutlined",{enumerable:!0,get:function(){return sn.default;}}),Object.defineProperty(t,"SnippetsTwoTone",{enumerable:!0,get:function(){return sa.default;}}),Object.defineProperty(t,"SolutionOutlined",{enumerable:!0,get:function(){return si.default;}}),Object.defineProperty(t,"SortAscendingOutlined",{enumerable:!0,get:function(){return so.default;}}),Object.defineProperty(t,"SortDescendingOutlined",{enumerable:!0,get:function(){return su.default;}}),Object.defineProperty(t,"SoundFilled",{enumerable:!0,get:function(){return sl.default;}}),Object.defineProperty(t,"SoundOutlined",{enumerable:!0,get:function(){return sf.default;}}),Object.defineProperty(t,"SoundTwoTone",{enumerable:!0,get:function(){return ss.default;}}),Object.defineProperty(t,"SplitCellsOutlined",{enumerable:!0,get:function(){return sc.default;}}),Object.defineProperty(t,"SpotifyFilled",{enumerable:!0,get:function(){return sd.default;}}),Object.defineProperty(t,"SpotifyOutlined",{enumerable:!0,get:function(){return sh.default;}}),Object.defineProperty(t,"StarFilled",{enumerable:!0,get:function(){return sp.default;}}),Object.defineProperty(t,"StarOutlined",{enumerable:!0,get:function(){return sv.default;}}),Object.defineProperty(t,"StarTwoTone",{enumerable:!0,get:function(){return s_.default;}}),Object.defineProperty(t,"StepBackwardFilled",{enumerable:!0,get:function(){return sm.default;}}),Object.defineProperty(t,"StepBackwardOutlined",{enumerable:!0,get:function(){return sg.default;}}),Object.defineProperty(t,"StepForwardFilled",{enumerable:!0,get:function(){return sb.default;}}),Object.defineProperty(t,"StepForwardOutlined",{enumerable:!0,get:function(){return sy.default;}}),Object.defineProperty(t,"StockOutlined",{enumerable:!0,get:function(){return sE.default;}}),Object.defineProperty(t,"StopFilled",{enumerable:!0,get:function(){return sT.default;}}),Object.defineProperty(t,"StopOutlined",{enumerable:!0,get:function(){return sA.default;}}),Object.defineProperty(t,"StopTwoTone",{enumerable:!0,get:function(){return sS.default;}}),Object.defineProperty(t,"StrikethroughOutlined",{enumerable:!0,get:function(){return sO.default;}}),Object.defineProperty(t,"SubnodeOutlined",{enumerable:!0,get:function(){return sR.default;}}),Object.defineProperty(t,"SunFilled",{enumerable:!0,get:function(){return sM.default;}}),Object.defineProperty(t,"SunOutlined",{enumerable:!0,get:function(){return sx.default;}}),Object.defineProperty(t,"SwapLeftOutlined",{enumerable:!0,get:function(){return sC.default;}}),Object.defineProperty(t,"SwapOutlined",{enumerable:!0,get:function(){return sP.default;}}),Object.defineProperty(t,"SwapRightOutlined",{enumerable:!0,get:function(){return sL.default;}}),Object.defineProperty(t,"SwitcherFilled",{enumerable:!0,get:function(){return sw.default;}}),Object.defineProperty(t,"SwitcherOutlined",{enumerable:!0,get:function(){return sI.default;}}),Object.defineProperty(t,"SwitcherTwoTone",{enumerable:!0,get:function(){return sN.default;}}),Object.defineProperty(t,"SyncOutlined",{enumerable:!0,get:function(){return sD.default;}}),Object.defineProperty(t,"TableOutlined",{enumerable:!0,get:function(){return sF.default;}}),Object.defineProperty(t,"TabletFilled",{enumerable:!0,get:function(){return sB.default;}}),Object.defineProperty(t,"TabletOutlined",{enumerable:!0,get:function(){return sU.default;}}),Object.defineProperty(t,"TabletTwoTone",{enumerable:!0,get:function(){return sj.default;}}),Object.defineProperty(t,"TagFilled",{enumerable:!0,get:function(){return sk.default;}}),Object.defineProperty(t,"TagOutlined",{enumerable:!0,get:function(){return sG.default;}}),Object.defineProperty(t,"TagTwoTone",{enumerable:!0,get:function(){return sz.default;}}),Object.defineProperty(t,"TagsFilled",{enumerable:!0,get:function(){return sV.default;}}),Object.defineProperty(t,"TagsOutlined",{enumerable:!0,get:function(){return sH.default;}}),Object.defineProperty(t,"TagsTwoTone",{enumerable:!0,get:function(){return sX.default;}}),Object.defineProperty(t,"TaobaoCircleFilled",{enumerable:!0,get:function(){return sW.default;}}),Object.defineProperty(t,"TaobaoCircleOutlined",{enumerable:!0,get:function(){return sY.default;}}),Object.defineProperty(t,"TaobaoOutlined",{enumerable:!0,get:function(){return sq.default;}}),Object.defineProperty(t,"TaobaoSquareFilled",{enumerable:!0,get:function(){return sZ.default;}}),Object.defineProperty(t,"TeamOutlined",{enumerable:!0,get:function(){return sK.default;}}),Object.defineProperty(t,"ThunderboltFilled",{enumerable:!0,get:function(){return s$.default;}}),Object.defineProperty(t,"ThunderboltOutlined",{enumerable:!0,get:function(){return sQ.default;}}),Object.defineProperty(t,"ThunderboltTwoTone",{enumerable:!0,get:function(){return sJ.default;}}),Object.defineProperty(t,"TikTokFilled",{enumerable:!0,get:function(){return s0.default;}}),Object.defineProperty(t,"TikTokOutlined",{enumerable:!0,get:function(){return s1.default;}}),Object.defineProperty(t,"ToTopOutlined",{enumerable:!0,get:function(){return s3.default;}}),Object.defineProperty(t,"ToolFilled",{enumerable:!0,get:function(){return s2.default;}}),Object.defineProperty(t,"ToolOutlined",{enumerable:!0,get:function(){return s4.default;}}),Object.defineProperty(t,"ToolTwoTone",{enumerable:!0,get:function(){return s6.default;}}),Object.defineProperty(t,"TrademarkCircleFilled",{enumerable:!0,get:function(){return s7.default;}}),Object.defineProperty(t,"TrademarkCircleOutlined",{enumerable:!0,get:function(){return s5.default;}}),Object.defineProperty(t,"TrademarkCircleTwoTone",{enumerable:!0,get:function(){return s9.default;}}),Object.defineProperty(t,"TrademarkOutlined",{enumerable:!0,get:function(){return s8.default;}}),Object.defineProperty(t,"TransactionOutlined",{enumerable:!0,get:function(){return ce.default;}}),Object.defineProperty(t,"TranslationOutlined",{enumerable:!0,get:function(){return ct.default;}}),Object.defineProperty(t,"TrophyFilled",{enumerable:!0,get:function(){return cr.default;}}),Object.defineProperty(t,"TrophyOutlined",{enumerable:!0,get:function(){return cn.default;}}),Object.defineProperty(t,"TrophyTwoTone",{enumerable:!0,get:function(){return ca.default;}}),Object.defineProperty(t,"TruckFilled",{enumerable:!0,get:function(){return ci.default;}}),Object.defineProperty(t,"TruckOutlined",{enumerable:!0,get:function(){return co.default;}}),Object.defineProperty(t,"TwitchFilled",{enumerable:!0,get:function(){return cu.default;}}),Object.defineProperty(t,"TwitchOutlined",{enumerable:!0,get:function(){return cl.default;}}),Object.defineProperty(t,"TwitterCircleFilled",{enumerable:!0,get:function(){return cf.default;}}),Object.defineProperty(t,"TwitterOutlined",{enumerable:!0,get:function(){return cs.default;}}),Object.defineProperty(t,"TwitterSquareFilled",{enumerable:!0,get:function(){return cc.default;}}),Object.defineProperty(t,"UnderlineOutlined",{enumerable:!0,get:function(){return cd.default;}}),Object.defineProperty(t,"UndoOutlined",{enumerable:!0,get:function(){return ch.default;}}),Object.defineProperty(t,"UngroupOutlined",{enumerable:!0,get:function(){return cp.default;}}),Object.defineProperty(t,"UnlockFilled",{enumerable:!0,get:function(){return cv.default;}}),Object.defineProperty(t,"UnlockOutlined",{enumerable:!0,get:function(){return c_.default;}}),Object.defineProperty(t,"UnlockTwoTone",{enumerable:!0,get:function(){return cm.default;}}),Object.defineProperty(t,"UnorderedListOutlined",{enumerable:!0,get:function(){return cg.default;}}),Object.defineProperty(t,"UpCircleFilled",{enumerable:!0,get:function(){return cb.default;}}),Object.defineProperty(t,"UpCircleOutlined",{enumerable:!0,get:function(){return cy.default;}}),Object.defineProperty(t,"UpCircleTwoTone",{enumerable:!0,get:function(){return cE.default;}}),Object.defineProperty(t,"UpOutlined",{enumerable:!0,get:function(){return cT.default;}}),Object.defineProperty(t,"UpSquareFilled",{enumerable:!0,get:function(){return cA.default;}}),Object.defineProperty(t,"UpSquareOutlined",{enumerable:!0,get:function(){return cS.default;}}),Object.defineProperty(t,"UpSquareTwoTone",{enumerable:!0,get:function(){return cO.default;}}),Object.defineProperty(t,"UploadOutlined",{enumerable:!0,get:function(){return cR.default;}}),Object.defineProperty(t,"UsbFilled",{enumerable:!0,get:function(){return cM.default;}}),Object.defineProperty(t,"UsbOutlined",{enumerable:!0,get:function(){return cx.default;}}),Object.defineProperty(t,"UsbTwoTone",{enumerable:!0,get:function(){return cC.default;}}),Object.defineProperty(t,"UserAddOutlined",{enumerable:!0,get:function(){return cP.default;}}),Object.defineProperty(t,"UserDeleteOutlined",{enumerable:!0,get:function(){return cL.default;}}),Object.defineProperty(t,"UserOutlined",{enumerable:!0,get:function(){return cw.default;}}),Object.defineProperty(t,"UserSwitchOutlined",{enumerable:!0,get:function(){return cI.default;}}),Object.defineProperty(t,"UsergroupAddOutlined",{enumerable:!0,get:function(){return cN.default;}}),Object.defineProperty(t,"UsergroupDeleteOutlined",{enumerable:!0,get:function(){return cD.default;}}),Object.defineProperty(t,"VerifiedOutlined",{enumerable:!0,get:function(){return cF.default;}}),Object.defineProperty(t,"VerticalAlignBottomOutlined",{enumerable:!0,get:function(){return cB.default;}}),Object.defineProperty(t,"VerticalAlignMiddleOutlined",{enumerable:!0,get:function(){return cU.default;}}),Object.defineProperty(t,"VerticalAlignTopOutlined",{enumerable:!0,get:function(){return cj.default;}}),Object.defineProperty(t,"VerticalLeftOutlined",{enumerable:!0,get:function(){return ck.default;}}),Object.defineProperty(t,"VerticalRightOutlined",{enumerable:!0,get:function(){return cG.default;}}),Object.defineProperty(t,"VideoCameraAddOutlined",{enumerable:!0,get:function(){return cz.default;}}),Object.defineProperty(t,"VideoCameraFilled",{enumerable:!0,get:function(){return cV.default;}}),Object.defineProperty(t,"VideoCameraOutlined",{enumerable:!0,get:function(){return cH.default;}}),Object.defineProperty(t,"VideoCameraTwoTone",{enumerable:!0,get:function(){return cX.default;}}),Object.defineProperty(t,"WalletFilled",{enumerable:!0,get:function(){return cW.default;}}),Object.defineProperty(t,"WalletOutlined",{enumerable:!0,get:function(){return cY.default;}}),Object.defineProperty(t,"WalletTwoTone",{enumerable:!0,get:function(){return cq.default;}}),Object.defineProperty(t,"WarningFilled",{enumerable:!0,get:function(){return cZ.default;}}),Object.defineProperty(t,"WarningOutlined",{enumerable:!0,get:function(){return cK.default;}}),Object.defineProperty(t,"WarningTwoTone",{enumerable:!0,get:function(){return c$.default;}}),Object.defineProperty(t,"WechatFilled",{enumerable:!0,get:function(){return cQ.default;}}),Object.defineProperty(t,"WechatOutlined",{enumerable:!0,get:function(){return cJ.default;}}),Object.defineProperty(t,"WechatWorkFilled",{enumerable:!0,get:function(){return c0.default;}}),Object.defineProperty(t,"WechatWorkOutlined",{enumerable:!0,get:function(){return c1.default;}}),Object.defineProperty(t,"WeiboCircleFilled",{enumerable:!0,get:function(){return c3.default;}}),Object.defineProperty(t,"WeiboCircleOutlined",{enumerable:!0,get:function(){return c2.default;}}),Object.defineProperty(t,"WeiboOutlined",{enumerable:!0,get:function(){return c4.default;}}),Object.defineProperty(t,"WeiboSquareFilled",{enumerable:!0,get:function(){return c6.default;}}),Object.defineProperty(t,"WeiboSquareOutlined",{enumerable:!0,get:function(){return c7.default;}}),Object.defineProperty(t,"WhatsAppOutlined",{enumerable:!0,get:function(){return c5.default;}}),Object.defineProperty(t,"WifiOutlined",{enumerable:!0,get:function(){return c9.default;}}),Object.defineProperty(t,"WindowsFilled",{enumerable:!0,get:function(){return c8.default;}}),Object.defineProperty(t,"WindowsOutlined",{enumerable:!0,get:function(){return de.default;}}),Object.defineProperty(t,"WomanOutlined",{enumerable:!0,get:function(){return dt.default;}}),Object.defineProperty(t,"XFilled",{enumerable:!0,get:function(){return dr.default;}}),Object.defineProperty(t,"XOutlined",{enumerable:!0,get:function(){return dn.default;}}),Object.defineProperty(t,"YahooFilled",{enumerable:!0,get:function(){return da.default;}}),Object.defineProperty(t,"YahooOutlined",{enumerable:!0,get:function(){return di.default;}}),Object.defineProperty(t,"YoutubeFilled",{enumerable:!0,get:function(){return du.default;}}),Object.defineProperty(t,"YoutubeOutlined",{enumerable:!0,get:function(){return dl.default;}}),Object.defineProperty(t,"YuqueFilled",{enumerable:!0,get:function(){return df.default;}}),Object.defineProperty(t,"YuqueOutlined",{enumerable:!0,get:function(){return ds.default;}}),Object.defineProperty(t,"ZhihuCircleFilled",{enumerable:!0,get:function(){return dc.default;}}),Object.defineProperty(t,"ZhihuOutlined",{enumerable:!0,get:function(){return dd.default;}}),Object.defineProperty(t,"ZhihuSquareFilled",{enumerable:!0,get:function(){return dh.default;}}),Object.defineProperty(t,"ZoomInOutlined",{enumerable:!0,get:function(){return dp.default;}}),Object.defineProperty(t,"ZoomOutOutlined",{enumerable:!0,get:function(){return dv.default;}});var a=n(r("f6c8ba59")),i=n(r("32448ded")),o=n(r("097d13bf")),u=n(r("d0d2c46a")),l=n(r("362080c4")),f=n(r("0d1599a1")),s=n(r("a7def07c")),c=n(r("b607e2ff")),d=n(r("5aad6a0a")),h=n(r("b06e8ab6")),p=n(r("2d6aa4a7")),v=n(r("3d22fab4")),_=n(r("85b90aaf")),m=n(r("7d8c69a2")),g=n(r("ed38785a")),b=n(r("5d85eca3")),y=n(r("5de682bb")),E=n(r("337f5f91")),T=n(r("edcb329e")),A=n(r("451aaeed")),S=n(r("30626956")),O=n(r("d38b445d")),R=n(r("8f65ee1f")),M=n(r("e7630cf6")),x=n(r("69d82990")),C=n(r("3a2726f1")),P=n(r("aff4d40a")),L=n(r("9c03c80e")),w=n(r("72311674")),I=n(r("2bb20ead")),N=n(r("16d1dd38")),D=n(r("dd39430a")),F=n(r("ac19bdaa")),B=n(r("2aeb7e56")),U=n(r("8246ad8d")),j=n(r("cddbe315")),k=n(r("c87a9684")),G=n(r("268f8aa8")),z=n(r("30dd3fbc")),V=n(r("0d1294d4")),H=n(r("f5e31c4d")),X=n(r("6e4f938f")),W=n(r("6b11917e")),Y=n(r("9235610d")),q=n(r("d85260bd")),Z=n(r("7c03f341")),K=n(r("21c5b1ec")),$=n(r("eeea79ca")),Q=n(r("88c816ef")),J=n(r("2c852de3")),ee=n(r("085db919")),et=n(r("7e4a1ab6")),er=n(r("fbc71d1e")),en=n(r("832ea8dc")),ea=n(r("d4ea4aa1")),ei=n(r("7628e89d")),eo=n(r("edaabb78")),eu=n(r("b15232eb")),el=n(r("4c3795a1")),ef=n(r("b1c219d8")),es=n(r("ff1a9b3f")),ec=n(r("a39b5deb")),ed=n(r("11eedffb")),eh=n(r("cb1b0bba")),ep=n(r("a42b8668")),ev=n(r("19639f7d")),e_=n(r("16078358")),em=n(r("a0cdd7e8")),eg=n(r("633c7ed7")),eb=n(r("ea30cf61")),ey=n(r("d1b48036")),eE=n(r("5ead8144")),eT=n(r("a9f398ac")),eA=n(r("d6820598")),eS=n(r("3f934210")),eO=n(r("13736daf")),eR=n(r("12d4a3e0")),eM=n(r("c97fd940")),ex=n(r("6e9b2640")),eC=n(r("9495f888")),eP=n(r("b6265131")),eL=n(r("ee3e527a")),ew=n(r("f657a14d")),eI=n(r("072c78a8")),eN=n(r("caae3024")),eD=n(r("2c3dcbd8")),eF=n(r("c26a7d59")),eB=n(r("4dfd16f1")),eU=n(r("8f0bcb12")),ej=n(r("6237b6b3")),ek=n(r("dfe3b996")),eG=n(r("a7628d50")),ez=n(r("7211c640")),eV=n(r("fc7aec10")),eH=n(r("591fe537")),eX=n(r("3c23c027")),eW=n(r("f0bdc87f")),eY=n(r("db11b38c")),eq=n(r("9b6e2745")),eZ=n(r("a1b1d2eb")),eK=n(r("fc88a0a6")),e$=n(r("05a2b55a")),eQ=n(r("e259e03b")),eJ=n(r("c6a5d63c")),e0=n(r("41ce1256")),e1=n(r("8907fbfa")),e3=n(r("5283bf78")),e2=n(r("0af566ab")),e4=n(r("822f7d3c")),e6=n(r("dfaaed66")),e7=n(r("6dd88488")),e5=n(r("c1343068")),e9=n(r("dde21a52")),e8=n(r("941d49ca")),te=n(r("a0b404b4")),tt=n(r("9b9b1d0b")),tr=n(r("3176afc1")),tn=n(r("e0ca91b5")),ta=n(r("d1b26b12")),ti=n(r("021b182a")),to=n(r("a3681348")),tu=n(r("f30c62e7")),tl=n(r("bb5f8a2d")),tf=n(r("ef912406")),ts=n(r("7c9e265b")),tc=n(r("101983a5")),td=n(r("87fc3b28")),th=n(r("d14a8e91")),tp=n(r("b2e15da9")),tv=n(r("c8997871")),t_=n(r("da0a15c1")),tm=n(r("963c7cba")),tg=n(r("1360e746")),tb=n(r("f313faad")),ty=n(r("971bebb4")),tE=n(r("b2c44152")),tT=n(r("0b9641a2")),tA=n(r("e9c54339")),tS=n(r("20b766b6")),tO=n(r("a03735d6")),tR=n(r("e204508e")),tM=n(r("4f412944")),tx=n(r("d1dd5f6e")),tC=n(r("b7be79ef")),tP=n(r("06434d8e")),tL=n(r("07599ede")),tw=n(r("a262a3db")),tI=n(r("e790a4b3")),tN=n(r("c9c4699b")),tD=n(r("3db71276")),tF=n(r("484ab0c9")),tB=n(r("f16b353e")),tU=n(r("a6d1d734")),tj=n(r("2d4ff77d")),tk=n(r("fc99059b")),tG=n(r("faea2b02")),tz=n(r("1985a380")),tV=n(r("8cb9b5ca")),tH=n(r("6c190fce")),tX=n(r("e69d9d56")),tW=n(r("e8af24c0")),tY=n(r("09a26100")),tq=n(r("f4eaf040")),tZ=n(r("d1d38596")),tK=n(r("4ed7ff74")),t$=n(r("7abfcd43")),tQ=n(r("dfb6215e")),tJ=n(r("533a7b30")),t0=n(r("acc2bca3")),t1=n(r("5f344267")),t3=n(r("f8d49ca0")),t2=n(r("eaeab1b2")),t4=n(r("791530e0")),t6=n(r("e250b9a3")),t7=n(r("17ba9a12")),t5=n(r("c197abd4")),t9=n(r("c421af7a")),t8=n(r("7c1d26d5")),re=n(r("70b33b2a")),rt=n(r("8e39ffae")),rr=n(r("a70d4f04")),rn=n(r("3da4d323")),ra=n(r("18006a9e")),ri=n(r("7769ca39")),ro=n(r("7ee63360")),ru=n(r("1f729ba6")),rl=n(r("4050a371")),rf=n(r("fcff9c84")),rs=n(r("04ce892b")),rc=n(r("53331b91")),rd=n(r("54c1b8de")),rh=n(r("225bdc95")),rp=n(r("5e09cb10")),rv=n(r("c2aa6c45")),r_=n(r("d1a7884d")),rm=n(r("0a98ad4e")),rg=n(r("d7bf6e9a")),rb=n(r("5bcbba12")),ry=n(r("bb8400bc")),rE=n(r("2a542109")),rT=n(r("981221d0")),rA=n(r("fbf893e0")),rS=n(r("2c5333bd")),rO=n(r("3458ea47")),rR=n(r("27f5f96a")),rM=n(r("0d262ef3")),rx=n(r("76428223")),rC=n(r("56719f6a")),rP=n(r("0655c0e1")),rL=n(r("be2c9914")),rw=n(r("d652ac74")),rI=n(r("d8fd1cb6")),rN=n(r("c7523b75")),rD=n(r("aa42bbf6")),rF=n(r("e1ceceec")),rB=n(r("a9072c5e")),rU=n(r("29d44e7c")),rj=n(r("ede81c1a")),rk=n(r("1b58e168")),rG=n(r("d5036221")),rz=n(r("741a46d7")),rV=n(r("be1de7f5")),rH=n(r("9f7a91e9")),rX=n(r("fba4690b")),rW=n(r("558c1992")),rY=n(r("6d9d1e93")),rq=n(r("e3fb7793")),rZ=n(r("c85da56e")),rK=n(r("1cb659f6")),r$=n(r("e80534d6")),rQ=n(r("75a0d701")),rJ=n(r("2e172474")),r0=n(r("461c4b46")),r1=n(r("fc5f5a85")),r3=n(r("76e7a1ac")),r2=n(r("62bc57df")),r4=n(r("0d0b03c7")),r6=n(r("6676b611")),r7=n(r("d001e0a3")),r5=n(r("87acb3bb")),r9=n(r("42935ebc")),r8=n(r("4c266e3f")),ne=n(r("5c674d43")),nt=n(r("f26c0f0e")),nr=n(r("90c5d26e")),nn=n(r("cbc669ca")),na=n(r("65dfc61f")),ni=n(r("8b9742ef")),no=n(r("751f8401")),nu=n(r("054c650c")),nl=n(r("69580ad5")),nf=n(r("42230750")),ns=n(r("c0d2e91b")),nc=n(r("f9bacfbb")),nd=n(r("2c8ca356")),nh=n(r("45112369")),np=n(r("821cb9a8")),nv=n(r("7c4a1616")),n_=n(r("411ba89c")),nm=n(r("24642c1d")),ng=n(r("8f1e4850")),nb=n(r("f4ff6b46")),ny=n(r("b83f33f1")),nE=n(r("10f1e745")),nT=n(r("145aaa7b")),nA=n(r("00005e6b")),nS=n(r("34e1c80f")),nO=n(r("b4d7966f")),nR=n(r("eedfdb10")),nM=n(r("cd6629e0")),nx=n(r("31675b78")),nC=n(r("330af8ea")),nP=n(r("669bc3a2")),nL=n(r("de7d530d")),nw=n(r("5a36905d")),nI=n(r("62552e1d")),nN=n(r("7205671e")),nD=n(r("4a72190b")),nF=n(r("8a0f7628")),nB=n(r("23aff878")),nU=n(r("19ff8c2c")),nj=n(r("28166c36")),nk=n(r("8d480751")),nG=n(r("de71c43a")),nz=n(r("31952d5a")),nV=n(r("a83db83e")),nH=n(r("5385ea00")),nX=n(r("7cec4673")),nW=n(r("7f7a279f")),nY=n(r("37f865f1")),nq=n(r("950020f9")),nZ=n(r("080a82d7")),nK=n(r("81ef1e47")),n$=n(r("aba8b8c6")),nQ=n(r("ac283c86")),nJ=n(r("1e498716")),n0=n(r("bcda07e7")),n1=n(r("5693b312")),n3=n(r("747b5bf8")),n2=n(r("8fad9e8a")),n4=n(r("dbc9361c")),n6=n(r("bdbbb26f")),n7=n(r("d7003b6e")),n5=n(r("8d0197e9")),n9=n(r("d6e852a3")),n8=n(r("72ddd429")),ae=n(r("a1e7aa32")),at=n(r("732edd35")),ar=n(r("fd6c0e50")),an=n(r("54d757ce")),aa=n(r("1cd1219b")),ai=n(r("97934321")),ao=n(r("e92ff241")),au=n(r("cf19ffa2")),al=n(r("346d2a5f")),af=n(r("fed44ee1")),as=n(r("189c06fa")),ac=n(r("9dfb90c4")),ad=n(r("fc6fb8b5")),ah=n(r("8dc09d89")),ap=n(r("6c664baa")),av=n(r("f3ea1c16")),a_=n(r("4d63999a")),am=n(r("4e0ee3b6")),ag=n(r("58fed7f9")),ab=n(r("d72ca9c3")),ay=n(r("ee8c54a8")),aE=n(r("40ffab09")),aT=n(r("5116a685")),aA=n(r("0e58eecd")),aS=n(r("df0e55ee")),aO=n(r("7126f5b4")),aR=n(r("74315a66")),aM=n(r("cc7519a4")),ax=n(r("654d102f")),aC=n(r("950450ff")),aP=n(r("a6d5de77")),aL=n(r("afc4fb9b")),aw=n(r("775da31a")),aI=n(r("1423b534")),aN=n(r("ca88f61c")),aD=n(r("b7c58136")),aF=n(r("2f7533d2")),aB=n(r("5aab6b72")),aU=n(r("f9178261")),aj=n(r("6dcd8842")),ak=n(r("192128f8")),aG=n(r("bdb6c2a3")),az=n(r("3d6628aa")),aV=n(r("db54c4ea")),aH=n(r("c2cf1df4")),aX=n(r("0b73ce5a")),aW=n(r("02c88f3d")),aY=n(r("fa5bb5a0")),aq=n(r("7df25834")),aZ=n(r("a601cb74")),aK=n(r("bc515af8")),a$=n(r("8d0448b5")),aQ=n(r("6cb86112")),aJ=n(r("60d48ceb")),a0=n(r("556da0bc")),a1=n(r("38d0b019")),a3=n(r("f5ebc801")),a2=n(r("760e9635")),a4=n(r("656a6974")),a6=n(r("9e7522b4")),a7=n(r("99795849")),a5=n(r("dc85cf02")),a9=n(r("a3f33547")),a8=n(r("cc40bbc6")),ie=n(r("dd537b86")),it=n(r("0c8d4d7e")),ir=n(r("8c0a2111")),ia=n(r("110e39a1")),ii=n(r("f1294ec7")),io=n(r("474ccdb3")),iu=n(r("d9126bee")),il=n(r("c588cd65")),is=n(r("6afc1106")),ic=n(r("0933c4a6")),id=n(r("afcbe3ff")),ih=n(r("88492eeb")),ip=n(r("7a4671ae")),iv=n(r("8887c797")),i_=n(r("99344744")),im=n(r("9349713a")),ig=n(r("e1ad915d")),ib=n(r("5a38d0c9")),iy=n(r("8d324609")),iE=n(r("e80b173c")),iT=n(r("29954281")),iA=n(r("bbf2393b")),iS=n(r("f08ca222")),iO=n(r("f0eb1877")),iR=n(r("41b2b5f4")),iM=n(r("60831931")),ix=n(r("1fe8cae2")),iC=n(r("f0ddef9d")),iP=n(r("4a042922")),iL=n(r("966ac8cc")),iw=n(r("65df059a")),iI=n(r("de17aa2d")),iN=n(r("9109acc4")),iD=n(r("d26acb34")),iF=n(r("808ee591")),iB=n(r("8ec66f80")),iU=n(r("9685cf54")),ij=n(r("70e2dcc0")),ik=n(r("9184f945")),iG=n(r("d12d51a8")),iz=n(r("73318c43")),iV=n(r("6acff32c")),iH=n(r("eca6a49f")),iX=n(r("fdd8fb08")),iW=n(r("ffcd8994")),iY=n(r("293888e7")),iq=n(r("b02395aa")),iZ=n(r("ac509eda")),iK=n(r("64513235")),i$=n(r("0312865a")),iQ=n(r("7745097c")),iJ=n(r("66915ad7")),i0=n(r("260a48a7")),i1=n(r("fbea20d5")),i3=n(r("904e282c")),i2=n(r("a199c95d")),i4=n(r("d65a0aef")),i6=n(r("5efe7435")),i7=n(r("d2dd6937")),i5=n(r("b47f981b")),i9=n(r("79d342a7")),i8=n(r("85837a60")),oe=n(r("bad178bf")),ot=n(r("a2844e35")),or=n(r("0fc51011")),on=n(r("b9e6fe91")),oa=n(r("7e713165")),oi=n(r("3afbf2a4")),oo=n(r("c1b5c886")),ou=n(r("c5b24a96")),ol=n(r("52de6d38")),of=n(r("70852180")),os=n(r("c59c4d68")),oc=n(r("9338f80e")),od=n(r("1742e100")),oh=n(r("ec1ff510")),op=n(r("9024770c")),ov=n(r("e812958f")),o_=n(r("631c953a")),om=n(r("62cc2853")),og=n(r("92fa1888")),ob=n(r("561dbe00")),oy=n(r("64b35461")),oE=n(r("56f239db")),oT=n(r("bcf0233c")),oA=n(r("4228ad4a")),oS=n(r("f66447d3")),oO=n(r("5e954864")),oR=n(r("48fd1496")),oM=n(r("62047a0f")),ox=n(r("12a38df8")),oC=n(r("a1e81b04")),oP=n(r("8994b5b5")),oL=n(r("e2131b25")),ow=n(r("27c0581c")),oI=n(r("8603cd2e")),oN=n(r("f0f143db")),oD=n(r("efd4a36b")),oF=n(r("348cbf87")),oB=n(r("dc96adc3")),oU=n(r("64a17bb3")),oj=n(r("97cd6df9")),ok=n(r("c030c2d8")),oG=n(r("f4c7c652")),oz=n(r("04010d14")),oV=n(r("0f1ae6b2")),oH=n(r("505be8f8")),oX=n(r("b680a4ca")),oW=n(r("603e15ab")),oY=n(r("04c9a2fa")),oq=n(r("dc8b64d6")),oZ=n(r("b242b455")),oK=n(r("903503bc")),o$=n(r("6939ab91")),oQ=n(r("95a60450")),oJ=n(r("01a23861")),o0=n(r("b5458794")),o1=n(r("76983c75")),o3=n(r("38f10830")),o2=n(r("fe61c4b8")),o4=n(r("53c5b3a1")),o6=n(r("5d77abbc")),o7=n(r("ad9f0caa")),o5=n(r("8df840ed")),o9=n(r("30ac520a")),o8=n(r("43d5705a")),ue=n(r("78f59ac9")),ut=n(r("7d8d29a0")),ur=n(r("69e0a7a2")),un=n(r("a8a36ed4")),ua=n(r("e446417f")),ui=n(r("f2628896")),uo=n(r("b1738f6d")),uu=n(r("783f6c0f")),ul=n(r("bccc3ddd")),uf=n(r("12d35fc6")),us=n(r("2e317013")),uc=n(r("ea451d8c")),ud=n(r("ac621341")),uh=n(r("87ee4b89")),up=n(r("6db3a7f2")),uv=n(r("2b63ccdb")),u_=n(r("c42dd1c9")),um=n(r("c6b14059")),ug=n(r("e336585a")),ub=n(r("ed76f7a5")),uy=n(r("ad752d90")),uE=n(r("52389bb4")),uT=n(r("8d659c1f")),uA=n(r("35c0751e")),uS=n(r("c3607386")),uO=n(r("d983052d")),uR=n(r("04458bc1")),uM=n(r("bfd073ce")),ux=n(r("c7026331")),uC=n(r("d51d23df")),uP=n(r("07cace53")),uL=n(r("a1297dfa")),uw=n(r("ad51bf9b")),uI=n(r("6d58f141")),uN=n(r("9b26080b")),uD=n(r("58b2ac16")),uF=n(r("0b905e48")),uB=n(r("3fd4304e")),uU=n(r("477bb23b")),uj=n(r("1df8592a")),uk=n(r("407df8d7")),uG=n(r("f67779b4")),uz=n(r("36ea99ff")),uV=n(r("fce0d122")),uH=n(r("bc8ef742")),uX=n(r("eac136aa")),uW=n(r("1ea6650d")),uY=n(r("4ae63197")),uq=n(r("225057d9")),uZ=n(r("7726797c")),uK=n(r("5cff5b17")),u$=n(r("3ae61621")),uQ=n(r("558315cb")),uJ=n(r("972afd29")),u0=n(r("b70569b2")),u1=n(r("69f727c9")),u3=n(r("1639357f")),u2=n(r("060c166d")),u4=n(r("4722a401")),u6=n(r("2f0fe9fc")),u7=n(r("4f6b8e19")),u5=n(r("132855c7")),u9=n(r("6ad32491")),u8=n(r("35bdd8e2")),le=n(r("1fbdeb2c")),lt=n(r("cb174a80")),lr=n(r("22f2fd70")),ln=n(r("0226dd4a")),la=n(r("b0b08c10")),li=n(r("f4419072")),lo=n(r("5348ab57")),lu=n(r("e0e42716")),ll=n(r("abc56d0d")),lf=n(r("d79e0bb7")),ls=n(r("710f846f")),lc=n(r("680e081d")),ld=n(r("62942f51")),lh=n(r("5560573c")),lp=n(r("1aadce01")),lv=n(r("96543be0")),l_=n(r("0d6fb0ad")),lm=n(r("02d69789")),lg=n(r("3f1a4398")),lb=n(r("e4baaa76")),ly=n(r("ab478382")),lE=n(r("36441aab")),lT=n(r("c4a6f3e9")),lA=n(r("4119016f")),lS=n(r("287b2dde")),lO=n(r("31f8852f")),lR=n(r("f1209212")),lM=n(r("1fb90505")),lx=n(r("9726dd63")),lC=n(r("1f3e8e31")),lP=n(r("a0211744")),lL=n(r("4c32e26d")),lw=n(r("5b8a63f2")),lI=n(r("946884f8")),lN=n(r("2a9ba5fa")),lD=n(r("8a660492")),lF=n(r("e026ba59")),lB=n(r("61d054d7")),lU=n(r("9c80a93c")),lj=n(r("7b7b94b4")),lk=n(r("050374c8")),lG=n(r("094808fa")),lz=n(r("a7005b8f")),lV=n(r("fb68d2b9")),lH=n(r("d8d542bb")),lX=n(r("911d2d1d")),lW=n(r("1b6d1f8b")),lY=n(r("bfc531b7")),lq=n(r("6daadc11")),lZ=n(r("be92eab7")),lK=n(r("dd36b1bb")),l$=n(r("9264aa11")),lQ=n(r("cb7bfd7d")),lJ=n(r("7c86fae6")),l0=n(r("708c598b")),l1=n(r("1833399e")),l3=n(r("79dbb018")),l2=n(r("d2a16607")),l4=n(r("ad098253")),l6=n(r("802355fa")),l7=n(r("c058acec")),l5=n(r("52a21104")),l9=n(r("010b7298")),l8=n(r("1cdf190c")),fe=n(r("2e193f96")),ft=n(r("6def26ee")),fr=n(r("b2564227")),fn=n(r("aa2d8bee")),fa=n(r("8e761e08")),fi=n(r("2926bb9e")),fo=n(r("5bb9eaec")),fu=n(r("a3b590d9")),fl=n(r("563f648b")),ff=n(r("fd1dbec7")),fs=n(r("ed80eaea")),fc=n(r("f7606b07")),fd=n(r("5d225f2a")),fh=n(r("001b37e9")),fp=n(r("79cb8b44")),fv=n(r("61de0bdd")),f_=n(r("31609833")),fm=n(r("af00b779")),fg=n(r("c01d3903")),fb=n(r("41b2c32d")),fy=n(r("5dad0d8e")),fE=n(r("e71c969c")),fT=n(r("c22a2bdf")),fA=n(r("e2053114")),fS=n(r("8dd46b8f")),fO=n(r("c2f6dd83")),fR=n(r("3360e3bc")),fM=n(r("7a17cb90")),fx=n(r("ea0e29a7")),fC=n(r("57308ea3")),fP=n(r("982c46f1")),fL=n(r("bd22995f")),fw=n(r("60ea7303")),fI=n(r("557332a3")),fN=n(r("d68c79c0")),fD=n(r("1c3f9c17")),fF=n(r("1d2239aa")),fB=n(r("10f65416")),fU=n(r("ec0e68a6")),fj=n(r("6506fd84")),fk=n(r("d7aacd81")),fG=n(r("1974a543")),fz=n(r("74e9b845")),fV=n(r("a7cc435e")),fH=n(r("50d71ce0")),fX=n(r("1f408dd0")),fW=n(r("693049e1")),fY=n(r("4a529b78")),fq=n(r("02803cea")),fZ=n(r("934f1ab5")),fK=n(r("82f7d1ec")),f$=n(r("dcff27dc")),fQ=n(r("8d82bf75")),fJ=n(r("6f5f7058")),f0=n(r("9a4e6586")),f1=n(r("bb1598c0")),f3=n(r("9bd27ef3")),f2=n(r("4c177a85")),f4=n(r("ed152bc6")),f6=n(r("1d84bec8")),f7=n(r("28aadd8c")),f5=n(r("5e28c8a9")),f9=n(r("47252287")),f8=n(r("06a182c2")),se=n(r("9fcd0265")),st=n(r("8da0310f")),sr=n(r("92612b85")),sn=n(r("0b4b7054")),sa=n(r("96049d56")),si=n(r("c7be83bd")),so=n(r("1d409cdf")),su=n(r("a67d1e61")),sl=n(r("91826671")),sf=n(r("088f1312")),ss=n(r("8ecdee5e")),sc=n(r("95ac7a49")),sd=n(r("f4a5da89")),sh=n(r("a4285932")),sp=n(r("c92d9246")),sv=n(r("b23154c8")),s_=n(r("e0cfb818")),sm=n(r("0f07acd9")),sg=n(r("247845b1")),sb=n(r("7c82ea43")),sy=n(r("97326584")),sE=n(r("854374b7")),sT=n(r("8f017671")),sA=n(r("6bacb7eb")),sS=n(r("85c5dbb2")),sO=n(r("ff288658")),sR=n(r("33f043f6")),sM=n(r("689e1311")),sx=n(r("87459b05")),sC=n(r("072b13ca")),sP=n(r("f7b93eb7")),sL=n(r("9b30a736")),sw=n(r("2c954f9f")),sI=n(r("3c9f7f12")),sN=n(r("88a7b0c5")),sD=n(r("6e3462dc")),sF=n(r("3a7f5b94")),sB=n(r("85e640df")),sU=n(r("1a119c4f")),sj=n(r("b29b4a2b")),sk=n(r("850946c6")),sG=n(r("8fd3909a")),sz=n(r("bc2cea50")),sV=n(r("80ca89d0")),sH=n(r("26f667df")),sX=n(r("4d09a41d")),sW=n(r("35f4de6a")),sY=n(r("39523cbd")),sq=n(r("7cb1d4c0")),sZ=n(r("dc734244")),sK=n(r("2e92852d")),s$=n(r("74975ba4")),sQ=n(r("425b58ba")),sJ=n(r("7a88fb8a")),s0=n(r("946acbe4")),s1=n(r("b7766d0f")),s3=n(r("e5cd2ad5")),s2=n(r("938396d5")),s4=n(r("72540b09")),s6=n(r("6f3a1b4c")),s7=n(r("299027d1")),s5=n(r("0177a216")),s9=n(r("7e4c59c5")),s8=n(r("0c6296a6")),ce=n(r("cda97d80")),ct=n(r("7808b36c")),cr=n(r("497c0d61")),cn=n(r("7c203642")),ca=n(r("bf4c361b")),ci=n(r("c23aa907")),co=n(r("98367a1c")),cu=n(r("59c26f5f")),cl=n(r("30a351b0")),cf=n(r("f0a19bb8")),cs=n(r("3d1addcf")),cc=n(r("9eea8d66")),cd=n(r("4eb60f90")),ch=n(r("9aed6313")),cp=n(r("90162650")),cv=n(r("ef2ac3f5")),c_=n(r("f99cdb81")),cm=n(r("4fde1519")),cg=n(r("a17b880f")),cb=n(r("07c879ca")),cy=n(r("635ba4e6")),cE=n(r("2646a05f")),cT=n(r("b1e7f561")),cA=n(r("3e714759")),cS=n(r("83ebce65")),cO=n(r("e5c159c5")),cR=n(r("34828b69")),cM=n(r("7a5ce9d2")),cx=n(r("f65fbab8")),cC=n(r("06e3dab7")),cP=n(r("476aefa0")),cL=n(r("071bc11b")),cw=n(r("854c8fb7")),cI=n(r("23d68b83")),cN=n(r("6af03f4f")),cD=n(r("17bbb455")),cF=n(r("f53eb3d3")),cB=n(r("aa113865")),cU=n(r("d9d4d024")),cj=n(r("f11f0118")),ck=n(r("eab31ca0")),cG=n(r("131699db")),cz=n(r("5beec117")),cV=n(r("b24d0c04")),cH=n(r("38808492")),cX=n(r("c985a7f7")),cW=n(r("20c20b90")),cY=n(r("0dc01725")),cq=n(r("b23bdfc8")),cZ=n(r("0a575694")),cK=n(r("b06244b7")),c$=n(r("e78a9db5")),cQ=n(r("18fb4214")),cJ=n(r("5736e835")),c0=n(r("5a55005c")),c1=n(r("8f9b7c2e")),c3=n(r("350a8cc0")),c2=n(r("e9faabb9")),c4=n(r("32966fc4")),c6=n(r("e02a8af8")),c7=n(r("649cedff")),c5=n(r("560ee823")),c9=n(r("5398d3fc")),c8=n(r("c9cd3c36")),de=n(r("b1f445b7")),dt=n(r("569f660e")),dr=n(r("aa0c791d")),dn=n(r("21ca276f")),da=n(r("5daa4a92")),di=n(r("e9daa7a9")),du=n(r("a4b4509d")),dl=n(r("a872b802")),df=n(r("f65fd419")),ds=n(r("d30221de")),dc=n(r("e3b551f4")),dd=n(r("21cf9f19")),dh=n(r("6fe8650b")),dp=n(r("20babc76")),dv=n(r("afd13841"));},dde21a52:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1d365101")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ddf10ed6:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{getTileLayer:function(){return u;},isNeedMask:function(){return l;}});var n=r("777fffbe"),a=n._(r("00f7e909")),i=n._(r("39cf136b")),o=n._(r("ee4a79b8"));function u(e){return"PolygonLayer"===e?o.default:"LineLayer"===e?a.default:i.default;}function l(e){return -1!==["PolygonLayer","LineLayer"].indexOf(e);}},de17aa2d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a08ce1fc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},de71c43a:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a7d7fc66")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},de7d530d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ad54df8e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},df0e55ee:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d553cd0d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},df276aa2:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});var n=class{constructor(e,t){let{buffer:r,offset:n,stride:a,normalized:i,size:o,divisor:u}=t;this.buffer=r,this.attribute={buffer:r.get(),offset:n||0,stride:a||0,normalized:i||!1,divisor:u||0},o&&(this.attribute.size=o);}get(){return this.attribute;}updateBuffer(e){this.buffer.subData(e);}destroy(){this.buffer.destroy();}};},df6924be:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("6c8aee75")),f=r("34540526"),s=r("f9b12b3c");class c extends l.default{constructor(...e){super(...e),(0,i.default)(this,"textureEventFlag",!1),(0,i.default)(this,"texture",this.createTexture2D({data:new Uint8Array([0,0,0,0]),width:1,height:1})),(0,i.default)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(0===this.textures.length&&(this.textures=[this.texture]),this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return;}this.texture=e({data:this.iconService.getCanvas(),mag:o.gl.NEAREST,min:o.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128});});}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,DISTANCE_INDEX:10,NORMAL:11,UV:12});}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:r="normal",lineType:n="solid",dashArray:a=[10,5,0,0],lineTexture:i=!1,iconStep:o=100,vertexHeightScale:l=20,strokeWidth:s=0,raisingHeight:c=0,heightfixed:d=!1,linearDir:h=f.LinearDir.VERTICAL,blur:p=[1,1,1,0]}=this.layer.getLayerConfig(),v=a;if("dash"!==n&&(v=[0,0,0,0]),2===v.length&&v.push(0,0),this.rendererService.getDirty()&&this.texture){var _;null===(_=this.texture)||void 0===_||_.bind();}let{animateOption:m}=this.layer.getLayerConfig(),g=0,b=[0,0,0,0],y=[0,0,0,0];e&&t&&(b=(0,u.rgb2arr)(e),y=(0,u.rgb2arr)(t),g=1);let E={u_animate:this.animateOption2Array(m),u_dash_array:v,u_blur:p,u_sourceColor:b,u_targetColor:y,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:o,u_heightfixed:Number(d),u_vertexScale:l,u_raisingHeight:Number(c),u_strokeWidth:s,u_textureBlend:r===f.TextureBlend.NORMAL?0:1,u_line_texture:i?1:0,u_linearDir:h===f.LinearDir.VERTICAL?1:0,u_linearColor:g,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(E);}initModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),e.textureEventFlag||(e.textureEventFlag=!0,e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture)),e.buildModels();})();}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture);}buildModels(){var e=this;return(0,a.default)(function*(){let{depth:t=!1}=e.layer.getLayerConfig(),{frag:r,vert:n,type:a}=e.getShaders();return e.layer.triangulation=s.LineTriangulation,[(yield e.layer.buildLayerModel({moduleName:"line"+a,vertexShader:n,fragmentShader:r,triangulation:s.LineTriangulation,defines:e.getDefines(),inject:e.getInject(),depth:{enable:t}}))];})();}getShaders(){return{frag:'// #extension GL_OES_standard_derivatives : enable\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform sampler2D u_texture;\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array;\n  vec4 u_blur;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_icon_step: 100;\n  float u_heightfixed: 0.0;\n  float u_vertexScale: 1.0;\n  float u_raisingHeight: 0.0;\n  float u_strokeWidth: 0.0;\n  float u_textureBlend;\n  float u_line_texture;\n  float u_linearDir: 1.0;\n  float u_linearColor: 0;\n  float u_time;\n};\n\nin vec4 v_color;\nin vec4 v_stroke;\n// dash\nin vec4 v_dash_array;\nin float v_d_distance_ratio;\nin vec2 v_iconMapUV;\nin vec4 v_texture_data;\n\nout vec4 outputColor;\n#pragma include "picking"\n\n// [animate, duration, interval, trailLength],\nvoid main() {\n  if(u_dash_array!=vec4(0.0)){\n    float dashLength = mod(v_d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {\n      // \u865A\u7EBF\u90E8\u5206\n      discard;\n    };\n  }\n  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6\n  float d_distance_ratio = v_texture_data.r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B\n  if(u_linearDir < 1.0) {\n    d_distance_ratio = v_texture_data.a;\n  }\n  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272\n    outputColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);\n    outputColor.a *= v_color.a;\n  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272\n     outputColor = v_color;\n  }\n  // anti-alias\n  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));\n  if(u_animate.x == Animate) {\n      animateSpeed = u_time / u_animate.y;\n       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\n      alpha = smoothstep(0., 1., alpha);\n      outputColor.a *= alpha;\n  }\n\n  if(u_line_texture == LineTexture) { // while load texture\n    float aDistance = v_texture_data.g;      // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB\n    float d_texPixelLen = v_texture_data.b;  // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E\n    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);\n    float v = v_texture_data.a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C\n\n    // v = max(smoothstep(0.95, 1.0, v), v);\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n     vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      outputColor += pattern;\n    } else { // replace\n        pattern.a *= v_color.a;\n        if(outputColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        outputColor = pattern;\n    }\n  } \n\n  float v = v_texture_data.a;\n  float strokeWidth = min(0.5, u_strokeWidth);\n  // \u7ED8\u5236 border\n  if(strokeWidth > 0.01) {\n    float borderOuterWidth = strokeWidth / 2.0;\n\n\n    if(v >= 1.0 - strokeWidth || v <= strokeWidth) {\n      if(v > strokeWidth) { // \u5916\u4FA7\n        float linear = smoothstep(0.0, 1.0, (v - (1.0 - strokeWidth))/strokeWidth);\n        //  float linear = step(0.0, (v - (1.0 - borderWidth))/borderWidth);\n        outputColor.rgb = mix(outputColor.rgb, v_stroke.rgb, linear);\n      } else if(v <= strokeWidth) {\n        float linear = smoothstep(0.0, 1.0, v/strokeWidth);\n        outputColor.rgb = mix(v_stroke.rgb, outputColor.rgb, linear);\n      }\n    }\n\n    if(v < borderOuterWidth) {\n      outputColor.a = mix(0.0, outputColor.a, v/borderOuterWidth);\n    } else if(v > 1.0 - borderOuterWidth) {\n      outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - borderOuterWidth))/borderOuterWidth);\n    }\n  }\n\n  // blur\n  float blurV = v_texture_data.a;\n  if(blurV < 0.5) {\n    outputColor.a *= mix(u_blur.r, u_blur.g, blurV/0.5);\n  } else {\n    outputColor.a *= mix(u_blur.g, u_blur.b, (blurV - 0.5)/0.5);\n  }\n  \n  outputColor = filterColor(outputColor);\n}\n',vert:'#define Animate (0.0)\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;\nlayout(location = ATTRIBUTE_LOCATION_DISTANCE_INDEX) in vec3 a_DistanceAndIndexAndMiter;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec4 a_Normal_Total_Distance;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array;\n  vec4 u_blur;\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float u_icon_step: 100;\n  float u_heightfixed: 0.0;\n  float u_vertexScale: 1.0;\n  float u_raisingHeight: 0.0;\n  float u_strokeWidth: 0.0;\n  float u_textureBlend;\n  float u_line_texture;\n  float u_linearDir: 1.0;\n  float u_linearColor: 0;\n  float u_time;\n};\n\nout vec4 v_color;\nout vec4 v_stroke;\n//dash\nout vec4 v_dash_array;\nout float v_d_distance_ratio;\n// texV \u7EBF\u56FE\u5C42 - \u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\uFF08\u7EBF\u7684\u5BBD\u5EA6\u65B9\u5411\uFF09\nout vec2 v_iconMapUV;\nout vec4 v_texture_data;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  vec2 a_DistanceAndIndex = a_DistanceAndIndexAndMiter.xy;\n  float a_Miter = a_DistanceAndIndexAndMiter.z;\n  vec3 a_Normal = a_Normal_Total_Distance.xyz;\n  float a_Total_Distance = a_Normal_Total_Distance.w;\n  //dash\u8F93\u51FA\n  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;\n  v_d_distance_ratio = a_DistanceAndIndex.x / a_Total_Distance;\n\n  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97\n  float d_texPixelLen; // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E\n  v_iconMapUV = a_iconMapUV;\n  d_texPixelLen = project_float_pixel(u_icon_step);\n\n  v_color = a_Color;\n  v_color.a *= opacity;\n  v_stroke = stroke;\n\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * a_Normal;\n\n  vec2 offset = project_pixel(size.xy);\n\n  float lineDistance = a_DistanceAndIndex.x;\n  float currentLinePointRatio = lineDistance / a_Total_Distance;\n\n  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB\uFF08\u5411\u4E24\u4FA7\u504F\u79FB\u7684\u548C\uFF09\n  float linePixelSize = project_pixel(a_Size.x) * 2.0; // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB \u5355\u4FA7 * 2\n  float texV = lineOffsetWidth / linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C\n\n  v_texture_data = vec4(currentLinePointRatio, lineDistance, d_texPixelLen, texV);\n  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570\n\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\n\n  float h = float(a_Position.z) * u_vertexScale; // \u7EBF\u9876\u70B9\u7684\u9AD8\u5EA6 - \u517C\u5BB9\u4E0D\u5B58\u5728\u7B2C\u4E09\u4E2A\u6570\u503C\u7684\u60C5\u51B5 vertex height\n  float lineHeight = a_Size.y; // size \u7B2C\u4E8C\u4E2A\u53C2\u6570\u4EE3\u8868\u7684\u9AD8\u5EA6 [linewidth, lineheight]\n\n  // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4\n  if (\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n  ) {\n    // mapbox\n    // \u4FDD\u6301\u9AD8\u5EA6\u76F8\u5BF9\u4E0D\u53D8\n    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n    h *= mapboxZoomScale;\n    h += u_raisingHeight * mapboxZoomScale;\n    if (u_heightfixed > 0.0) {\n      lineHeight *= mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(\n    vec4(project_pos.xy + offset, lineHeight + h, 1.0)\n  );\n\n  setPickingColor(a_PickingColor);\n}\n',type:""};}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:o.AttributeType.Attribute,descriptor:{name:"a_DistanceAndIndexAndMiter",shaderLocation:this.attributeLocation.DISTANCE_INDEX,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:3,update:(e,t,r,n,a,i)=>void 0===i?[r[3],10,r[4]]:[r[3],i,r[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:o.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0],t[1]]:[t,0];}}}),this.styleAttributeService.registerStyleAttribute({name:"normal_total_distance",type:o.AttributeType.Attribute,descriptor:{name:"a_Normal_Total_Distance",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:4,update:(e,t,r,n,a)=>[...a,r[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:o.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:r}=e,{x:n,y:a}=t[r]||{x:0,y:0};return[n,a];}}});}}},df7fdcd8:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{operationsSchema:function(){return n;},percentile:function(){return a;}});var n={nd:{type:"operation",expression:["/",["-",["band",1],["band",0]],["+",["band",1],["band",0]]]},rgb:{type:"function",method:function(e,t){let r=e[0].rasterData,n=e[1].rasterData,i=e[2].rasterData,o=[],[u,l]=(null==t?void 0:t.countCut)||[2,98],f=(null==t?void 0:t.RMinMax)||a(r,u,l),s=(null==t?void 0:t.GMinMax)||a(n,u,l),c=(null==t?void 0:t.BMinMax)||a(i,u,l);for(let e=0;e<r.length;e++)o.push(Math.max(0,r[e]-f[0])),o.push(Math.max(0,n[e]-s[0])),o.push(Math.max(0,i[e]-c[0]));return{rasterData:o,rMinMax:f,gMinMax:s,bMinMax:c};}}};function a(e,t,r){let n=e.slice().sort((e,t)=>e-t),a=n.length;return[n[Math.ceil(a*t/100)],n[Math.ceil(a*r/100)]];}},dfaaed66:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ae3c4705")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dfb6215e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4ad99b70")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dfe3b996:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("556817d9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},dfeb42d4:function(e,t,r){},dfedf505:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return m;}});var n=r("7f434d9f"),a=r("a8563fd0"),i=r("e28ef7ac"),o=r("68cc65c7"),u=Object.defineProperty,l=Object.defineProperties,f=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))c.call(t,r)&&h(e,r,t[r]);if(s)for(var r of s(t))d.call(t,r)&&h(e,r,t[r]);return e;},v=(e,t)=>l(e,f(t)),_={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0};function m(e,t={}){if(Array.isArray(e)&&0===e.length||!Array.isArray(e)&&"string"!=typeof e)throw Error("tile server url is error");let{extent:r=[1/0,1/0,-1/0,-1/0],coordinates:u}=t,l=(null==t?void 0:t.dataType)||n.RasterTileType.IMAGE;l===n.RasterTileType.RGB&&(l=n.RasterTileType.ARRAYBUFFER);let f=v(p(p({},_),t),{getTileData:(r,o)=>{switch(l){case n.RasterTileType.IMAGE:return(0,i.getTileImage)(e,r,o,t);case n.RasterTileType.CUSTOMIMAGE:case n.RasterTileType.CUSTOMTERRAINRGB:return(0,a.getCustomImageData)(o,null==t?void 0:t.getCustomData);case n.RasterTileType.ARRAYBUFFER:return(0,i.getTileBuffer)(e,r,o,t);case n.RasterTileType.CUSTOMARRAYBUFFER:case n.RasterTileType.CUSTOMRGB:return(0,a.getCustomData)(o,null==t?void 0:t.getCustomData,(null==t?void 0:t.format)||i.defaultFormat,null==t?void 0:t.operation);default:return(0,i.getTileImage)(e,r,o,t);}}});return{data:e,dataArray:[{_id:1,coordinates:(0,o.extentToCoord)(u,r)}],tilesetOptions:f,isTile:!0};}n.RasterTileType.ARRAYBUFFER,n.RasterTileType.RGB;},e026ba59:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("3b826ac2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e02a8af8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2fbc953d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e0ca91b5:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("63fca5a5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e0cfb818:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("823e183f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e0e42716:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2d43ce13")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e1627662:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return function e(){var t=f((0,a.transformer)());return t.copy=function(){return(0,a.copy)(t,e()).exponent(t.exponent());},i.initRange.apply(t,arguments),t;};},powish:function(){return f;}});var n=r("6c817216"),a=r("4e33fd57"),i=r("5f49fc8a");function o(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e);};}function u(e){return e<0?-Math.sqrt(-e):Math.sqrt(e);}function l(e){return e<0?-e*e:e*e;}function f(e){var t=e(a.identity,a.identity),r=1;return t.exponent=function(t){return arguments.length?1==(r=+t)?e(a.identity,a.identity):.5===r?e(u,l):e(o(r),o(1/r)):r;},(0,n.linearish)(t);}},e1ad915d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("59baaf6f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e1ceceec:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d2f58baf")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e204508e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c80fa135")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e2053114:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("67328d24")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e2131b25:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7c073e48")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e250b9a3:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ae7d0c5d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e259e03b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9f673f63")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e28ef7ac:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{defaultFormat:function(){return g;},getTileBuffer:function(){return _;},getTileImage:function(){return m;}});var n=r("89217383"),a=r("e4e82653"),i=r("4b37d498"),o=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(f)for(var r of f(t))c.call(t,r)&&d(e,r,t[r]);return e;},p=(e,t)=>u(e,l(t)),v=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),_=(e,t,r,n)=>v(void 0,null,function*(){let{format:o=g,operation:u,requestParameters:l={}}=n,f=p(h({},l),{url:(0,i.getTileUrl)(e,t)});return new Promise((e,t)=>{(0,a.getRasterFile)(r,f,(r,n)=>{r?t(r):n&&e(n);},o,u);});}),m=(e,t,r,a)=>v(void 0,null,function*(){let i;let o=Array.isArray(e)?e[0]:e;return i=a.wmtsOptions?((null==a?void 0:a.getURLFromTemplate)||n.getWMTSURLFromTemplate)(o,h(h({},t),a.wmtsOptions)):((null==a?void 0:a.getURLFromTemplate)||n.getURLFromTemplate)(o,t),new Promise((e,t)=>{var o;let u=(0,n.getImage)(p(h({},null==a?void 0:a.requestParameters),{url:i,type:(null==(o=null==a?void 0:a.requestParameters)?void 0:o.type)||"arrayBuffer"}),(r,n)=>{r?t(r):n&&e(n);},a.transformResponse);r.xhrCancel=()=>u.cancel();});}),g=()=>({rasterData:new Uint8Array([0]),width:1,height:1});},e297330a:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{expandUrl:function(){return o;},getURLFromTemplate:function(){return u;},getWMTSURLFromTemplate:function(){return l;},isURLTemplate:function(){return i;}});var n=r("73975725"),a=r("d2dd39ef");function i(e){return/(?=.*{box})(?=.*{z})(?=.*{x})(?=.*({y}|{-y}))/.test(e);}function o(e){let t=[],r=/\{([a-z])-([a-z])\}/.exec(e);if(r){let n;let a=r[1].charCodeAt(0),i=r[2].charCodeAt(0);for(n=a;n<=i;++n)t.push(e.replace(r[0],String.fromCharCode(n)));return t;}if(r=/\{(\d+)-(\d+)\}/.exec(e)){let n=parseInt(r[2],10);for(let a=parseInt(r[1],10);a<=n;a++)t.push(e.replace(r[0],a.toString()));return t;}return t.push(e),t;}function u(e,t){if(!e||!e.length)throw Error("url is not allowed to be empty");let{x:r,y:i,z:u}=t,l=o(e),f=Math.abs(r+i)%l.length;return((0,n.getProtocolAction)(l[f])?`${l[f]}/{z}/{x}/{y}`:l[f]).replace(/\{x\}/g,r.toString()).replace(/\{y\}/g,i.toString()).replace(/\{z\}/g,u.toString()).replace(/\{bbox\}/g,(0,a.tileToBounds)(r,i,u).join(",")).replace(/\{-y\}/g,(Math.pow(2,u)-i-1).toString());}function l(e,t){let{x:r,y:n,z:a,layer:i,version:u="1.0.0",style:l="default",format:f,service:s="WMTS",tileMatrixset:c}=t,d=o(e),h=Math.abs(r+n)%d.length;return`${d[h]}&SERVICE=${s}&REQUEST=GetTile&VERSION=${u}&LAYER=${i}&STYLE=${l}&TILEMATRIXSET=${c}&FORMAT=${f}&TILECOL=${r}&TILEROW=${n}&TILEMATRIX=${a}`;}},e336585a:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("73e4475b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e33eec8f:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("a0c669d5")),o=n._(r("906d0414")),u=n._(r("aef3738c"));class l extends u.default{initTileLayer(){var e=this;return(0,i.default)(function*(){let t=e.parent.getLayerAttributeConfig(),r=e.getLayerOptions(),n=e.getSourceOption(),i=new o.default((0,a.default)({},r)).source(n.data,n.options);t&&Object.keys(t).forEach(e=>{var r,n;i[e](null===(r=t[e])||void 0===r?void 0:r.field,null===(n=t[e])||void 0===n?void 0:n.values);}),yield e.addLayer(i),e.isLoaded=!0;})();}getSourceOption(){let e=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:e.transforms}};}}},e3b549d7:function(e,t,r){"use strict";var n;r.d(t,"__esModule",{value:!0}),r.d(t,"InteractionEvent",{enumerable:!0,get:function(){return a;}});let a=((n={}).Hover="hover",n.Click="click",n.Select="select",n.Active="active",n.Drag="drag",n);},e3b551f4:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("31b8a6bd")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e3fb7793:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("20b73cb6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e446417f:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a47ade8c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e46f20cf:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{ButtonControl:function(){return u;},default:function(){return u;}});var n=r("777fffbe"),a=n._(r("e1e610e4")),i=r("89217383"),o=n._(r("506dacbb"));class u extends o.default{constructor(...e){super(...e),(0,a.default)(this,"isDisable",!1),(0,a.default)(this,"button",void 0),(0,a.default)(this,"buttonText",void 0),(0,a.default)(this,"buttonIcon",void 0);}setIsDisable(e){var t,r;this.isDisable=e,e?null===(t=this.button)||void 0===t||t.setAttribute("disabled","true"):null===(r=this.button)||void 0===r||r.removeAttribute("disabled");}createButton(e=""){return i.DOM.create("button",`l7-button-control ${e}`);}onAdd(){this.button=this.createButton(),this.isDisable=!1;let{title:e,btnText:t,btnIcon:r}=this.controlOption;return this.setBtnTitle(e),this.setBtnText(t),this.setBtnIcon(r),this.button;}onRemove(){this.button=this.buttonIcon=this.buttonText=void 0,this.isDisable=!1;}setOptions(e){let{title:t,btnText:r,btnIcon:n}=e;this.checkUpdateOption(e,["title"])&&this.setBtnTitle(t),this.checkUpdateOption(e,["btnIcon"])&&this.setBtnIcon(n),this.checkUpdateOption(e,["btnText"])&&this.setBtnText(r),super.setOptions(e);}setBtnTitle(e){var t;null===(t=this.button)||void 0===t||t.setAttribute("title",null!=e?e:"");}setBtnIcon(e){if(this.buttonIcon&&i.DOM.remove(this.buttonIcon),e){var t,r,n;let a=null===(t=this.button)||void 0===t?void 0:t.firstChild;a?null===(r=this.button)||void 0===r||r.insertBefore(e,a):null===(n=this.button)||void 0===n||n.appendChild(e),this.buttonIcon=e;}}setBtnText(e){if(this.button){if(i.DOM.removeClass(this.button,"l7-button-control--row"),i.DOM.removeClass(this.button,"l7-button-control--column"),e){let r=this.buttonText;if(!r){var t;r=i.DOM.create("div","l7-button-control__text"),null===(t=this.button)||void 0===t||t.appendChild(r),this.buttonText=r;}r.innerText=e,i.DOM.addClass(this.button,this.controlOption.vertical?"l7-button-control--column":"l7-button-control--row");}else!e&&this.buttonText&&(i.DOM.remove(this.buttonText),this.buttonText=void 0);}}}},e4ad4575:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return b;}});var n=r("777fffbe"),a=r("852bbaa9"),i=n._(r("b9fd3c65")),o=n._(r("a0c669d5")),u=n._(r("e1e610e4")),l=r("7f434d9f"),f=r("89217383"),s=r("3ad7e104"),c=a._(r("3fbd2a32")),d=a._(r("ebc3fb65")),h=n._(r("844f219c"));let{isNil:p,isString:v,uniq:_}=f.lodashUtil,m=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,g={[l.ScaleTypes.LINEAR]:d.scaleLinear,[l.ScaleTypes.POWER]:d.scalePow,[l.ScaleTypes.LOG]:d.scaleLog,[l.ScaleTypes.IDENTITY]:h.default,[l.ScaleTypes.SEQUENTIAL]:d.scaleSequential,[l.ScaleTypes.TIME]:d.scaleTime,[l.ScaleTypes.QUANTILE]:d.scaleQuantile,[l.ScaleTypes.QUANTIZE]:d.scaleQuantize,[l.ScaleTypes.THRESHOLD]:d.scaleThreshold,[l.ScaleTypes.CAT]:d.scaleOrdinal,[l.ScaleTypes.DIVERGING]:d.scaleDiverging};class b{constructor(){(0,u.default)(this,"scaleOptions",{});}apply(e,{styleAttributeService:t}){var r,n=this;e.hooks.init.tapPromise("FeatureScalePlugin",(0,o.default)(function*(){var r;e.log(l.IDebugLog.ScaleInitStart,l.ILayerStage.INIT),n.scaleOptions=e.getScaleOptions();let a=t.getLayerStyleAttributes(),i=null===(r=e.getSource())||void 0===r?void 0:r.data.dataArray;Array.isArray(i)&&0===i.length||(n.caculateScalesForAttributes(a||[],i),e.log(l.IDebugLog.ScaleInitEnd,l.ILayerStage.INIT));})),e.hooks.beforeRenderData.tapPromise("FeatureScalePlugin",(r=(0,o.default)(function*(r){if(!r)return r;e.log(l.IDebugLog.ScaleInitStart,l.ILayerStage.UPDATE),n.scaleOptions=e.getScaleOptions();let a=t.getLayerStyleAttributes(),i=e.getSource().data.dataArray;return!!Array.isArray(i)&&0===i.length||(n.caculateScalesForAttributes(a||[],i),e.log(l.IDebugLog.ScaleInitEnd,l.ILayerStage.UPDATE),e.layerModelNeedUpdate=!0,!0);}),function(e){return r.apply(this,arguments);})),e.hooks.beforeRender.tap("FeatureScalePlugin",()=>{if(e.layerModelNeedUpdate)return;this.scaleOptions=e.getScaleOptions();let r=t.getLayerStyleAttributes(),n=e.getSource().data.dataArray;if((!Array.isArray(n)||0!==n.length)&&r){let e=r.filter(e=>e.needRescale);e.length&&this.caculateScalesForAttributes(e,n);}});}isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e);}caculateScalesForAttributes(e,t){e.forEach(e=>{if(e.scale){let r=e.scale,n=e.scale.field;r.names=this.parseFields(p(n)?[]:n);let a=[];r.names.forEach(r=>{var n;a.push(this.createScale(r,e.name,null===(n=e.scale)||void 0===n?void 0:n.values,t));}),a.some(e=>e.type===l.StyleScaleType.VARIABLE)?(r.type=l.StyleScaleType.VARIABLE,a.forEach(e=>{var t,n;if(!r.callback&&"text"!==r.values)switch(null===(t=e.option)||void 0===t?void 0:t.type){case l.ScaleTypes.LOG:case l.ScaleTypes.LINEAR:case l.ScaleTypes.POWER:if(r.values&&r.values.length>2){let t=e.scale.ticks(r.values.length);e.scale.domain(t);}r.values?e.scale.range(r.values):e.scale.range(e.option.domain);break;case l.ScaleTypes.QUANTILE:case l.ScaleTypes.QUANTIZE:case l.ScaleTypes.THRESHOLD:e.scale.range(r.values);break;case l.ScaleTypes.IDENTITY:break;case l.ScaleTypes.CAT:r.values?e.scale.range(r.values):e.scale.range(e.option.domain);break;case l.ScaleTypes.DIVERGING:case l.ScaleTypes.SEQUENTIAL:e.scale.interpolator(c.interpolateRgbBasis(r.values));}"text"===r.values&&e.scale.range(null===(n=e.option)||void 0===n?void 0:n.domain);})):(r.type=l.StyleScaleType.CONSTANT,r.defaultValues=a.map((e,t)=>e.scale(r.names[t]))),r.scalers=a.map(e=>({field:e.field,func:e.scale,option:e.option})),e.needRescale=!1;}});}parseFields(e){return Array.isArray(e)?e:v(e)?e.split("*"):[e];}createScale(e,t,r,n){var a,i;let o=this.scaleOptions[t]&&(null===(a=this.scaleOptions[t])||void 0===a?void 0:a.field)===e?this.scaleOptions[t]:this.scaleOptions[e],u={field:e,scale:void 0,type:l.StyleScaleType.VARIABLE,option:o};if(!n||!n.length)return o&&o.type?u.scale=this.createDefaultScale(o):(u.scale=d.scaleOrdinal([e]),u.type=l.StyleScaleType.CONSTANT),u;let f=null===(i=n.find(t=>!p(t[e])))||void 0===i?void 0:i[e];if(this.isNumber(e)||p(f)&&!o)u.scale=d.scaleOrdinal([e]),u.type=l.StyleScaleType.CONSTANT;else{let t=o&&o.type||this.getDefaultType(f);"text"===r&&(t=l.ScaleTypes.CAT),void 0===r&&(t=l.ScaleTypes.IDENTITY);let a=this.createScaleConfig(t,e,o,n);u.scale=this.createDefaultScale(a),u.option=a;}return u;}getDefaultType(e){let t=l.ScaleTypes.LINEAR;return"string"==typeof e&&(t=m.test(e)?l.ScaleTypes.TIME:l.ScaleTypes.CAT),t;}createScaleConfig(e,t,r,n){let a=(0,i.default)((0,i.default)({},r),{},{type:e});if(null!=a&&a.domain)return a;let o=[];if(e===l.ScaleTypes.QUANTILE){let e=new Map;null==n||n.forEach(r=>{e.set(r._id,r[t]);}),o=Array.from(e.values());}else o=(null==n?void 0:n.map(e=>e[t]))||[];if(e===l.ScaleTypes.CAT||e===l.ScaleTypes.IDENTITY)a.domain=_(o);else if(e===l.ScaleTypes.QUANTILE)a.domain=o;else if(e===l.ScaleTypes.DIVERGING){let e=(0,s.extent)(o),t=(null==r?void 0:r.neutral)!==void 0?null==r?void 0:r.neutral:(e[0]+e[1])/2;a.domain=[e[0],t,e[1]];}else a.domain=(0,s.extent)(o);return a;}createDefaultScale({type:e,domain:t,unknown:r,clamp:n,nice:a}){let i=g[e]();return t&&i.domain&&i.domain(t),r&&i.unknown(r),void 0!==n&&i.clamp&&i.clamp(n),void 0!==a&&i.nice&&i.nice(a),i;}}},e4baaa76:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a13ae21f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e4e82653:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"getRasterFile",{enumerable:!0,get:function(){return _;}});var n=r("89217383"),a=r("6b18bdce"),i=r("4b37d498"),o=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(f)for(var r of f(t))c.call(t,r)&&d(e,r,t[r]);return e;},p=(e,t)=>u(e,l(t)),v=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{u(r.next(e));}catch(e){a(e);}},o=e=>{try{u(r.throw(e));}catch(e){a(e);}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,o);u((r=r.apply(e,t)).next());}),_=(e,t,r,o,u)=>v(void 0,null,function*(){let l=(0,i.getTileBandParams)(t.url);if(l.length>1){let{rasterFiles:f,xhrList:s,errList:c}=yield function(e,t){return v(this,null,function*(){let r=[],a=[],i=[];for(let o=0;o<e.length;o++){let u=e[o],l=p(h({},t),{url:u.url}),f=u.bands,{err:s,data:c,xhr:d}=yield(0,n.makeXMLHttpRequestPromise)(p(h({},l),{type:"arrayBuffer"}));s&&i.push(s),a.push(d),r.push({data:c,bands:f});}return{rasterFiles:r,xhrList:a,errList:i};});}(l,t);if((0,i.bindCancel)(e,s),c.length>0){r(c,null);return;}(0,a.processRasterData)(f,o,u,r);}else{let f=(0,n.getArrayBuffer)(t,(e,t)=>{if(e)r(e);else if(t){let e=[{data:t,bands:l[0].bands}];(0,a.processRasterData)(e,o,u,r);}});(0,i.bindCancel)(e,[f]);}});},e5861b84:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return function e(){var t,r,n=(0,o.default)().unknown(void 0),u=n.domain,l=n.range,f=0,s=1,c=!1,d=0,h=0,p=.5;function v(){var e=u().length,n=s<f,i=n?s:f,o=n?f:s;t=(o-i)/Math.max(1,e-d+2*h),c&&(t=Math.floor(t)),i+=(o-i-t*(e-d))*p,r=t*(1-d),c&&(i=Math.round(i),r=Math.round(r));var v=(0,a.range)(e).map(function(e){return i+t*e;});return l(n?v.reverse():v);}return delete n.unknown,n.domain=function(e){return arguments.length?(u(e),v()):u();},n.range=function(e){return arguments.length?([f,s]=e,f=+f,s=+s,v()):[f,s];},n.rangeRound=function(e){return[f,s]=e,f=+f,s=+s,c=!0,v();},n.bandwidth=function(){return r;},n.step=function(){return t;},n.round=function(e){return arguments.length?(c=!!e,v()):c;},n.padding=function(e){return arguments.length?(d=Math.min(1,h=+e),v()):d;},n.paddingInner=function(e){return arguments.length?(d=Math.min(1,e),v()):d;},n.paddingOuter=function(e){return arguments.length?(h=+e,v()):h;},n.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),v()):p;},n.copy=function(){return e(u(),[f,s]).round(c).paddingInner(d).paddingOuter(h).align(p);},i.initRange.apply(v(),arguments);};}});var n=r("777fffbe"),a=r("3ad7e104"),i=r("d0fac4de"),o=n._(r("ea5f48ce"));},e58bd51c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{getLatLonBoundsBuffer:function(){return a;},isLatLonBoundsContains:function(){return i;}});var n=r("bcc13b3f"),a=(e,t)=>{let r=(0,n.bBoxToBounds)(e),a=(0,n.padBounds)(r,t);return[Math.max(a[0][0],-900),Math.max(a[0][1],-85.0511287798065),Math.min(a[1][0],900),Math.min(a[1][1],85.0511287798065)];},i=(e,t)=>{let r=(0,n.bBoxToBounds)(e),a=(0,n.bBoxToBounds)(t);return(0,n.boundsContains)(r,a);};},e5c159c5:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("fae8cc89")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e5cd2ad5:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("55aa0355")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e692ac42:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("f9ae2822"),u=r("3cc20d34");class l{constructor(e){(0,i.default)(this,"passes",[]),(0,i.default)(this,"readFBO",void 0),(0,i.default)(this,"writeFBO",void 0),this.rendererService=e,this.init();}getReadFBO(){return this.readFBO;}getWriteFBO(){return this.writeFBO;}getCurrentFBOTex(){let{getViewportSize:e,createTexture2D:t}=this.rendererService,{width:r,height:n}=e();return t({x:0,y:0,width:r,height:n,copy:!0});}getReadFBOTex(){var e=this;let{useFramebuffer:t}=this.rendererService;return new Promise(r=>{t(this.readFBO,(0,a.default)(function*(){r(e.getCurrentFBOTex());}));});}renderBloomPass(e,t){var r=this;return(0,a.default)(function*(){let n=yield r.getReadFBOTex(),a=0;for(;a<4;)yield t.render(e,n),r.swap(),a++;})();}render(e){var t=this;return(0,a.default)(function*(){for(let r=0;r<t.passes.length;r++){let n=t.passes[r];n.setRenderToScreen(t.isLastEnabledPass(r)),"bloom"===n.getName()?yield t.renderBloomPass(e,n):(yield n.render(e),r!==t.passes.length-1&&t.swap());}})();}resize(e,t){this.readFBO.resize({width:e,height:t}),this.writeFBO.resize({width:e,height:t});}add(e,t,r){e.init(t,r),this.passes.push(e);}insert(e,t,r,n){e.init(r,n),this.passes.splice(t,0,e);}getPostProcessingPassByName(e){return this.passes.find(t=>t.getName()===e);}init(){let{createFramebuffer:e,createTexture2D:t}=this.rendererService;this.readFBO=e({color:t({width:1,height:1,wrapS:u.gl.CLAMP_TO_EDGE,wrapT:u.gl.CLAMP_TO_EDGE,usage:o.TextureUsage.RENDER_TARGET})}),this.writeFBO=e({color:t({width:1,height:1,wrapS:u.gl.CLAMP_TO_EDGE,wrapT:u.gl.CLAMP_TO_EDGE,usage:o.TextureUsage.RENDER_TARGET})});}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].isEnabled())return!1;return!0;}swap(){let e=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=e;}}},e69d9d56:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6d792052")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e71c969c:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("68ff2dfd")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e7630cf6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("de55d537")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e78a9db5:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d59b9b75")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e790a4b3:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a079293b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e80534d6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("530e883f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e80b173c:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("054ae0f3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e812958f:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b2b21e4e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e83f77a7:function(e,t,r){"use strict";function n(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t];});};}r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});},e8951a00:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return d;},generateLightingUniforms:function(){return c;}});var n=r("777fffbe"),a=n._(r("cc661f7c")),i=n._(r("b9fd3c65"));let o=["type"],u={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},l={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},f={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},s={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};function c(e){let t={u_DirectionalLights:[,,,].fill((0,i.default)({},f)),u_NumOfDirectionalLights:0,u_SpotLights:[,,,].fill((0,i.default)({},s)),u_NumOfSpotLights:0};return e&&e.length||(e=[l]),e.forEach(e=>{let{type:r="directional"}=e,n=(0,a.default)(e,o),l=u[r].lights,f=u[r].num,s=t[f];t[l][s]=(0,i.default)((0,i.default)({},t[l][s]),n),t[f]++;}),t;}class d{apply(e){e.hooks.beforeRender.tap("LightingPlugin",()=>{let{enableLighting:t}=e.getLayerConfig();t&&e.models.forEach(e=>e.addUniforms((0,i.default)({},c())));});}}},e8af24c0:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("807979bc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e92ff241:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c93447e7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e956a59f:function(e,t,r){function n(e,t){if(0!==e.length){a(e[0],t);for(var r=1;r<e.length;r++)a(e[r],!t);}}function a(e,t){for(var r=0,n=0,a=0,i=e.length,o=i-1;a<i;o=a++){var u=(e[a][0]-e[o][0])*(e[o][1]+e[a][1]),l=r+u;n+=Math.abs(r)>=Math.abs(u)?r-l+u:u-l+r,r=l;}r+n>=0!=!!t&&e.reverse();}e.exports=function e(t,r){var a,i=t&&t.type;if("FeatureCollection"===i)for(a=0;a<t.features.length;a++)e(t.features[a],r);else if("GeometryCollection"===i)for(a=0;a<t.geometries.length;a++)e(t.geometries[a],r);else if("Feature"===i)e(t.geometry,r);else if("Polygon"===i)n(t.coordinates,r);else if("MultiPolygon"===i)for(a=0;a<t.coordinates.length;a++)n(t.coordinates[a],r);return t;};},e96198fd:function(e,t,r){"use strict";function n(e){let t;if(0===e.length)return 0;let r=e[0],n=0;for(let a=1;a<e.length;a++)t=r+1*e[a],Math.abs(r)>=Math.abs(e[a])?n+=r-t+e[a]:n+=e[a]-t+r,r=t;return r+1*n;}r.d(t,"__esModule",{value:!0}),r.d(t,"statMap",{enumerable:!0,get:function(){return a;}});var a={min:function(e){if(0===e.length)throw Error("min requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]<t&&(t=e[r]);return t;},max:function(e){if(0===e.length)throw Error("max requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]>t&&(t=e[r]);return t;},mean:function(e){if(0===e.length)throw Error("mean requires at least one data point");return n(e)/e.length;},sum:n};},e9b9738a:function(e,t,r){"use strict";var n;r.d(t,"__esModule",{value:!0}),r.d(t,"RasterTileType",{enumerable:!0,get:function(){return a;}});let a=((n={}).IMAGE="image",n.CUSTOMIMAGE="customImage",n.ARRAYBUFFER="arraybuffer",n.RGB="rgb",n.TERRAINRGB="terrainRGB",n.CUSTOMRGB="customRGB",n.CUSTOMARRAYBUFFER="customArrayBuffer",n.CUSTOMTERRAINRGB="customTerrainRGB",n);},e9c54339:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("88911cfb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e9daa7a9:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("93c0835f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},e9faabb9:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("023f639a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ea0e29a7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e9f7a473")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ea30cf61:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4c925ea1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ea451d8c:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("91e66dea")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ea5f48ce:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return function e(){var t=new n.InternMap,r=[],o=[],u=i;function l(e){let n=t.get(e);if(void 0===n){if(u!==i)return u;t.set(e,n=r.push(e)-1);}return o[n%o.length];}return l.domain=function(e){if(!arguments.length)return r.slice();for(let a of(r=[],t=new n.InternMap,e))t.has(a)||t.set(a,r.push(a)-1);return l;},l.range=function(e){return arguments.length?(o=Array.from(e),l):o.slice();},l.unknown=function(e){return arguments.length?(u=e,l):u;},l.copy=function(){return e(r,o).unknown(u);},a.initRange.apply(l,arguments),l;};},implicit:function(){return i;}});var n=r("3ad7e104"),a=r("d0fac4de");let i=Symbol("implicit");},eaa6a05d:function(e,t,r){"use strict";var n=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getTwoToneColor=function(){var e=i.default.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor;},t.setTwoToneColor=function(e){var t=(0,o.normalizeTwoToneColors)(e),r=(0,a.default)(t,2),n=r[0],u=r[1];return i.default.setTwoToneColors({primaryColor:n,secondaryColor:u});};var a=n(r("07af66ba")),i=n(r("340f8cf2")),o=r("bf1e085a");},eab31ca0:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("45f23afb")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},eac136aa:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2bacd446")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},eac4aa94:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n={},a={};function i(e){return Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""';}).join(",")+"}");}function o(e){var t=Object.create(null),r=[];return e.forEach(function(e){for(var n in e)n in t||r.push(t[n]=n);}),r;}function u(e,t){var r=e+"",n=r.length;return n<t?Array(t-n+1).join(0)+r:r;}function l(e){var t=RegExp('["'+e+"\n\r]"),r=e.charCodeAt(0);function l(e,t){var i,o=[],u=e.length,l=0,f=0,s=u<=0,c=!1;function d(){if(s)return a;if(c)return c=!1,n;var t,i,o=l;if(34===e.charCodeAt(o)){for(;l++<u&&34!==e.charCodeAt(l)||34===e.charCodeAt(++l););return(t=l)>=u?s=!0:10===(i=e.charCodeAt(l++))?c=!0:13===i&&(c=!0,10===e.charCodeAt(l)&&++l),e.slice(o+1,t-1).replace(/""/g,'"');}for(;l<u;){if(10===(i=e.charCodeAt(t=l++)))c=!0;else if(13===i)c=!0,10===e.charCodeAt(l)&&++l;else if(i!==r)continue;return e.slice(o,t);}return s=!0,e.slice(o,u);}for(10===e.charCodeAt(u-1)&&--u,13===e.charCodeAt(u-1)&&--u;(i=d())!==a;){for(var h=[];i!==n&&i!==a;)h.push(i),i=d();t&&null==(h=t(h,f++))||o.push(h);}return o;}function f(t,r){return t.map(function(t){return r.map(function(e){return c(t[e]);}).join(e);});}function s(t){return t.map(c).join(e);}function c(e){var r,n,a,i,o,l;return null==e?"":e instanceof Date?(n=(r=e).getUTCHours(),a=r.getUTCMinutes(),i=r.getUTCSeconds(),o=r.getUTCMilliseconds(),isNaN(r)?"Invalid Date":((l=r.getUTCFullYear())<0?"-"+u(-l,6):l>9999?"+"+u(l,6):u(l,4))+"-"+u(r.getUTCMonth()+1,2)+"-"+u(r.getUTCDate(),2)+(o?"T"+u(n,2)+":"+u(a,2)+":"+u(i,2)+"."+u(o,3)+"Z":i?"T"+u(n,2)+":"+u(a,2)+":"+u(i,2)+"Z":a||n?"T"+u(n,2)+":"+u(a,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;}return{parse:function(e,t){var r,n,a=l(e,function(e,a){var o;if(r)return r(e,a-1);n=e,r=t?(o=i(e),function(r,n){return t(o(r),n,e);}):i(e);});return a.columns=n||[],a;},parseRows:l,format:function(t,r){return null==r&&(r=o(t)),[r.map(c).join(e)].concat(f(t,r)).join("\n");},formatBody:function(e,t){return null==t&&(t=o(e)),f(e,t).join("\n");},formatRows:function(e){return e.map(s).join("\n");},formatRow:s,formatValue:c};}},eaeab1b2:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a6440989")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},eb12a19e:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return h;}});var n=r("777fffbe"),a=n._(r("cc661f7c")),i=n._(r("b9fd3c65")),o=n._(r("a0c669d5")),u=n._(r("e1e610e4")),l=r("89217383"),f=n._(r("906d0414")),s=n._(r("aef3738c"));let c=["rasterData"],d={positions:[0,1],colors:["#000","#fff"]};class h extends s.default{constructor(...e){super(...e),(0,u.default)(this,"colorTexture",void 0);}initTileLayer(){var e=this;return(0,o.default)(function*(){let t=e.parent.getLayerAttributeConfig(),r=e.getLayerOptions(),n=e.getSourceOption(),{rampColors:a,domain:o}=e.getLayerOptions();e.colorTexture=e.parent.textureService.getColorTexture(a,o);let u=new f.default((0,i.default)((0,i.default)({},r),{},{colorTexture:e.colorTexture})).source(n.data,n.options);t&&Object.keys(t).forEach(e=>{var r,n;u[e](null===(r=t[e])||void 0===r?void 0:r.field,null===(n=t[e])||void 0===n?void 0:n.values);}),yield e.addLayer(u),e.isLoaded=!0;})();}getSourceOption(){let e=this.parent.getSource(),t=this.sourceTile.data.data,{rasterData:r}=t,n=(0,a.default)(t,c);return{data:r,options:{parser:(0,i.default)({type:"raster",extent:this.sourceTile.bounds},n),transforms:e.transforms}};}styleUpdate(...e){let{rampColors:t=d,domain:r}=e;this.colorTexture=this.parent.textureService.getColorTexture(t,r||(0,l.getDefaultDomain)(t)),this.layers.forEach(e=>e.style({colorTexture:this.colorTexture}));}destroy(){this.layers.forEach(e=>e.destroy());}}},ebc3fb65:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{scaleDiverging:function(){return h.default;},scaleLinear:function(){return a.default;},scaleLog:function(){return i.default;},scaleOrdinal:function(){return o.default;},scalePow:function(){return u.default;},scaleQuantile:function(){return l.default;},scaleQuantize:function(){return f.default;},scaleSequential:function(){return d.default;},scaleThreshold:function(){return s.default;},scaleTime:function(){return c.default;}});var n=r("777fffbe");r("0d0b9193"),r("1e292c2e");var a=n._(r("6c817216")),i=n._(r("2864a46a"));r("a3fdf0b1");var o=n._(r("7b9cfd4c")),u=n._(r("e1627662")),l=n._(r("347938e3")),f=n._(r("7d35241c")),s=n._(r("7b9209ec")),c=n._(r("acff11ad"));r("56e820ae");var d=n._(r("0d8cb97a"));r("5d249d81");var h=n._(r("56804445"));r("18291793");},ec0e68a6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a6348e2b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ec1ff510:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1fd8f90e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},eca6a49f:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("990220dc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ed152bc6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7b9efeab")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ed38785a:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("742e48d4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ed76f7a5:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("37a6e6d6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ed80eaea:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ed3e2ff1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},edaabb78:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("2eb2e0d5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},edcb329e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5fdb6745")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},edce773c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{blendEquationMap:function(){return d;},blendFuncMap:function(){return h;},cullFaceMap:function(){return c;},depthFuncMap:function(){return s;},hintMap:function(){return l;},primitiveMap:function(){return o;},sizeFormatMap:function(){return u;},stencilFuncMap:function(){return v;},stencilOpMap:function(){return p;},typedArrayCtorMap:function(){return i;},wrapModeMap:function(){return f;}});var n=r("42f7077b"),a=r("7f434d9f"),i={[a.gl.FLOAT]:Float32Array,[a.gl.UNSIGNED_BYTE]:Uint8Array,[a.gl.SHORT]:Int16Array,[a.gl.UNSIGNED_SHORT]:Uint16Array,[a.gl.INT]:Int32Array,[a.gl.UNSIGNED_INT]:Uint32Array},o={[a.gl.POINTS]:n.PrimitiveTopology.POINTS,[a.gl.LINES]:n.PrimitiveTopology.LINES,[a.gl.LINE_LOOP]:n.PrimitiveTopology.LINES,[a.gl.LINE_STRIP]:n.PrimitiveTopology.LINE_STRIP,[a.gl.TRIANGLES]:n.PrimitiveTopology.TRIANGLES,[a.gl.TRIANGLE_FAN]:n.PrimitiveTopology.TRIANGLES,[a.gl.TRIANGLE_STRIP]:n.PrimitiveTopology.TRIANGLE_STRIP},u={1:n.Format.F32_R,2:n.Format.F32_RG,3:n.Format.F32_RGB,4:n.Format.F32_RGBA},l={[a.gl.STATIC_DRAW]:n.BufferFrequencyHint.STATIC,[a.gl.DYNAMIC_DRAW]:n.BufferFrequencyHint.DYNAMIC,[a.gl.STREAM_DRAW]:n.BufferFrequencyHint.DYNAMIC},f={[a.gl.REPEAT]:n.AddressMode.REPEAT,[a.gl.CLAMP_TO_EDGE]:n.AddressMode.CLAMP_TO_EDGE,[a.gl.MIRRORED_REPEAT]:n.AddressMode.MIRRORED_REPEAT},s={[a.gl.NEVER]:n.CompareFunction.NEVER,[a.gl.ALWAYS]:n.CompareFunction.ALWAYS,[a.gl.LESS]:n.CompareFunction.LESS,[a.gl.LEQUAL]:n.CompareFunction.LEQUAL,[a.gl.GREATER]:n.CompareFunction.GREATER,[a.gl.GEQUAL]:n.CompareFunction.GEQUAL,[a.gl.EQUAL]:n.CompareFunction.EQUAL,[a.gl.NOTEQUAL]:n.CompareFunction.NOTEQUAL},c={[a.gl.FRONT]:n.CullMode.FRONT,[a.gl.BACK]:n.CullMode.BACK},d={[a.gl.FUNC_ADD]:n.BlendMode.ADD,[a.gl.MIN_EXT]:n.BlendMode.MIN,[a.gl.MAX_EXT]:n.BlendMode.MAX,[a.gl.FUNC_SUBTRACT]:n.BlendMode.SUBSTRACT,[a.gl.FUNC_REVERSE_SUBTRACT]:n.BlendMode.REVERSE_SUBSTRACT},h={[a.gl.ZERO]:n.BlendFactor.ZERO,[a.gl.ONE]:n.BlendFactor.ONE,[a.gl.SRC_COLOR]:n.BlendFactor.SRC,[a.gl.ONE_MINUS_SRC_COLOR]:n.BlendFactor.ONE_MINUS_SRC,[a.gl.SRC_ALPHA]:n.BlendFactor.SRC_ALPHA,[a.gl.ONE_MINUS_SRC_ALPHA]:n.BlendFactor.ONE_MINUS_SRC_ALPHA,[a.gl.DST_COLOR]:n.BlendFactor.DST,[a.gl.ONE_MINUS_DST_COLOR]:n.BlendFactor.ONE_MINUS_DST,[a.gl.DST_ALPHA]:n.BlendFactor.DST_ALPHA,[a.gl.ONE_MINUS_DST_ALPHA]:n.BlendFactor.ONE_MINUS_DST_ALPHA,[a.gl.CONSTANT_COLOR]:n.BlendFactor.CONST,[a.gl.ONE_MINUS_CONSTANT_COLOR]:n.BlendFactor.ONE_MINUS_CONSTANT,[a.gl.CONSTANT_ALPHA]:n.BlendFactor.CONST,[a.gl.ONE_MINUS_CONSTANT_ALPHA]:n.BlendFactor.ONE_MINUS_CONSTANT,[a.gl.SRC_ALPHA_SATURATE]:n.BlendFactor.SRC_ALPHA_SATURATE},p={[a.gl.REPLACE]:n.StencilOp.REPLACE,[a.gl.KEEP]:n.StencilOp.KEEP,[a.gl.ZERO]:n.StencilOp.ZERO,[a.gl.INVERT]:n.StencilOp.INVERT,[a.gl.INCR]:n.StencilOp.INCREMENT_CLAMP,[a.gl.DECR]:n.StencilOp.DECREMENT_CLAMP,[a.gl.INCR_WRAP]:n.StencilOp.INCREMENT_WRAP,[a.gl.DECR_WRAP]:n.StencilOp.DECREMENT_WRAP},v={[a.gl.ALWAYS]:n.CompareFunction.ALWAYS,[a.gl.EQUAL]:n.CompareFunction.EQUAL,[a.gl.GEQUAL]:n.CompareFunction.GEQUAL,[a.gl.GREATER]:n.CompareFunction.GREATER,[a.gl.LEQUAL]:n.CompareFunction.LEQUAL,[a.gl.LESS]:n.CompareFunction.LESS,[a.gl.NEVER]:n.CompareFunction.NEVER,[a.gl.NOTEQUAL]:n.CompareFunction.NOTEQUAL};},ede81c1a:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7fe8b8d6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ee129b8e:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"CanvasModel",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("6c8aee75")),u=r("34540526"),l=r("14a379fa");class f extends o.default{constructor(...e){super(...e),(0,i.default)(this,"canvas",null),(0,i.default)(this,"ctx",void 0),(0,i.default)(this,"ctxType",void 0),(0,i.default)(this,"viewportSize",void 0),(0,i.default)(this,"initCanvas",()=>{var e,t,r,n,a;let{zIndex:i,getContext:o}=this.layerConfig,u=document.createElement("canvas"),f=this.layer.getModelType();this.canvas=u,u.classList.add("l7-canvas-layer"),u.style.position="absolute",u.style.top="0",u.style.left="0",u.style.zIndex=String(i),this.resetCanvasSize();let s=null!==(e=null===(t=(r=this.mapService).getCanvasOverlays)||void 0===t?void 0:t.call(r))&&void 0!==e?e:null===(n=(a=this.mapService).getMapCanvasContainer)||void 0===n?void 0:n.call(a);null==s||s.appendChild(u),this.ctx=o?o(u):u.getContext(l.CanvasContextTypeMap[f]),this.ctx||console.error("Failed to get rendering context for canvas"),this.bindListeners();}),(0,i.default)(this,"resetViewportSize",()=>{let{width:e,height:t}=this.rendererService.getViewportSize();this.viewportSize=[e,t];}),(0,i.default)(this,"resetCanvasSize",()=>{let e=this.canvas;if(!e)return;this.resetViewportSize();let[t,r]=this.mapService.getSize(),[n,a]=this.viewportSize;e.width=n,e.height=a,e.style.width=t+"px",e.style.height=r+"px";}),(0,i.default)(this,"renderCanvas",()=>{var e;this.canvas||this.initCanvas();let{draw:t,drawingOnCanvas:r}=this.layerConfig,[n,a]=this.viewportSize,i=this.mapService.getBounds();null===(e=null!=t?t:r)||void 0===e||e({canvas:this.canvas,ctx:this.ctx,container:{width:n,height:a,bounds:i},size:[n,a],utils:{lngLatToContainer:this.lngLatToContainer},mapService:this.mapService});}),(0,i.default)(this,"removeCanvas",()=>{if(this.canvas){var e;null===(e=this.canvas.parentElement)||void 0===e||e.removeChild(this.canvas),this.canvas=null;}this.unbindListeners();}),(0,i.default)(this,"onMapResize",()=>{requestAnimationFrame(()=>{this.resetCanvasSize(),this.renderCanvas();});}),(0,i.default)(this,"lngLatToContainer",e=>{let{x:t,y:r}=this.mapService.lngLatToContainer(e);return{x:t*window.devicePixelRatio,y:r*window.devicePixelRatio};});}get layerConfig(){return this.layer.getLayerConfig();}initModels(){var e=this;return(0,a.default)(function*(){return e.renderCanvas(),[];})();}bindListeners(){this.mapService.on("resize",this.onMapResize);let{trigger:e,update:t}=this.layerConfig;t===u.CanvasUpdateType.ALWAYS||"change"===e?this.mapService.on("mapchange",this.renderCanvas):(this.mapService.on("zoomstart",this.removeCanvas),this.mapService.on("zoomend",this.renderCanvas),this.mapService.on("movestart",this.removeCanvas),this.mapService.on("moveend",this.renderCanvas));}unbindListeners(){this.mapService.off("resize",this.onMapResize),this.mapService.off("mapchange",this.renderCanvas),this.mapService.off("zoomstart",this.removeCanvas),this.mapService.off("zoomend",this.renderCanvas),this.mapService.off("movestart",this.removeCanvas),this.mapService.off("moveend",this.renderCanvas);}registerBuiltinAttributes(){}}},ee3e527a:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4b640756")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ee4a79b8:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("07a31cab")),u=n._(r("4babc87e"));class l extends o.default{constructor(...e){super(...e),(0,i.default)(this,"type","PolygonLayer"),(0,i.default)(this,"enableShaderEncodeStyles",["opacity","extrusionBase","rotation","offsets","stroke"]);}buildModels(){var e=this;return(0,a.default)(function*(){let t=e.getModelType();e.layerModel=new u.default[t](e),yield e.initLayerModels();})();}getModelType(){var e;let t=this.styleAttributeService.getLayerStyleAttribute("shape"),r=null==t||null===(e=t.scale)||void 0===e?void 0:e.field;return"fill"!==r&&r?"extrude"===r?"extrude":"extrusion"===r?"extrusion":"water"===r?"water":"ocean"===r?"ocean":"line"===r?"line":this.getPointModelType():"fill";}getPointModelType(){let e=this.getEncodedData(),{shape2d:t,shape3d:r}=this.getLayerConfig(),n=this.iconService.getIconMap(),a=e.find(e=>e.hasOwnProperty("shape"));if(!a)return"fill";{let e=a.shape;return"dot"===e?"point_normal":(null==t?void 0:t.indexOf(e))!==-1?"point_fill":(null==r?void 0:r.indexOf(e))!==-1?"point_extrude":n.hasOwnProperty(e)?"point_image":"text";}}}},ee8c54a8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0921e74e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ee9217fe:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return p;}});var n=r("777fffbe"),a=n._(r("6dd50fef")),i=n._(r("876766eb")),o=n._(r("e83f77a7")),u=n._(r("eec12030")),l=n._(r("7ee7b465")),f=n._(r("a63fe165")),s=r("08b2199c"),c=n._(r("bd3f83ee")),d=Array.prototype.map,h=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function p(e){var t=void 0===e.grouping||void 0===e.thousands?c.default:(0,i.default)(d.call(e.grouping,Number),e.thousands+""),r=void 0===e.currency?"":e.currency[0]+"",n=void 0===e.currency?"":e.currency[1]+"",p=void 0===e.decimal?".":e.decimal+"",v=void 0===e.numerals?c.default:(0,o.default)(d.call(e.numerals,String)),_=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"\u2212":e.minus+"",g=void 0===e.nan?"NaN":e.nan+"";function b(e){var a=(e=(0,u.default)(e)).fill,i=e.align,o=e.sign,c=e.symbol,d=e.zero,b=e.width,y=e.comma,E=e.precision,T=e.trim,A=e.type;"n"===A?(y=!0,A="g"):f.default[A]||(void 0===E&&(E=12),T=!0,A="g"),(d||"0"===a&&"="===i)&&(d=!0,a="0",i="=");var S="$"===c?r:"#"===c&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",O="$"===c?n:/[%p]/.test(A)?_:"",R=f.default[A],M=/[defgprs%]/.test(A);function x(e){var r,n,u,f=S,c=O;if("c"===A)c=R(e)+c,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?g:R(Math.abs(e),E),T&&(e=(0,l.default)(e)),_&&0==+e&&"+"!==o&&(_=!1),f=(_?"("===o?o:m:"-"===o||"("===o?"":o)+f,c=("s"===A?h[8+s.prefixExponent/3]:"")+c+(_&&"("===o?")":""),M){for(r=-1,n=e.length;++r<n;)if(48>(u=e.charCodeAt(r))||u>57){c=(46===u?p+e.slice(r+1):e.slice(r))+c,e=e.slice(0,r);break;}}}y&&!d&&(e=t(e,1/0));var x=f.length+e.length+c.length,C=x<b?Array(b-x+1).join(a):"";switch(y&&d&&(e=t(C+e,C.length?b-c.length:1/0),C=""),i){case"<":e=f+e+c+C;break;case"=":e=f+C+e+c;break;case"^":e=C.slice(0,x=C.length>>1)+f+e+c+C.slice(x);break;default:e=C+f+e+c;}return v(e);}return E=void 0===E?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E)),x.toString=function(){return e+"";},x;}return{format:b,formatPrefix:function(e,t){var r=b(((e=(0,u.default)(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor((0,a.default)(t)/3))),i=Math.pow(10,-n),o=h[8+n/3];return function(e){return r(i*e)+o;};}};}},eeaa2bbc:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return p;}});var n=r("89217383"),a=r("68cc65c7"),i=Object.defineProperty,o=Object.defineProperties,u=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))f.call(t,r)&&c(e,r,t[r]);if(l)for(var r of l(t))s.call(t,r)&&c(e,r,t[r]);return e;},h=(e,t)=>o(e,u(t));function p(e,t){let{extent:r=[121.168,30.2828,121.384,30.4219],coordinates:i,requestParameters:o={}}=t,u=new Promise(t=>{e instanceof HTMLImageElement||(0,n.isImageBitmap)(e)?t([e]):function(e,t,r){let a=[];if("string"==typeof e)(0,n.getImage)(h(d({},t),{url:e}),(e,t)=>{t&&(a.push(t),r(a));});else{let i=e.length,o=0;e.forEach(e=>{(0,n.getImage)(h(d({},t),{url:e}),(e,t)=>{o++,t&&a.push(t),o===i&&r(a);});});}return p;}(e,o,e=>{t(e);});});return{originData:e,images:u,_id:1,dataArray:[{_id:0,coordinates:(0,a.extentToCoord)(i,r)}]};}},eebee751:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"SceneConifg",{enumerable:!0,get:function(){return n;}});var n={REGISTERED_PROTOCOLS:{}};},eec12030:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{FormatSpecifier:function(){return i;},default:function(){return a;}});var n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(e){var t;if(!(t=n.exec(e)))throw Error("invalid format: "+e);return new i({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]});}function i(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+"";}a.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type;};},eedfdb10:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8b3c69bc")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},eeea79ca:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a912b774")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ef2ac3f5:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("82af2614")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ef912406:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dd1ce33a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},efd4a36b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("80578e56")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f031d073:function(e,t,r){},f08ca222:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8db155cf")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f097af98:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=r("89217383"),f=n._(r("6c8aee75")),s=r("f9b12b3c"),c=r("5b904964");class d extends f.default{constructor(...e){super(...e),(0,o.default)(this,"texture",void 0);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,UV:11});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{mapTexture:e,heightfixed:t=!1,raisingHeight:r=0,topsurface:n=!0,sidesurface:a=!0,sourceColor:i,targetColor:o}=this.layer.getLayerConfig(),u=0,f=[1,1,1,1],s=[1,1,1,1];i&&o&&(f=(0,l.rgb2arr)(i),s=(0,l.rgb2arr)(o),u=1);let c={u_sourceColor:f,u_targetColor:s,u_linearColor:u,u_topsurface:Number(n),u_sidesurface:Number(a),u_heightfixed:Number(t),u_raisingHeight:Number(r)};return e&&this.texture&&(c.u_texture=this.texture,this.textures=[this.texture]),this.getUniformsBufferInfo(c);}initModels(){var e=this;return(0,a.default)(function*(){return yield e.loadTexture(),e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){let{frag:t,vert:r,type:n}=e.getShaders();return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:n,vertexShader:r,fragmentShader:t,depth:{enable:!0},defines:e.getDefines(),inject:e.getInject(),triangulation:s.PolygonExtrudeTriangulation}))];})();}getShaders(){let{pickLight:e,mapTexture:t}=this.layer.getLayerConfig();return t?{frag:'uniform sampler2D u_texture;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A\n  float u_raisingHeight;\n};\n\nin vec4 v_Color;\nin vec3 v_uvs;\nin vec2 v_texture_data;\n\n#pragma include "scene_uniforms"\n#pragma include "picking"\n\nout vec4 outputColor;\n\nvoid main() {\n  float opacity = u_opacity;\n  float isSide = v_texture_data.x;\n  float lightWeight = v_texture_data.y;\n  float topU = v_uvs[0];\n  float topV = 1.0 - v_uvs[1];\n  float sidey = v_uvs[2];\n\n  outputColor = texture(SAMPLER_2D(u_texture), vec2(topU, topV));\n  // Tip: \u90E8\u5206\u673A\u578B GPU \u8BA1\u7B97\u7CBE\u5EA6\u517C\u5BB9\n  if (isSide < 0.999) {\n    // \u662F\u5426\u662F\u8FB9\u7F18\n    // side face\n    if (u_sidesurface < 1.0) {\n      discard;\n    }\n\n    if (u_linearColor == 1.0) {\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\n      linearColor.rgb *= lightWeight;\n      outputColor = linearColor;\n    } else {\n      outputColor = v_Color;\n    }\n  } else {\n    // top face\n    if (u_topsurface < 1.0) {\n      discard;\n    }\n  }\n\n  outputColor.a *= opacity;\n  outputColor = filterColor(outputColor);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A\n  float u_raisingHeight;\n};\n\nout vec4 v_Color;\nout vec3 v_uvs;\nout vec2 v_texture_data;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos, a_Position64Low);\n  float lightWeight = calc_lighting(project_pos);\n  v_uvs = a_uvs;\n  v_Color = a_Color;\n  v_Color.a *= opacity;\n\n  v_texture_data = vec2(a_Position.z, lightWeight);\n\n  if (u_heightfixed > 0.0) {\n    // \u5224\u65AD\u51E0\u4F55\u4F53\u662F\u5426\u56FA\u5B9A\u9AD8\u5EA6\n    project_pos.z = a_Position.z * a_Size;\n    project_pos.z += u_raisingHeight;\n\n    if (\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    ) {\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n      project_pos.z *= mapboxZoomScale;\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',type:"polygonExtrudeTexture"}:e?{frag:'layout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A\n  float u_raisingHeight;\n};\n\nin vec4 v_Color;\nin vec3 v_uvs;\nin vec2 v_texture_data;\nout vec4 outputColor;\n\n#pragma include "scene_uniforms"\n#pragma include "picking"\n\nvoid main() {\n  float isSide = v_texture_data.x;\n  float sidey = v_uvs[2];\n  float lightWeight = v_texture_data.y;\n\n  // Tip: \u90E8\u5206\u673A\u578B GPU \u8BA1\u7B97\u7CBE\u5EA6\u517C\u5BB9\n  if (isSide < 0.999) {\n    // side face\n    if (u_sidesurface < 1.0) {\n      discard;\n    }\n\n    if (u_linearColor == 1.0) {\n      // side use linear\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\n      linearColor.rgb *= lightWeight;\n      outputColor = linearColor;\n    } else {\n      // side notuse linear\n      outputColor = v_Color;\n    }\n  } else {\n    // top face\n    if (u_topsurface < 1.0) {\n      discard;\n    }\n    outputColor = v_Color;\n  }\n\n  outputColor = filterColorAlpha(outputColor, lightWeight);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A\n  float u_raisingHeight;\n};\n\nout vec4 v_Color;\nout vec3 v_uvs;\nout vec2 v_texture_data;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  v_uvs = a_uvs;\n  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos, a_Position64Low);\n\n  if (u_heightfixed > 0.0) {\n    // \u5224\u65AD\u51E0\u4F55\u4F53\u662F\u5426\u56FA\u5B9A\u9AD8\u5EA6\n    project_pos.z = a_Position.z * a_Size;\n    project_pos.z += u_raisingHeight;\n    if (\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    ) {\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n      project_pos.z *= mapboxZoomScale;\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\n    }\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  float lightWeight = calc_lighting(project_pos);\n  v_texture_data = vec2(a_Position.z, lightWeight);\n\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);\n\n  setPickingColor(a_PickingColor);\n}\n',type:"polygonExtrudePickLight"}:{frag:'layout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A\n  float u_raisingHeight;\n};\n\nin vec4 v_Color;\n#pragma include "scene_uniforms"\n#pragma include "picking"\nout vec4 outputColor;\nvoid main() {\n  // top face\n  if (u_topsurface < 1.0) {\n    discard;\n  }\n\n  outputColor = v_Color;\n\n  outputColor = filterColor(outputColor);\n}\n',vert:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  float u_linearColor;\n  float u_topsurface;\n  float u_sidesurface;\n  float u_heightfixed; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A\n  float u_raisingHeight;\n};\n\nout vec4 v_Color;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  float isSide = a_Position.z;\n  float topU = a_uvs[0];\n  float topV = 1.0 - a_uvs[1];\n  float sidey = a_uvs[2];\n\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n\n  vec4 project_pos = project_position(pos, a_Position64Low);\n  float lightWeight = calc_lighting(project_pos);\n\n  if (u_heightfixed > 0.0) {\n    // \u5224\u65AD\u51E0\u4F55\u4F53\u662F\u5426\u56FA\u5B9A\u9AD8\u5EA6\n    project_pos.z = a_Position.z * a_Size;\n    project_pos.z += u_raisingHeight;\n\n    if (\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    ) {\n      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);\n      project_pos.z *= mapboxZoomScale;\n      project_pos.z += u_raisingHeight * mapboxZoomScale;\n    }\n  }\n\n gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  // Tip: \u90E8\u5206\u673A\u578B GPU \u8BA1\u7B97\u7CBE\u5EA6\u517C\u5BB9\n  if (isSide < 0.999) {\n    // side face\n    // if(u_sidesurface < 1.0) {\n    //   discard;\n    // }\n\n    if (u_linearColor == 1.0) {\n      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);\n      linearColor.rgb *= lightWeight;\n      v_Color = linearColor;\n    } else {\n      v_Color = a_Color;\n    }\n\n  } else {\n    v_Color = a_Color;\n  }\n\n  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);\n\n  setPickingColor(a_PickingColor);\n}\n',type:"polygonExtrude"};}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.textures=[];}registerBuiltinAttributes(){let e=this.layer.getSource().extent,t=e[2]-e[0],r=e[3]-e[1];this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uvs",type:u.AttributeType.Attribute,descriptor:{name:"a_uvs",shaderLocation:this.attributeLocation.UV,buffer:{usage:u.gl.STATIC_DRAW,data:[],type:u.gl.FLOAT},size:3,update:(n,a,i)=>{let o=i[0],u=i[1];return[(o-e[0])/t,(u-e[1])/r,i[4]];}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:u.AttributeType.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:u.gl.STATIC_DRAW,data:[],type:u.gl.FLOAT},size:3,update:(e,t,r,n,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:u.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:1,update:e=>{let{size:t=10}=e;return Array.isArray(t)?[t[0]]:[t];}}});}loadTexture(){var e=this;return(0,a.default)(function*(){let{mapTexture:t}=e.layer.getLayerConfig(),{createTexture2D:r}=e.rendererService;if(e.texture=r({height:1,width:1}),t){let n=yield(0,c.loadImage)(t);e.texture=r({data:n,width:n.width,height:n.height,wrapS:u.gl.CLAMP_TO_EDGE,wrapT:u.gl.CLAMP_TO_EDGE,min:u.gl.LINEAR,mag:u.gl.LINEAR});}})();}}},f0a19bb8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0db5fed5")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f0bdc87f:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("052d3027")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f0ddef9d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5c585e4e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f0eb1877:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("97c42c61")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f0f143db:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d1da1a3e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f11f0118:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("08e9c5da")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f1209212:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0c97753f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f1294ec7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("99f44f7c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f16b353e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cd97049f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f1892878:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=r("89217383"),f=n._(r("6c8aee75")),s=r("f9b12b3c");class c extends f.default{constructor(...e){super(...e),(0,o.default)(this,"texture1",void 0),(0,o.default)(this,"texture2",void 0),(0,o.default)(this,"texture3",void 0);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{watercolor:e="#6D99A8",watercolor2:t="#0F121C"}=this.layer.getLayerConfig(),r={u_watercolor:(0,l.rgb2arr)(e),u_watercolor2:(0,l.rgb2arr)(t),u_time:this.layer.getLayerAnimateTime(),u_texture1:this.texture1,u_texture2:this.texture2,u_texture3:this.texture3};return this.textures=[this.texture1,this.texture2,this.texture3],this.getUniformsBufferInfo(r);}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()};}initModels(){var e=this;return(0,a.default)(function*(){return e.loadTexture(),e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),[(yield e.layer.buildLayerModel({moduleName:"polygonOcean",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;\n\nlayout(std140) uniform commonUniforms {\n  vec4 u_watercolor;\n  vec4 u_watercolor2;\n  float u_time;\n};\n\nout vec2 v_uv;\nout float v_opacity;\n\n#pragma include "projection"\n\nvoid main() {\n  v_uv = a_uv;\n  v_opacity = opacity;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n}\n\n',fragmentShader:"layout(std140) uniform commonUniforms {\n  vec4 u_watercolor;\n  vec4 u_watercolor2;\n  float u_time;\n};\n\nin vec2 v_uv;\nin float v_opacity;\nout vec4 outputColor;\n\nfloat coast2water_fadedepth = 0.1;\nfloat large_waveheight = 0.75; // change to adjust the \"heavy\" waves\nfloat large_wavesize = 3.4; // factor to adjust the large wave size\nfloat small_waveheight = 0.6; // change to adjust the small random waves\nfloat small_wavesize = 0.5; // factor to ajust the small wave size\nfloat water_softlight_fact = 15.0; // range [1..200] (should be << smaller than glossy-fact)\nfloat water_glossylight_fact = 120.0; // range [1..200]\nfloat particle_amount = 70.0;\n\nvec3 water_specularcolor = vec3(1.3, 1.3, 0.9); // specular Color (RGB) of the water-highlights\n#define light (vec3(-0.0, sin(u_time * 0.5) * 0.5 + 0.35, 2.8)) // position of the sun\n\nuniform sampler2D u_texture1;\nuniform sampler2D u_texture2;\nuniform sampler2D u_texture3;\n\nfloat hash(float n) {\n  return fract(sin(n) * 43758.5453123);\n}\n\n// 2d noise function\nfloat noise1(vec2 x) {\n  vec2 p = floor(x);\n  vec2 f = smoothstep(0.0, 1.0, fract(x));\n  float n = p.x + p.y * 57.0;\n  return mix(mix(hash(n + 0.0), hash(n + 1.0), f.x), mix(hash(n + 57.0), hash(n + 58.0), f.x), f.y);\n}\n\nfloat noise(vec2 p) {\n  return texture(SAMPLER_2D(u_texture2), p * vec2(1.0 / 256.0)).x;\n}\n\nvec4 highness(vec2 p) {\n  vec4 t = texture(SAMPLER_2D(u_texture1), fract(p));\n  float clipped =\n    -2.0 -\n    smoothstep(3.0, 10.0, t.a) * 6.9 -\n    smoothstep(10.0, 100.0, t.a) * 89.9 -\n    smoothstep(0.0, 10000.0, t.a) * 10000.0;\n  return clamp(t, 0.0, 3.0) + clamp(t / 3.0 - 1.0, 0.0, 1.0) + clamp(t / 16.0 - 1.0, 0.0, 1.0);\n}\n\nfloat height_map(vec2 p) {\n  vec4 height = highness(p);\n  /*\n    height = -0.5+\n        0.5*smoothstep(-100.,0.,-height)+\n        2.75*smoothstep(0.,2.,height)+\n        1.75*smoothstep(2.,4.,height)+\n        2.75*smoothstep(4.,16.,height)+\n        1.5*smoothstep(16.,1000.,height);\n    */\n\n  mat2 m = mat2(0.9563 * 1.4, -0.2924 * 1.4, 0.2924 * 1.4, 0.9563 * 1.4);\n  //p = p*6.;\n  float f = 0.6 * noise1(p);\n  p = m * p * 1.1 * 6.0;\n  f += 0.25 * noise(p);\n  p = m * p * 1.32;\n  f += 0.1666 * noise(p);\n  p = m * p * 1.11;\n  f += 0.0834 * noise(p);\n  p = m * p * 1.12;\n  f += 0.0634 * noise(p);\n  p = m * p * 1.13;\n  f += 0.0444 * noise(p);\n  p = m * p * 1.14;\n  f += 0.0274 * noise(p);\n  p = m * p * 1.15;\n  f += 0.0134 * noise(p);\n  p = m * p * 1.16;\n  f += 0.0104 * noise(p);\n  p = m * p * 1.17;\n  f += 0.0084 * noise(p);\n  f = 0.25 * f + dot(height, vec4(-0.03125, -0.125, 0.25, 0.25)) * 0.5;\n  const float FLAT_LEVEL = 0.92525;\n  //f = f*0.25+height*0.75;\n  if (f < FLAT_LEVEL) f = f;\n  else f = pow((f - FLAT_LEVEL) / (1.0 - FLAT_LEVEL), 2.0) * (1.0 - FLAT_LEVEL) * 2.0 + FLAT_LEVEL; // makes a smooth coast-increase\n  return clamp(f, 0.0, 10.0);\n}\n\nvec3 plasma_quintic(float x) {\n  x = clamp(x, 0.0, 1.0);\n  vec4 x1 = vec4(1.0, x, x * x, x * x * x); // 1 x x2 x3\n  vec4 x2 = x1 * x1.w * x; // x4 x5 x6 x7\n  return vec3(\n    dot(x1.xyzw, vec4(+0.063861086, +1.992659096, -1.023901152, -0.490832805)) +\n      dot(x2.xy, vec2(+1.308442123, -0.914547012)),\n    dot(x1.xyzw, vec4(+0.04971859, -0.791144343, +2.892305078, +0.811726816)) +\n      dot(x2.xy, vec2(-4.686502417, +2.717794514)),\n    dot(x1.xyzw, vec4(+0.513275779, +1.58025506, -5.164414457, +4.559573646)) +\n      dot(x2.xy, vec2(-1.916810682, +0.570638854))\n  );\n}\n\nvec4 color(vec2 p) {\n  vec4 c1 = vec4(1.7, 1.6, 0.9, 1);\n  vec4 c2 = vec4(0.2, 0.94, 0.1, 1);\n  vec4 c3 = vec4(0.3, 0.2, 0.0, 1);\n  vec4 c4 = vec4(0.99, 0.99, 1.6, 1);\n  vec4 v = highness(p);\n  float los = smoothstep(0.1, 1.1, v.b);\n  float his = smoothstep(3.5, 6.5, v.b);\n  float ces = smoothstep(1.0, 5.0, v.a);\n  vec4 lo = mix(c1, c2, los);\n  vec4 hi = mix(c3, c4, his);\n  vec4 ce = mix(lo, hi, ces);\n\n  return vec4(plasma_quintic(ces), 1).ragb;\n}\n\nvec3 terrain_map(vec2 p) {\n  return color(p).rgb * 0.75 +\n  0.25 * vec3(0.7, 0.55, 0.4) +\n  texture(SAMPLER_2D(u_texture3), fract(p * 5.0)).rgb * 0.5; // test-terrain is simply 'sandstone'\n}\n\nconst mat2 m = mat2(\n   0.72, -1.6 ,\n   1.6 ,  0.72\n);\n\nfloat water_map(vec2 p, float height) {\n  vec2 p2 = p * large_wavesize;\n  vec2 shift1 = 0.001 * vec2(u_time * 160.0 * 2.0, u_time * 120.0 * 2.0);\n  vec2 shift2 = 0.001 * vec2(u_time * 190.0 * 2.0, -u_time * 130.0 * 2.0);\n\n  // coarse crossing 'ocean' waves...\n  float f = 0.6 * noise(p);\n  f += 0.25 * noise(p * m);\n  f += 0.1666 * noise(p * m * m);\n  float wave =\n    sin(p2.x * 0.622 + p2.y * 0.622 + shift2.x * 4.269) * large_waveheight * f * height * height;\n\n  p *= small_wavesize;\n  f = 0.0;\n  float amp = 1.0,\n    s = 0.5;\n  for (int i = 0; i < 9; i++) {\n    p = m * p * 0.947;\n    f -= amp * abs(sin((noise(p + shift1 * s) - 0.5) * 2.0));\n    amp = amp * 0.59;\n    s *= -1.329;\n  }\n\n  return wave + f * small_waveheight;\n}\n\nfloat nautic(vec2 p) {\n  p *= 18.0;\n  float f = 0.0;\n  float amp = 1.0,\n    s = 0.5;\n  for (int i = 0; i < 3; i++) {\n    p = m * p * 1.2;\n    f += amp * abs(smoothstep(0.0, 1.0, noise(p + u_time * s)) - 0.5);\n    amp = amp * 0.5;\n    s *= -1.227;\n  }\n  return pow(1.0 - f, 5.0);\n}\n\nfloat particles(vec2 p) {\n  p *= 200.0;\n  float f = 0.0;\n  float amp = 1.0,\n    s = 1.5;\n  for (int i = 0; i < 3; i++) {\n    p = m * p * 1.2;\n    f += amp * noise(p + u_time * s);\n    amp = amp * 0.5;\n    s *= -1.227;\n  }\n  return pow(f * 0.35, 7.0) * particle_amount;\n}\n\nfloat test_shadow(vec2 xy, float height) {\n  vec3 r0 = vec3(xy, height);\n  vec3 rd = normalize(light - r0);\n\n  float hit = 1.0;\n  float t = 0.001;\n  for (int j = 1; j < 25; j++) {\n    vec3 p = r0 + t * rd;\n    float h = height_map(p.xy);\n    float height_diff = p.z - h;\n    if (height_diff < 0.0) {\n      return 0.0;\n    }\n    t += 0.01 + height_diff * 0.02;\n    hit = min(hit, 2.0 * height_diff / t); // soft shaddow\n  }\n  return hit;\n}\n\nvec3 CalcTerrain(vec2 uv, float height) {\n  vec3 col = terrain_map(uv);\n  vec2 iResolution = vec2(512.0);\n  float h1 = height_map(uv - vec2(0.0, 0.5) / iResolution.xy);\n  float h2 = height_map(uv + vec2(0.0, 0.5) / iResolution.xy);\n  float h3 = height_map(uv - vec2(0.5, 0.0) / iResolution.xy);\n  float h4 = height_map(uv + vec2(0.5, 0.0) / iResolution.xy);\n  vec3 norm = normalize(vec3(h3 - h4, h1 - h2, 1.0));\n  vec3 r0 = vec3(uv, height);\n  vec3 rd = normalize(light - r0);\n  float grad = dot(norm, rd);\n  col *= grad + pow(grad, 8.0);\n  float terrainshade = test_shadow(uv, height);\n  col = mix(col * 0.25, col, terrainshade);\n  return col;\n}\n\nvoid main() {\n  vec3 watercolor = u_watercolor.rgb;\n  vec3 watercolor2 = u_watercolor2.rgb;\n  vec2 uv = v_uv;\n  float WATER_LEVEL = 0.84; // Water level (range: 0.0 - 2.0)\n  float deepwater_fadedepth = 0.4 + coast2water_fadedepth;\n  float height = height_map(uv);\n  vec3 col;\n\n  float waveheight = clamp(WATER_LEVEL * 3.0 - 1.5, 0.0, 1.0);\n  float level = WATER_LEVEL + 0.2 * water_map(uv * 15.0 + vec2(u_time * 0.1), waveheight);\n  if (height > level) {\n    col = CalcTerrain(uv, height);\n  }\n  if (height <= level) {\n    vec2 dif = vec2(0.0, 0.01);\n    vec2 pos = uv * 15.0 + vec2(u_time * 0.01);\n    float h1 = water_map(pos - dif, waveheight);\n    float h2 = water_map(pos + dif, waveheight);\n    float h3 = water_map(pos - dif.yx, waveheight);\n    float h4 = water_map(pos + dif.yx, waveheight);\n    vec3 normwater = normalize(vec3(h3 - h4, h1 - h2, 0.125)); // norm-vector of the 'bumpy' water-plane\n    uv += normwater.xy * 0.002 * (level - height);\n\n    col = CalcTerrain(uv, height);\n\n    float coastfade = clamp((level - height) / coast2water_fadedepth, 0.0, 1.0);\n    float coastfade2 = clamp((level - height) / deepwater_fadedepth, 0.0, 1.0);\n    float intensity = col.r * 0.2126 + col.g * 0.7152 + col.b * 0.0722;\n    watercolor = mix(watercolor * intensity, watercolor2, smoothstep(0.0, 1.0, coastfade2));\n\n    vec3 r0 = vec3(uv, WATER_LEVEL);\n    vec3 rd = normalize(light - r0); // ray-direction to the light from water-position\n    float grad = dot(normwater, rd); // dot-product of norm-vector and light-direction\n    float specular = pow(grad, water_softlight_fact); // used for soft highlights\n    float specular2 = pow(grad, water_glossylight_fact); // used for glossy highlights\n    float gradpos = dot(vec3(0.0, 0.0, 1.0), rd);\n    float specular1 = smoothstep(0.0, 1.0, pow(gradpos, 5.0)); // used for diffusity (some darker corona around light's specular reflections...)\n    float watershade = test_shadow(uv, level);\n    watercolor *= 2.2 + watershade;\n    watercolor += (0.2 + 0.8 * watershade) * ((grad - 1.0) * 0.5 + specular) * 0.25;\n    watercolor /= 1.0 + specular1 * 1.25;\n    watercolor += watershade * specular2 * water_specularcolor;\n    watercolor +=\n      watershade *\n      coastfade *\n      (1.0 - coastfade2) *\n      (vec3(0.5, 0.6, 0.7) * nautic(uv) + vec3(1.0, 1.0, 1.0) * particles(uv));\n\n    col = mix(col, watercolor, coastfade);\n  }\n\n  outputColor = vec4(col, v_opacity);\n}\n",defines:e.getDefines(),inject:e.getInject(),triangulation:s.polygonTriangulation,primitive:u.gl.TRIANGLES,depth:{enable:!1}}))];})();}clearModels(){var e,t,r;null===(e=this.texture1)||void 0===e||e.destroy(),null===(t=this.texture2)||void 0===t||t.destroy(),null===(r=this.texture3)||void 0===r||r.destroy();}registerBuiltinAttributes(){let[e,t,r,n]=this.layer.getSource().extent,a=r-e,i=n-t;this.styleAttributeService.registerStyleAttribute({name:"oceanUv",type:u.AttributeType.Attribute,descriptor:{name:"a_uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:u.gl.STATIC_DRAW,data:[],type:u.gl.FLOAT},size:2,update:(r,n,o)=>{let[u,l]=o;return[(u-e)/a,(l-t)/i];}}});}loadTexture(){let{createTexture2D:e}=this.rendererService,t={height:0,width:0};function r(t){return e({data:t,width:t.width,height:t.height,wrapS:u.gl.MIRRORED_REPEAT,wrapT:u.gl.MIRRORED_REPEAT,min:u.gl.LINEAR,mag:u.gl.LINEAR});}this.texture1=e(t),this.texture2=e(t),this.texture3=e(t),function(e){let t=0,r=[];["https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*MJ22QbpuCzIAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*-z2HSIVDsHIAAAAAAAAAAAAAARQnAQ"].map(n=>{let a=new Image;a.crossOrigin="",a.src=n,r.push(a),a.onload=()=>{3==++t&&e(r);};});}(e=>{this.texture1=r(e[0]),this.texture2=r(e[1]),this.texture3=r(e[2]),this.layerService.reRender();});}}},f193436a:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"getTileFactory",{enumerable:!0,get:function(){return d;}});var n=r("777fffbe"),a=r("7f434d9f"),i=n._(r("05ef8339")),o=n._(r("ca40291b")),u=n._(r("55733c62")),l=n._(r("9a666bec")),f=n._(r("e33eec8f")),s=n._(r("eb12a19e")),c=n._(r("753b0e87"));function d(e){switch(e.type){case"PolygonLayer":case"LineLayer":case"PointLayer":return c.default;case"TileDebugLayer":return i.default;case"MaskLayer":return u.default;case"RasterLayer":let{dataType:t}=e.getSource().parser;switch(t){case a.RasterTileType.RGB:case a.RasterTileType.CUSTOMRGB:return l.default;case a.RasterTileType.ARRAYBUFFER:case a.RasterTileType.CUSTOMARRAYBUFFER:return s.default;case a.RasterTileType.TERRAINRGB:case a.RasterTileType.CUSTOMTERRAINRGB:return f.default;default:return o.default;}default:return c.default;}}},f1e9aa19:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("07a31cab")),u=n._(r("a8a9603d"));class l extends o.default{constructor(...e){super(...e),(0,i.default)(this,"type","CityBuildingLayer");}buildModels(){var e=this;return(0,a.default)(function*(){e.layerModel=new u.default(e),yield e.initLayerModels();})();}setLight(e){this.updateLayerConfig({time:e});}getModelType(){return"citybuilding";}}},f23aee94:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return l;},extrude_PolygonNormal:function(){return s;},fillPolygon:function(){return f;}});var n=r("777fffbe"),a=r("89217383"),i=n._(r("fc143ea6")),o=r("49f29790"),u=r("af24cd70");function l(e){let t=e[0][0],r=e[0][e[0].length-1];t[0]===r[0]&&t[1]===r[1]&&(e[0]=e[0].slice(0,e[0].length-1));let n=e[0].length,a=i.default.flatten(e),{vertices:o,dimensions:u}=a,l=[],f=[];for(let e=0;e<o.length/u;e++)2===u?l.push(o[2*e],o[2*e+1],1):l.push(o[3*e],o[3*e+1],1);let s=(0,i.default)(a.vertices,a.holes,a.dimensions);f.push(...s);for(let e=0;e<n;e++){let t=a.vertices.slice(e*u,(e+1)*u),r=a.vertices.slice((e+1)*u,(e+2)*u);0===r.length&&(r=a.vertices.slice(0,u));let n=l.length/3;l.push(t[0],t[1],1,r[0],r[1],1,t[0],t[1],0,r[0],r[1],0),f.push(...[0,2,1,2,3,1].map(e=>e+n));}return{positions:l,index:f};}function f(e){let t=i.default.flatten(e),r=(0,i.default)(t.vertices,t.holes,t.dimensions);return{positions:t.vertices,index:r};}function s(e,t=!1){let r=e[0][0],n=e[0][e[0].length-1];r[0]===n[0]&&r[1]===n[1]&&(e[0]=e[0].slice(0,e[0].length-1));let l=e[0].length,f=i.default.flatten(e),{vertices:c,dimensions:d,holes:h}=f,p=[],v=[],_=[];for(let e=0;e<c.length/d;e++)p.push(c[e*d],c[e*d+1],1,-1,-1),_.push(0,0,1);let m=(0,u.getPolygonSurfaceIndices)(c,h,d,t);v.push(...m);for(let e=0;e<l;e++){let r=f.vertices.slice(e*d,(e+1)*d),n=f.vertices.slice((e+1)*d,(e+2)*d);0===n.length&&(n=f.vertices.slice(0,d));let i=p.length/5;p.push(r[0],r[1],1,0,0,n[0],n[1],1,.1,0,r[0],r[1],0,0,.8,n[0],n[1],0,.1,.8);let u=function(e,t,r,n=!1){let i=o.vec3.create(),u=o.vec3.create(),l=o.vec3.create();n&&(e=(0,a.lngLatToMeters)(e),t=(0,a.lngLatToMeters)(t),r=(0,a.lngLatToMeters)(r));let f=o.vec3.fromValues(...e),s=o.vec3.fromValues(...t),c=o.vec3.fromValues(...r);o.vec3.sub(i,c,s),o.vec3.sub(u,f,s),o.vec3.cross(l,i,u);let d=o.vec3.create();return o.vec3.normalize(d,l),d;}([n[0],n[1],1],[r[0],r[1],0],[r[0],r[1],1],t);_.push(...u,...u,...u,...u),v.push(...[1,2,0,3,2,1].map(e=>e+i));}return{positions:p,index:v,normals:_};}},f2628896:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ed64f6df")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f26c0f0e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7385c469")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f28812a5:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("d383b231"),u=r("6f21f217");class l extends o.EventEmitter{constructor(...e){super(...e),(0,i.default)(this,"canvasHeight",128),(0,i.default)(this,"texture",void 0),(0,i.default)(this,"canvas",void 0),(0,i.default)(this,"iconData",void 0),(0,i.default)(this,"iconMap",void 0),(0,i.default)(this,"ctx",void 0),(0,i.default)(this,"loadingImageCount",0);}isLoading(){return 0===this.loadingImageCount;}init(){this.iconData=[],this.iconMap={},this.canvas=window.document.createElement("canvas"),this.canvas.width=128,this.canvas.height=128,this.ctx=this.canvas.getContext("2d");}addImage(e,t){var r=this;return(0,a.default)(function*(){let n=new Image;r.loadingImageCount++,r.hasImage(e)?console.warn("Image Id already exists"):r.iconData.push({id:e,size:64}),r.updateIconMap(),n=yield r.loadImage(t);let a=r.iconData.find(t=>t.id===e);a&&(a.image=n,a.width=n.width,a.height=n.height),r.update();})();}addImageMini(e,t,r){let n=r.getSceneConfig().canvas,a=n.createImage();if(this.loadingImageCount++,this.hasImage(e))throw Error("Image Id already exists");this.iconData.push({id:e,size:64}),this.updateIconMap(),this.loadImageMini(t,n).then(t=>{a=t;let r=this.iconData.find(t=>t.id===e);r&&(r.image=a,r.width=a.width,r.height=a.height),this.update();});}getTexture(){return this.texture;}getIconMap(){return this.iconMap;}getCanvas(){return this.canvas;}hasImage(e){return this.iconMap.hasOwnProperty(e);}removeImage(e){this.hasImage(e)&&(this.iconData=this.iconData.filter(t=>t.id!==e),delete this.iconMap[e],this.update());}destroy(){this.removeAllListeners("imageUpdate"),this.iconData=[],this.iconMap={};}loadImage(e){return new Promise((t,r)=>{if(e instanceof HTMLImageElement){t(e);return;}let n=new Image;n.crossOrigin="anonymous",n.onload=()=>{t(n);},n.onerror=()=>{r(Error("Could not load image at "+e));},n.src=e instanceof File?URL.createObjectURL(e):e;});}update(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,0===this.loadingImageCount&&this.emit("imageUpdate");}updateIconAtlas(){this.canvas.width=1024,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach(e=>{let{x:t,y:r,image:n,width:a=64,height:i=64}=this.iconMap[e],o=Math.max(a,i)/64,u=i/o,l=a/o;n&&this.ctx.drawImage(n,t+(64-l)/2,r+(64-u)/2,l,u);});}updateIconMap(){let{mapping:e,canvasHeight:t}=(0,u.buildIconMaping)(this.iconData,3,1024);this.iconMap=e,this.canvasHeight=t;}loadImageMini(e,t){return new Promise((r,n)=>{let a=t.createImage();a.crossOrigin="anonymous",a.onload=()=>{r(a);},a.onerror=()=>{n(Error("Could not load image at "+e));},a.src=e;});}}},f30c62e7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("307cd7e4")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f313faad:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ebd77707")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f383377a:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=r("7f434d9f"),u=r("89217383"),l=n._(r("6c8aee75")),f=r("f9b12b3c");let s={solid:0,dash:1};class c extends l.default{constructor(...e){super(...e),(0,i.default)(this,"texture",void 0),(0,i.default)(this,"updateTexture",()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return;}this.texture=e({data:this.iconService.getCanvas(),mag:o.gl.NEAREST,min:o.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture];});}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12});}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:r="normal",lineType:n="solid",dashArray:a=[10,5],lineTexture:i=!1,iconStep:o=100,segmentNumber:l=30}=this.layer.getLayerConfig(),{animateOption:f}=this.layer.getLayerConfig();if(2===a.length&&a.push(0,0),this.rendererService.getDirty()){var c;null===(c=this.texture)||void 0===c||c.bind();}let d=0,h=[0,0,0,0],p=[0,0,0,0];e&&t&&(h=(0,u.rgb2arr)(e),p=(0,u.rgb2arr)(t),d=1);let v=this.layer.getLayerAnimateTime();isNaN(v)&&(v=0);let _={u_animate:this.animateOption2Array(f),u_dash_array:a,u_sourceColor:h,u_targetColor:p,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:l,u_line_type:s[n]||0,u_icon_step:o,u_line_texture:i?1:0,u_textureBlend:"normal"===r?0:1,u_time:v,u_linearColor:d};return this.getUniformsBufferInfo(_);}initModels(){var e=this;return(0,a.default)(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on("imageUpdate",e.updateTexture),e.buildModels();})();}clearModels(){var e;null===(e=this.texture)||void 0===e||e.destroy(),this.iconService.off("imageUpdate",this.updateTexture);}buildModels(){var e=this;return(0,a.default)(function*(){let{segmentNumber:t=30}=e.layer.getLayerConfig();return[(yield e.layer.buildLayerModel({moduleName:"lineGreatCircle",vertexShader:'#define LineTypeSolid (0.0)\n#define LineTypeDash (1.0)\n#define Animate (0.0)\n#define LineTexture (1.0)\n\nlayout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;\nlayout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;\nlayout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;\n\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array: [10.0, 5., 0, 0];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float segmentNumber;\n  float u_line_type: 0.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_time;\n  float u_linearColor: 0;\n};\n\nout vec4 v_dash_array;\nout vec4 v_color;\nout vec2 v_iconMapUV;\nout vec4 v_line_data;\nout float v_distance_ratio;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps(float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return index / (segmentNumber - 1.0);\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(mix(source, target, segmentRatio), sqrt(max(0.0, vertex_height)));\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return dir_screenspace.xy * sign(offset_direction);\n}\nfloat getAngularDist(vec2 source, vec2 target) {\n  vec2 delta = source - target;\n  vec2 sin_half_delta = sin(delta / 2.0);\n  float a =\n    sin_half_delta.y * sin_half_delta.y +\n    cos(source.y) * cos(target.y) * sin_half_delta.x * sin_half_delta.x;\n  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));\n}\n\nvec2 midPoint(vec2 source, vec2 target) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = 0.314;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);\n  return mid;\n}\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1.0 - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\n\nvec2 interpolate(vec2 source, vec2 target, float angularDist, float t) {\n  if (abs(angularDist - PI) < 0.001) {\n    return (1.0 - t) * source + t * target;\n  }\n  float a = sin((1.0 - t) * angularDist) / sin(angularDist);\n  float b = sin(t * angularDist) / sin(angularDist);\n  vec2 sin_source = sin(source);\n  vec2 cos_source = cos(source);\n  vec2 sin_target = sin(target);\n  vec2 cos_target = cos(target);\n  float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;\n  float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;\n  float z = a * sin_source.y + b * sin_target.y;\n  return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));\n\n}\n\nvoid main() {\n  v_color = a_Color;\n  v_color.a = v_color.a * opacity;\n  vec2 source = radians(a_Instance.rg);\n  vec2 target = radians(a_Instance.ba);\n  float angularDist = getAngularDist(source, target);\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n  if (u_line_type == LineTypeDash) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n    float total_Distance = pixelDistance(source, target) / 2.0 * PI;\n    total_Distance = total_Distance * 16.0; // total_Distance*16.0 \u8C03\u6574\u9ED8\u8BA4\u7684\u6548\u679C\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;\n  }\n\n  if (u_animate.x == Animate) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n  }\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  v_distance_ratio = segmentIndex / segmentNumber;\n\n  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0), a_Instance64Low.xy);\n  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0), a_Instance64Low.zw);\n\n  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));\n\n  v_line_data.g = a_Position.x; // \u8BE5\u9876\u70B9\u5728\u5F27\u7EBF\u4E0A\u7684\u5206\u6BB5\u6392\u5E8F\n  if (LineTexture == u_line_texture) {\n    float d_arcDistrance = length(source - target);\n    d_arcDistrance = project_pixel(d_arcDistrance);\n\n    float d_pixelLen = project_pixel(u_icon_step) / 8.0;\n    v_line_data.b = floor(d_arcDistrance / d_pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF\n\n    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB\n    float linePixelSize = project_pixel(a_Size); // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB\n    v_line_data.a = lineOffsetWidth / linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C\n\n    v_iconMapUV = a_iconMapUV;\n  }\n\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  setPickingColor(a_PickingColor);\n}\n\n',fragmentShader:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform sampler2D u_texture;\nlayout(std140) uniform commonUniorm {\n  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];\n  vec4 u_dash_array: [10.0, 5., 0, 0];\n  vec4 u_sourceColor;\n  vec4 u_targetColor;\n  vec2 u_textSize;\n  float segmentNumber;\n  float u_line_type: 0.0;\n  float u_icon_step: 100;\n  float u_line_texture: 0.0;\n  float u_textureBlend;\n  float u_time;\n  float u_linearColor: 0;\n};\n\nin vec4 v_dash_array;\nin vec4 v_color;\nin vec2 v_iconMapUV;\nin vec4 v_line_data;\nin float v_distance_ratio;\n\nout vec4 outputColor;\n#pragma include "picking"\n#pragma include "project"\n#pragma include "projection"\n\nvoid main() {\n\n  float animateSpeed = 0.0;\n  float d_segmentIndex = v_line_data.g;\n\n  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u5E95\u8272\n  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272\n    outputColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);\n    outputColor.a *= v_color.a;\n  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272\n    outputColor = v_color;\n  }\n\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  if(u_line_type == LineTypeDash) {\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      // \u5B9E\u7EBF\u90E8\u5206\n    } else {\n      // \u865A\u7EBF\u90E8\u5206\n      discard;\n    };\n  }\n\n  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u52A8\u753B\u6A21\u5F0F\n  if(u_animate.x == Animate) {\n      animateSpeed = u_time / u_animate.y;\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);\n      alpha = (alpha + u_animate.w -1.0) / u_animate.w;\n      alpha = smoothstep(0., 1., alpha);\n      outputColor.a *= alpha;\n  }\n\n  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u8D34\u56FE\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) {\n    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));\n    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);\n    float count = v_line_data.b; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF\n    float u = fract(arcRadio * count - animateSpeed * count);\n    // float u = fract(arcRadio * count - animateSpeed);\n    if(u_animate.x == Animate) {\n      u = outputColor.a/v_color.a;\n    }\n\n    float v = v_line_data.a; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C\n\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);\n\n    // \u8BBE\u7F6E\u8D34\u56FE\u548C\u5E95\u8272\u7684\u53E0\u52A0\u6A21\u5F0F\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      outputColor = filterColor(outputColor + pattern);\n    } else { // replace\n        pattern.a *= v_color.a;\n        if(outputColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        outputColor = filterColor(pattern);\n    }\n  } else {\n    outputColor = filterColor(outputColor);\n  }\n\n  // gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:f.LineArcTriangulation,styleOption:{segmentNumber:t},defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}}))];})();}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:o.AttributeType.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t];}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:o.AttributeType.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:4,update:(e,t,r)=>[r[3],r[4],r[5],r[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:o.AttributeType.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:o.gl.STATIC_DRAW,data:[],type:o.gl.FLOAT},size:4,update:(e,t,r)=>[(0,u.fp64LowPart)(r[3]),(0,u.fp64LowPart)(r[4]),(0,u.fp64LowPart)(r[5]),(0,u.fp64LowPart)(r[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:o.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:o.gl.DYNAMIC_DRAW,data:[],type:o.gl.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:r}=e,{x:n,y:a}=t[r]||{x:0,y:0};return[n,a];}}});}}},f3ea1c16:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("288d9eb9")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f4112dd2:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return f;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("07a31cab")),u=r("734ba2b4"),l=n._(r("c24b71ce"));class f extends o.default{constructor(...e){super(...e),(0,i.default)(this,"type","HeatMapLayer");}buildModels(){var e=this;return(0,a.default)(function*(){let t=e.getModelType();e.layerModel=new l.default[t](e),yield e.initLayerModels();})();}prerender(){"heatmap"===this.getModelType()&&this.layerModel&&this.layerModel.prerender();}renderModels(e={}){return"heatmap"===this.getModelType()?this.layerModel&&this.layerModel.render(e):this.encodeDataLength<=0&&!this.forceRender||(this.hooks.beforeRender.call(),this.models.forEach(t=>t.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(e)})),this.hooks.afterRender.call()),this;}updateModelData(e){e.attributes&&e.elements?this.models[0].updateAttributesAndElements(e.attributes,e.elements):console.warn("data error");}getModelType(){var e;let t=this.styleAttributeService.getLayerStyleAttribute("shape"),{shape3d:r}=this.getLayerConfig(),n=this.getSource().data.type,a=(null==t||null===(e=t.scale)||void 0===e?void 0:e.field)||"heatmap";return"heatmap"===a||"heatmap3d"===a?"heatmap":"hexagon"===n?(null==r?void 0:r.indexOf(a))===-1?"hexagon":"grid3d":"grid"===n?(null==r?void 0:r.indexOf(a))===-1?"grid":"grid3d":"heatmap";}getLegend(e){if("heatmap"!==this.getModelType())return super.getLegend(e);{if("color"!==e)return{type:void 0,field:void 0,items:[]};let t=this.getLayerConfig().rampColors;return(0,u.rampColor2legend)(t,e);}}}},f4419072:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("cdeccc2c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f444fef5:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("89217383"),u=r("d383b231");class l extends u.EventEmitter{constructor(...e){super(...e),(0,i.default)(this,"renderMap",new Map),(0,i.default)(this,"enable",!1),(0,i.default)(this,"renderEnable",!1),(0,i.default)(this,"cacheLogs",{});}setEnable(e){this.enable=!!e;}log(e,t){if(!this.enable)return;let r=e.split("."),n=null;r.forEach((e,i)=>{null!==n?(n[e]||(n[e]={}),i!==r.length-1&&(n=n[e])):(this.cacheLogs[e]||(this.cacheLogs[e]={}),i!==r.length-1&&(n=this.cacheLogs[e])),i===r.length-1&&(n[e]=(0,a.default)((0,a.default)({time:Date.now()},n[e]),t));});}getLog(e){switch(typeof e){case"string":return this.cacheLogs[e];case"object":return e.map(e=>this.cacheLogs[e]).filter(e=>void 0!==e);case"undefined":return this.cacheLogs;}}removeLog(e){delete this.cacheLogs[e];}generateRenderUid(){return this.renderEnable?(0,o.guid)():"";}renderDebug(e){this.renderEnable=e;}renderStart(e){if(!this.renderEnable||!this.enable)return;let t=this.renderMap.get(e)||{};this.renderMap.set(e,(0,a.default)((0,a.default)({},t),{},{renderUid:e,renderStart:Date.now()}));}renderEnd(e){if(!this.renderEnable||!this.enable)return;let t=this.renderMap.get(e);if(t){let r=t.renderStart,n=Date.now();this.emit("renderEnd",(0,a.default)((0,a.default)({},t),{},{renderEnd:n,renderDuration:n-r})),this.renderMap.delete(e);}}destroy(){this.cacheLogs=null,this.renderMap.clear();}}},f4a5da89:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6d0fbb59")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f4c351e1:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return u;},hclLong:function(){return l;}});var n=r("852bbaa9"),a=r("132a6da3"),i=n._(r("a8448745"));function o(e){return function(t,r){var n=e((t=(0,a.hcl)(t)).h,(r=(0,a.hcl)(r)).h),o=(0,i.default)(t.c,r.c),u=(0,i.default)(t.l,r.l),l=(0,i.default)(t.opacity,r.opacity);return function(e){return t.h=n(e),t.c=o(e),t.l=u(e),t.opacity=l(e),t+"";};};}var u=o(i.hue),l=o(i.default);},f4c7c652:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("11be386c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f4db3465:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{DefaultUniformStyleType:function(){return a;},DefaultUniformStyleValue:function(){return n;}});let n={opacity:1,stroke:[1,0,0,1],offsets:[0,0],rotation:0,extrusionBase:0,strokeOpacity:1,thetaOffset:.314},a={opacity:"float",stroke:"vec4",offsets:"vec2",textOffset:"vec2",rotation:"float",extrusionBase:"float",strokeOpacity:"float",thetaOffset:"float"};},f4eaf040:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("9c4c40f7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f4ff6b46:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7535bc62")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f518ba26:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"genericArray",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("f66a4384"));function a(e,t){var r,a=t?t.length:0,i=e?Math.min(a,e.length):0,o=Array(i),u=Array(a);for(r=0;r<i;++r)o[r]=(0,n.default)(e[r],t[r]);for(;r<a;++r)u[r]=t[r];return function(e){for(r=0;r<i;++r)u[r]=o[r](e);return u;};}},f5334a01:function(e,t,r){var n;n=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray;},t=function(e,t){for(var r=Object.keys(t),n=0;n<r.length;++n)e[r[n]]=t[r[n]];return e;};function r(e){var t=Error("(regl) "+e);throw console.error(t),t;}function n(e,t){e||r(t);}function a(e){return e?": "+e:"";}function i(e,t){switch(t){case"number":return"number"==typeof e;case"object":return"object"==typeof e;case"string":return"string"==typeof e;case"boolean":return"boolean"==typeof e;case"function":return"function"==typeof e;case"undefined":return void 0===e;case"symbol":return"symbol"==typeof e;}}function o(e,t,n){0>t.indexOf(e)&&r("invalid value"+a(n)+". must be one of: "+t);}var u=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function l(e,t){for(e+="";e.length<t;)e=" "+e;return e;}function f(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1;}function s(e,t){this.number=e,this.line=t,this.errors=[];}function c(e,t,r){this.file=e,this.line=t,this.message=r;}function d(){var e=Error(),t=(e.stack||e).toString(),r=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return n?n[1]:"unknown";}function h(){var e=Error(),t=(e.stack||e).toString(),r=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return n?n[1]:"unknown";}function p(e,t){var r=e.split("\n"),n=1,a=0,i={unknown:new f,0:new f};i.unknown.name=i[0].name=t||d(),i.unknown.lines.push(new s(0,""));for(var o=0;o<r.length;++o){var u=r[o],l=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(l)switch(l[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(l[2]);!c||(n=0|c[1],!c[2]||(a=0|c[2])in i||(i[a]=new f));break;case"define":var h,p=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);p&&(i[a].name=p[1]?(h=p[2],"undefined"!=typeof atob?atob(h):"base64:"+h):p[2]);}i[a].lines.push(new s(n++,u));}return Object.keys(i).forEach(function(e){var t=i[e];t.lines.forEach(function(e){t.index[e.number]=e;});}),i;}function v(e){e._commandRef=d();}function _(e,t){var n=h();r(e+" in command "+(t||d())+("unknown"===n?"":" called from "+n));}function m(e,t,r,n){i(e,t)||_("invalid parameter type"+a(r)+". expected "+t+", got "+typeof e,n||d());}var g={};function b(e,t){return 32820===e||32819===e||33635===e?2:34042===e?4:g[e]*t;}function y(e){return!(e&e-1)&&!!e;}g[5120]=g[5121]=1,g[5122]=g[5123]=g[36193]=g[33635]=g[32819]=g[32820]=2,g[5124]=g[5125]=g[5126]=g[34042]=4;var E=t(n,{optional:function(e){e();},raise:r,commandRaise:_,command:function(e,t,r){e||_(t,r||d());},parameter:function(e,t,n){e in t||r("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join());},commandParameter:function(e,t,r,n){e in t||_("unknown parameter ("+e+")"+a(r)+". possible values: "+Object.keys(t).join(),n||d());},constructor:function(e){Object.keys(e).forEach(function(e){0>u.indexOf(e)&&r('invalid regl constructor argument "'+e+'". must be one of '+u);});},type:function(e,t,n){i(e,t)||r("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e);},commandType:m,isTypedArray:function(t,n){e(t)||r("invalid parameter type"+a(n)+". must be a typed array");},nni:function(e,t){e>=0&&(0|e)===e||r("invalid parameter type, ("+e+")"+a(t)+". must be a nonnegative integer");},oneOf:o,shaderError:function(e,t,r,a,i){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var o,u=e.getShaderInfoLog(t),f=a===e.FRAGMENT_SHADER?"fragment":"vertex";m(r,"string",f+" shader source must be a string",i);var s=p(r,i);(function(e,t){t.forEach(function(t){var r=e[t.file];if(r){var n=r.index[t.line];if(n){n.errors.push(t),r.hasErrors=!0;return;}}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t);});})(s,(o=[],u.split("\n").forEach(function(e){if(!(e.length<5)){var t=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);t?o.push(new c(0|t[1],0|t[2],t[3].trim())):e.length>0&&o.push(new c("unknown",0,e));}}),o)),Object.keys(s).forEach(function(e){var t=s[e];if(t.hasErrors){var r=[""],n=[""];a("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach(function(e){if(e.errors.length>0){a(l(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),a(e.line+"\n","color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach(function(r){var n=r.message,i=/^\s*'(.*)'\s*:\s*(.*)$/.exec(n);if(i){var o=i[1];n=i[2],"assign"===o&&(o="="),t=Math.max(e.line.indexOf(o,t),0);}else t=0;a(l("| ",6)),a(l("^^^",t+3)+"\n","font-weight:bold"),a(l("| ",6)),a(n+"\n","font-weight:bold");}),a(l("| ",6)+"\n");}else a(l(e.number,4)+"|  "),a(e.line+"\n","color:red");}),"undefined"==typeof document||window.chrome?console.log(r.join("")):(n[0]=r.join("%c"),console.log.apply(console,n));}function a(e,t){r.push(e),n.push(t||"");}}),n.raise("Error compiling "+f+" shader, "+s[0].name);}},linkError:function(e,t,r,a,i){if(!e.getProgramParameter(t,e.LINK_STATUS)){var o=e.getProgramInfoLog(t),u=p(r,i),l='Error linking program with vertex shader, "'+p(a,i)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!=typeof document?console.log("%c"+l+"\n%c"+o,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(l+"\n"+o),n.raise(l);}},callSite:h,saveCommandRef:v,saveDrawInfo:function(e,t,r,n){function a(e,t){Object.keys(t).forEach(function(t){e[n.id(t)]=!0;});}v(e),e._fragId=(i=e.static.frag)?n.id(i):0,e._vertId=(o=e.static.vert)?n.id(o):0;var i,o,u=e._uniformSet={};a(u,t.static),a(u,t.dynamic);var l=e._attributeSet={};a(l,r.static),a(l,r.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic;},framebufferFormat:function(e,t,r){e.texture?o(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):o(e.renderbuffer._renderbuffer.format,r,"unsupported renderbuffer format for attachment");},guessCommand:d,texture2D:function(e,t,r){var a,i=t.width,o=t.height,u=t.channels;n(i>0&&i<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),(33071!==e.wrapS||33071!==e.wrapT)&&n(y(i)&&y(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==o&&n(9984!==e.minFilter&&9986!==e.minFilter&&9985!==e.minFilter&&9987!==e.minFilter,"min filter requires mipmap"):(n(y(i)&&y(o),"texture must be a square power of 2 to support mipmapping"),n(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),5126===t.type&&(0>r.extensions.indexOf("oes_texture_float_linear")&&n(9728===e.minFilter&&9728===e.magFilter,"filter not supported, must enable oes_texture_float_linear"),n(!e.genMipmaps,"mipmap generation not supported with float textures"));var l=t.images;for(a=0;a<16;++a)if(l[a]){var f=i>>a,s=o>>a;n(t.mipmask&1<<a,"missing mipmap data");var c=l[a];if(n(c.width===f&&c.height===s,"invalid shape for mip images"),n(c.format===t.format&&c.internalformat===t.internalformat&&c.type===t.type,"incompatible type for mip image"),c.compressed);else if(c.data){var d=Math.ceil(b(c.type,u)*f/c.unpackAlignment)*c.unpackAlignment;n(c.data.byteLength===d*s,"invalid data for image, buffer size is inconsistent with image format");}else c.element||c.copy;}else e.genMipmaps||n((t.mipmask&1<<a)==0,"extra mipmap data");t.compressed&&n(!e.genMipmaps,"mipmap generation for compressed images not supported");},textureCube:function(e,t,r,a){var i=e.width,o=e.height,u=e.channels;n(i>0&&i<=a.maxTextureSize&&o>0&&o<=a.maxTextureSize,"invalid texture shape"),n(i===o,"cube map must be square"),n(33071===t.wrapS&&33071===t.wrapT,"wrap mode not supported by cube map");for(var l=0;l<r.length;++l){var f=r[l];n(f.width===i&&f.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(n(!f.compressed,"can not generate mipmap for compressed textures"),n(1===f.mipmask,"can not specify mipmaps and generate mipmaps"));for(var s=f.images,c=0;c<16;++c){var d=s[c];if(d){var h=i>>c,p=o>>c;n(f.mipmask&1<<c,"missing mipmap data"),n(d.width===h&&d.height===p,"invalid shape for mip images"),n(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?n(d.data.byteLength===h*p*Math.max(b(d.type,u),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy);}}}}}),T=0;function A(e,t){this.id=T++,this.type=e,this.data=t;}function S(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');}var O={DynamicVariable:A,define:function(e,t){return new A(e,"["+(function e(t){if(0===t.length)return[];var r=t.charAt(0),n=t.charAt(t.length-1);if(t.length>1&&r===n&&('"'===r||"'"===r))return['"'+S(t.substr(1,t.length-2))+'"'];var a=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(a)return e(t.substr(0,a.index)).concat(e(a[1])).concat(e(t.substr(a.index+a[0].length)));var i=t.split(".");if(1===i.length)return['"'+S(t)+'"'];for(var o=[],u=0;u<i.length;++u)o=o.concat(e(i[u]));return o;})(t+"").join("][")+"]");},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof A;},unbox:function(e,t){return"function"==typeof e?new A(0,e):e;}},R={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e);}:function(e){return setTimeout(e,16);},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e);}:clearTimeout},M="undefined"!=typeof performance&&performance.now?function(){return performance.now();}:function(){return+new Date;};function x(e){return"string"==typeof e?e.split():(E(Array.isArray(e),"invalid extension array"),e);}function C(e){return"string"==typeof e?(E("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(e)):e;}function P(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=t(n);return r;}function L(e){var t,r;return t=(e>65535)<<4,e>>>=t,r=(e>255)<<3,e>>>=r,t|=r,r=(e>15)<<2,e>>>=r,t|=r,r=(e>3)<<1,e>>>=r,(t|=r)|e>>1;}function w(){var e=P(8,function(){return[];});function t(t){var r=function(e){for(var t=16;t<=268435456;t*=16)if(e<=t)return t;return 0;}(t),n=e[L(r)>>2];return n.length>0?n.pop():new ArrayBuffer(r);}function r(t){e[L(t.byteLength)>>2].push(t);}return{alloc:t,free:r,allocType:function(e,r){var n=null;switch(e){case 5120:n=new Int8Array(t(r),0,r);break;case 5121:n=new Uint8Array(t(r),0,r);break;case 5122:n=new Int16Array(t(2*r),0,r);break;case 5123:n=new Uint16Array(t(2*r),0,r);break;case 5124:n=new Int32Array(t(4*r),0,r);break;case 5125:n=new Uint32Array(t(4*r),0,r);break;case 5126:n=new Float32Array(t(4*r),0,r);break;default:return null;}return n.length!==r?n.subarray(0,r):n;},freeType:function(e){r(e.buffer);}};}var I=w();I.zero=w();var N=function(e,t){var r=1;t.ext_texture_filter_anisotropic&&(r=e.getParameter(34047));var n=1,a=1;t.webgl_draw_buffers&&(n=e.getParameter(34852),a=e.getParameter(36063));var i=!!t.oes_texture_float;if(i){var o=e.createTexture();e.bindTexture(3553,o),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var u=e.createFramebuffer();if(e.bindFramebuffer(36160,u),e.framebufferTexture2D(36160,36064,3553,o,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))i=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var l=I.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,l),e.getError()?i=!1:(e.deleteFramebuffer(u),e.deleteTexture(o),i=1===l[0]),I.freeType(l);}}var f="undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),s=!0;if(!f){var c=e.createTexture(),d=I.allocType(5121,36);e.activeTexture(33984),e.bindTexture(34067,c),e.texImage2D(34069,0,6408,3,3,0,6408,5121,d),I.freeType(d),e.bindTexture(34067,null),e.deleteTexture(c),s=!e.getError();}return{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e];}),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:a,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:i,npotTextureCube:s};};function D(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data));}var F=function(e){return Object.keys(e).map(function(t){return e[t];});},B={shape:function(e){for(var t=[],r=e;r.length;r=r[0])t.push(r.length);return t;},flatten:function(e,t,r,n){var a=1;if(t.length)for(var i=0;i<t.length;++i)a*=t[i];else a=0;var o=n||I.allocType(r,a);switch(t.length){case 0:break;case 1:!function(e,t,r){for(var n=0;n<t;++n)r[n]=e[n];}(e,t[0],o);break;case 2:!function(e,t,r,n){for(var a=0,i=0;i<t;++i)for(var o=e[i],u=0;u<r;++u)n[a++]=o[u];}(e,t[0],t[1],o);break;case 3:U(e,t[0],t[1],t[2],o,0);break;default:!function e(t,r,n,a,i){for(var o=1,u=n+1;u<r.length;++u)o*=r[u];var l=r[n];if(r.length-n==4){var f=r[n+1],s=r[n+2],c=r[n+3];for(u=0;u<l;++u)U(t[u],f,s,c,a,i),i+=o;}else for(u=0;u<l;++u)e(t[u],r,n+1,a,i),i+=o;}(e,t,0,o,0);}return o;}};function U(e,t,r,n,a,i){for(var o=i,u=0;u<t;++u)for(var l=e[u],f=0;f<r;++f)for(var s=l[f],c=0;c<n;++c)a[o++]=s[c];}var j={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},k={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},G={dynamic:35048,stream:35040,static:35044},z=B.flatten,V=B.shape,H=[];function X(e){return 0|j[Object.prototype.toString.call(e)];}function W(e,t){for(var r=0;r<t.length;++r)e[r]=t[r];}function Y(e,t,r,n,a,i,o){for(var u=0,l=0;l<r;++l)for(var f=0;f<n;++f)e[u++]=t[a*l+i*f+o];}H[5120]=1,H[5122]=2,H[5124]=4,H[5121]=1,H[5123]=2,H[5125]=4,H[5126]=4;var q={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Z=new Float32Array(1),K=new Uint32Array(Z.buffer);function $(e){for(var t=I.allocType(5123,e.length),r=0;r<e.length;++r)if(isNaN(e[r]))t[r]=65535;else if(e[r]===1/0)t[r]=31744;else if(e[r]===-1/0)t[r]=64512;else{Z[0]=e[r];var n=K[0],a=n>>>31<<15,i=(n<<1>>>24)-127,o=n>>13&1023;if(i<-24)t[r]=a;else if(i<-14){var u=-14-i;t[r]=a+(o+1024>>u);}else i>15?t[r]=a+31744:t[r]=a+(i+15<<10)+o;}return t;}function Q(t){return Array.isArray(t)||e(t);}var J=function(e){return!(e&e-1)&&!!e;},ee=[9984,9986,9985,9987],et=[0,6409,6410,6407,6408],er={};function en(e){return"[object "+e+"]";}er[6409]=er[6406]=er[6402]=1,er[34041]=er[6410]=2,er[6407]=er[35904]=3,er[6408]=er[35906]=4;var ea=en("HTMLCanvasElement"),ei=en("OffscreenCanvas"),eo=en("CanvasRenderingContext2D"),eu=en("ImageBitmap"),el=en("HTMLImageElement"),ef=en("HTMLVideoElement"),es=Object.keys(j).concat([ea,ei,eo,eu,el,ef]),ec=[];ec[5121]=1,ec[5126]=4,ec[36193]=2,ec[5123]=2,ec[5125]=4;var ed=[];function eh(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0]);}function ep(e){return!!(Array.isArray(e)&&0!==e.length&&Q(e[0]));}function ev(e){return Object.prototype.toString.call(e);}function e_(e){if(!e)return!1;var t=ev(e);return es.indexOf(t)>=0||eh(e)||ep(e)||D(e);}function em(e){return 0|j[Object.prototype.toString.call(e)];}function eg(e,t){return I.allocType(36193===e.type?5126:e.type,t);}function eb(e,t){36193===e.type?(e.data=$(t),I.freeType(t)):e.data=t;}function ey(e,t,r,n,a,i){if(o=void 0!==ed[e]?ed[e]:er[e]*ec[t],i&&(o*=6),!a)return o*r*n;for(var o,u=0,l=r;l>=1;)u+=o*l*l,l/=2;return u;}ed[32854]=2,ed[32855]=2,ed[36194]=2,ed[34041]=4,ed[33776]=.5,ed[33777]=.5,ed[33778]=1,ed[33779]=1,ed[35986]=.5,ed[35987]=1,ed[34798]=1,ed[35840]=.5,ed[35841]=.25,ed[35842]=.5,ed[35843]=.25,ed[36196]=.5;var eE=[];eE[32854]=2,eE[32855]=2,eE[36194]=2,eE[33189]=2,eE[36168]=1,eE[34041]=4,eE[35907]=4,eE[34836]=16,eE[34842]=8,eE[34843]=6;var eT=function(e,t,r,n,a){var i={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(i.srgba=35907),t.ext_color_buffer_half_float&&(i.rgba16f=34842,i.rgb16f=34843),t.webgl_color_buffer_float&&(i.rgba32f=34836);var o=[];Object.keys(i).forEach(function(e){o[i[e]]=e;});var u=0,l={};function f(e){this.id=u++,this.refCount=1,this.renderbuffer=e,this.format=32854,this.width=0,this.height=0,a.profile&&(this.stats={size:0});}function s(t){var r=t.renderbuffer;E(r,"must not double destroy renderbuffer"),e.bindRenderbuffer(36161,null),e.deleteRenderbuffer(r),t.renderbuffer=null,t.refCount=0,delete l[t.id],n.renderbufferCount--;}return f.prototype.decRef=function(){--this.refCount<=0&&s(this);},a.profile&&(n.getTotalRenderbufferSize=function(){var e=0;return Object.keys(l).forEach(function(t){e+=l[t].stats.size;}),e;}),{create:function(t,u){var s=new f(e.createRenderbuffer());function c(t,n){var u,l,f,d=0,h=0,p=32854;if("object"==typeof t&&t){if("shape"in t){var v=t.shape;E(Array.isArray(v)&&v.length>=2,"invalid renderbuffer shape"),d=0|v[0],h=0|v[1];}else"radius"in t&&(d=h=0|t.radius),"width"in t&&(d=0|t.width),"height"in t&&(h=0|t.height);"format"in t&&(E.parameter(t.format,i,"invalid renderbuffer format"),p=i[t.format]);}else"number"==typeof t?(d=0|t,h="number"==typeof n?0|n:d):t?E.raise("invalid arguments to renderbuffer constructor"):d=h=1;if(E(d>0&&h>0&&d<=r.maxRenderbufferSize&&h<=r.maxRenderbufferSize,"invalid renderbuffer size"),d!==s.width||h!==s.height||p!==s.format)return c.width=s.width=d,c.height=s.height=h,s.format=p,e.bindRenderbuffer(36161,s.renderbuffer),e.renderbufferStorage(36161,p,d,h),E(0===e.getError(),"invalid render buffer format"),a.profile&&(s.stats.size=(u=s.format,l=s.width,f=s.height,eE[u]*l*f)),c.format=o[s.format],c;}return l[s.id]=s,n.renderbufferCount++,c(t,u),c.resize=function(t,n){var i,o,u,l=0|t,f=0|n||l;return l===s.width&&f===s.height||(E(l>0&&f>0&&l<=r.maxRenderbufferSize&&f<=r.maxRenderbufferSize,"invalid renderbuffer size"),c.width=s.width=l,c.height=s.height=f,e.bindRenderbuffer(36161,s.renderbuffer),e.renderbufferStorage(36161,s.format,l,f),E(0===e.getError(),"invalid render buffer format"),a.profile&&(s.stats.size=(i=s.format,o=s.width,u=s.height,eE[i]*o*u))),c;},c._reglType="renderbuffer",c._renderbuffer=s,a.profile&&(c.stats=s.stats),c.destroy=function(){s.decRef();},c;},clear:function(){F(l).forEach(s);},restore:function(){F(l).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,t.renderbuffer),e.renderbufferStorage(36161,t.format,t.width,t.height);}),e.bindRenderbuffer(36161,null);}};},eA=[6407,6408],eS=[];eS[6408]=4,eS[6407]=3;var eO=[];eO[5121]=1,eO[5126]=4,eO[36193]=2;var eR=[32854,32855,36194,35907,34842,34843,34836],eM={};function ex(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0;}function eC(e){return Array.prototype.slice.call(e);}function eP(e){return eC(e).join("");}eM[36053]="complete",eM[36054]="incomplete attachment",eM[36057]="incomplete dimensions",eM[36055]="incomplete, missing attachment",eM[36061]="unsupported";var eL="xyzw".split(""),ew="dither",eI="blend.enable",eN="blend.color",eD="blend.equation",eF="blend.func",eB="depth.enable",eU="depth.func",ej="depth.range",ek="depth.mask",eG="colorMask",ez="cull.enable",eV="cull.face",eH="frontFace",eX="lineWidth",eW="polygonOffset.enable",eY="polygonOffset.offset",eq="sample.alpha",eZ="sample.enable",eK="sample.coverage",e$="stencil.enable",eQ="stencil.mask",eJ="stencil.func",e0="stencil.opFront",e1="stencil.opBack",e3="scissor.enable",e2="scissor.box",e4="viewport",e6="profile",e7="framebuffer",e5="vert",e9="frag",e8="elements",te="primitive",tt="count",tr="offset",tn="instances",ta="Width",ti="Height",to=e7+ta,tu=e7+ti,tl=e4+ta,tf=e4+ti,ts="drawingBuffer",tc=ts+ta,td=ts+ti,th=[eF,eD,eJ,e0,e1,eK,e4,e2,eY],tp={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},tv=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],t_={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},tm={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},tg={frag:35632,vert:35633},tb={cw:2304,ccw:2305};function ty(t){return Array.isArray(t)||e(t)||D(t);}function tE(e){return e.sort(function(e,t){return e===e4?-1:t===e4?1:e<t?-1:1;});}function tT(e,t,r,n){this.thisDep=e,this.contextDep=t,this.propDep=r,this.append=n;}function tA(e){return e&&!(e.thisDep||e.contextDep||e.propDep);}function tS(e){return new tT(!1,!1,!1,e);}function tO(e,t){var r=e.type;if(0===r){var n=e.data.length;return new tT(!0,n>=1,n>=2,t);}if(4!==r)return new tT(3===r,2===r,1===r,t);var a=e.data;return new tT(a.thisDep,a.contextDep,a.propDep,t);}var tR=new tT(!1,!1,!1,function(){}),tM=function(e,t){if(!t.ext_disjoint_timer_query)return null;var r=[],n=[];function a(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null;}var i=[],o=[];function u(e,t,r){var n=i.pop()||new a;n.startQueryIndex=e,n.endQueryIndex=t,n.sum=0,n.stats=r,o.push(n);}var l=[],f=[];return{beginQuery:function(e){var a=r.pop()||t.ext_disjoint_timer_query.createQueryEXT();t.ext_disjoint_timer_query.beginQueryEXT(35007,a),n.push(a),u(n.length-1,n.length,e);},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(35007);},pushScopeStats:u,update:function(){var e,a,u=n.length;if(0!==u){f.length=Math.max(f.length,u+1),l.length=Math.max(l.length,u+1),l[0]=0,f[0]=0;var s=0;for(a=0,e=0;a<n.length;++a){var c=n[a];t.ext_disjoint_timer_query.getQueryObjectEXT(c,34919)?(s+=t.ext_disjoint_timer_query.getQueryObjectEXT(c,34918),r.push(c)):n[e++]=c,l[a+1]=s,f[a+1]=e;}for(a=0,n.length=e,e=0;a<o.length;++a){var d=o[a],h=d.startQueryIndex,p=d.endQueryIndex;d.sum+=l[p]-l[h];var v=f[h],_=f[p];_===v?(d.stats.gpuTime+=d.sum/1e6,i.push(d)):(d.startQueryIndex=v,d.endQueryIndex=_,o[e++]=d);}o.length=e;}},getNumPendingQueries:function(){return n.length;},clear:function(){r.push.apply(r,n);for(var e=0;e<r.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(r[e]);n.length=0,r.length=0;},restore:function(){n.length=0,r.length=0;}};},tx="webglcontextlost",tC="webglcontextrestored";function tP(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return -1;}return function(r){var n,a,i=function(e){var r,n,a,i,o=e||{},u={},l=[],f=[],s="undefined"==typeof window?1:window.devicePixelRatio,c=!1,d=function(e){e&&E.raise(e);},h=function(){};if("string"==typeof o?(E("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),E(r=document.querySelector(o),"invalid query string for element")):"object"==typeof o?"string"==typeof o.nodeName&&"function"==typeof o.appendChild&&"function"==typeof o.getBoundingClientRect?r=o:"function"==typeof o.drawArrays||"function"==typeof o.drawElements?a=(i=o).canvas:(E.constructor(o),"gl"in o?i=o.gl:"canvas"in o?a=C(o.canvas):"container"in o&&(n=C(o.container)),"attributes"in o&&(u=o.attributes,E.type(u,"object","invalid context attributes")),"extensions"in o&&(l=x(o.extensions)),"optionalExtensions"in o&&(f=x(o.optionalExtensions)),"onDone"in o&&(E.type(o.onDone,"function","invalid or missing onDone callback"),d=o.onDone),"profile"in o&&(c=!!o.profile),"pixelRatio"in o&&E((s=+o.pixelRatio)>0,"invalid pixel ratio")):E.raise("invalid arguments to regl"),r&&("canvas"===r.nodeName.toLowerCase()?a=r:n=r),!i){if(!a){E("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var p=function(e,r,n){var a,i=document.createElement("canvas");function o(){var r=window.innerWidth,a=window.innerHeight;if(e!==document.body){var o=e.getBoundingClientRect();r=o.right-o.left,a=o.bottom-o.top;}i.width=n*r,i.height=n*a,t(i.style,{width:r+"px",height:a+"px"});}return t(i.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(i),e===document.body&&(i.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"==typeof ResizeObserver?(a=new ResizeObserver(function(){setTimeout(o);})).observe(e):window.addEventListener("resize",o,!1),o(),{canvas:i,onDestroy:function(){a?a.disconnect():window.removeEventListener("resize",o),e.removeChild(i);}};}(n||document.body,0,s);if(!p)return null;a=p.canvas,h=p.onDestroy;}void 0===u.premultipliedAlpha&&(u.premultipliedAlpha=!0),i=function(e,t){function r(r){try{return e.getContext(r,t);}catch(e){return null;}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental");}(a,u);}return i?{gl:i,canvas:a,container:n,extensions:l,optionalExtensions:f,pixelRatio:s,profile:c,onDone:d,onDestroy:h}:(h(),d("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null);}(r);if(!i)return null;var o=i.gl,u=o.getContextAttributes(),l=o.isContextLost(),f=function(e,t){var r={};function n(t){E.type(t,"string","extension name must be string");var n,a=t.toLowerCase();try{n=r[a]=e.getExtension(a);}catch(e){}return!!n;}for(var a=0;a<t.extensions.length;++a){var i=t.extensions[a];if(!n(i))return t.onDestroy(),t.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null;}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach(function(e){if(r[e]&&!n(e))throw Error("(regl): error restoring extension "+e);});}};}(o,i);if(!f)return null;var s=(n={"":0},a=[""],{id:function(e){var t=n[e];return t||(t=n[e]=a.length,a.push(e)),t;},str:function(e){return a[e];}}),c={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},d=f.extensions,h=tM(o,d),p=M(),v=o.drawingBufferWidth,_=o.drawingBufferHeight,m={tick:0,time:0,viewportWidth:v,viewportHeight:_,framebufferWidth:v,framebufferHeight:_,drawingBufferWidth:v,drawingBufferHeight:_,pixelRatio:i.pixelRatio},g=N(o,d),b=function(t,r,n,a){var i=0,o={};function u(e){this.id=i++,this.buffer=t.createBuffer(),this.type=e,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,n.profile&&(this.stats={size:0});}u.prototype.bind=function(){t.bindBuffer(this.type,this.buffer);},u.prototype.destroy=function(){c(this);};var l=[];function f(e,r,n){e.byteLength=r.byteLength,t.bufferData(e.type,r,n);}function s(t,r,n,a,i,o){if(t.usage=n,Array.isArray(r)){if(t.dtype=a||5126,r.length>0){if(Array.isArray(r[0])){u=V(r);for(var u,l,s=1,c=1;c<u.length;++c)s*=u[c];t.dimension=s,l=z(r,u,t.dtype),f(t,l,n),o?t.persistentData=l:I.freeType(l);}else if("number"==typeof r[0]){t.dimension=i;var d=I.allocType(t.dtype,r.length);W(d,r),f(t,d,n),o?t.persistentData=d:I.freeType(d);}else e(r[0])?(t.dimension=r[0].length,t.dtype=a||X(r[0])||5126,l=z(r,[r.length,r[0].length],t.dtype),f(t,l,n),o?t.persistentData=l:I.freeType(l)):E.raise("invalid buffer data");}}else if(e(r))t.dtype=a||X(r),t.dimension=i,f(t,r,n),o&&(t.persistentData=new Uint8Array(new Uint8Array(r.buffer)));else if(D(r)){u=r.shape;var h=r.stride,p=r.offset,v=0,_=0,m=0,g=0;1===u.length?(v=u[0],_=1,m=h[0],g=0):2===u.length?(v=u[0],_=u[1],m=h[0],g=h[1]):E.raise("invalid shape"),t.dtype=a||X(r.data)||5126,t.dimension=_;var b=I.allocType(t.dtype,v*_);Y(b,r.data,v,_,m,g,p),f(t,b,n),o?t.persistentData=b:I.freeType(b);}else r instanceof ArrayBuffer?(t.dtype=5121,t.dimension=i,f(t,r,n),o&&(t.persistentData=new Uint8Array(new Uint8Array(r)))):E.raise("invalid buffer data");}function c(e){r.bufferCount--,a(e);var n=e.buffer;E(n,"buffer must not be deleted already"),t.deleteBuffer(n),e.buffer=null,delete o[e.id];}return n.profile&&(r.getTotalBufferSize=function(){var e=0;return Object.keys(o).forEach(function(t){e+=o[t].stats.size;}),e;}),{create:function(a,i,l,f){r.bufferCount++;var d=new u(i);function h(r){var a=35044,i=null,o=0,u=0,l=1;return Array.isArray(r)||e(r)||D(r)||r instanceof ArrayBuffer?i=r:"number"==typeof r?o=0|r:r&&(E.type(r,"object","buffer arguments must be an object, a number or an array"),"data"in r&&(E(null===i||Array.isArray(i)||e(i)||D(i),"invalid data for buffer"),i=r.data),"usage"in r&&(E.parameter(r.usage,G,"invalid buffer usage"),a=G[r.usage]),"type"in r&&(E.parameter(r.type,k,"invalid buffer type"),u=k[r.type]),"dimension"in r&&(E.type(r.dimension,"number","invalid dimension"),l=0|r.dimension),"length"in r&&(E.nni(o,"buffer length must be a nonnegative integer"),o=0|r.length)),d.bind(),i?s(d,i,a,u,l,f):(o&&t.bufferData(d.type,o,a),d.dtype=u||5121,d.usage=a,d.dimension=l,d.byteLength=o),n.profile&&(d.stats.size=d.byteLength*H[d.dtype]),h;}function p(e,r){E(r+e.byteLength<=d.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+r+" to a buffer of size "+d.byteLength),t.bufferSubData(d.type,r,e);}return o[d.id]=d,l||h(a),h._reglType="buffer",h._buffer=d,h.subdata=function(t,r){var n,a=0|(r||0);if(d.bind(),e(t)||t instanceof ArrayBuffer)p(t,a);else if(Array.isArray(t)){if(t.length>0){if("number"==typeof t[0]){var i=I.allocType(d.dtype,t.length);W(i,t),p(i,a),I.freeType(i);}else if(Array.isArray(t[0])||e(t[0])){n=V(t);var o=z(t,n,d.dtype);p(o,a),I.freeType(o);}else E.raise("invalid buffer data");}}else if(D(t)){n=t.shape;var u=t.stride,l=0,f=0,s=0,c=0;1===n.length?(l=n[0],f=1,s=u[0],c=0):2===n.length?(l=n[0],f=n[1],s=u[0],c=u[1]):E.raise("invalid shape");var v=Array.isArray(t.data)?d.dtype:X(t.data),_=I.allocType(v,l*f);Y(_,t.data,l,f,s,c,t.offset),p(_,a),I.freeType(_);}else E.raise("invalid data for buffer subdata");return h;},n.profile&&(h.stats=d.stats),h.destroy=function(){c(d);},h;},createStream:function(e,t){var r=l.pop();return r||(r=new u(e)),r.bind(),s(r,t,35040,0,1,!1),r;},destroyStream:function(e){l.push(e);},clear:function(){F(o).forEach(c),l.forEach(c);},getBuffer:function(e){return e&&e._buffer instanceof u?e._buffer:null;},restore:function(){F(o).forEach(function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage);});},_initBuffer:s};}(o,c,i,function(e){return y.destroyBuffer(e);}),y=function(t,r,n,a,i){for(var o=n.maxAttributes,u=Array(o),l=0;l<o;++l)u[l]=new ex;var f=0,s={},c={Record:ex,scope:{},state:u,currentVAO:null,targetVAO:null,restore:d()?function(){d()&&F(s).forEach(function(e){e.refresh();});}:function(){},createVAO:function(t){var n=new p;function u(t){E(Array.isArray(t),"arguments to vertex array constructor must be an array"),E(t.length<o,"too many attributes"),E(t.length>0,"must specify at least one attribute");for(var a=0;a<n.buffers.length;++a)n.buffers[a].destroy();n.buffers.length=0;var l=n.attributes;l.length=t.length;for(var f=0;f<t.length;++f){var s=t[f],c=l[f]=new ex;if(Array.isArray(s)||e(s)||D(s)){var d=i.create(s,34962,!1,!0);c.buffer=i.getBuffer(d),c.size=0|c.buffer.dimension,c.normalized=!1,c.type=c.buffer.dtype,c.offset=0,c.stride=0,c.divisor=0,c.state=1,n.buffers.push(d);}else i.getBuffer(s)?(c.buffer=i.getBuffer(s),c.size=0|c.buffer.dimension,c.normalized=!1,c.type=c.buffer.dtype,c.offset=0,c.stride=0,c.divisor=0,c.state=1):i.getBuffer(s.buffer)?(c.buffer=i.getBuffer(s.buffer),c.size=0|(+s.size||c.buffer.dimension),c.normalized=!!s.normalized,"type"in s?(E.parameter(s.type,k,"invalid buffer type"),c.type=k[s.type]):c.type=c.buffer.dtype,c.offset=0|(s.offset||0),c.stride=0|(s.stride||0),c.divisor=0|(s.divisor||0),c.state=1,E(c.size>=1&&c.size<=4,"size must be between 1 and 4"),E(c.offset>=0,"invalid offset"),E(c.stride>=0&&c.stride<=255,"stride must be between 0 and 255"),E(c.divisor>=0,"divisor must be positive"),E(!c.divisor||!!r.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in s?(E(f>0,"first attribute must not be a constant"),c.x=+s.x||0,c.y=+s.y||0,c.z=+s.z||0,c.w=+s.w||0,c.state=2):E(!1,"invalid attribute spec for location "+f);}return n.refresh(),u;}return a.vaoCount+=1,u.destroy=function(){n.destroy();},u._vao=n,u._reglType="vao",u(t);},getVAO:function(e){return"function"==typeof e&&e._vao?e._vao:null;},destroyBuffer:function(e){for(var r=0;r<u.length;++r){var n=u[r];n.buffer===e&&(t.disableVertexAttribArray(r),n.buffer=null);}},setVAO:d()?function(e){if(e!==c.currentVAO){var t=d();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),c.currentVAO=e;}}:function(e){if(e!==c.currentVAO){if(e)e.bindAttrs();else for(var r=h(),n=0;n<u.length;++n){var a=u[n];a.buffer?(t.enableVertexAttribArray(n),t.vertexAttribPointer(n,a.size,a.type,a.normalized,a.stride,a.offfset),r&&r.vertexAttribDivisorANGLE(n,a.divisor)):(t.disableVertexAttribArray(n),t.vertexAttrib4f(n,a.x,a.y,a.z,a.w));}c.currentVAO=e;}},clear:d()?function(){F(s).forEach(function(e){e.destroy();});}:function(){}};function d(){return r.oes_vertex_array_object;}function h(){return r.angle_instanced_arrays;}function p(){this.id=++f,this.attributes=[];var e=d();e?this.vao=e.createVertexArrayOES():this.vao=null,s[this.id]=this,this.buffers=[];}return p.prototype.bindAttrs=function(){for(var e=h(),r=this.attributes,n=0;n<r.length;++n){var a=r[n];a.buffer?(t.enableVertexAttribArray(n),t.bindBuffer(34962,a.buffer.buffer),t.vertexAttribPointer(n,a.size,a.type,a.normalized,a.stride,a.offset),e&&e.vertexAttribDivisorANGLE(n,a.divisor)):(t.disableVertexAttribArray(n),t.vertexAttrib4f(n,a.x,a.y,a.z,a.w));}for(var i=r.length;i<o;++i)t.disableVertexAttribArray(i);},p.prototype.refresh=function(){var e=d();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),c.currentVAO=this);},p.prototype.destroy=function(){if(this.vao){var e=d();this===c.currentVAO&&(c.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null;}s[this.id]&&(delete s[this.id],a.vaoCount-=1);},c;}(o,d,g,c,b),T=function(t,r,n,a){var i={},o=0,u={uint8:5121,uint16:5123};function l(e){this.id=o++,i[this.id]=this,this.buffer=e,this.primType=4,this.vertCount=0,this.type=0;}r.oes_element_index_uint&&(u.uint32=5125),l.prototype.bind=function(){this.buffer.bind();};var f=[];function s(a,i,o,u,l,f,s){if(a.buffer.bind(),i){var c,d=s;!s&&(!e(i)||D(i)&&!e(i.data))&&(d=r.oes_element_index_uint?5125:5123),n._initBuffer(a.buffer,i,o,d,3);}else t.bufferData(34963,f,o),a.buffer.dtype=c||5121,a.buffer.usage=o,a.buffer.dimension=3,a.buffer.byteLength=f;if(c=s,!s){switch(a.buffer.dtype){case 5121:case 5120:c=5121;break;case 5123:case 5122:c=5123;break;case 5125:case 5124:c=5125;break;default:E.raise("unsupported type for element array");}a.buffer.dtype=c;}a.type=c,E(5125!==c||!!r.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=l;h<0&&(h=a.buffer.byteLength,5123===c?h>>=1:5125===c&&(h>>=2)),a.vertCount=h;var p=u;if(u<0){p=4;var v=a.buffer.dimension;1===v&&(p=0),2===v&&(p=1),3===v&&(p=4);}a.primType=p;}function c(e){a.elementsCount--,E(null!==e.buffer,"must not double destroy elements"),delete i[e.id],e.buffer.destroy(),e.buffer=null;}return{create:function(t,r){var i=n.create(null,34963,!0),o=new l(i._buffer);function f(t){if(t){if("number"==typeof t)i(t),o.primType=4,o.vertCount=0|t,o.type=5121;else{var r=null,n=35044,a=-1,l=-1,c=0,d=0;Array.isArray(t)||e(t)||D(t)?r=t:(E.type(t,"object","invalid arguments for elements"),"data"in t&&E(Array.isArray(r=t.data)||e(r)||D(r),"invalid data for element buffer"),"usage"in t&&(E.parameter(t.usage,G,"invalid element buffer usage"),n=G[t.usage]),"primitive"in t&&(E.parameter(t.primitive,q,"invalid element buffer primitive"),a=q[t.primitive]),"count"in t&&(E("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),l=0|t.count),"type"in t&&(E.parameter(t.type,u,"invalid buffer type"),d=u[t.type]),"length"in t?c=0|t.length:(c=l,5123===d||5122===d?c*=2:(5125===d||5124===d)&&(c*=4))),s(o,r,n,a,l,c,d);}}else i(),o.primType=4,o.vertCount=0,o.type=5121;return f;}return a.elementsCount++,f(t),f._reglType="elements",f._elements=o,f.subdata=function(e,t){return i.subdata(e,t),f;},f.destroy=function(){c(o);},f;},createStream:function(e){var t=f.pop();return t||(t=new l(n.create(null,34963,!0,!1)._buffer)),s(t,e,35040,-1,-1,0,0),t;},destroyStream:function(e){f.push(e);},getElements:function(e){return"function"==typeof e&&e._elements instanceof l?e._elements:null;},clear:function(){F(i).forEach(c);}};}(o,d,b,c),A=function(e,t,r,n){var a={},i={};function o(e,t,r,n){this.name=e,this.id=t,this.location=r,this.info=n;}function u(e,t){for(var r=0;r<e.length;++r)if(e[r].id===t.id){e[r].location=t.location;return;}e.push(t);}function l(r,n,o){var u=35632===r?a:i,l=u[n];if(!l){var f=t.str(n);l=e.createShader(r),e.shaderSource(l,f),e.compileShader(l),E.shaderError(e,l,f,r,o),u[n]=l;}return l;}var f={},s=[],c=0;function d(e,t){this.id=c++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],n.profile&&(this.stats={uniformsCount:0,attributesCount:0});}function h(r,a,i){var f,s,c=l(35632,r.fragId),d=l(35633,r.vertId),h=r.program=e.createProgram();if(e.attachShader(h,c),e.attachShader(h,d),i)for(f=0;f<i.length;++f){var p=i[f];e.bindAttribLocation(h,p[0],p[1]);}e.linkProgram(h),E.linkError(e,h,t.str(r.fragId),t.str(r.vertId),a);var v=e.getProgramParameter(h,35718);n.profile&&(r.stats.uniformsCount=v);var _=r.uniforms;for(f=0;f<v;++f)if(s=e.getActiveUniform(h,f)){if(s.size>1)for(var m=0;m<s.size;++m){var g=s.name.replace("[0]","["+m+"]");u(_,new o(g,t.id(g),e.getUniformLocation(h,g),s));}else u(_,new o(s.name,t.id(s.name),e.getUniformLocation(h,s.name),s));}var b=e.getProgramParameter(h,35721);n.profile&&(r.stats.attributesCount=b);var y=r.attributes;for(f=0;f<b;++f)(s=e.getActiveAttrib(h,f))&&u(y,new o(s.name,t.id(s.name),e.getAttribLocation(h,s.name),s));}return n.profile&&(r.getMaxUniformsCount=function(){var e=0;return s.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount);}),e;},r.getMaxAttributesCount=function(){var e=0;return s.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount);}),e;}),{clear:function(){var t=e.deleteShader.bind(e);F(a).forEach(t),a={},F(i).forEach(t),i={},s.forEach(function(t){e.deleteProgram(t.program);}),s.length=0,f={},r.shaderCount=0;},program:function(e,t,n,a){E.command(e>=0,"missing vertex shader",n),E.command(t>=0,"missing fragment shader",n);var i=f[t];i||(i=f[t]={});var o=i[e];if(o&&!a)return o;var u=new d(t,e);return r.shaderCount++,h(u,n,a),o||(i[e]=u),s.push(u),u;},restore:function(){a={},i={};for(var e=0;e<s.length;++e)h(s[e],null,s[e].attributes.map(function(e){return[e.location,e.name];}));},shader:l,frag:-1,vert:-1};}(o,s,c,i),S=function(r,n,a,i,o,u,l){var f={"don't care":4352,"dont care":4352,nice:4354,fast:4353},s={repeat:10497,clamp:33071,mirror:33648},c={nearest:9728,linear:9729},d=t({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},c),h={none:0,browser:37444},p={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},v={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},_={};n.ext_srgb&&(v.srgb=35904,v.srgba=35906),n.oes_texture_float&&(p.float32=p.float=5126),n.oes_texture_half_float&&(p.float16=p["half float"]=36193),n.webgl_depth_texture&&(t(v,{depth:6402,"depth stencil":34041}),t(p,{uint16:5123,uint32:5125,"depth stencil":34042})),n.webgl_compressed_texture_s3tc&&t(_,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),n.webgl_compressed_texture_atc&&t(_,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),n.webgl_compressed_texture_pvrtc&&t(_,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),n.webgl_compressed_texture_etc1&&(_["rgb etc1"]=36196);var m=Array.prototype.slice.call(r.getParameter(34467));Object.keys(_).forEach(function(e){var t=_[e];m.indexOf(t)>=0&&(v[e]=t);});var g=Object.keys(v);a.textureFormats=g;var b=[];Object.keys(v).forEach(function(e){b[v[e]]=e;});var y=[];Object.keys(p).forEach(function(e){y[p[e]]=e;});var T=[];Object.keys(c).forEach(function(e){T[c[e]]=e;});var A=[];Object.keys(d).forEach(function(e){A[d[e]]=e;});var S=[];Object.keys(s).forEach(function(e){S[s[e]]=e;});var O=g.reduce(function(e,t){var r=v[t];return 6409===r||6406===r||6409===r||6410===r||6402===r||34041===r||n.ext_srgb&&(35904===r||35906===r)?e[r]=r:32855===r||t.indexOf("rgba")>=0?e[r]=6408:e[r]=6407,e;},{});function R(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0;}function M(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels;}function x(e,t){if("object"==typeof t&&t){if("premultiplyAlpha"in t&&(E.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(E.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(E.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(E.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var r=t.type;E(n.oes_texture_float||!("float"===r||"float32"===r),"you must enable the OES_texture_float extension in order to use floating point textures."),E(n.oes_texture_half_float||!("half float"===r||"float16"===r),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),E(n.webgl_depth_texture||!("uint16"===r||"uint32"===r||"depth stencil"===r),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),E.parameter(r,p,"invalid texture type"),e.type=p[r];}var i=e.width,o=e.height,u=e.channels,l=!1;"shape"in t?(E(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),i=t.shape[0],o=t.shape[1],3===t.shape.length&&(E((u=t.shape[2])>0&&u<=4,"invalid number of channels"),l=!0),E(i>=0&&i<=a.maxTextureSize,"invalid width"),E(o>=0&&o<=a.maxTextureSize,"invalid height")):("radius"in t&&E((i=o=t.radius)>=0&&i<=a.maxTextureSize,"invalid radius"),"width"in t&&E((i=t.width)>=0&&i<=a.maxTextureSize,"invalid width"),"height"in t&&E((o=t.height)>=0&&o<=a.maxTextureSize,"invalid height"),"channels"in t&&(E((u=t.channels)>0&&u<=4,"invalid number of channels"),l=!0)),e.width=0|i,e.height=0|o,e.channels=0|u;var f=!1;if("format"in t){var s=t.format;E(n.webgl_depth_texture||!("depth"===s||"depth stencil"===s),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),E.parameter(s,v,"invalid texture format");var c=e.internalformat=v[s];e.format=O[c],s in p&&!("type"in t)&&(e.type=p[s]),s in _&&(e.compressed=!0),f=!0;}!l&&f?e.channels=er[e.format]:l&&!f?e.channels!==et[e.format]&&(e.format=e.internalformat=et[e.channels]):f&&l&&E(e.channels===er[e.format],"number of channels inconsistent with specified format");}}function C(e){r.pixelStorei(37440,e.flipY),r.pixelStorei(37441,e.premultiplyAlpha),r.pixelStorei(37443,e.colorSpace),r.pixelStorei(3317,e.unpackAlignment);}function P(){R.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1;}function L(t,r){var n=null;if(e_(r)?n=r:r&&(E.type(r,"object","invalid pixel data type"),x(t,r),"x"in r&&(t.xOffset=0|r.x),"y"in r&&(t.yOffset=0|r.y),e_(r.data)&&(n=r.data)),E(!t.compressed||n instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),r.copy){E(!n,"can not specify copy and data field for the same texture");var i=o.viewportWidth,u=o.viewportHeight;t.width=t.width||i-t.xOffset,t.height=t.height||u-t.yOffset,t.needsCopy=!0,E(t.xOffset>=0&&t.xOffset<i&&t.yOffset>=0&&t.yOffset<u&&t.width>0&&t.width<=i&&t.height>0&&t.height<=u,"copy texture read out of bounds");}else if(n){if(e(n))t.channels=t.channels||4,t.data=n,"type"in r||5121!==t.type||(t.type=em(n));else if(eh(n))t.channels=t.channels||4,function(e,t){var r=t.length;switch(e.type){case 5121:case 5123:case 5125:case 5126:var n=I.allocType(e.type,r);n.set(t),e.data=n;break;case 36193:e.data=$(t);break;default:E.raise("unsupported texture type, must specify a typed array");}}(t,n),t.alignment=1,t.needsFree=!0;else if(D(n)){var l,f,s,c,d,h,p=n.data;Array.isArray(p)||5121!==t.type||(t.type=em(p));var v=n.shape,_=n.stride;3===v.length?(s=v[2],h=_[2]):(E(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),s=1,h=1),l=v[0],f=v[1],c=_[0],d=_[1],t.alignment=1,t.width=l,t.height=f,t.channels=s,t.format=t.internalformat=et[s],t.needsFree=!0,function(e,t,r,n,a,i){for(var o=e.width,u=e.height,l=e.channels,f=eg(e,o*u*l),s=0,c=0;c<u;++c)for(var d=0;d<o;++d)for(var h=0;h<l;++h)f[s++]=t[r*d+n*c+a*h+i];eb(e,f);}(t,p,c,d,h,n.offset);}else if(ev(n)===ea||ev(n)===ei||ev(n)===eo)ev(n)===ea||ev(n)===ei?t.element=n:t.element=n.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(ev(n)===eu)t.element=n,t.width=n.width,t.height=n.height,t.channels=4;else if(ev(n)===el)t.element=n,t.width=n.naturalWidth,t.height=n.naturalHeight,t.channels=4;else if(ev(n)===ef)t.element=n,t.width=n.videoWidth,t.height=n.videoHeight,t.channels=4;else if(ep(n)){var m=t.width||n[0].length,g=t.height||n.length,b=t.channels;b=Q(n[0][0])?b||n[0][0].length:b||1;for(var y=B.shape(n),T=1,A=0;A<y.length;++A)T*=y[A];var S=eg(t,T);B.flatten(n,y,"",S),eb(t,S),t.alignment=1,t.width=m,t.height=g,t.channels=b,t.format=t.internalformat=et[b],t.needsFree=!0;}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;5126===t.type?E(a.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):36193===t.type&&E(a.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled");}function w(e,t,n,a,o){var u=e.element,l=e.data,f=e.internalformat,s=e.format,c=e.type,d=e.width,h=e.height;C(e),u?r.texSubImage2D(t,o,n,a,s,c,u):e.compressed?r.compressedTexSubImage2D(t,o,n,a,f,d,h,l):e.needsCopy?(i(),r.copyTexSubImage2D(t,o,n,a,e.xOffset,e.yOffset,d,h)):r.texSubImage2D(t,o,n,a,d,h,s,c,l);}var N=[];function U(){return N.pop()||new P;}function j(e){e.needsFree&&I.freeType(e.data),P.call(e),N.push(e);}function k(){R.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16);}function G(e,t,r){var n=e.images[0]=U();e.mipmask=1,n.width=e.width=t,n.height=e.height=r,n.channels=e.channels=4;}function z(e,t){var r=null;if(e_(t))M(r=e.images[0]=U(),e),L(r,t),e.mipmask=1;else if(x(e,t),Array.isArray(t.mipmap))for(var n=t.mipmap,a=0;a<n.length;++a)M(r=e.images[a]=U(),e),r.width>>=a,r.height>>=a,L(r,n[a]),e.mipmask|=1<<a;else M(r=e.images[0]=U(),e),L(r,t),e.mipmask=1;M(e,e.images[0]),e.compressed&&(33776===e.internalformat||33777===e.internalformat||33778===e.internalformat||33779===e.internalformat)&&E(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4");}function V(e,t){for(var n=e.images,a=0;a<n.length;++a){if(!n[a])return;!function(e,t,n){var a=e.element,o=e.data,u=e.internalformat,l=e.format,f=e.type,s=e.width,c=e.height;C(e),a?r.texImage2D(t,n,l,l,f,a):e.compressed?r.compressedTexImage2D(t,n,u,s,c,0,o):e.needsCopy?(i(),r.copyTexImage2D(t,n,l,e.xOffset,e.yOffset,s,c,0)):r.texImage2D(t,n,l,s,c,0,l,f,o||null);}(n[a],t,a);}}var H=[];function X(){var e=H.pop()||new k;R.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e;}function W(e){for(var t=e.images,r=0;r<t.length;++r)t[r]&&j(t[r]),t[r]=null;H.push(e);}function Y(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352;}function q(e,t){if("min"in t){var r=t.min;E.parameter(r,d),e.minFilter=d[r],!(ee.indexOf(e.minFilter)>=0)||"faces"in t||(e.genMipmaps=!0);}if("mag"in t){var n=t.mag;E.parameter(n,c),e.magFilter=c[n];}var i=e.wrapS,o=e.wrapT;if("wrap"in t){var u=t.wrap;"string"==typeof u?(E.parameter(u,s),i=o=s[u]):Array.isArray(u)&&(E.parameter(u[0],s),E.parameter(u[1],s),i=s[u[0]],o=s[u[1]]);}else{if("wrapS"in t){var l=t.wrapS;E.parameter(l,s),i=s[l];}if("wrapT"in t){var h=t.wrapT;E.parameter(h,s),o=s[h];}}if(e.wrapS=i,e.wrapT=o,"anisotropic"in t){var p=t.anisotropic;E("number"==typeof p&&p>=1&&p<=a.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic;}if("mipmap"in t){var v=!1;switch(typeof t.mipmap){case"string":E.parameter(t.mipmap,f,"invalid mipmap hint"),e.mipmapHint=f[t.mipmap],e.genMipmaps=!0,v=!0;break;case"boolean":v=e.genMipmaps=t.mipmap;break;case"object":E(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,v=!0;break;default:E.raise("invalid mipmap type");}!v||"min"in t||(e.minFilter=9984);}}function Z(e,t){r.texParameteri(t,10241,e.minFilter),r.texParameteri(t,10240,e.magFilter),r.texParameteri(t,10242,e.wrapS),r.texParameteri(t,10243,e.wrapT),n.ext_texture_filter_anisotropic&&r.texParameteri(t,34046,e.anisotropic),e.genMipmaps&&(r.hint(33170,e.mipmapHint),r.generateMipmap(t));}var K=0,en={},es=a.maxTextureUnits,ec=Array(es).map(function(){return null;});function ed(e){R.call(this),this.mipmask=0,this.internalformat=6408,this.id=K++,this.refCount=1,this.target=e,this.texture=r.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Y,l.profile&&(this.stats={size:0});}function eE(e){r.activeTexture(33984),r.bindTexture(e.target,e.texture);}function eT(){var e=ec[0];e?r.bindTexture(e.target,e.texture):r.bindTexture(3553,null);}function eA(e){var t=e.texture;E(t,"must not double destroy texture");var n=e.unit,a=e.target;n>=0&&(r.activeTexture(33984+n),r.bindTexture(a,null),ec[n]=null),r.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete en[e.id],u.textureCount--;}return t(ed.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(e<0){for(var t=0;t<es;++t){var n=ec[t];if(n){if(n.bindCount>0)continue;n.unit=-1;}ec[t]=this,e=t;break;}e>=es&&E.raise("insufficient number of texture units"),l.profile&&u.maxTextureUnits<e+1&&(u.maxTextureUnits=e+1),this.unit=e,r.activeTexture(33984+e),r.bindTexture(this.target,this.texture);}return e;},unbind:function(){this.bindCount-=1;},decRef:function(){--this.refCount<=0&&eA(this);}}),l.profile&&(u.getTotalTextureSize=function(){var e=0;return Object.keys(en).forEach(function(t){e+=en[t].stats.size;}),e;}),{create2D:function(e,t){var n=new ed(3553);function i(e,t){var r=n.texInfo;Y.call(r);var o=X();return"number"==typeof e?"number"==typeof t?G(o,0|e,0|t):G(o,0|e,0|e):e?(E.type(e,"object","invalid arguments to regl.texture"),q(r,e),z(o,e)):G(o,1,1),r.genMipmaps&&(o.mipmask=(o.width<<1)-1),n.mipmask=o.mipmask,M(n,o),E.texture2D(r,o,a),n.internalformat=o.internalformat,i.width=o.width,i.height=o.height,eE(n),V(o,3553),Z(r,3553),eT(),W(o),l.profile&&(n.stats.size=ey(n.internalformat,n.type,o.width,o.height,r.genMipmaps,!1)),i.format=b[n.internalformat],i.type=y[n.type],i.mag=T[r.magFilter],i.min=A[r.minFilter],i.wrapS=S[r.wrapS],i.wrapT=S[r.wrapT],i;}return en[n.id]=n,u.textureCount++,i(e,t),i.subimage=function(e,t,r,a){E(!!e,"must specify image data");var o=0|t,u=0|r,l=0|a,f=U();return M(f,n),f.width=0,f.height=0,L(f,e),f.width=f.width||(n.width>>l)-o,f.height=f.height||(n.height>>l)-u,E(n.type===f.type&&n.format===f.format&&n.internalformat===f.internalformat,"incompatible format for texture.subimage"),E(o>=0&&u>=0&&o+f.width<=n.width&&u+f.height<=n.height,"texture.subimage write out of bounds"),E(n.mipmask&1<<l,"missing mipmap data"),E(f.data||f.element||f.needsCopy,"missing image data"),eE(n),w(f,3553,o,u,l),eT(),j(f),i;},i.resize=function(e,t){var a=0|e,o=0|t||a;if(a===n.width&&o===n.height)return i;i.width=n.width=a,i.height=n.height=o,eE(n);for(var u=0;n.mipmask>>u;++u){var f=a>>u,s=o>>u;if(!f||!s)break;r.texImage2D(3553,u,n.format,f,s,0,n.format,n.type,null);}return eT(),l.profile&&(n.stats.size=ey(n.internalformat,n.type,a,o,!1,!1)),i;},i._reglType="texture2d",i._texture=n,l.profile&&(i.stats=n.stats),i.destroy=function(){n.decRef();},i;},createCube:function(e,t,n,i,o,f){var s=new ed(34067);en[s.id]=s,u.cubeCount++;var c=Array(6);function d(e,t,r,n,i,o){var u,f=s.texInfo;for(Y.call(f),u=0;u<6;++u)c[u]=X();if("number"!=typeof e&&e){if("object"==typeof e){if(t)z(c[0],e),z(c[1],t),z(c[2],r),z(c[3],n),z(c[4],i),z(c[5],o);else if(q(f,e),x(s,e),"faces"in e){var h=e.faces;for(E(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),u=0;u<6;++u)E("object"==typeof h[u]&&!!h[u],"invalid input for cube map face"),M(c[u],s),z(c[u],h[u]);}else for(u=0;u<6;++u)z(c[u],e);}else E.raise("invalid arguments to cube map");}else{var p=0|e||1;for(u=0;u<6;++u)G(c[u],p,p);}for(M(s,c[0]),a.npotTextureCube||E(J(s.width)&&J(s.height),"your browser does not support non power or two texture dimensions"),f.genMipmaps?s.mipmask=(c[0].width<<1)-1:s.mipmask=c[0].mipmask,E.textureCube(s,f,c,a),s.internalformat=c[0].internalformat,d.width=c[0].width,d.height=c[0].height,eE(s),u=0;u<6;++u)V(c[u],34069+u);for(Z(f,34067),eT(),l.profile&&(s.stats.size=ey(s.internalformat,s.type,d.width,d.height,f.genMipmaps,!0)),d.format=b[s.internalformat],d.type=y[s.type],d.mag=T[f.magFilter],d.min=A[f.minFilter],d.wrapS=S[f.wrapS],d.wrapT=S[f.wrapT],u=0;u<6;++u)W(c[u]);return d;}return d(e,t,n,i,o,f),d.subimage=function(e,t,r,n,a){E(!!t,"must specify image data"),E("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var i=0|r,o=0|n,u=0|a,l=U();return M(l,s),l.width=0,l.height=0,L(l,t),l.width=l.width||(s.width>>u)-i,l.height=l.height||(s.height>>u)-o,E(s.type===l.type&&s.format===l.format&&s.internalformat===l.internalformat,"incompatible format for texture.subimage"),E(i>=0&&o>=0&&i+l.width<=s.width&&o+l.height<=s.height,"texture.subimage write out of bounds"),E(s.mipmask&1<<u,"missing mipmap data"),E(l.data||l.element||l.needsCopy,"missing image data"),eE(s),w(l,34069+e,i,o,u),eT(),j(l),d;},d.resize=function(e){var t=0|e;if(t!==s.width){d.width=s.width=t,d.height=s.height=t,eE(s);for(var n=0;n<6;++n)for(var a=0;s.mipmask>>a;++a)r.texImage2D(34069+n,a,s.format,t>>a,t>>a,0,s.format,s.type,null);return eT(),l.profile&&(s.stats.size=ey(s.internalformat,s.type,d.width,d.height,!1,!0)),d;}},d._reglType="textureCube",d._texture=s,l.profile&&(d.stats=s.stats),d.destroy=function(){s.decRef();},d;},clear:function(){for(var e=0;e<es;++e)r.activeTexture(33984+e),r.bindTexture(3553,null),ec[e]=null;F(en).forEach(eA),u.cubeCount=0,u.textureCount=0;},getTexture:function(e){return null;},restore:function(){for(var e=0;e<es;++e){var t=ec[e];t&&(t.bindCount=0,t.unit=-1,ec[e]=null);}F(en).forEach(function(e){e.texture=r.createTexture(),r.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if((e.mipmask&1<<t)!=0){if(3553===e.target)r.texImage2D(3553,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var n=0;n<6;++n)r.texImage2D(34069+n,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);}Z(e.texInfo,e.target);});}};}(o,d,g,function(){U.procs.poll();},m,c,i),L=eT(o,d,g,c,i),w=function(e,r,n,a,i,o){var u={cur:null,next:null,dirty:!1,setFBO:null},l=["rgba"],f=["rgba4","rgb565","rgb5 a1"];r.ext_srgb&&f.push("srgba"),r.ext_color_buffer_half_float&&f.push("rgba16f","rgb16f"),r.webgl_color_buffer_float&&f.push("rgba32f");var s=["uint8"];function c(e,t,r){this.target=e,this.texture=t,this.renderbuffer=r;var n=0,a=0;t?(n=t.width,a=t.height):r&&(n=r.width,a=r.height),this.width=n,this.height=a;}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef());}function h(e,t,r){if(e){if(e.texture){var n=e.texture._texture,a=Math.max(1,n.width),i=Math.max(1,n.height);E(a===t&&i===r,"inconsistent width/height for supplied texture"),n.refCount+=1;}else{var o=e.renderbuffer._renderbuffer;E(o.width===t&&o.height===r,"inconsistent width/height for renderbuffer"),o.refCount+=1;}}}function p(t,r){r&&(r.texture?e.framebufferTexture2D(36160,t,r.target,r.texture._texture.texture,0):e.framebufferRenderbuffer(36160,t,36161,r.renderbuffer._renderbuffer.renderbuffer));}function v(e){var t=3553,r=null,n=null,a=e;"object"==typeof e&&(a=e.data,"target"in e&&(t=0|e.target)),E.type(a,"function","invalid attachment data");var i=a._reglType;return"texture2d"===i?(r=a,E(3553===t)):"textureCube"===i?(r=a,E(t>=34069&&t<34075,"invalid cube map target")):"renderbuffer"===i?(n=a,t=36161):E.raise("invalid regl object for attachment"),new c(t,r,n);}function _(e,t,r,n,o){if(r){var u=a.create2D({width:e,height:t,format:n,type:o});return u._texture.refCount=0,new c(3553,u,null);}var l=i.create({width:e,height:t,format:n});return l._renderbuffer.refCount=0,new c(36161,null,l);}function m(e){return e&&(e.texture||e.renderbuffer);}function g(e,t,r){e&&(e.texture?e.texture.resize(t,r):e.renderbuffer&&e.renderbuffer.resize(t,r),e.width=t,e.height=r);}r.oes_texture_half_float&&s.push("half float","float16"),r.oes_texture_float&&s.push("float","float32");var b=0,y={};function T(){this.id=b++,y[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null;}function A(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment);}function S(t){var r=t.framebuffer;E(r,"must not double destroy framebuffer"),e.deleteFramebuffer(r),t.framebuffer=null,o.framebufferCount--,delete y[t.id];}function O(t){e.bindFramebuffer(36160,t.framebuffer);var r,a=t.colorAttachments;for(r=0;r<a.length;++r)p(36064+r,a[r]);for(r=a.length;r<n.maxColorAttachments;++r)e.framebufferTexture2D(36160,36064+r,3553,null,0);e.framebufferTexture2D(36160,33306,3553,null,0),e.framebufferTexture2D(36160,36096,3553,null,0),e.framebufferTexture2D(36160,36128,3553,null,0),p(36096,t.depthAttachment),p(36128,t.stencilAttachment),p(33306,t.depthStencilAttachment);var i=e.checkFramebufferStatus(36160);e.isContextLost()||36053===i||E.raise("framebuffer configuration not supported, status = "+eM[i]),e.bindFramebuffer(36160,u.next?u.next.framebuffer:null),u.cur=u.next,e.getError();}function R(e,a){var i=new T;function c(e,t){E(u.next!==i,"can not update framebuffer which is currently in use");var a,o=0,d=0,p=!0,g=!0,b=null,y=!0,T="rgba",S="uint8",R=1,M=null,x=null,C=null,P=!1;if("number"==typeof e)o=0|e,d=0|t||o;else if(e){if(E.type(e,"object","invalid arguments for framebuffer"),"shape"in e){var L=e.shape;E(Array.isArray(L)&&L.length>=2,"invalid shape for framebuffer"),o=L[0],d=L[1];}else"radius"in e&&(o=d=e.radius),"width"in e&&(o=e.width),"height"in e&&(d=e.height);("color"in e||"colors"in e)&&Array.isArray(b=e.color||e.colors)&&E(1===b.length||r.webgl_draw_buffers,"multiple render targets not supported"),!b&&("colorCount"in e&&E((R=0|e.colorCount)>0,"invalid color buffer count"),"colorTexture"in e&&(y=!!e.colorTexture,T="rgba4"),"colorType"in e&&(S=e.colorType,y?(E(r.oes_texture_float||!("float"===S||"float32"===S),"you must enable OES_texture_float in order to use floating point framebuffer objects"),E(r.oes_texture_half_float||!("half float"===S||"float16"===S),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===S||"float16"===S?(E(r.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),T="rgba16f"):("float"===S||"float32"===S)&&(E(r.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),T="rgba32f"),E.oneOf(S,s,"invalid color type")),"colorFormat"in e&&(T=e.colorFormat,l.indexOf(T)>=0?y=!0:f.indexOf(T)>=0?y=!1:y?E.oneOf(e.colorFormat,l,"invalid color format for texture"):E.oneOf(e.colorFormat,f,"invalid color format for renderbuffer"))),("depthTexture"in e||"depthStencilTexture"in e)&&E(!(P=!!(e.depthTexture||e.depthStencilTexture))||r.webgl_depth_texture,"webgl_depth_texture extension not supported"),"depth"in e&&("boolean"==typeof e.depth?p=e.depth:(M=e.depth,g=!1)),"stencil"in e&&("boolean"==typeof e.stencil?g=e.stencil:(x=e.stencil,p=!1)),"depthStencil"in e&&("boolean"==typeof e.depthStencil?p=g=e.depthStencil:(C=e.depthStencil,p=!1,g=!1));}else o=d=1;var w=null,I=null,N=null,D=null;if(Array.isArray(b))w=b.map(v);else if(b)w=[v(b)];else for(a=0,w=Array(R);a<R;++a)w[a]=_(o,d,y,T,S);E(r.webgl_draw_buffers||w.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),E(w.length<=n.maxColorAttachments,"too many color attachments, not supported"),o=o||w[0].width,d=d||w[0].height,M?I=v(M):p&&!g&&(I=_(o,d,P,"depth","uint32")),x?N=v(x):g&&!p&&(N=_(o,d,!1,"stencil","uint8")),C?D=v(C):!M&&!x&&g&&p&&(D=_(o,d,P,"depth stencil","depth stencil")),E(!!M+!!x+!!C<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var F=null;for(a=0;a<w.length;++a)if(h(w[a],o,d),E(!w[a]||w[a].texture&&eA.indexOf(w[a].texture._texture.format)>=0||w[a].renderbuffer&&eR.indexOf(w[a].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+a+" is invalid"),w[a]&&w[a].texture){var B=eS[w[a].texture._texture.format]*eO[w[a].texture._texture.type];null===F?F=B:E(F===B,"all color attachments much have the same number of bits per pixel.");}return h(I,o,d),E(!I||I.texture&&6402===I.texture._texture.format||I.renderbuffer&&33189===I.renderbuffer._renderbuffer.format,"invalid depth attachment for framebuffer object"),h(N,o,d),E(!N||N.renderbuffer&&36168===N.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object"),h(D,o,d),E(!D||D.texture&&34041===D.texture._texture.format||D.renderbuffer&&34041===D.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object"),A(i),i.width=o,i.height=d,i.colorAttachments=w,i.depthAttachment=I,i.stencilAttachment=N,i.depthStencilAttachment=D,c.color=w.map(m),c.depth=m(I),c.stencil=m(N),c.depthStencil=m(D),c.width=i.width,c.height=i.height,O(i),c;}return o.framebufferCount++,c(e,a),t(c,{resize:function(e,t){E(u.next!==i,"can not resize a framebuffer which is currently in use");var r=Math.max(0|e,1),n=Math.max(0|t||r,1);if(r===i.width&&n===i.height)return c;for(var a=i.colorAttachments,o=0;o<a.length;++o)g(a[o],r,n);return g(i.depthAttachment,r,n),g(i.stencilAttachment,r,n),g(i.depthStencilAttachment,r,n),i.width=c.width=r,i.height=c.height=n,O(i),c;},_reglType:"framebuffer",_framebuffer:i,destroy:function(){S(i),A(i);},use:function(e){u.setFBO({framebuffer:c},e);}});}return t(u,{getFramebuffer:function(e){if("function"==typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof T)return t;}return null;},create:R,createCube:function(e){var i=Array(6);function o(e){E(0>i.indexOf(u.next),"can not update framebuffer which is currently in use");var n,f,c={color:null},d=0,h=null,p="rgba",v="uint8",_=1;if("number"==typeof e)d=0|e;else if(e){if(E.type(e,"object","invalid arguments for framebuffer"),"shape"in e){var m=e.shape;E(Array.isArray(m)&&m.length>=2,"invalid shape for framebuffer"),E(m[0]===m[1],"cube framebuffer must be square"),d=m[0];}else"radius"in e&&(d=0|e.radius),"width"in e?(d=0|e.width,"height"in e&&E(e.height===d,"must be square")):"height"in e&&(d=0|e.height);("color"in e||"colors"in e)&&Array.isArray(h=e.color||e.colors)&&E(1===h.length||r.webgl_draw_buffers,"multiple render targets not supported"),!h&&("colorCount"in e&&E((_=0|e.colorCount)>0,"invalid color buffer count"),"colorType"in e&&(E.oneOf(e.colorType,s,"invalid color type"),v=e.colorType),"colorFormat"in e&&(p=e.colorFormat,E.oneOf(e.colorFormat,l,"invalid color format for texture"))),"depth"in e&&(c.depth=e.depth),"stencil"in e&&(c.stencil=e.stencil),"depthStencil"in e&&(c.depthStencil=e.depthStencil);}else d=1;if(h){if(Array.isArray(h))for(n=0,f=[];n<h.length;++n)f[n]=h[n];else f=[h];}else{f=Array(_);var g={radius:d,format:p,type:v};for(n=0;n<_;++n)f[n]=a.createCube(g);}for(n=0,c.color=Array(f.length);n<f.length;++n){var b=f[n];E("function"==typeof b&&"textureCube"===b._reglType,"invalid cube map"),d=d||b.width,E(b.width===d&&b.height===d,"invalid cube map shape"),c.color[n]={target:34069,data:f[n]};}for(n=0;n<6;++n){for(var y=0;y<f.length;++y)c.color[y].target=34069+n;n>0&&(c.depth=i[0].depth,c.stencil=i[0].stencil,c.depthStencil=i[0].depthStencil),i[n]?i[n](c):i[n]=R(c);}return t(o,{width:d,height:d,color:f});}return o(e),t(o,{faces:i,resize:function(e){var t,r=0|e;if(E(r>0&&r<=n.maxCubeMapSize,"invalid radius for cube fbo"),r===o.width)return o;var a=o.color;for(t=0;t<a.length;++t)a[t].resize(r);for(t=0;t<6;++t)i[t].resize(r);return o.width=o.height=r,o;},_reglType:"framebufferCube",destroy:function(){i.forEach(function(e){e.destroy();});}});},clear:function(){F(y).forEach(S);},restore:function(){u.cur=null,u.next=null,u.dirty=!0,F(y).forEach(function(t){t.framebuffer=e.createFramebuffer(),O(t);});}});}(o,d,g,S,L,c),U=function(e,r,n,a,i,o,u,l,f,s,c,d,h,p,v){var _=s.Record,m={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(m.min=32775,m.max=32776);var g=n.angle_instanced_arrays,b=n.webgl_draw_buffers,y={dirty:!0,profile:v.profile},T={},A=[],S={},R={};function M(e){return e.replace(".","_");}function x(e,t,r){var n=M(e);A.push(e),T[n]=y[n]=!!r,S[n]=t;}function C(e,t,r){var n=M(e);A.push(e),Array.isArray(r)?(y[n]=r.slice(),T[n]=r.slice()):y[n]=T[n]=r,R[n]=t;}x(ew,3024),x(eI,3042),C(eN,"blendColor",[0,0,0,0]),C(eD,"blendEquationSeparate",[32774,32774]),C(eF,"blendFuncSeparate",[1,0,1,0]),x(eB,2929,!0),C(eU,"depthFunc",513),C(ej,"depthRange",[0,1]),C(ek,"depthMask",!0),C(eG,eG,[!0,!0,!0,!0]),x(ez,2884),C(eV,"cullFace",1029),C(eH,eH,2305),C(eX,eX,1),x(eW,32823),C(eY,"polygonOffset",[0,0]),x(eq,32926),x(eZ,32928),C(eK,"sampleCoverage",[1,!1]),x(e$,2960),C(eQ,"stencilMask",-1),C(eJ,"stencilFunc",[519,0,-1]),C(e0,"stencilOpSeparate",[1028,7680,7680,7680]),C(e1,"stencilOpSeparate",[1029,7680,7680,7680]),x(e3,3089),C(e2,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),C(e4,e4,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var L={gl:e,context:h,strings:r,next:T,current:y,draw:d,elements:o,buffer:i,shader:c,attributes:s.state,vao:s,uniforms:f,framebuffer:l,extensions:n,timer:p,isBufferArgs:ty},w={primTypes:q,compareFuncs:t_,blendFuncs:tp,blendEquations:m,stencilOps:tm,glTypes:k,orientationType:tb};E.optional(function(){L.isArrayLike=Q;}),b&&(w.backBuffer=[1029],w.drawBuffer=P(a.maxDrawbuffers,function(e){return 0===e?[0]:P(e,function(e){return 36064+e;});}));var I=0;function N(){var e=function(){var e=0,r=[],n=[];function a(){var r=[],n=[];return t(function(){r.push.apply(r,eC(arguments));},{def:function(){var t="v"+e++;return n.push(t),arguments.length>0&&(r.push(t,"="),r.push.apply(r,eC(arguments)),r.push(";")),t;},toString:function(){return eP([n.length>0?"var "+n.join(",")+";":"",eP(r)]);}});}function i(){var e=a(),r=a(),n=e.toString,i=r.toString;function o(t,n){r(t,n,"=",e.def(t,n),";");}return t(function(){e.apply(e,eC(arguments));},{def:e.def,entry:e,exit:r,save:o,set:function(t,r,n){o(t,r),e(t,r,"=",n,";");},toString:function(){return n()+i();}});}var o=a(),u={};return{global:o,link:function(t){for(var a=0;a<n.length;++a)if(n[a]===t)return r[a];var i="g"+e++;return r.push(i),n.push(t),i;},block:a,proc:function(e,r){var n=[];function a(){var e="a"+n.length;return n.push(e),e;}r=r||0;for(var o=0;o<r;++o)a();var l=i(),f=l.toString;return u[e]=t(l,{arg:a,toString:function(){return eP(["function(",n.join(),"){",f(),"}"]);}});},scope:i,cond:function(){var e=eP(arguments),r=i(),n=i(),a=r.toString,o=n.toString;return t(r,{then:function(){return r.apply(r,eC(arguments)),this;},else:function(){return n.apply(n,eC(arguments)),this;},toString:function(){var t=o();return t&&(t="else{"+t+"}"),eP(["if(",e,"){",a(),"}",t]);}});},compile:function(){var e=['"use strict";',o,"return {"];Object.keys(u).forEach(function(t){e.push('"',t,'":',u[t].toString(),",");}),e.push("}");var t=eP(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,r.concat(t)).apply(null,n);}};}(),n=e.link,a=e.global;e.id=I++,e.batchId="0";var i=n(L),o=e.shared={props:"a0"};Object.keys(L).forEach(function(e){o[e]=a.def(i,".",e);}),E.optional(function(){e.CHECK=n(E),e.commandStr=E.guessCommand(),e.command=n(e.commandStr),e.assert=function(e,t,r){e("if(!(",t,"))",this.CHECK,".commandRaise(",n(r),",",this.command,");");},w.invalidBlendCombinations=tv;});var u=e.next={},l=e.current={};Object.keys(R).forEach(function(e){Array.isArray(y[e])&&(u[e]=a.def(o.next,".",e),l[e]=a.def(o.current,".",e));});var f=e.constants={};Object.keys(w).forEach(function(e){f[e]=a.def(JSON.stringify(w[e]));}),e.invoke=function(t,r){switch(r.type){case 0:var a=["this",o.context,o.props,e.batchId];return t.def(n(r.data),".call(",a.slice(0,Math.max(r.data.length+1,4)),")");case 1:return t.def(o.props,r.data);case 2:return t.def(o.context,r.data);case 3:return t.def("this",r.data);case 4:return r.data.append(e,t),r.data.ref;}},e.attribCache={};var c={};return e.scopeAttrib=function(e){var t=r.id(e);if(t in c)return c[t];var a=s.scope[t];return a||(a=s.scope[t]=new _),c[t]=n(a);},e;}function D(e,t,r){var n=e.shared.context,a=e.scope();Object.keys(r).forEach(function(i){t.save(n,"."+i);var o=r[i];a(n,".",i,"=",o.append(e,t),";");}),t(a);}function F(e,t,r,n){var a,i,o=e.shared,u=o.gl,l=o.framebuffer;b&&(a=t.def(o.extensions,".webgl_draw_buffers"));var f=e.constants,s=f.drawBuffer,c=f.backBuffer;i=r?r.append(e,t):t.def(l,".next"),n||t("if(",i,"!==",l,".cur){"),t("if(",i,"){",u,".bindFramebuffer(",36160,",",i,".framebuffer);"),b&&t(a,".drawBuffersWEBGL(",s,"[",i,".colorAttachments.length]);"),t("}else{",u,".bindFramebuffer(",36160,",null);"),b&&t(a,".drawBuffersWEBGL(",c,");"),t("}",l,".cur=",i,";"),n||t("}");}function B(e,t,r){var n=e.shared,a=n.gl,i=e.current,o=e.next,u=n.current,l=n.next,f=e.cond(u,".dirty");A.forEach(function(t){var n,s,c=M(t);if(!(c in r.state)){if(c in o){n=o[c],s=i[c];var d=P(y[c].length,function(e){return f.def(n,"[",e,"]");});f(e.cond(d.map(function(e,t){return e+"!=="+s+"["+t+"]";}).join("||")).then(a,".",R[c],"(",d,");",d.map(function(e,t){return s+"["+t+"]="+e;}).join(";"),";"));}else{n=f.def(l,".",c);var h=e.cond(n,"!==",u,".",c);f(h),c in S?h(e.cond(n).then(a,".enable(",S[c],");").else(a,".disable(",S[c],");"),u,".",c,"=",n,";"):h(a,".",R[c],"(",n,");",u,".",c,"=",n,";");}}}),0===Object.keys(r.state).length&&f(u,".dirty=false;"),t(f);}function U(e,t,r,n){var a=e.shared,i=e.current,o=a.current,u=a.gl;tE(Object.keys(r)).forEach(function(a){var l=r[a];if(!n||n(l)){var f=l.append(e,t);if(S[a]){var s=S[a];tA(l)?f?t(u,".enable(",s,");"):t(u,".disable(",s,");"):t(e.cond(f).then(u,".enable(",s,");").else(u,".disable(",s,");")),t(o,".",a,"=",f,";");}else if(Q(f)){var c=i[a];t(u,".",R[a],"(",f,");",f.map(function(e,t){return c+"["+t+"]="+e;}).join(";"),";");}else t(u,".",R[a],"(",f,");",o,".",a,"=",f,";");}});}function j(e,t){g&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"));}function G(e,t,r,n,a){var i,o,u,l=e.shared,f=e.stats,s=l.current,c=l.timer,d=r.profile;function h(){return"undefined"==typeof performance?"Date.now()":"performance.now()";}function v(e){e(i=t.def(),"=",h(),";"),"string"==typeof a?e(f,".count+=",a,";"):e(f,".count++;"),p&&(n?e(o=t.def(),"=",c,".getNumPendingQueries();"):e(c,".beginQuery(",f,");"));}function _(e){e(f,".cpuTime+=",h(),"-",i,";"),p&&(n?e(c,".pushScopeStats(",o,",",c,".getNumPendingQueries(),",f,");"):e(c,".endQuery();"));}function m(e){var r=t.def(s,".profile");t(s,".profile=",e,";"),t.exit(s,".profile=",r,";");}if(d){if(tA(d)){d.enable?(v(t),_(t.exit),m("true")):m("false");return;}m(u=d.append(e,t));}else u=t.def(s,".profile");var g=e.block();v(g),t("if(",u,"){",g,"}");var b=e.block();_(b),t.exit("if(",u,"){",b,"}");}function z(e,t,r,n,a){var i=e.shared;n.forEach(function(n){var o,u=n.name,l=r.attributes[u];if(l){if(!a(l))return;o=l.append(e,t);}else{if(!a(tR))return;var f=e.scopeAttrib(u);E.optional(function(){e.assert(t,f+".state","missing attribute "+u);}),o={},Object.keys(new _).forEach(function(e){o[e]=t.def(f,".",e);});}!function(r,n,a){var o=i.gl,u=t.def(r,".location"),l=t.def(i.attributes,"[",u,"]"),f=a.state,s=a.buffer,c=[a.x,a.y,a.z,a.w],d=["buffer","normalized","offset","stride"];function h(){t("if(!",l,".buffer){",o,".enableVertexAttribArray(",u,");}");var r,i=a.type;if(r=a.size?t.def(a.size,"||",n):n,t("if(",l,".type!==",i,"||",l,".size!==",r,"||",d.map(function(e){return l+"."+e+"!=="+a[e];}).join("||"),"){",o,".bindBuffer(",34962,",",s,".buffer);",o,".vertexAttribPointer(",[u,r,i,a.normalized,a.stride,a.offset],");",l,".type=",i,";",l,".size=",r,";",d.map(function(e){return l+"."+e+"="+a[e]+";";}).join(""),"}"),g){var f=a.divisor;t("if(",l,".divisor!==",f,"){",e.instancing,".vertexAttribDivisorANGLE(",[u,f],");",l,".divisor=",f,";}");}}function p(){t("if(",l,".buffer){",o,".disableVertexAttribArray(",u,");",l,".buffer=null;","}if(",eL.map(function(e,t){return l+"."+e+"!=="+c[t];}).join("||"),"){",o,".vertexAttrib4f(",u,",",c,");",eL.map(function(e,t){return l+"."+e+"="+c[t]+";";}).join(""),"}");}1===f?h():2===f?p():(t("if(",f,"===",1,"){"),h(),t("}else{"),p(),t("}"));}(e.link(n),function(e){switch(e){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1;}}(n.info.type),o);});}function V(e,t,n,a,i){for(var o=e.shared,u=o.gl,l=0;l<a.length;++l){var f,s,c=a[l],d=c.name,h=c.info.type,p=n.uniforms[d],v=e.link(c)+".location";if(p){if(!i(p))continue;if(tA(p)){var _=p.value;if(E.command(null!=_,'missing uniform "'+d+'"',e.commandStr),35678===h||35680===h){E.command("function"==typeof _&&(35678===h&&("texture2d"===_._reglType||"framebuffer"===_._reglType)||35680===h&&("textureCube"===_._reglType||"framebufferCube"===_._reglType)),"invalid texture for uniform "+d,e.commandStr);var m=e.link(_._texture||_.color[0]._texture);t(u,".uniform1i(",v,",",m+".bind());"),t.exit(m,".unbind();");}else if(35674===h||35675===h||35676===h){E.optional(function(){E.command(Q(_),"invalid matrix for uniform "+d,e.commandStr),E.command(35674===h&&4===_.length||35675===h&&9===_.length||35676===h&&16===_.length,"invalid length for matrix uniform "+d,e.commandStr);});var g=e.global.def("new Float32Array(["+Array.prototype.slice.call(_)+"])"),b=2;35675===h?b=3:35676===h&&(b=4),t(u,".uniformMatrix",b,"fv(",v,",false,",g,");");}else{switch(h){case 5126:E.commandType(_,"number","uniform "+d,e.commandStr),f="1f";break;case 35664:E.command(Q(_)&&2===_.length,"uniform "+d,e.commandStr),f="2f";break;case 35665:E.command(Q(_)&&3===_.length,"uniform "+d,e.commandStr),f="3f";break;case 35666:E.command(Q(_)&&4===_.length,"uniform "+d,e.commandStr),f="4f";break;case 35670:E.commandType(_,"boolean","uniform "+d,e.commandStr),f="1i";break;case 5124:E.commandType(_,"number","uniform "+d,e.commandStr),f="1i";break;case 35671:case 35667:E.command(Q(_)&&2===_.length,"uniform "+d,e.commandStr),f="2i";break;case 35672:case 35668:E.command(Q(_)&&3===_.length,"uniform "+d,e.commandStr),f="3i";break;case 35673:case 35669:E.command(Q(_)&&4===_.length,"uniform "+d,e.commandStr),f="4i";}t(u,".uniform",f,"(",v,",",Q(_)?Array.prototype.slice.call(_):_,");");}continue;}s=p.append(e,t);}else{if(!i(tR))continue;s=t.def(o.uniforms,"[",r.id(d),"]");}35678===h?t("if(",s,"&&",s,'._reglType==="framebuffer"){',s,"=",s,".color[0];","}"):35680===h&&t("if(",s,"&&",s,'._reglType==="framebufferCube"){',s,"=",s,".color[0];","}"),E.optional(function(){function r(r,n){e.assert(t,r,'bad data or missing for uniform "'+d+'".  '+n);}function n(e){r("typeof "+s+'==="'+e+'"',"invalid type, expected "+e);}function a(t,n){r(o.isArrayLike+"("+s+")&&"+s+".length==="+t,"invalid vector, should have length "+t,e.commandStr);}function i(t){r("typeof "+s+'==="function"&&'+s+'._reglType==="texture'+(3553===t?"2d":"Cube")+'"',"invalid texture type",e.commandStr);}switch(h){case 5124:case 5126:n("number");break;case 35667:case 35664:a(2,"number");break;case 35668:case 35665:a(3,"number");break;case 35669:case 35666:case 35674:a(4,"number");break;case 35670:n("boolean");break;case 35671:a(2,"boolean");break;case 35672:a(3,"boolean");break;case 35673:a(4,"boolean");break;case 35675:a(9,"number");break;case 35676:a(16,"number");break;case 35678:i(3553);break;case 35680:i(34067);}});var y=1;switch(h){case 35678:case 35680:var T=t.def(s,"._texture");t(u,".uniform1i(",v,",",T,".bind());"),t.exit(T,".unbind();");continue;case 5124:case 35670:f="1i";break;case 35667:case 35671:f="2i",y=2;break;case 35668:case 35672:f="3i",y=3;break;case 35669:case 35673:f="4i",y=4;break;case 5126:f="1f";break;case 35664:f="2f",y=2;break;case 35665:f="3f",y=3;break;case 35666:f="4f",y=4;break;case 35674:f="Matrix2fv";break;case 35675:f="Matrix3fv";break;case 35676:f="Matrix4fv";}if(t(u,".uniform",f,"(",v,","),"M"===f.charAt(0)){var A=Math.pow(h-35674+2,2),S=e.global.def("new Float32Array(",A,")");t("false,(Array.isArray(",s,")||",s," instanceof Float32Array)?",s,":(",P(A,function(e){return S+"["+e+"]="+s+"["+e+"]";}),",",S,")");}else y>1?t(P(y,function(e){return s+"["+e+"]";})):t(s);t(");");}}function H(e,t,r,n){var a,i,o,u,l,f,s,c,d=e.shared,h=d.gl,p=d.draw,v=n.draw,_=(i=v.elements,o=t,i?((i.contextDep&&n.contextDynamic||i.propDep)&&(o=r),a=i.append(e,o)):a=o.def(p,".",e8),a&&o("if("+a+")"+h+".bindBuffer(34963,"+a+".buffer.buffer);"),a);function m(a){var i=v[a];return i?i.contextDep&&n.contextDynamic||i.propDep?i.append(e,r):i.append(e,t):t.def(p,".",a);}var b=m(te),y=m(tr),T=(l=v.count,f=t,l?((l.contextDep&&n.contextDynamic||l.propDep)&&(f=r),u=l.append(e,f),E.optional(function(){l.MISSING&&e.assert(t,"false","missing vertex count"),l.DYNAMIC&&e.assert(f,u+">=0","missing vertex count");})):(u=f.def(p,".",tt),E.optional(function(){e.assert(f,u+">=0","missing vertex count");})),u);if("number"==typeof T){if(0===T)return;}else r("if(",T,"){"),r.exit("}");g&&(s=m(tn),c=e.instancing);var A=_+".type",S=v.elements&&tA(v.elements);function O(){function e(){r(c,".drawElementsInstancedANGLE(",[b,T,A,y+"<<(("+A+"-5121)>>1)",s],");");}function t(){r(c,".drawArraysInstancedANGLE(",[b,y,T,s],");");}_?S?e():(r("if(",_,"){"),e(),r("}else{"),t(),r("}")):t();}function R(){function e(){r(h+".drawElements("+[b,T,A,y+"<<(("+A+"-5121)>>1)"]+");");}function t(){r(h+".drawArrays("+[b,y,T]+");");}_?S?e():(r("if(",_,"){"),e(),r("}else{"),t(),r("}")):t();}g&&("number"!=typeof s||s>=0)?"string"==typeof s?(r("if(",s,">0){"),O(),r("}else if(",s,"<0){"),R(),r("}")):O():R();}function X(e,t,r,n,a){var i=N(),o=i.proc("body",a);return E.optional(function(){i.commandStr=t.commandStr,i.command=i.link(t.commandStr);}),g&&(i.instancing=o.def(i.shared.extensions,".angle_instanced_arrays")),e(i,o,r,n),i.compile().body;}function W(e,t,r,n){j(e,t),r.useVAO?r.drawVAO?t(e.shared.vao,".setVAO(",r.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),z(e,t,r,n.attributes,function(){return!0;})),V(e,t,r,n.uniforms,function(){return!0;}),H(e,t,t,r);}function Y(e,t,r,n){function a(){return!0;}e.batchId="a1",j(e,t),z(e,t,r,n.attributes,a),V(e,t,r,n.uniforms,a),H(e,t,t,r);}function Z(e,t,r,n){j(e,t);var a=r.contextDep,i=t.def(),o=t.def();e.shared.props=o,e.batchId=i;var u=e.scope(),l=e.scope();function f(e){return e.contextDep&&a||e.propDep;}function s(e){return!f(e);}if(t(u.entry,"for(",i,"=0;",i,"<","a1",";++",i,"){",o,"=","a0","[",i,"];",l,"}",u.exit),r.needsContext&&D(e,l,r.context),r.needsFramebuffer&&F(e,l,r.framebuffer),U(e,l,r.state,f),r.profile&&f(r.profile)&&G(e,l,r,!1,!0),n)r.useVAO?r.drawVAO?f(r.drawVAO)?l(e.shared.vao,".setVAO(",r.drawVAO.append(e,l),");"):u(e.shared.vao,".setVAO(",r.drawVAO.append(e,u),");"):u(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(u(e.shared.vao,".setVAO(null);"),z(e,u,r,n.attributes,s),z(e,l,r,n.attributes,f)),V(e,u,r,n.uniforms,s),V(e,l,r,n.uniforms,f),H(e,u,l,r);else{var c=e.global.def("{}"),d=r.shader.progVar.append(e,l),h=l.def(d,".id"),p=l.def(c,"[",h,"]");l(e.shared.gl,".useProgram(",d,".program);","if(!",p,"){",p,"=",c,"[",h,"]=",e.link(function(t){return X(Y,e,r,t,2);}),"(",d,");}",p,".call(this,a0[",i,"],",i,");");}}function K(e,t,r){var n=t.static[r];if(n&&function(e){if(!("object"!=typeof e||Q(e))){for(var t=Object.keys(e),r=0;r<t.length;++r)if(O.isDynamic(e[t[r]]))return!0;return!1;}}(n)){var a=e.global,i=Object.keys(n),o=!1,u=!1,l=!1,f=e.global.def("{}");i.forEach(function(t){var r=n[t];if(O.isDynamic(r)){"function"==typeof r&&(r=n[t]=O.unbox(r));var i=tO(r,null);o=o||i.thisDep,l=l||i.propDep,u=u||i.contextDep;}else{switch(a(f,".",t,"="),typeof r){case"number":a(r);break;case"string":a('"',r,'"');break;case"object":Array.isArray(r)&&a("[",r.join(),"]");break;default:a(e.link(r));}a(";");}}),t.dynamic[r]=new O.DynamicVariable(4,{thisDep:o,contextDep:u,propDep:l,ref:f,append:function(e,t){i.forEach(function(r){var a=n[r];if(O.isDynamic(a)){var i=e.invoke(t,a);t(f,".",r,"=",i,";");}});}}),delete t.static[r];}}return{next:T,current:y,procs:function(){var e,t=N(),r=t.proc("poll"),i=t.proc("refresh"),o=t.block();r(o),i(o);var u=t.shared,l=u.gl,f=u.next,s=u.current;o(s,".dirty=false;"),F(t,r),F(t,i,null,!0),g&&(e=t.link(g)),n.oes_vertex_array_object&&i(t.link(n.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var c=0;c<a.maxAttributes;++c){var d=i.def(u.attributes,"[",c,"]"),h=t.cond(d,".buffer");h.then(l,".enableVertexAttribArray(",c,");",l,".bindBuffer(",34962,",",d,".buffer.buffer);",l,".vertexAttribPointer(",c,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(l,".disableVertexAttribArray(",c,");",l,".vertexAttrib4f(",c,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),i(h),g&&i(e,".vertexAttribDivisorANGLE(",c,",",d,".divisor);");}return i(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(S).forEach(function(e){var n=S[e],a=o.def(f,".",e),u=t.block();u("if(",a,"){",l,".enable(",n,")}else{",l,".disable(",n,")}",s,".",e,"=",a,";"),i(u),r("if(",a,"!==",s,".",e,"){",u,"}");}),Object.keys(R).forEach(function(e){var n,a,u=R[e],c=y[e],d=t.block();if(d(l,".",u,"("),Q(c)){var h=c.length;n=t.global.def(f,".",e),a=t.global.def(s,".",e),d(P(h,function(e){return n+"["+e+"]";}),");",P(h,function(e){return a+"["+e+"]="+n+"["+e+"];";}).join("")),r("if(",P(h,function(e){return n+"["+e+"]!=="+a+"["+e+"]";}).join("||"),"){",d,"}");}else n=o.def(f,".",e),a=o.def(s,".",e),d(n,");",s,".",e,"=",n,";"),r("if(",n,"!==",a,"){",d,"}");i(d);}),t.compile();}(),compile:function(e,t,u,f,d){var h=N();h.stats=h.link(d),Object.keys(t.static).forEach(function(e){K(h,t,e);}),th.forEach(function(t){K(h,e,t);});var p=function(e,t,u,f,d){var h,p,v,b,y,T,S,O,R,x,C,L,w=e.static,I=e.dynamic;E.optional(function(){var e=[e7,e5,e9,e8,te,tr,tt,tn,e6,"vao"].concat(A);function t(t){Object.keys(t).forEach(function(t){E.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',d.commandStr);});}t(w),t(I);});var N=function(e,t){var r=e.static;if("string"==typeof r[e9]&&"string"==typeof r[e5]){if(Object.keys(t.dynamic).length>0)return null;var n=t.static,a=Object.keys(n);if(a.length>0&&"number"==typeof n[a[0]]){for(var i=[],o=0;o<a.length;++o)E("number"==typeof n[a[o]],"must specify all vertex attribute locations when using vaos"),i.push([0|n[a[o]],a[o]]);return i;}}return null;}(e,t),D=function(e,t){var r=e.static,n=e.dynamic;if(e7 in r){var a=r[e7];return a?(a=l.getFramebuffer(a),E.command(a,"invalid framebuffer object"),tS(function(e,t){var r=e.link(a),n=e.shared;t.set(n.framebuffer,".next",r);var i=n.context;return t.set(i,"."+to,r+".width"),t.set(i,"."+tu,r+".height"),r;})):tS(function(e,t){var r=e.shared;t.set(r.framebuffer,".next","null");var n=r.context;return t.set(n,"."+to,n+"."+tc),t.set(n,"."+tu,n+"."+td),"null";});}if(!(e7 in n))return null;var i=n[e7];return tO(i,function(e,t){var r=e.invoke(t,i),n=e.shared,a=n.framebuffer,o=t.def(a,".getFramebuffer(",r,")");E.optional(function(){e.assert(t,"!"+r+"||"+o,"invalid framebuffer object");}),t.set(a,".next",o);var u=n.context;return t.set(u,"."+to,o+"?"+o+".width:"+u+"."+tc),t.set(u,"."+tu,o+"?"+o+".height:"+u+"."+td),o;});}(e,0),F=function(e,t,r){var n=e.static,a=e.dynamic;function i(e){if(e in n){var i,o,u=n[e];E.commandType(u,"object","invalid "+e,r.commandStr);var l=!0,f=0|u.x,s=0|u.y;return"width"in u?(i=0|u.width,E.command(i>=0,"invalid "+e,r.commandStr)):l=!1,"height"in u?(o=0|u.height,E.command(o>=0,"invalid "+e,r.commandStr)):l=!1,new tT(!l&&t&&t.thisDep,!l&&t&&t.contextDep,!l&&t&&t.propDep,function(e,t){var r=e.shared.context,n=i;"width"in u||(n=t.def(r,".",to,"-",f));var a=o;return"height"in u||(a=t.def(r,".",tu,"-",s)),[f,s,n,a];});}if(e in a){var c=a[e],d=tO(c,function(t,r){var n=t.invoke(r,c);E.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e);});var a=t.shared.context,i=r.def(n,".x|0"),o=r.def(n,".y|0"),u=r.def('"width" in ',n,"?",n,".width|0:","(",a,".",to,"-",i,")"),l=r.def('"height" in ',n,"?",n,".height|0:","(",a,".",tu,"-",o,")");return E.optional(function(){t.assert(r,u+">=0&&"+l+">=0","invalid "+e);}),[i,o,u,l];});return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d;}return t?new tT(t.thisDep,t.contextDep,t.propDep,function(e,t){var r=e.shared.context;return[0,0,t.def(r,".",to),t.def(r,".",tu)];}):null;}var o=i(e4);if(o){var u=o;o=new tT(o.thisDep,o.contextDep,o.propDep,function(e,t){var r=u.append(e,t),n=e.shared.context;return t.set(n,"."+tl,r[2]),t.set(n,"."+tf,r[3]),r;});}return{viewport:o,scissor_box:i(e2)};}(e,D,d),B=function(e,t){var r=e.static,n=e.dynamic,a=function(){if(e8 in r){var e=r[e8];ty(e)?e=o.getElements(o.create(e,!0)):e&&(e=o.getElements(e),E.command(e,"invalid elements",t.commandStr));var a=tS(function(t,r){if(e){var n=t.link(e);return t.ELEMENTS=n,n;}return t.ELEMENTS=null,null;});return a.value=e,a;}if(e8 in n){var i=n[e8];return tO(i,function(e,t){var r=e.shared,n=r.isBufferArgs,a=r.elements,o=e.invoke(t,i),u=t.def("null"),l=t.def(n,"(",o,")"),f=e.cond(l).then(u,"=",a,".createStream(",o,");").else(u,"=",a,".getElements(",o,");");return E.optional(function(){e.assert(f.else,"!"+o+"||"+u,"invalid elements");}),t.entry(f),t.exit(e.cond(l).then(a,".destroyStream(",u,");")),e.ELEMENTS=u,u;});}return null;}();function i(e,i){if(e in r){var o=0|r[e];return E.command(!i||o>=0,"invalid "+e,t.commandStr),tS(function(e,t){return i&&(e.OFFSET=o),o;});}if(e in n){var u=n[e];return tO(u,function(t,r){var n=t.invoke(r,u);return i&&(t.OFFSET=n,E.optional(function(){t.assert(r,n+">=0","invalid "+e);})),n;});}return i&&a?tS(function(e,t){return e.OFFSET="0",0;}):null;}var u=i(tr,!0);return{elements:a,primitive:function(){if(te in r){var e=r[te];return E.commandParameter(e,q,"invalid primitve",t.commandStr),tS(function(t,r){return q[e];});}if(te in n){var i=n[te];return tO(i,function(e,t){var r=e.constants.primTypes,n=e.invoke(t,i);return E.optional(function(){e.assert(t,n+" in "+r,"invalid primitive, must be one of "+Object.keys(q));}),t.def(r,"[",n,"]");});}return a?tA(a)?a.value?tS(function(e,t){return t.def(e.ELEMENTS,".primType");}):tS(function(){return 4;}):new tT(a.thisDep,a.contextDep,a.propDep,function(e,t){var r=e.ELEMENTS;return t.def(r,"?",r,".primType:",4);}):null;}(),count:function(){if(tt in r){var e=0|r[tt];return E.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),tS(function(){return e;});}if(tt in n){var i=n[tt];return tO(i,function(e,t){var r=e.invoke(t,i);return E.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">=0&&"+r+"===("+r+"|0)","invalid vertex count");}),r;});}if(a){if(tA(a)){if(a)return u?new tT(u.thisDep,u.contextDep,u.propDep,function(e,t){var r=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return E.optional(function(){e.assert(t,r+">=0","invalid vertex offset/element buffer too small");}),r;}):tS(function(e,t){return t.def(e.ELEMENTS,".vertCount");});var o=tS(function(){return -1;});return E.optional(function(){o.MISSING=!0;}),o;}var l=new tT(a.thisDep||u.thisDep,a.contextDep||u.contextDep,a.propDep||u.propDep,function(e,t){var r=e.ELEMENTS;return e.OFFSET?t.def(r,"?",r,".vertCount-",e.OFFSET,":-1"):t.def(r,"?",r,".vertCount:-1");});return E.optional(function(){l.DYNAMIC=!0;}),l;}return null;}(),instances:i(tn,!1),offset:u};}(e,d),U=(h=e.static,p=e.dynamic,v={},A.forEach(function(e){var t=M(e);function r(r,n){if(e in h){var a=r(h[e]);v[t]=tS(function(){return a;});}else if(e in p){var i=p[e];v[t]=tO(i,function(e,t){return n(e,t,e.invoke(t,i));});}}switch(e){case ez:case eI:case ew:case e$:case eB:case e3:case eW:case eq:case eZ:case ek:return r(function(t){return E.commandType(t,"boolean",e,d.commandStr),t;},function(t,r,n){return E.optional(function(){t.assert(r,"typeof "+n+'==="boolean"',"invalid flag "+e,t.commandStr);}),n;});case eU:return r(function(t){return E.commandParameter(t,t_,"invalid "+e,d.commandStr),t_[t];},function(t,r,n){var a=t.constants.compareFuncs;return E.optional(function(){t.assert(r,n+" in "+a,"invalid "+e+", must be one of "+Object.keys(t_));}),r.def(a,"[",n,"]");});case ej:return r(function(e){return E.command(Q(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",d.commandStr),e;},function(e,t,r){return E.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===2&&typeof "+r+'[0]==="number"&&typeof '+r+'[1]==="number"&&'+r+"[0]<="+r+"[1]","depth range must be a 2d array");}),[t.def("+",r,"[0]"),t.def("+",r,"[1]")];});case eF:return r(function(e){E.commandType(e,"object","blend.func",d.commandStr);var r="srcRGB"in e?e.srcRGB:e.src,n="srcAlpha"in e?e.srcAlpha:e.src,a="dstRGB"in e?e.dstRGB:e.dst,i="dstAlpha"in e?e.dstAlpha:e.dst;return E.commandParameter(r,tp,t+".srcRGB",d.commandStr),E.commandParameter(n,tp,t+".srcAlpha",d.commandStr),E.commandParameter(a,tp,t+".dstRGB",d.commandStr),E.commandParameter(i,tp,t+".dstAlpha",d.commandStr),E.command(-1===tv.indexOf(r+", "+a),"unallowed blending combination (srcRGB, dstRGB) = ("+r+", "+a+")",d.commandStr),[tp[r],tp[a],tp[n],tp[i]];},function(t,r,n){var a=t.constants.blendFuncs;function i(i,o){var u=r.def('"',i,o,'" in ',n,"?",n,".",i,o,":",n,".",i);return E.optional(function(){t.assert(r,u+" in "+a,"invalid "+e+"."+i+o+", must be one of "+Object.keys(tp));}),u;}E.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid blend func, must be an object");});var o=i("src","RGB"),u=i("dst","RGB");E.optional(function(){var e=t.constants.invalidBlendCombinations;t.assert(r,e+".indexOf("+o+'+", "+'+u+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)");});var l=r.def(a,"[",o,"]"),f=r.def(a,"[",i("src","Alpha"),"]");return[l,r.def(a,"[",u,"]"),f,r.def(a,"[",i("dst","Alpha"),"]")];});case eD:return r(function(t){return"string"==typeof t?(E.commandParameter(t,m,"invalid "+e,d.commandStr),[m[t],m[t]]):"object"==typeof t?(E.commandParameter(t.rgb,m,e+".rgb",d.commandStr),E.commandParameter(t.alpha,m,e+".alpha",d.commandStr),[m[t.rgb],m[t.alpha]]):void E.commandRaise("invalid blend.equation",d.commandStr);},function(t,r,n){var a=t.constants.blendEquations,i=r.def(),o=r.def(),u=t.cond("typeof ",n,'==="string"');return E.optional(function(){function r(e,r,n){t.assert(e,n+" in "+a,"invalid "+r+", must be one of "+Object.keys(m));}r(u.then,e,n),t.assert(u.else,n+"&&typeof "+n+'==="object"',"invalid "+e),r(u.else,e+".rgb",n+".rgb"),r(u.else,e+".alpha",n+".alpha");}),u.then(i,"=",o,"=",a,"[",n,"];"),u.else(i,"=",a,"[",n,".rgb];",o,"=",a,"[",n,".alpha];"),r(u),[i,o];});case eN:return r(function(e){return E.command(Q(e)&&4===e.length,"blend.color must be a 4d array",d.commandStr),P(4,function(t){return+e[t];});},function(e,t,r){return E.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","blend.color must be a 4d array");}),P(4,function(e){return t.def("+",r,"[",e,"]");});});case eQ:return r(function(e){return E.commandType(e,"number",t,d.commandStr),0|e;},function(e,t,r){return E.optional(function(){e.assert(t,"typeof "+r+'==="number"',"invalid stencil.mask");}),t.def(r,"|0");});case eJ:return r(function(r){E.commandType(r,"object",t,d.commandStr);var n=r.cmp||"keep",a=r.ref||0,i="mask"in r?r.mask:-1;return E.commandParameter(n,t_,e+".cmp",d.commandStr),E.commandType(a,"number",e+".ref",d.commandStr),E.commandType(i,"number",e+".mask",d.commandStr),[t_[n],a,i];},function(e,t,r){var n=e.constants.compareFuncs;return E.optional(function(){function a(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func");}a(r+"&&typeof ",r,'==="object"'),a('!("cmp" in ',r,")||(",r,".cmp in ",n,")");}),[t.def('"cmp" in ',r,"?",n,"[",r,".cmp]",":",7680),t.def(r,".ref|0"),t.def('"mask" in ',r,"?",r,".mask|0:-1")];});case e0:case e1:return r(function(r){E.commandType(r,"object",t,d.commandStr);var n=r.fail||"keep",a=r.zfail||"keep",i=r.zpass||"keep";return E.commandParameter(n,tm,e+".fail",d.commandStr),E.commandParameter(a,tm,e+".zfail",d.commandStr),E.commandParameter(i,tm,e+".zpass",d.commandStr),[e===e1?1029:1028,tm[n],tm[a],tm[i]];},function(t,r,n){var a=t.constants.stencilOps;function i(i){return E.optional(function(){t.assert(r,'!("'+i+'" in '+n+")||("+n+"."+i+" in "+a+")","invalid "+e+"."+i+", must be one of "+Object.keys(tm));}),r.def('"',i,'" in ',n,"?",a,"[",n,".",i,"]:",7680);}return E.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e);}),[e===e1?1029:1028,i("fail"),i("zfail"),i("zpass")];});case eY:return r(function(e){E.commandType(e,"object",t,d.commandStr);var r=0|e.factor,n=0|e.units;return E.commandType(r,"number",t+".factor",d.commandStr),E.commandType(n,"number",t+".units",d.commandStr),[r,n];},function(t,r,n){return E.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e);}),[r.def(n,".factor|0"),r.def(n,".units|0")];});case eV:return r(function(e){var r=0;return"front"===e?r=1028:"back"===e&&(r=1029),E.command(!!r,t,d.commandStr),r;},function(e,t,r){return E.optional(function(){e.assert(t,r+'==="front"||'+r+'==="back"',"invalid cull.face");}),t.def(r,'==="front"?',1028,":",1029);});case eX:return r(function(e){return E.command("number"==typeof e&&e>=a.lineWidthDims[0]&&e<=a.lineWidthDims[1],"invalid line width, must be a positive number between "+a.lineWidthDims[0]+" and "+a.lineWidthDims[1],d.commandStr),e;},function(e,t,r){return E.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">="+a.lineWidthDims[0]+"&&"+r+"<="+a.lineWidthDims[1],"invalid line width");}),r;});case eH:return r(function(e){return E.commandParameter(e,tb,t,d.commandStr),tb[e];},function(e,t,r){return E.optional(function(){e.assert(t,r+'==="cw"||'+r+'==="ccw"',"invalid frontFace, must be one of cw,ccw");}),t.def(r+'==="cw"?2304:2305');});case eG:return r(function(e){return E.command(Q(e)&&4===e.length,"color.mask must be length 4 array",d.commandStr),e.map(function(e){return!!e;});},function(e,t,r){return E.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","invalid color.mask");}),P(4,function(e){return"!!"+r+"["+e+"]";});});case eK:return r(function(e){E.command("object"==typeof e&&e,t,d.commandStr);var r="value"in e?e.value:1,n=!!e.invert;return E.command("number"==typeof r&&r>=0&&r<=1,"sample.coverage.value must be a number between 0 and 1",d.commandStr),[r,n];},function(e,t,r){return E.optional(function(){e.assert(t,r+"&&typeof "+r+'==="object"',"invalid sample.coverage");}),[t.def('"value" in ',r,"?+",r,".value:1"),t.def("!!",r,".invert")];});}}),v),j=function(e,t,n){var a,i=e.static,o=e.dynamic;function u(e){if(e in i){var t=r.id(i[e]);E.optional(function(){c.shader(tg[e],t,E.guessCommand());});var n=tS(function(){return t;});return n.id=t,n;}if(e in o){var a=o[e];return tO(a,function(t,r){var n=t.invoke(r,a),i=r.def(t.shared.strings,".id(",n,")");return E.optional(function(){r(t.shared.shader,".shader(",tg[e],",",i,",",t.command,");");}),i;});}return null;}var l=u(e9),f=u(e5),s=null;return tA(l)&&tA(f)?(s=c.program(f.id,l.id,null,n),a=tS(function(e,t){return e.link(s);})):a=new tT(l&&l.thisDep||f&&f.thisDep,l&&l.contextDep||f&&f.contextDep,l&&l.propDep||f&&f.propDep,function(e,t){var r,n,a=e.shared.shader;r=l?l.append(e,t):t.def(a,".",e9),n=f?f.append(e,t):t.def(a,".",e5);var i=a+".program("+n+","+r;return E.optional(function(){i+=","+e.command;}),t.def(i+")");}),{frag:l,vert:f,progVar:a,program:s};}(e,0,N);function G(e){var t=F[e];t&&(U[e]=t);}G(e4),G(M(e2));var z=Object.keys(U).length>0,V={framebuffer:D,draw:B,shader:j,state:U,dirty:z,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(V.profile=function(e){var t,r=e.static,n=e.dynamic;if(e6 in r){var a=!!r[e6];(t=tS(function(e,t){return a;})).enable=a;}else if(e6 in n){var i=n[e6];t=tO(i,function(e,t){return e.invoke(t,i);});}return t;}(e,d),V.uniforms=(b=u.static,y=u.dynamic,T={},Object.keys(b).forEach(function(e){var t,r=b[e];if("number"==typeof r||"boolean"==typeof r)t=tS(function(){return r;});else if("function"==typeof r){var n=r._reglType;"texture2d"===n||"textureCube"===n?t=tS(function(e){return e.link(r);}):"framebuffer"===n||"framebufferCube"===n?(E.command(r.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',d.commandStr),t=tS(function(e){return e.link(r.color[0]);})):E.commandRaise('invalid data for uniform "'+e+'"',d.commandStr);}else Q(r)?t=tS(function(t){return t.global.def("[",P(r.length,function(n){return E.command("number"==typeof r[n]||"boolean"==typeof r[n],"invalid uniform "+e,t.commandStr),r[n];}),"]");}):E.commandRaise('invalid or missing data for uniform "'+e+'"',d.commandStr);t.value=r,T[e]=t;}),Object.keys(y).forEach(function(e){var t=y[e];T[e]=tO(t,function(e,r){return e.invoke(r,t);});}),T),V.drawVAO=V.scopeVAO=function(e,t){var r=e.static,n=e.dynamic;if("vao"in r){var a=r.vao;return null!==a&&null===s.getVAO(a)&&(a=s.createVAO(a)),tS(function(e){return e.link(s.getVAO(a));});}if("vao"in n){var i=n.vao;return tO(i,function(e,t){var r=e.invoke(t,i);return t.def(e.shared.vao+".getVAO("+r+")");});}return null;}(e,0),!V.drawVAO&&j.program&&!N&&n.angle_instanced_arrays){var H=!0,X=j.program.attributes.map(function(e){var r=t.static[e];return H=H&&!!r,r;});if(H&&X.length>0){var W=s.getVAO(s.createVAO(X));V.drawVAO=new tT(null,null,null,function(e,t){return e.link(W);}),V.useVAO=!0;}}return N?V.useVAO=!0:V.attributes=(S=t.static,O=t.dynamic,R={},Object.keys(S).forEach(function(e){var t=S[e],n=r.id(e),a=new _;if(ty(t))a.state=1,a.buffer=i.getBuffer(i.create(t,34962,!1,!0)),a.type=0;else{var o=i.getBuffer(t);if(o)a.state=1,a.buffer=o,a.type=0;else if(E.command("object"==typeof t&&t,"invalid data for attribute "+e,d.commandStr),"constant"in t){var u=t.constant;a.buffer="null",a.state=2,"number"==typeof u?a.x=u:(E.command(Q(u)&&u.length>0&&u.length<=4,"invalid constant for attribute "+e,d.commandStr),eL.forEach(function(e,t){t<u.length&&(a[e]=u[t]);}));}else{o=ty(t.buffer)?i.getBuffer(i.create(t.buffer,34962,!1,!0)):i.getBuffer(t.buffer),E.command(!!o,'missing buffer for attribute "'+e+'"',d.commandStr);var l=0|t.offset;E.command(l>=0,'invalid offset for attribute "'+e+'"',d.commandStr);var f=0|t.stride;E.command(f>=0&&f<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',d.commandStr);var s=0|t.size;E.command(!("size"in t)||s>0&&s<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',d.commandStr);var c=!!t.normalized,h=0;"type"in t&&(E.commandParameter(t.type,k,"invalid type for attribute "+e,d.commandStr),h=k[t.type]);var p=0|t.divisor;"divisor"in t&&(E.command(0===p||g,'cannot specify divisor for attribute "'+e+'", instancing not supported',d.commandStr),E.command(p>=0,'invalid divisor for attribute "'+e+'"',d.commandStr)),E.optional(function(){var r=d.commandStr,n=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(t).forEach(function(t){E.command(n.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+n+")",r);});}),a.buffer=o,a.state=1,a.size=s,a.normalized=c,a.type=h||o.dtype,a.offset=l,a.stride=f,a.divisor=p;}}R[e]=tS(function(e,t){var r=e.attribCache;if(n in r)return r[n];var i={isStream:!1};return Object.keys(a).forEach(function(e){i[e]=a[e];}),a.buffer&&(i.buffer=e.link(a.buffer),i.type=i.type||i.buffer+".dtype"),r[n]=i,i;});}),Object.keys(O).forEach(function(e){var t=O[e];R[e]=tO(t,function(r,n){var a=r.invoke(n,t),i=r.shared,o=r.constants,u=i.isBufferArgs,l=i.buffer;E.optional(function(){r.assert(n,a+"&&(typeof "+a+'==="object"||typeof '+a+'==="function")&&('+u+"("+a+")||"+l+".getBuffer("+a+")||"+l+".getBuffer("+a+".buffer)||"+u+"("+a+'.buffer)||("constant" in '+a+"&&(typeof "+a+'.constant==="number"||'+i.isArrayLike+"("+a+".constant))))",'invalid dynamic attribute "'+e+'"');});var f={isStream:n.def(!1)},s=new _;s.state=1,Object.keys(s).forEach(function(e){f[e]=n.def(""+s[e]);});var c=f.buffer,d=f.type;function h(e){n(f[e],"=",a,".",e,"|0;");}return n("if(",u,"(",a,")){",f.isStream,"=true;",c,"=",l,".createStream(",34962,",",a,");",d,"=",c,".dtype;","}else{",c,"=",l,".getBuffer(",a,");","if(",c,"){",d,"=",c,".dtype;",'}else if("constant" in ',a,"){",f.state,"=",2,";","if(typeof "+a+'.constant === "number"){',f[eL[0]],"=",a,".constant;",eL.slice(1).map(function(e){return f[e];}).join("="),"=0;","}else{",eL.map(function(e,t){return f[e]+"="+a+".constant.length>"+t+"?"+a+".constant["+t+"]:0;";}).join(""),"}}else{","if(",u,"(",a,".buffer)){",c,"=",l,".createStream(",34962,",",a,".buffer);","}else{",c,"=",l,".getBuffer(",a,".buffer);","}",d,'="type" in ',a,"?",o.glTypes,"[",a,".type]:",c,".dtype;",f.normalized,"=!!",a,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),n("}}"),n.exit("if(",f.isStream,"){",l,".destroyStream(",c,");","}"),f;});}),R),V.context=(x=f.static,C=f.dynamic,L={},Object.keys(x).forEach(function(e){var t=x[e];L[e]=tS(function(e,r){return"number"==typeof t||"boolean"==typeof t?""+t:e.link(t);});}),Object.keys(C).forEach(function(e){var t=C[e];L[e]=tO(t,function(e,r){return e.invoke(r,t);});}),L),V;}(e,t,u,f,h);return function(e,t){var r=e.proc("draw",1);j(e,r),D(e,r,t.context),F(e,r,t.framebuffer),B(e,r,t),U(e,r,t.state),G(e,r,t,!1,!0);var n=t.shader.progVar.append(e,r);if(r(e.shared.gl,".useProgram(",n,".program);"),t.shader.program)W(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var a=e.global.def("{}"),i=r.def(n,".id"),o=r.def(a,"[",i,"]");r(e.cond(o).then(o,".call(this,a0);").else(o,"=",a,"[",i,"]=",e.link(function(r){return X(W,e,t,r,1);}),"(",n,");",o,".call(this,a0);"));}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;");}(h,p),function(e,t){var n=e.proc("scope",3);e.batchId="a2";var a=e.shared,i=a.current;function o(r){var i=t.shader[r];i&&n.set(a.shader,"."+r,i.append(e,n));}D(e,n,t.context),t.framebuffer&&t.framebuffer.append(e,n),tE(Object.keys(t.state)).forEach(function(r){var i=t.state[r].append(e,n);Q(i)?i.forEach(function(t,a){n.set(e.next[r],"["+a+"]",t);}):n.set(a.next,"."+r,i);}),G(e,n,t,!0,!0),[e8,tr,tt,tn,te].forEach(function(r){var i=t.draw[r];i&&n.set(a.draw,"."+r,""+i.append(e,n));}),Object.keys(t.uniforms).forEach(function(i){n.set(a.uniforms,"["+r.id(i)+"]",t.uniforms[i].append(e,n));}),Object.keys(t.attributes).forEach(function(r){var a=t.attributes[r].append(e,n),i=e.scopeAttrib(r);Object.keys(new _).forEach(function(e){n.set(i,"."+e,a[e]);});}),t.scopeVAO&&n.set(a.vao,".targetVAO",t.scopeVAO.append(e,n)),o(e5),o(e9),Object.keys(t.state).length>0&&(n(i,".dirty=true;"),n.exit(i,".dirty=true;")),n("a1(",e.shared.context,",a0,",e.batchId,");");}(h,p),function(e,t){var r=e.proc("batch",2);e.batchId="0",j(e,r);var n=!1,a=!0;Object.keys(t.context).forEach(function(e){n=n||t.context[e].propDep;}),n||(D(e,r,t.context),a=!1);var i=t.framebuffer,o=!1;function u(e){return e.contextDep&&n||e.propDep;}i?(i.propDep?n=o=!0:i.contextDep&&n&&(o=!0),o||F(e,r,i)):F(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(n=!0),B(e,r,t),U(e,r,t.state,function(e){return!u(e);}),t.profile&&u(t.profile)||G(e,r,t,!1,"a1"),t.contextDep=n,t.needsContext=a,t.needsFramebuffer=o;var l=t.shader.progVar;if(l.contextDep&&n||l.propDep)Z(e,r,t,null);else{var f=l.append(e,r);if(r(e.shared.gl,".useProgram(",f,".program);"),t.shader.program)Z(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var s=e.global.def("{}"),c=r.def(f,".id"),d=r.def(s,"[",c,"]");r(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",s,"[",c,"]=",e.link(function(r){return X(Z,e,t,r,2);}),"(",f,");",d,".call(this,a0,a1);"));}}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;");}(h,p),h.compile();}};}(o,s,d,g,b,T,0,w,{},y,A,{elements:null,primitive:4,count:-1,offset:0,instances:-1},m,h,i),j=function(t,r,n,a,i,o,u){function l(l){null===r.next?(E(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),f=5121):(E(null!==r.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),f=r.next.colorAttachments[0].texture._texture.type,o.oes_texture_float?(E(5121===f||5126===f,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),5126===f&&E(u.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):E(5121===f,"Reading from a framebuffer is only allowed for the type 'uint8'"));var f,s=0,c=0,d=a.framebufferWidth,h=a.framebufferHeight,p=null;e(l)?p=l:l&&(E.type(l,"object","invalid arguments to regl.read()"),s=0|l.x,c=0|l.y,E(s>=0&&s<a.framebufferWidth,"invalid x offset for regl.read"),E(c>=0&&c<a.framebufferHeight,"invalid y offset for regl.read"),d=0|(l.width||a.framebufferWidth-s),h=0|(l.height||a.framebufferHeight-c),p=l.data||null),p&&(5121===f?E(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):5126===f&&E(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),E(d>0&&d+s<=a.framebufferWidth,"invalid width for read pixels"),E(h>0&&h+c<=a.framebufferHeight,"invalid height for read pixels"),n();var v=d*h*4;return p||(5121===f?p=new Uint8Array(v):5126===f&&(p=p||new Float32Array(v))),E.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),E(p.byteLength>=v,"data buffer for regl.read() too small"),t.pixelStorei(3333,4),t.readPixels(s,c,d,h,6408,f,p),p;}return function(e){var t;return e&&"framebuffer"in e?(r.setFBO({framebuffer:e.framebuffer},function(){t=l(e);}),t):l(e);};}(o,w,U.procs.poll,m,u,d,g),Z=U.next,K=o.canvas,en=[],es=[],ec=[],ed=[i.onDestroy],eE=null;function ta(){if(0===en.length){h&&h.update(),eE=null;return;}eE=R.next(ta),tU();for(var e=en.length-1;e>=0;--e){var t=en[e];t&&t(m,null,0);}o.flush(),h&&h.update();}function ti(){!eE&&en.length>0&&(eE=R.next(ta));}function ts(){eE&&(R.cancel(ta),eE=null);}function tL(e){e.preventDefault(),l=!0,ts(),es.forEach(function(e){e();});}function tw(e){o.getError(),l=!1,f.restore(),A.restore(),b.restore(),S.restore(),L.restore(),w.restore(),y.restore(),h&&h.restore(),U.procs.refresh(),ti(),ec.forEach(function(e){e();});}function tI(e){function r(e){var t={},r={};return Object.keys(e).forEach(function(n){var a=e[n];O.isDynamic(a)?r[n]=O.unbox(a,n):t[n]=a;}),{dynamic:r,static:t};}E(!!e,"invalid args to regl({...})"),E.type(e,"object","invalid args to regl({...})");var n=r(e.context||{}),a=r(e.uniforms||{}),i=r(e.attributes||{}),o=r(function(e){var r=t({},e);function n(e){if(e in r){var t=r[e];delete r[e],Object.keys(t).forEach(function(n){r[e+"."+n]=t[n];});}}return delete r.uniforms,delete r.attributes,delete r.context,delete r.vao,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),n("blend"),n("depth"),n("cull"),n("stencil"),n("polygonOffset"),n("scissor"),n("sample"),"vao"in e&&(r.vao=e.vao),r;}(e)),u={gpuTime:0,cpuTime:0,count:0},f=U.compile(o,i,a,n,u),s=f.draw,c=f.batch,d=f.scope,h=[];return t(function(e,t){var r;if(l&&E.raise("context lost"),"function"==typeof e)return d.call(this,null,e,0);if("function"==typeof t){if("number"==typeof e)for(r=0;r<e;++r)d.call(this,null,t,r);else if(!Array.isArray(e))return d.call(this,e,t,0);else for(r=0;r<e.length;++r)d.call(this,e[r],t,r);}else if("number"==typeof e){if(e>0)return c.call(this,function(e){for(;h.length<e;)h.push(null);return h;}(0|e),0|e);}else if(!Array.isArray(e))return s.call(this,e);else if(e.length)return c.call(this,e,e.length);},{stats:u});}K&&(K.addEventListener(tx,tL,!1),K.addEventListener(tC,tw,!1));var tN=w.setFBO=tI({framebuffer:O.define.call(null,1,"framebuffer")});function tD(e,t){var r=0;U.procs.poll();var n=t.color;n&&(o.clearColor(+n[0]||0,+n[1]||0,+n[2]||0,+n[3]||0),r|=16384),"depth"in t&&(o.clearDepth(+t.depth),r|=256),"stencil"in t&&(o.clearStencil(0|t.stencil),r|=1024),E(!!r,"called regl.clear with no buffer specified"),o.clear(r);}function tF(e){return E.type(e,"function","regl.frame() callback must be a function"),en.push(e),ti(),{cancel:function(){var t=tP(en,e);E(t>=0,"cannot cancel a frame twice"),en[t]=function e(){var t=tP(en,e);en[t]=en[en.length-1],en.length-=1,en.length<=0&&ts();};}};}function tB(){var e=Z.viewport,t=Z.scissor_box;e[0]=e[1]=t[0]=t[1]=0,m.viewportWidth=m.framebufferWidth=m.drawingBufferWidth=e[2]=t[2]=o.drawingBufferWidth,m.viewportHeight=m.framebufferHeight=m.drawingBufferHeight=e[3]=t[3]=o.drawingBufferHeight;}function tU(){m.tick+=1,m.time=tk(),tB(),U.procs.poll();}function tj(){tB(),U.procs.refresh(),h&&h.update();}function tk(){return(M()-p)/1e3;}tj();var tG=t(tI,{clear:function(e){if(E("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e){if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var r=0;r<6;++r)tN(t({framebuffer:e.framebuffer.faces[r]},e),tD);else tN(e,tD);}else tD(null,e);},prop:O.define.bind(null,1),context:O.define.bind(null,2),this:O.define.bind(null,3),draw:tI({}),buffer:function(e){return b.create(e,34962,!1,!1);},elements:function(e){return T.create(e,!1);},texture:S.create2D,cube:S.createCube,renderbuffer:L.create,framebuffer:w.create,framebufferCube:w.createCube,vao:y.createVAO,attributes:u,frame:tF,on:function(e,t){var r;switch(E.type(t,"function","listener callback must be a function"),e){case"frame":return tF(t);case"lost":r=es;break;case"restore":r=ec;break;case"destroy":r=ed;break;default:E.raise("invalid event, must be one of frame,lost,restore,destroy");}return r.push(t),{cancel:function(){for(var e=0;e<r.length;++e)if(r[e]===t){r[e]=r[r.length-1],r.pop();return;}}};},limits:g,hasExtension:function(e){return g.extensions.indexOf(e.toLowerCase())>=0;},read:j,destroy:function(){en.length=0,ts(),K&&(K.removeEventListener(tx,tL),K.removeEventListener(tC,tw)),A.clear(),w.clear(),L.clear(),S.clear(),T.clear(),b.clear(),y.clear(),h&&h.clear(),ed.forEach(function(e){e();});},_gl:o,_refresh:tj,poll:function(){tU(),h&&h.update();},now:tk,stats:c});return i.onDone(null,tG),tG;};},"object"==typeof t&&void 0!==e?e.exports=n():this.createREGL=n();},f53eb3d3:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("972390de")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f5e31c4d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("10731584")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f5ebc801:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8094e8d1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f657a14d:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("776d149d")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f65fbab8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ec13300f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f65fd419:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("0fcafbd3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f66447d3:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6ca55971")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f668e12e:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("2a3a2be0");},f66a0232:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return n;}});var n=r("777fffbe")._(r("3f31a377")).default;},f66a4384:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return p;}});var n=r("777fffbe"),a=r("852bbaa9"),i=r("d15e993a"),o=n._(r("8251592a")),u=r("f518ba26"),l=n._(r("7465ee93")),f=n._(r("0e87104f")),s=n._(r("705f29ca")),c=n._(r("b2f5502e")),d=n._(r("45bd9c82")),h=a._(r("90a017af"));function p(e,t){var r,n=typeof t;return null==t||"boolean"===n?(0,d.default)(t):("number"===n?f.default:"string"===n?(r=(0,i.color)(t))?(t=r,o.default):c.default:t instanceof i.color?o.default:t instanceof Date?l.default:(0,h.isNumberArray)(t)?h.default:Array.isArray(t)?u.genericArray:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?s.default:f.default)(e,t);}},f67779b4:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7bf31152")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f6b3d98a:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return l;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("e1e610e4")),o=n._(r("07a31cab")),u=n._(r("89aa4b75"));class l extends o.default{constructor(...e){super(...e),(0,i.default)(this,"type","GeometryLayer"),(0,i.default)(this,"defaultSourceConfig",{data:[{x:0,y:0}],options:{parser:{type:"json",x:"x",y:"y"}}});}buildModels(){var e=this;return(0,a.default)(function*(){let t=e.getModelType();e.layerModel=new u.default[t](e),yield e.initLayerModels();})();}getDefaultConfig(){return({plane:{},sprite:{},billboard:{}})[this.getModelType()];}getModelType(){var e;let t=this.styleAttributeService.getLayerStyleAttribute("shape"),r=null==t||null===(e=t.scale)||void 0===e?void 0:e.field;return"plane"===r?"plane":"sprite"===r?"sprite":"billboard"===r?"billboard":"plane";}}},f6c67a9e:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return i;},prefixExponent:function(){return n;}});var n,a=r("a1276e8e");function i(e,t){var r=(0,a.formatDecimalParts)(e,t);if(!r)return e+"";var i=r[0],o=r[1],u=o-(n=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,l=i.length;return u===l?i:u>l?i+Array(u-l+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+Array(1-u).join("0")+(0,a.formatDecimalParts)(e,Math.max(0,t+u-1))[0];}},f6c8ba59:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1c835b66")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f721d5e7:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"CameraUniform",{enumerable:!0,get:function(){return n;}});let n={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"};},f7488d38:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return i;},years:function(){return o;}});var n=r("777fffbe")._(r("d365c0f8")),a=(0,n.default)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0);},function(e,t){e.setFullYear(e.getFullYear()+t);},function(e,t){return t.getFullYear()-e.getFullYear();},function(e){return e.getFullYear();});a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,n.default)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0);},function(t,r){t.setFullYear(t.getFullYear()+r*e);}):null;};var i=a,o=a.range;},f7606b07:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("886a2a81")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f79679ff:function(e,t,r){var n,a;n=this,a=function(){"use strict";function e(e,r,n,a){t(e,n,a),t(r,2*n,2*a),t(r,2*n+1,2*a+1);}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n;}function r(e,t,r,n){var a=e-r,i=t-n;return a*a+i*i;}var n,a=function(e){return e[0];},i=function(e){return e[1];},o=function(t,r,n,o,u){void 0===r&&(r=a),void 0===n&&(n=i),void 0===o&&(o=64),void 0===u&&(u=Float64Array),this.nodeSize=o,this.points=t;for(var l=t.length<65536?Uint16Array:Uint32Array,f=this.ids=new l(t.length),s=this.coords=new u(2*t.length),c=0;c<t.length;c++)f[c]=c,s[2*c]=r(t[c]),s[2*c+1]=n(t[c]);!function t(r,n,a,i,o,u){if(!(o-i<=a)){var l=i+o>>1;(function t(r,n,a,i,o,u){for(;o>i;){if(o-i>600){var l=o-i+1,f=a-i+1,s=Math.log(l),c=.5*Math.exp(2*s/3),d=.5*Math.sqrt(s*c*(l-c)/l)*(f-l/2<0?-1:1),h=Math.max(i,Math.floor(a-f*c/l+d)),p=Math.min(o,Math.floor(a+(l-f)*c/l+d));t(r,n,a,h,p,u);}var v=n[2*a+u],_=i,m=o;for(e(r,n,i,a),n[2*o+u]>v&&e(r,n,i,o);_<m;){for(e(r,n,_,m),_++,m--;n[2*_+u]<v;)_++;for(;n[2*m+u]>v;)m--;}n[2*i+u]===v?e(r,n,i,m):e(r,n,++m,o),m<=a&&(i=m+1),a<=m&&(o=m-1);}})(r,n,l,i,o,u%2),t(r,n,a,i,l-1,u+1),t(r,n,a,l+1,o,u+1);}}(f,s,o,0,f.length-1,0);};o.prototype.range=function(e,t,r,n){return function(e,t,r,n,a,i,o){for(var u,l,f=[0,e.length-1,0],s=[];f.length;){var c=f.pop(),d=f.pop(),h=f.pop();if(d-h<=o){for(var p=h;p<=d;p++)u=t[2*p],l=t[2*p+1],u>=r&&u<=a&&l>=n&&l<=i&&s.push(e[p]);continue;}var v=Math.floor((h+d)/2);u=t[2*v],l=t[2*v+1],u>=r&&u<=a&&l>=n&&l<=i&&s.push(e[v]);var _=(c+1)%2;(0===c?r<=u:n<=l)&&(f.push(h),f.push(v-1),f.push(_)),(0===c?a>=u:i>=l)&&(f.push(v+1),f.push(d),f.push(_));}return s;}(this.ids,this.coords,e,t,r,n,this.nodeSize);},o.prototype.within=function(e,t,n){return function(e,t,n,a,i,o){for(var u=[0,e.length-1,0],l=[],f=i*i;u.length;){var s=u.pop(),c=u.pop(),d=u.pop();if(c-d<=o){for(var h=d;h<=c;h++)r(t[2*h],t[2*h+1],n,a)<=f&&l.push(e[h]);continue;}var p=Math.floor((d+c)/2),v=t[2*p],_=t[2*p+1];r(v,_,n,a)<=f&&l.push(e[p]);var m=(s+1)%2;(0===s?n-i<=v:a-i<=_)&&(u.push(d),u.push(p-1),u.push(m)),(0===s?n+i>=v:a+i>=_)&&(u.push(p+1),u.push(c),u.push(m));}return l;}(this.ids,this.coords,e,t,n,this.nodeSize);};var u={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e;}},l=Math.fround||(n=new Float32Array(1),function(e){return n[0]=+e,n[0];}),f=function(e){this.options=p(Object.create(u),e),this.trees=Array(this.options.maxZoom+1);};function s(e){return{type:"Feature",id:e.id,properties:c(e),geometry:{type:"Point",coordinates:[(e.x-.5)*360,360*Math.atan(Math.exp((180-360*e.y)*Math.PI/180))/Math.PI-90]}};}function c(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return p(p({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r});}function d(e){return e/360+.5;}function h(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r;}function p(e,t){for(var r in t)e[r]=t[r];return e;}function v(e){return e.x;}function _(e){return e.y;}return f.prototype.load=function(e){var t=this.options,r=t.log,n=t.minZoom,a=t.maxZoom,i=t.nodeSize;r&&console.time("total time");var u="prepare "+e.length+" points";r&&console.time(u),this.points=e;for(var f=[],s=0;s<e.length;s++)e[s].geometry&&f.push(function(e,t){var r=e.geometry.coordinates,n=r[0],a=r[1];return{x:l(d(n)),y:l(h(a)),zoom:1/0,index:t,parentId:-1};}(e[s],s));this.trees[a+1]=new o(f,v,_,i,Float32Array),r&&console.timeEnd(u);for(var c=a;c>=n;c--){var p=+Date.now();f=this._cluster(f,c),this.trees[c]=new o(f,v,_,i,Float32Array),r&&console.log("z%d: %d clusters in %dms",c,f.length,+Date.now()-p);}return r&&console.timeEnd("total time"),this;},f.prototype.getClusters=function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),a=180===e[2]?180:((e[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,a=180;else if(r>a){var o=this.getClusters([r,n,180,i],t),u=this.getClusters([-180,n,a,i],t);return o.concat(u);}for(var l=this.trees[this._limitZoom(t)],f=l.range(d(r),h(i),d(a),h(n)),c=[],p=0;p<f.length;p+=1){var v=f[p],_=l.points[v];c.push(_.numPoints?s(_):this.points[_.index]);}return c;},f.prototype.getChildren=function(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",a=this.trees[r];if(!a)throw Error(n);var i=a.points[t];if(!i)throw Error(n);for(var o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=a.within(i.x,i.y,o),l=[],f=0;f<u.length;f+=1){var c=u[f],d=a.points[c];d.parentId===e&&l.push(d.numPoints?s(d):this.points[d.index]);}if(0===l.length)throw Error(n);return l;},f.prototype.getLeaves=function(e,t,r){t=t||10,r=r||0;var n=[];return this._appendLeaves(n,e,t,r,0),n;},f.prototype.getTile=function(e,t,r){var n=this.trees[this._limitZoom(e)],a=Math.pow(2,e),i=this.options,o=i.extent,u=i.radius/o,l=(r-u)/a,f=(r+1+u)/a,s={features:[]};return this._addTileFeatures(n.range((t-u)/a,l,(t+1+u)/a,f),n.points,t,r,a,s),0===t&&this._addTileFeatures(n.range(1-u/a,l,1,f),n.points,a,r,a,s),t===a-1&&this._addTileFeatures(n.range(0,l,u/a,f),n.points,-1,r,a,s),s.features.length?s:null;},f.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id;}return t;},f.prototype._appendLeaves=function(e,t,r,n,a){for(var i=this.getChildren(t),o=0;o<i.length;o+=1){var u=i[o],l=u.properties;if(l&&l.cluster?a+l.point_count<=n?a+=l.point_count:a=this._appendLeaves(e,l.cluster_id,r,n,a):a<n?a++:e.push(u),e.length===r)break;}return a;},f.prototype._addTileFeatures=function(e,t,r,n,a,i){for(var o=0;o<e.length;o+=1){var u=t[e[o]],l=u.numPoints,f=void 0,s=void 0,p=void 0;if(l)f=c(u),s=u.x,p=u.y;else{var v=this.points[u.index];f=v.properties,s=d(v.geometry.coordinates[0]),p=h(v.geometry.coordinates[1]);}var _={type:1,geometry:[[Math.round(this.options.extent*(s*a-r)),Math.round(this.options.extent*(p*a-n))]],tags:f},m=void 0;l?m=u.id:this.options.generateId?m=u.index:this.points[u.index].id&&(m=this.points[u.index].id),void 0!==m&&(_.id=m),i.features.push(_);}},f.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1));},f.prototype._cluster=function(e,t){for(var r=[],n=this.options,a=n.radius,i=n.extent,o=n.reduce,u=n.minPoints,f=a/(i*Math.pow(2,t)),s=0;s<e.length;s++){var c=e[s];if(!(c.zoom<=t)){c.zoom=t;for(var d=this.trees[t+1],h=d.within(c.x,c.y,f),p=c.numPoints||1,v=p,_=0;_<h.length;_+=1){var m=h[_],g=d.points[m];g.zoom>t&&(v+=g.numPoints||1);}if(v>p&&v>=u){for(var b,y,E,T,A=c.x*p,S=c.y*p,O=o&&p>1?this._map(c,!0):null,R=(s<<5)+(t+1)+this.points.length,M=0;M<h.length;M+=1){var x=h[M],C=d.points[x];if(!(C.zoom<=t)){C.zoom=t;var P=C.numPoints||1;A+=C.x*P,S+=C.y*P,C.parentId=R,o&&(O||(O=this._map(c,!0)),o(O,this._map(C)));}}c.parentId=R,r.push((b=A/v,y=S/v,E=v,T=O,{x:l(b),y:l(y),zoom:1/0,id:R,parentId:-1,numPoints:E,properties:T}));}else if(r.push(c),v>1)for(var L=0;L<h.length;L+=1){var w=h[L],I=d.points[w];I.zoom<=t||(I.zoom=t,r.push(I));}}}return r;},f.prototype._getOriginId=function(e){return e-this.points.length>>5;},f.prototype._getOriginZoom=function(e){return(e-this.points.length)%32;},f.prototype._map=function(e,t){if(e.numPoints)return t?p({},e.properties):e.properties;var r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?p({},n):n;},f;},"object"==typeof t&&void 0!==e?e.exports=a():(n="undefined"!=typeof globalThis?globalThis:n||self).Supercluster=a();},f7b93eb7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("013e3e76")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f886886e:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{timeFriday:function(){return c;},timeFridays:function(){return g;},timeMonday:function(){return u;},timeMondays:function(){return p;},timeSaturday:function(){return d;},timeSaturdays:function(){return b;},timeSunday:function(){return o;},timeSundays:function(){return h;},timeThursday:function(){return s;},timeThursdays:function(){return m;},timeTuesday:function(){return l;},timeTuesdays:function(){return v;},timeWednesday:function(){return f;},timeWednesdays:function(){return _;},utcFriday:function(){return R;},utcFridays:function(){return I;},utcMonday:function(){return T;},utcMondays:function(){return C;},utcSaturday:function(){return M;},utcSaturdays:function(){return N;},utcSunday:function(){return E;},utcSundays:function(){return x;},utcThursday:function(){return O;},utcThursdays:function(){return w;},utcTuesday:function(){return A;},utcTuesdays:function(){return P;},utcWednesday:function(){return S;},utcWednesdays:function(){return L;}});var n=r("d7f30e4c"),a=r("0bb366b0");function i(e){return(0,n.timeInterval)(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0);},(e,t)=>{e.setDate(e.getDate()+7*t);},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*a.durationMinute)/a.durationWeek);}let o=i(0),u=i(1),l=i(2),f=i(3),s=i(4),c=i(5),d=i(6),h=o.range,p=u.range,v=l.range,_=f.range,m=s.range,g=c.range,b=d.range;function y(e){return(0,n.timeInterval)(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0);},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t);},(e,t)=>(t-e)/a.durationWeek);}let E=y(0),T=y(1),A=y(2),S=y(3),O=y(4),R=y(5),M=y(6),x=E.range,C=T.range,P=A.range,L=S.range,w=O.range,I=R.range,N=M.range;},f8d49ca0:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c2c1a9e3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f9178261:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("4b3bf47e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f9311c0b:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1;}function u(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var u=new o(r,n||e,i),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],u]:e._events[l].push(u):(e._events[l]=u,e._eventsCount++),e;}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t];}function f(){this._events=new i,this._eventsCount=0;}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1)),f.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r;},f.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o;},f.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0;},f.prototype.emit=function(e,t,r,n,i,o){var u=a?a+e:e;if(!this._events[u])return!1;var l,f,s=this._events[u],c=arguments.length;if(s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,r),!0;case 4:return s.fn.call(s.context,t,r,n),!0;case 5:return s.fn.call(s.context,t,r,n,i),!0;case 6:return s.fn.call(s.context,t,r,n,i,o),!0;}for(f=1,l=Array(c-1);f<c;f++)l[f-1]=arguments[f];s.fn.apply(s.context,l);}else{var d,h=s.length;for(f=0;f<h;f++)switch(s[f].once&&this.removeListener(e,s[f].fn,void 0,!0),c){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,t);break;case 3:s[f].fn.call(s[f].context,t,r);break;case 4:s[f].fn.call(s[f].context,t,r,n);break;default:if(!l)for(d=1,l=Array(c-1);d<c;d++)l[d-1]=arguments[d];s[f].fn.apply(s[f].context,l);}}return!0;},f.prototype.on=function(e,t,r){return u(this,e,t,r,!1);},f.prototype.once=function(e,t,r){return u(this,e,t,r,!0);},f.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,i);else{for(var u=0,f=[],s=o.length;u<s;u++)(o[u].fn!==t||n&&!o[u].once||r&&o[u].context!==r)&&f.push(o[u]);f.length?this._events[i]=1===f.length?f[0]:f:l(this,i);}return this;},f.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this;},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=a,f.EventEmitter=f,void 0!==e&&(e.exports=f);},f97327bf:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1;}function u(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var u=new o(r,n||e,i),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],u]:e._events[l].push(u):(e._events[l]=u,e._eventsCount++),e;}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t];}function f(){this._events=new i,this._eventsCount=0;}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1)),f.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r;},f.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o;},f.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0;},f.prototype.emit=function(e,t,r,n,i,o){var u=a?a+e:e;if(!this._events[u])return!1;var l,f,s=this._events[u],c=arguments.length;if(s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,r),!0;case 4:return s.fn.call(s.context,t,r,n),!0;case 5:return s.fn.call(s.context,t,r,n,i),!0;case 6:return s.fn.call(s.context,t,r,n,i,o),!0;}for(f=1,l=Array(c-1);f<c;f++)l[f-1]=arguments[f];s.fn.apply(s.context,l);}else{var d,h=s.length;for(f=0;f<h;f++)switch(s[f].once&&this.removeListener(e,s[f].fn,void 0,!0),c){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,t);break;case 3:s[f].fn.call(s[f].context,t,r);break;case 4:s[f].fn.call(s[f].context,t,r,n);break;default:if(!l)for(d=1,l=Array(c-1);d<c;d++)l[d-1]=arguments[d];s[f].fn.apply(s[f].context,l);}}return!0;},f.prototype.on=function(e,t,r){return u(this,e,t,r,!1);},f.prototype.once=function(e,t,r){return u(this,e,t,r,!0);},f.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,i);else{for(var u=0,f=[],s=o.length;u<s;u++)(o[u].fn!==t||n&&!o[u].once||r&&o[u].context!==r)&&f.push(o[u]);f.length?this._events[i]=1===f.length?f[0]:f:l(this,i);}return this;},f.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this;},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=a,f.EventEmitter=f,void 0!==e&&(e.exports=f);},f99cdb81:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("630c51b6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},f9ae2822:function(e,t,r){"use strict";var n;r.d(t,"__esModule",{value:!0}),r.d(t,"TextureUsage",{enumerable:!0,get:function(){return a;}});let a=((n={})[n.SAMPLED=0]="SAMPLED",n[n.RENDER_TARGET=1]="RENDER_TARGET",n);},f9b12b3c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{GlobelPointFillTriangulation:function(){return p;},HeatmapGridTriangulation:function(){return S;},HeatmapTriangulation:function(){return M;},LineArcTriangulation:function(){return R;},LineTriangulation:function(){return m;},PointExtrudeTriangulation:function(){return v;},PointFillTriangulation:function(){return h;},PointImageTriangulation:function(){return _;},PolygonExtrudeTriangulation:function(){return A;},RasterImageTriangulation:function(){return O;},SimpleLineTriangulation:function(){return g;},earthOuterTriangulation:function(){return P;},earthTriangulation:function(){return C;},polygonTriangulation:function(){return E;},polygonTriangulationWithCenter:function(){return T;}});var n=r("777fffbe"),a=r("852bbaa9"),i=r("89217383"),o=n._(r("fc143ea6")),u=r("cb029c45"),l=n._(r("0e414e56")),f=r("a0d5e158"),s=a._(r("f23aee94")),c=r("af24cd70");let d={};function h(e){let t=(0,i.calculateCentroid)(e.coordinates);return{vertices:[...t,...t,...t,...t],indices:[0,1,2,2,3,0],size:t.length};}function p(e){let t=(0,i.calculateCentroid)(e.coordinates),r=(0,u.lglt2xyz)(t);return{vertices:[...r,...r,...r,...r],indices:[0,1,2,2,3,0],size:r.length};}function v(e){let{shape:t}=e,{positions:r,index:n,normals:a}=function(e,t=!1){if(d&&d[e])return d[e];let r=f.geometryShape[e]?f.geometryShape[e]():f.geometryShape.cylinder(),n=(0,s.extrude_PolygonNormal)([r],t);return d[e]=n,n;}(t,!1);return{vertices:r,indices:n,normals:a,size:5};}function _(e){let t=(0,i.calculateCentroid)(e.coordinates);return{vertices:[...t],indices:[0],size:t.length};}function m(e){let{coordinates:t}=e,r=new l.default({dash:!0,join:"bevel"}),n=t;n[0]&&!Array.isArray(n[0][0])&&(n=[t]),n.forEach(e=>{r.extrude(e);});let a=r.complex;return{vertices:a.positions,indices:a.indices,normals:a.normals,indexes:a.indexes,size:6};}function g(e){let{coordinates:t}=e,r=[];if(!Array.isArray(t[0]))return{vertices:[],indices:[],normals:[],size:6,count:0};let{results:n,totalDistance:a}=function(e){let t=e;Array.isArray(t)&&Array.isArray(t[0])&&Array.isArray(t[0][0])&&(t=e.flat());let r=0;if(t.length<2)return{results:t,totalDistance:0};{let e=[],n=y(t[0],r);e.push(n);for(let n=1;n<t.length-1;n++){r+=b((0,i.aProjectFlat)(t[n-1]),(0,i.aProjectFlat)(t[n]));let a=y(t[n],r);e.push(a),e.push(a);}return r+=b((0,i.aProjectFlat)(t[t.length-2]),(0,i.aProjectFlat)(t[t.length-1])),e.push(y(t[t.length-1],r)),{results:e,totalDistance:r};}}(t);return n.map(e=>{r.push(e[0],e[1],e[2],e[3],0,a);}),{vertices:r,indices:[],normals:[],size:6,count:n.length};}function b(e,t){let r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n);}function y(e,t){return e.length<3&&e.push(0),void 0!==t&&e.push(t),e;}function E(e){let{coordinates:t}=e,{vertices:r,dimensions:n,holes:a}=o.default.flatten(t);return{indices:(0,c.getPolygonSurfaceIndices)(r,a,n),vertices:r,size:n};}function T(e){let{indices:t,vertices:r,size:n}=E(e);return{indices:t,vertices:function(e){let t=[],{center:r,radius:n}=(0,i.calculatePointsCenterAndRadius)(e);for(let a=0;a<e.length;a+=2){let i=e[a],o=e[a+1];t.push(i,o,0,...r,n);}return t;}(r),size:n+4};}function A(e){let t=e.coordinates,{positions:r,index:n,normals:a}=(0,s.extrude_PolygonNormal)(t,!0);return{vertices:r,indices:n,normals:a,size:5};}function S(e){let{shape:t}=e,{positions:r,index:n}=function(e){let t=f.geometryShape[e]?f.geometryShape[e]():f.geometryShape.circle();return -1===["cylinder","triangleColumn","hexagonColumn","squareColumn"].indexOf(e)?(0,s.fillPolygon)([t]):(0,s.default)([t]);}(t);return{vertices:r,indices:n,size:3};}function O(e){let t=e.coordinates;return{vertices:[...t[0],0,0,0,...t[1],0,1,0,...t[2],0,1,1,...t[3],0,0,1],indices:[0,1,2,0,2,3],size:5};}function R(e,t){let{segmentNumber:r=30}=t,n=e.coordinates,a=[],i=[];for(let e=0;e<r;e++)a.push(e,1,e,n[0][0],n[0][1],n[1][0],n[1][1],e,-1,e,n[0][0],n[0][1],n[1][0],n[1][1]),e!==r-1&&i.push(...[0,1,2,1,3,2].map(t=>2*e+t));return{vertices:a,indices:i,size:7};}function M(e){let t=e.coordinates;2===t.length&&t.push(0);let r=x(-1,1),n=x(1,1);return{vertices:[...t,...r,...t,...x(-1,-1),...t,...x(1,-1),...t,...n],indices:[0,1,2,3,0,2],size:5};}function x(e,t){return[(e+1)/2,(t+1)/2];}function C(){let{positionsArr:e,indicesArr:t,normalArr:r}=(0,u.primitiveSphere)(u.EARTH_RADIUS,{segments:u.EARTH_SEGMENTS});return{vertices:e,indices:t,size:5,normals:r};}function P(){let{positionsArr:e,indicesArr:t,normalArr:r}=(0,u.primitiveSphere)(u.EARTH_RADIUS+u.EARTH_RADIUS_OUTER,{segments:u.EARTH_SEGMENTS});return{vertices:e,indices:t,size:5,normals:r};}},f9bacfbb:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("6a95171e")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fa5bb5a0:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("b1b29bc6")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fab3df7c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return p;}});var n=r("68cc65c7"),a=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&s(e,r,t[r]);if(u)for(var r of u(t))f.call(t,r)&&s(e,r,t[r]);return e;},d=(e,t)=>i(e,o(t)),h=(e,t)=>{var r={};for(var n in e)l.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&u)for(var n of u(e))0>t.indexOf(n)&&f.call(e,n)&&(r[n]=e[n]);return r;};function p(e,t){let{extent:r=[121.168,30.2828,121.384,30.4219],coordinates:a,width:i,height:o}=t,u=h(t,["extent","coordinates","width","height"]);e.length<2&&console.warn("RGB\u89E3\u6790\u9700\u89812\u4E2A\u6CE2\u6BB5\u7684\u6570\u636E");let[l,f]=u.bands||[0,1],s=[e[l],e[f]],p=[];for(let e=0;e<s[0].length;e++)p.push((s[1][e]-s[0][e])/(s[1][e]+s[0][e]));let v=(0,n.extentToCoord)(a,r);return{_id:1,dataArray:[d(c({_id:1,data:p,width:i,height:o},u),{coordinates:v})]};}},fab806d2:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{MapTheme:function(){return f;},default:function(){return f;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("e1e610e4")),o=r("628599c1"),u=r("be6cb12a"),l=n._(r("07fbb854"));class f extends l.default{constructor(...e){super(...e),(0,i.default)(this,"onMapThemeChange",()=>{this.mapsService.setMapStyle(this.selectValue[0]);});}getDefault(e){return(0,a.default)((0,a.default)({},super.getDefault(e)),{},{title:"\u5730\u56FE\u6837\u5F0F",btnIcon:(0,u.createL7Icon)("l7-icon-color"),options:[]});}getStyleOptions(){let e="mapbox"===this.mapsService.getType()?o.MapboxMapStyleConfig:o.GaodeMapStyleConfig;return Object.entries(this.mapsService.getMapStyleConfig()).filter(([e,t])=>"string"==typeof t&&"blank"!==e).map(([t,r])=>{var n;let{text:a,img:i}=null!==(n=e[t])&&void 0!==n?n:{};return{text:null!=a?a:t,value:r,img:i,key:t};});}getMapStyle(){return this.mapsService.getMapStyle();}onAdd(){var e,t,r;if(null!==(e=this.controlOption.options)&&void 0!==e&&e.length||(this.controlOption.options=this.getStyleOptions()),this.controlOption.defaultValue){let e=this.controlOption.defaultValue;this.controlOption.defaultValue=null!==(t=null===(r=this.controlOption.options.find(t=>t.key===e))||void 0===r?void 0:r.value)&&void 0!==t?t:e;}else{let e=this.getMapStyle();e?this.controlOption.defaultValue=e:this.mapsService.map.once("styledata",()=>{let e=this.mapsService.getMapStyle();this.controlOption.defaultValue=e,this.setSelectValue(e,!1);});}return this.on("selectChange",this.onMapThemeChange),super.onAdd();}getIsMultiple(){return!1;}}},fac013d5:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"timeFormat",{enumerable:!0,get:function(){return n.timeFormat;}});var n=r("4e0cf5fa");},faea2b02:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a89e5003")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fb68d2b9:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8eb83670")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fba4690b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("233c301a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fbc71d1e:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("ed65af47")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fbea20d5:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("8856f92a")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fbf893e0:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7b31c68f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fc143ea6:function(e,t,r){"use strict";function n(e,t,r){r=r||2;var n,d,h,_,g,b,y,E=t&&t.length,T=E?t[0]*r:e.length,A=a(e,0,T,r,!0),S=[];if(!A||A.next===A.prev)return S;if(E&&(A=function(e,t,r,n){var u,s,c,d,h,_=[];for(u=0,s=t.length;u<s;u++)c=t[u]*n,d=u<s-1?t[u+1]*n:e.length,(h=a(e,c,d,n,!1))===h.next&&(h.steiner=!0),_.push(function(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e)return r;}(h));for(_.sort(o),u=0;u<_.length;u++)r=function(e,t){var r=function(e,t){var r,n,a,i=t,o=e.x,u=e.y,s=-1/0;do{if(u<=i.y&&u>=i.next.y&&i.next.y!==i.y){var c=i.x+(u-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(c<=o&&c>s&&(s=c,a=i.x<i.next.x?i:i.next,c===o))return a;}i=i.next;}while(i!==t)if(!a)return null;var d,h=a,v=a.x,_=a.y,m=1/0;i=a;do o>=i.x&&i.x>=v&&o!==i.x&&l(u<_?o:s,u,v,_,u<_?s:o,u,i.x,i.y)&&(d=Math.abs(u-i.y)/(o-i.x),p(i,e)&&(d<m||d===m&&(i.x>a.x||i.x===a.x&&(r=a,n=i,0>f(r.prev,r,n.prev)&&0>f(n.next,r,r.next))))&&(a=i,m=d)),i=i.next;while(i!==h)return a;}(e,t);if(!r)return t;var n=v(r,e);return i(n,n.next),i(r,r.next);}(_[u],r);return r;}(e,t,A,r)),e.length>80*r){n=h=e[0],d=_=e[1];for(var O=r;O<T;O+=r)g=e[O],b=e[O+1],g<n&&(n=g),b<d&&(d=b),g>h&&(h=g),b>_&&(_=b);y=0!==(y=Math.max(h-n,_-d))?32767/y:0;}return function e(t,r,n,a,o,d,h){if(t){!h&&d&&function(e,t,r,n){var a=e;do 0===a.z&&(a.z=u(a.x,a.y,t,r,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==e)a.prevZ.nextZ=null,a.prevZ=null,function(e){var t,r,n,a,i,o,u,l,f=1;do{for(r=e,e=null,i=null,o=0;r;){for(o++,n=r,u=0,t=0;t<f&&(u++,n=n.nextZ);t++);for(l=f;u>0||l>0&&n;)0!==u&&(0===l||!n||r.z<=n.z)?(a=r,r=r.nextZ,u--):(a=n,n=n.nextZ,l--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;r=n;}i.nextZ=null,f*=2;}while(o>1)}(a);}(t,a,o,d);for(var _,g,b=t;t.prev!==t.next;){if(_=t.prev,g=t.next,d?function(e,t,r,n){var a=e.prev,i=e.next;if(f(a,e,i)>=0)return!1;for(var o=a.x,s=e.x,c=i.x,d=a.y,h=e.y,p=i.y,v=o<s?o<c?o:c:s<c?s:c,_=d<h?d<p?d:p:h<p?h:p,m=o>s?o>c?o:c:s>c?s:c,g=d>h?d>p?d:p:h>p?h:p,b=u(v,_,t,r,n),y=u(m,g,t,r,n),E=e.prevZ,T=e.nextZ;E&&E.z>=b&&T&&T.z<=y;){if(E.x>=v&&E.x<=m&&E.y>=_&&E.y<=g&&E!==a&&E!==i&&l(o,d,s,h,c,p,E.x,E.y)&&f(E.prev,E,E.next)>=0||(E=E.prevZ,T.x>=v&&T.x<=m&&T.y>=_&&T.y<=g&&T!==a&&T!==i&&l(o,d,s,h,c,p,T.x,T.y)&&f(T.prev,T,T.next)>=0))return!1;T=T.nextZ;}for(;E&&E.z>=b;){if(E.x>=v&&E.x<=m&&E.y>=_&&E.y<=g&&E!==a&&E!==i&&l(o,d,s,h,c,p,E.x,E.y)&&f(E.prev,E,E.next)>=0)return!1;E=E.prevZ;}for(;T&&T.z<=y;){if(T.x>=v&&T.x<=m&&T.y>=_&&T.y<=g&&T!==a&&T!==i&&l(o,d,s,h,c,p,T.x,T.y)&&f(T.prev,T,T.next)>=0)return!1;T=T.nextZ;}return!0;}(t,a,o,d):function(e){var t=e.prev,r=e.next;if(f(t,e,r)>=0)return!1;for(var n=t.x,a=e.x,i=r.x,o=t.y,u=e.y,s=r.y,c=n<a?n<i?n:i:a<i?a:i,d=o<u?o<s?o:s:u<s?u:s,h=n>a?n>i?n:i:a>i?a:i,p=o>u?o>s?o:s:u>s?u:s,v=r.next;v!==t;){if(v.x>=c&&v.x<=h&&v.y>=d&&v.y<=p&&l(n,o,a,u,i,s,v.x,v.y)&&f(v.prev,v,v.next)>=0)return!1;v=v.next;}return!0;}(t)){r.push(_.i/n|0),r.push(t.i/n|0),r.push(g.i/n|0),m(t),t=g.next,b=g.next;continue;}if((t=g)===b){h?1===h?e(t=function(e,t,r){var n=e;do{var a=n.prev,o=n.next.next;!s(a,o)&&c(a,n,n.next,o)&&p(a,o)&&p(o,a)&&(t.push(a.i/r|0),t.push(n.i/r|0),t.push(o.i/r|0),m(n),m(n.next),n=e=o),n=n.next;}while(n!==e)return i(n);}(i(t),r,n),r,n,a,o,d,2):2===h&&function(t,r,n,a,o,u){var l=t;do{for(var d,h,_=l.next.next;_!==l.prev;){if(l.i!==_.i&&(d=l,h=_,d.next.i!==h.i&&d.prev.i!==h.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&c(r,r.next,e,t))return!0;r=r.next;}while(r!==e)return!1;}(d,h)&&(p(d,h)&&p(h,d)&&function(e,t){var r=e,n=!1,a=(e.x+t.x)/2,i=(e.y+t.y)/2;do r.y>i!=r.next.y>i&&r.next.y!==r.y&&a<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e)return n;}(d,h)&&(f(d.prev,d,h.prev)||f(d,h.prev,h))||s(d,h)&&f(d.prev,d,d.next)>0&&f(h.prev,h,h.next)>0))){var m=v(l,_);l=i(l,l.next),m=i(m,m.next),e(l,r,n,a,o,u,0),e(m,r,n,a,o,u,0);return;}_=_.next;}l=l.next;}while(l!==t)}(t,r,n,a,o,d):e(i(t),r,n,a,o,d,1);break;}}}}(A,S,r,n,d,y,0),S;}function a(e,t,r,n,a){var i,o;if(a===b(e,t,r,n)>0)for(i=t;i<r;i+=n)o=_(i,e[i],e[i+1],o);else for(i=r-n;i>=t;i-=n)o=_(i,e[i],e[i+1],o);return o&&s(o,o.next)&&(m(o),o=o.next),o;}function i(e,t){if(!e)return e;t||(t=e);var r,n=e;do if(r=!1,!n.steiner&&(s(n,n.next)||0===f(n.prev,n,n.next))){if(m(n),(n=t=n.prev)===n.next)break;r=!0;}else n=n.next;while(r||n!==t)return t;}function o(e,t){return e.x-t.x;}function u(e,t,r,n,a){return(e=((e=((e=((e=((e=(e-r)*a|0)|e<<8)&16711935)|e<<4)&252645135)|e<<2)&858993459)|e<<1)&1431655765)|(t=((t=((t=((t=((t=(t-n)*a|0)|t<<8)&16711935)|t<<4)&252645135)|t<<2)&858993459)|t<<1)&1431655765)<<1;}function l(e,t,r,n,a,i,o,u){return(a-o)*(t-u)>=(e-o)*(i-u)&&(e-o)*(n-u)>=(r-o)*(t-u)&&(r-o)*(i-u)>=(a-o)*(n-u);}function f(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y);}function s(e,t){return e.x===t.x&&e.y===t.y;}function c(e,t,r,n){var a=h(f(e,t,r)),i=h(f(e,t,n)),o=h(f(r,n,e)),u=h(f(r,n,t));return!!(a!==i&&o!==u||0===a&&d(e,r,t)||0===i&&d(e,n,t)||0===o&&d(r,e,n)||0===u&&d(r,t,n));}function d(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y);}function h(e){return e>0?1:e<0?-1:0;}function p(e,t){return 0>f(e.prev,e,e.next)?f(e,t,e.next)>=0&&f(e,e.prev,t)>=0:0>f(e,t,e.prev)||0>f(e,e.next,t);}function v(e,t){var r=new g(e.i,e.x,e.y),n=new g(t.i,t.x,t.y),a=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=a,a.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n;}function _(e,t,r,n){var a=new g(e,t,r);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a;}function m(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ);}function g(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1;}function b(e,t,r,n){for(var a=0,i=t,o=r-n;i<r;i+=n)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a;}e.exports=n,e.exports.default=n,n.deviation=function(e,t,r,n){var a=t&&t.length,i=a?t[0]*r:e.length,o=Math.abs(b(e,0,i,r));if(a)for(var u=0,l=t.length;u<l;u++){var f=t[u]*r,s=u<l-1?t[u+1]*r:e.length;o-=Math.abs(b(e,f,s,r));}var c=0;for(u=0;u<n.length;u+=3){var d=n[u]*r,h=n[u+1]*r,p=n[u+2]*r;c+=Math.abs((e[d]-e[p])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[p+1]-e[d+1]));}return 0===o&&0===c?0:Math.abs((c-o)/o);},n.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,a=0;a<e.length;a++){for(var i=0;i<e[a].length;i++)for(var o=0;o<t;o++)r.vertices.push(e[a][i][o]);a>0&&(n+=e[a-1].length,r.holes.push(n));}return r;};},fc5f5a85:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("74f553c8")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fc6fb8b5:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("d213d6b7")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fc7aec10:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("233474e2")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fc88a0a6:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7a755cfe")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fc99059b:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("1e62402c")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fcd2eb78:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=n._(r("a0c669d5")),i=n._(r("b9fd3c65")),o=n._(r("e1e610e4")),u=r("7f434d9f"),l=r("89217383"),f=n._(r("6c8aee75")),s=r("f9b12b3c");class c extends f.default{constructor(...e){super(...e),(0,o.default)(this,"texture",void 0),(0,o.default)(this,"colorTexture",void 0);}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9});}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),(0,i.default)((0,i.default)({},e.uniformsOption),t.uniformsOption);}getCommonUniformsInfo(){let{opacity:e=1,clampLow:t=!0,clampHigh:r=!0,noDataValue:n=-9999999,domain:a,rampColors:i}=this.layer.getLayerConfig(),o=a||(0,l.getDefaultDomain)(i);this.colorTexture=this.layer.textureService.getColorTexture(i,o);let u={u_domain:o,u_opacity:e||1,u_noDataValue:n,u_clampLow:t?1:0,u_clampHigh:(void 0!==r?r:t)?1:0,u_rasterTexture:this.texture,u_colorTexture:this.colorTexture};return this.textures=[this.texture,this.colorTexture],this.getUniformsBufferInfo(u);}getRasterData(e){return(0,a.default)(function*(){if(Array.isArray(e.data))return{data:e.data,width:e.width,height:e.height};{let{rasterData:t,width:r,height:n}=yield e.data;return{data:Array.from(t),width:r,height:n};}})();}initModels(){var e=this;return(0,a.default)(function*(){return e.buildModels();})();}buildModels(){var e=this;return(0,a.default)(function*(){e.initUniformsBuffer();let t=e.layer.getSource(),{createTexture2D:r,queryVerdorInfo:n}=e.rendererService,a=t.data.dataArray[0],{data:i,width:o,height:l}=yield e.getRasterData(a);return e.texture=r({data:new Float32Array(i),width:o,height:l,format:"WebGL1"===n()?u.gl.LUMINANCE:u.gl.RED,type:u.gl.FLOAT,alignment:1}),[(yield e.layer.buildLayerModel({moduleName:"rasterImageData",vertexShader:'layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;\nlayout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;\nlayout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;\n\nlayout(std140) uniform commonUniforms {\n  vec2 u_domain;\n  float u_opacity;\n  float u_noDataValue;\n  float u_clampLow;\n  float u_clampHigh;\n};\n\nout vec2 v_texCoord;\n\n#pragma include "projection"\n\nvoid main() {\n  v_texCoord = a_Uv;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));\n}\n',fragmentShader:"layout(std140) uniform commonUniforms {\n  vec2 u_domain;\n  float u_opacity;\n  float u_noDataValue;\n  float u_clampLow;\n  float u_clampHigh;\n};\n\nuniform sampler2D u_rasterTexture;\nuniform sampler2D u_colorTexture;\n\nin vec2 v_texCoord;\n\nbool isnan_emu(float x) {\n  return x > 0.0 || x < 0.0\n    ? x != x\n    : x != 0.0;\n}\n\nout vec4 outputColor;\n\nvoid main() {\n  // Can use any component here since u_rasterTexture is under luminance format.\n  float value = texture(SAMPLER_2D(u_rasterTexture), vec2(v_texCoord.x, v_texCoord.y)).r;\n  if (value == u_noDataValue || isnan_emu(value)) {\n    discard;\n  } else if (u_clampLow < 0.5 && value < u_domain[0] || u_clampHigh < 0.5 && value > u_domain[1]) {\n    discard;\n  } else {\n    float normalisedValue = (value - u_domain[0]) / (u_domain[1] - u_domain[0]);\n    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(normalisedValue, 0));\n\n    outputColor = color;\n    outputColor.a = outputColor.a * u_opacity;\n    if (outputColor.a < 0.01) discard;\n  }\n}\n",defines:e.getDefines(),triangulation:s.RasterImageTriangulation,primitive:u.gl.TRIANGLES,depth:{enable:!1},pickingEnabled:!1}))];})();}clearModels(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.colorTexture)||void 0===t||t.destroy();}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:u.AttributeType.Attribute,descriptor:{shaderLocation:this.attributeLocation.UV,name:"a_Uv",buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:2,update:(e,t,r)=>[r[3],r[4]]}});}}},fce0d122:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c49b2116")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fcff9c84:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("c7bd82ce")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fd1dbec7:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("dc8c59f1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fd4d4580:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return o;}});var n=r("7f434d9f"),a=r("9eb83a1c"),i=r("739c3714");class o{apply(e,{styleAttributeService:t}){e.hooks.init.tapPromise("RegisterStyleAttributePlugin",()=>{(0,i.isTileGroup)(e)||this.registerBuiltinAttributes(t,e);});}registerBuiltinAttributes(e,t){if("MaskLayer"===t.type){this.registerPositionAttribute(e);return;}this.registerPositionAttribute(e),this.registerColorAttribute(e);}registerPositionAttribute(e){e.registerStyleAttribute({name:"position",type:n.AttributeType.Attribute,descriptor:{name:"a_Position",shaderLocation:a.COMMON_ATTRIBUTE_LOCATION.POSITION,buffer:{data:[],type:n.gl.FLOAT},size:3,update:(e,t,r)=>2===r.length?[r[0],r[1],0]:[r[0],r[1],r[2]]}});}registerColorAttribute(e){e.registerStyleAttribute({name:"color",type:n.AttributeType.Attribute,descriptor:{name:"a_Color",shaderLocation:a.COMMON_ATTRIBUTE_LOCATION.COLOR,buffer:{usage:n.gl.DYNAMIC_DRAW,data:[],type:n.gl.FLOAT},size:4,update:e=>{let{color:t}=e;return t&&t.length?t:[1,1,1,1];}}});}}},fd6c0e50:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("e97ac31f")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fdd8fb08:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("a2472199")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},fde9c4bf:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{timeMonth:function(){return a;},timeMonths:function(){return i;},utcMonth:function(){return o;},utcMonths:function(){return u;}});var n=r("d7f30e4c");let a=(0,n.timeInterval)(e=>{e.setDate(1),e.setHours(0,0,0,0);},(e,t)=>{e.setMonth(e.getMonth()+t);},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),i=a.range,o=(0,n.timeInterval)(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0);},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t);},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),u=o.range;},fe61c4b8:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("7665356b")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},feb6902c:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{ExportImage:function(){return u.ExportImage;},Fullscreen:function(){return l.Fullscreen;},GeoLocate:function(){return f.GeoLocate;},LayerPopup:function(){return m.LayerPopup;},LayerSwitch:function(){return s.LayerSwitch;},Logo:function(){return c.Logo;},MapTheme:function(){return d.MapTheme;},Marker:function(){return i.default;},MarkerLayer:function(){return o.default;},MouseLocation:function(){return h.MouseLocation;},Popup:function(){return g.Popup;},Scale:function(){return p.Scale;},Swipe:function(){return v.Swipe;},Zoom:function(){return _.Zoom;}});var n=r("d1751d7c"),a=r("777fffbe"),i=a._(r("cdafb502")),o=a._(r("d7e5f3ff"));r("810d556a"),n._(r("c1b59056"),t);var u=r("acfd9fe9"),l=r("cb2ff3fc"),f=r("40cc4959"),s=r("659a633a"),c=r("844a45e1"),d=r("fab806d2"),h=r("03c19ff4"),p=r("a9f9f035"),v=r("6a720bd8"),_=r("99fcb496");n._(r("a8437387"),t);var m=r("3ac5b4be"),g=r("d7266d9b");!function(e,t){var r="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,n="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!r&&!n&&(t||(t=document),t)){var a=t.head||t.getElementsByTagName("head")[0];if(!a){a=t.createElement("head");var i=t.body||t.getElementsByTagName("body")[0];i?i.parentNode.insertBefore(a,i):t.documentElement.appendChild(a);}var o=t.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),a.appendChild(o);}}(`.l7-marker-container {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.l7-marker {
  position: absolute !important;
  top: 0;
  left: 0;
  z-index: 5;
  cursor: pointer;
}

.l7-marker-cluster {
  width: 40px;
  height: 40px;
  background-color: rgb(181 226 140 / 60%);
  background-clip: padding-box;
  border-radius: 20px;
}

.l7-marker-cluster div {
  width: 30px;
  height: 30px;
  margin-top: 5px;
  margin-left: 5px;
  font:
    12px 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
  text-align: center;
  background-color: rgb(110 204 57 / 60%);
  border-radius: 15px;
}

.l7-marker-cluster span {
  line-height: 30px;
}

.l7-touch .l7-control-attribution,
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  box-shadow: none;
}

.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  background-clip: padding-box;
  border: 2px solid rgb(0 0 0 / 20%);
}

.mapboxgl-ctrl-logo,
.amap-logo {
  display: none !important;
}

.l7-select-box {
  border: 3px dashed gray;
  border-radius: 2px;
  position: absolute;
  z-index: 999;
  box-sizing: border-box;
}

.l7-control-container {
  font:
    12px/1.5 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
}

.l7-control-container .l7-control {
  position: relative;
  z-index: 999;
  float: left;
  clear: both;
  color: #595959;
  font-size: 12px;
  pointer-events: visiblepainted;

  /* IE 9-10 doesn't have auto */
  pointer-events: auto;
}

.l7-control-container .l7-control.l7-control--hide {
  display: none;
}

.l7-control-container .l7-top {
  top: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}

.l7-control-container .l7-top .l7-control:not(.l7-control--hide) {
  margin-top: 8px;
}

.l7-control-container .l7-right {
  right: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}

.l7-control-container .l7-right .l7-control:not(.l7-control--hide) {
  margin-right: 8px;
}

.l7-control-container .l7-bottom {
  bottom: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}

.l7-control-container .l7-bottom .l7-control:not(.l7-control--hide) {
  margin-bottom: 8px;
}

.l7-control-container .l7-left {
  left: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}

.l7-control-container .l7-left .l7-control:not(.l7-control--hide) {
  margin-left: 8px;
}

.l7-control-container .l7-center {
  position: absolute;
  display: flex;
  justify-content: center;
}

.l7-control-container .l7-center.l7-top,
.l7-control-container .l7-center.l7-bottom {
  width: 100%;
}

.l7-control-container .l7-center.l7-left,
.l7-control-container .l7-center.l7-right {
  height: 100%;
}

.l7-control-container .l7-center .l7-control {
  margin-right: 8px;
  margin-bottom: 8px;
}

.l7-control-container .l7-row {
  flex-direction: row;
}

.l7-control-container .l7-row.l7-top {
  align-items: flex-start;
}

.l7-control-container .l7-row.l7-bottom {
  align-items: flex-end;
}

.l7-control-container .l7-column {
  flex-direction: column;
}

.l7-control-container .l7-column.l7-left {
  align-items: flex-start;
}

.l7-control-container .l7-column.l7-right {
  align-items: flex-end;
}

.l7-button-control {
  min-width: 28px;
  height: 28px;
  background-color: #fff;
  border-width: 0;
  border-radius: 2px;
  outline: 0;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 6px;
  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);
  line-height: 16px;
}

.l7-button-control .l7-iconfont {
  fill: #595959;
  color: #595959;
  width: 16px;
  height: 16px;
}

.l7-button-control.l7-button-control--row {
  padding: 0 16px 0 13px;
}

.l7-button-control.l7-button-control--row * + .l7-button-control__text {
  margin-left: 8px;
}

.l7-button-control.l7-button-control--column {
  height: 44px;
  flex-direction: column;
}

.l7-button-control.l7-button-control--column .l7-iconfont {
  margin-top: 3px;
}

.l7-button-control.l7-button-control--column .l7-button-control__text {
  margin-top: 3px;
  font-size: 10px;
  -webkit-transform: scale(0.83333);
          transform: scale(0.83333);
}

.l7-button-control:not(:disabled):hover {
  background-color: #f3f3f3;
}

.l7-button-control:not(:disabled):active {
  background-color: #f3f3f3;
}

.l7-button-control:disabled {
  background-color: #fafafa;
  color: #bdbdbd;
  cursor: not-allowed;
}

.l7-button-control:disabled .l7-iconfont {
  fill: #bdbdbd;
  color: #bdbdbd;
}

.l7-button-control:disabled:hover {
  background-color: #fafafa;
}

.l7-button-control:disabled:active {
  background-color: #fafafa;
}

.l7-popper {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 5;
  color: #595959;
}

.l7-popper.l7-popper-hide {
  display: none;
}

.l7-popper .l7-popper-content {
  min-height: 28px;
  background: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);
}

.l7-popper .l7-popper-arrow {
  width: 0;
  height: 0;
  border-width: 4px;
  border-style: solid;
  border-color: transparent;
  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);
}

.l7-popper.l7-popper-left {
  flex-direction: row;
}

.l7-popper.l7-popper-left .l7-popper-arrow {
  border-left-color: #fff;
  margin: 10px 0;
}

.l7-popper.l7-popper-right {
  flex-direction: row-reverse;
}

.l7-popper.l7-popper-right .l7-popper-arrow {
  border-right-color: #fff;
  margin: 10px 0;
}

.l7-popper.l7-popper-top {
  flex-direction: column;
}

.l7-popper.l7-popper-top .l7-popper-arrow {
  border-top-color: #fff;
  margin: 0 10px;
}

.l7-popper.l7-popper-bottom {
  flex-direction: column-reverse;
}

.l7-popper.l7-popper-bottom .l7-popper-arrow {
  border-bottom-color: #fff;
  margin: 0 10px;
}

.l7-popper.l7-popper-start {
  align-items: flex-start;
}

.l7-popper.l7-popper-end {
  align-items: flex-end;
}

.l7-select-control--normal {
  padding: 4px 0;
}

.l7-select-control--normal .l7-select-control-item {
  display: flex;
  align-items: center;
  height: 24px;
  padding: 0 16px;
  font-size: 12px;
  line-height: 24px;
}

.l7-select-control--normal .l7-select-control-item > * + * {
  margin-left: 6px;
}

.l7-select-control--normal .l7-select-control-item input[type='checkbox'] {
  width: 14px;
  height: 14px;
}

.l7-select-control--normal .l7-select-control-item:hover {
  background-color: #f3f3f3;
}

.l7-select-control--image {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  box-sizing: content-box;
  max-width: 460px;
  max-height: 400px;
  margin: 12px 0 0 12px;
  overflow: hidden auto;
}

.l7-select-control--image .l7-select-control-item {
  position: relative;
  display: flex;
  flex: 0 0 calc((100% - (12px + 9px) * 2) / 3);
  flex-direction: column;
  justify-content: center;
  box-sizing: content-box;
  margin-right: 12px;
  margin-bottom: 12px;
  overflow: hidden;
  font-size: 12px;
  border: 1px solid #fff;
  border-radius: 2px;
}

.l7-select-control--image .l7-select-control-item img {
  width: 100%;
  height: 80px;
}

.l7-select-control--image .l7-select-control-item input[type='checkbox'] {
  position: absolute;
  top: 0;
  right: 0;
}

.l7-select-control--image .l7-select-control-item .l7-select-control-item-row {
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 26px;
}

.l7-select-control--image .l7-select-control-item .l7-select-control-item-row > * + * {
  margin-left: 8px;
}

.l7-select-control--image .l7-select-control-item.l7-select-control-item-active {
  border-color: #0370fe;
}

.l7-select-control-item {
  cursor: pointer;
}

.l7-select-control-item input[type='checkbox'] {
  margin: 0;
  cursor: pointer;
}

.l7-select-control--multiple .l7-select-control-item:hover {
  background-color: transparent;
}

.l7-control-logo {
  width: 89px;
  height: 16px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.l7-control-logo img {
  height: 100%;
  width: 100%;
}

.l7-control-logo .l7-control-logo-link {
  display: block;
  cursor: pointer;
}

.l7-control-logo .l7-control-logo-link img {
  cursor: pointer;
}

.l7-control-mouse-location {
  background-color: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);
  padding: 2px 4px;
  min-width: 130px;
}

.l7-control-zoom {
  overflow: hidden;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);
}

.l7-control-zoom .l7-button-control {
  font-size: 16px;
  border-bottom: 1px solid #f0f0f0;
  border-radius: 0;
  box-shadow: 0 0 0;
}

.l7-control-zoom .l7-button-control .l7-iconfont {
  width: 14px;
  height: 14px;
}

.l7-control-zoom .l7-button-control:last-child {
  border-bottom: 0;
}

.l7-control-zoom .l7-control-zoom__number {
  color: #595959;
  padding: 0;
}

.l7-control-zoom .l7-control-zoom__number:hover {
  background-color: #fff;
}

.l7-control-scale {
  display: flex;
  flex-direction: column;
}

.l7-control-scale .l7-control-scale-line {
  box-sizing: border-box;
  padding: 2px 5px 1px;
  overflow: hidden;
  color: #595959;
  font-size: 10px;
  line-height: 1.1;
  white-space: nowrap;
  background: #fff;
  border: 2px solid #000;
  border-top: 0;
  transition: width 0.1s;
}

.l7-control-scale .l7-control-scale-line + .l7-control-scale .l7-control-scale-line {
  margin-top: -2px;
  border-top: 2px solid #777;
  border-bottom: none;
}

.l7-right .l7-control-scale {
  display: flex;
  align-items: flex-end;
}

.l7-right .l7-control-scale .l7-control-scale-line {
  text-align: right;
}

.l7-popup {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 5;
  display: flex;
  will-change: transform;
  pointer-events: none;
}

.l7-popup.l7-popup-hide {
  display: none;
}

.l7-popup .l7-popup-content {
  position: relative;
  padding: 16px;
  font-size: 14px;
  background: #fff;
  border-radius: 3px;
  box-shadow: 0 1px 2px rgb(0 0 0 / 10%);
}

.l7-popup .l7-popup-content .l7-popup-content__title {
  margin-bottom: 8px;
  font-weight: bold;
}

.l7-popup .l7-popup-content .l7-popup-close-button,
.l7-popup .l7-popup-content .l7-popup-content__title,
.l7-popup .l7-popup-content .l7-popup-content__panel {
  white-space: normal;
  -webkit-user-select: text;
     -moz-user-select: text;
      -ms-user-select: text;
          user-select: text;
  pointer-events: initial;
}

.l7-popup .l7-popup-content .l7-popup-close-button {
  position: absolute;
  top: 0;
  right: 0;
  width: 18px;
  height: 18px;
  padding: 0;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  background-color: transparent;
  border: 0;
  border-radius: 0 3px 0 0;
  cursor: pointer;
}

.l7-popup .l7-popup-tip {
  position: relative;
  z-index: 1;
  width: 0;
  height: 0;
  border: 10px solid transparent;
}

.l7-popup.l7-popup-anchor-bottom,
.l7-popup.l7-popup-anchor-bottom-left,
.l7-popup.l7-popup-anchor-bottom-right {
  flex-direction: column-reverse;
}

.l7-popup.l7-popup-anchor-bottom .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-right .l7-popup-tip {
  bottom: 1px;
}

.l7-popup.l7-popup-anchor-top,
.l7-popup.l7-popup-anchor-top-left,
.l7-popup.l7-popup-anchor-top-right {
  flex-direction: column;
}

.l7-popup.l7-popup-anchor-top .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-right .l7-popup-tip {
  top: 1px;
}

.l7-popup.l7-popup-anchor-left {
  flex-direction: row;
}

.l7-popup.l7-popup-anchor-right {
  flex-direction: row-reverse;
}

.l7-popup-anchor-top .l7-popup-tip {
  position: relative;
  align-self: center;
  border-top: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-top-left .l7-popup-tip {
  align-self: flex-start;
  border-top: none;
  border-bottom-color: #fff;
  border-left: none;
}

.l7-popup-anchor-top-right .l7-popup-tip {
  align-self: flex-end;
  border-top: none;
  border-right: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-bottom .l7-popup-tip {
  align-self: center;
  border-top-color: #fff;
  border-bottom: none;
}

.l7-popup-anchor-bottom-left .l7-popup-tip {
  align-self: flex-start;
  border-top-color: #fff;
  border-bottom: none;
  border-left: none;
}

.l7-popup-anchor-bottom-right .l7-popup-tip {
  align-self: flex-end;
  border-top-color: #fff;
  border-right: none;
  border-bottom: none;
}

.l7-popup-anchor-left .l7-popup-tip {
  align-self: center;
  border-right-color: #fff;
  border-left: none;
}

.l7-popup-anchor-right .l7-popup-tip {
  right: 1px;
  align-self: center;
  border-right: none;
  border-left-color: #fff;
}

.l7-popup-anchor-top-left .l7-popup-content {
  border-top-left-radius: 0;
}

.l7-popup-anchor-top-right .l7-popup-content {
  border-top-right-radius: 0;
}

.l7-popup-anchor-bottom-left .l7-popup-content {
  border-bottom-left-radius: 0;
}

.l7-popup-anchor-bottom-right .l7-popup-content {
  border-bottom-right-radius: 0;
}

.l7-popup-track-pointer {
  display: none;
}

.l7-popup-track-pointer * {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  pointer-events: none;
}

.l7-map:hover .l7-popup-track-pointer {
  display: flex;
}

.l7-map:active .l7-popup-track-pointer {
  display: none;
}

.l7-layer-popup__row {
  font-size: 12px;
}

.l7-layer-popup__row + .l7-layer-popup__row {
  margin-top: 4px;
}

.l7-control-swipe {
  position: absolute;
  top: 50%;
  left: 50%;
  z-index: 6;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  touch-action: none;
}

.l7-control-swipe_hide {
  display: none;
}

.l7-control-swipe::before {
  position: absolute;
  top: -5000px;
  bottom: -5000px;
  left: 50%;
  z-index: -1;
  width: 4px;
  background: #fff;
  -webkit-transform: translate(-2px, 0);
          transform: translate(-2px, 0);
  content: '';
}

.l7-control-swipe.horizontal::before {
  inset: 50% -5000px auto;
  width: auto;
  height: 4px;
}

.l7-control-swipe__button {
  display: block;
  width: 28px;
  height: 28px;
  margin: 0;
  padding: 0;
  color: #595959;
  font-weight: bold;
  font-size: inherit;
  text-align: center;
  text-decoration: none;
  background-color: #fff;
  border: none;
  border-radius: 2px;
  outline: none;
}

.l7-control-swipe,
.l7-control-swipe__button {
  cursor: ew-resize;
}

.l7-control-swipe.horizontal,
.l7-control-swipe.horizontal button {
  cursor: ns-resize;
}

.l7-control-swipe::after,
.l7-control-swipe__button::before,
.l7-control-swipe__button::after {
  position: absolute;
  top: 25%;
  bottom: 25%;
  left: 50%;
  width: 2px;
  background: currentcolor;
  -webkit-transform: translate(-1px, 0);
          transform: translate(-1px, 0);
  content: '';
}

.l7-control-swipe__button::after {
  -webkit-transform: translateX(4px);
          transform: translateX(4px);
}

.l7-control-swipe__button::before {
  -webkit-transform: translateX(-6px);
          transform: translateX(-6px);
}
`);},fed44ee1:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("40f889b3")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ff1117a4:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{default:function(){return o;},utcDays:function(){return u;}});var n=r("777fffbe")._(r("d365c0f8")),a=r("184d1c4d"),i=(0,n.default)(function(e){e.setUTCHours(0,0,0,0);},function(e,t){e.setUTCDate(e.getUTCDate()+t);},function(e,t){return(t-e)/a.durationDay;},function(e){return e.getUTCDate()-1;}),o=i,u=i.range;},ff1a9b3f:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("5fb2e2a1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ff281992:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return o;}});var n=r("777fffbe"),a=n._(r("b9fd3c65")),i=n._(r("4b19d198"));class o extends i.default{setupShaders(){this.shaderModuleService.registerModule("ink-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}\n",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_Strength : 0.6;\n\nvec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 dx = vec2(1.0 / texSize.x, 0.0);\n  vec2 dy = vec2(0.0, 1.0 / texSize.y);\n  vec4 color = texture2D(texture, texCoord);\n  float bigTotal = 0.0;\n  float smallTotal = 0.0;\n  vec3 bigAverage = vec3(0.0);\n  vec3 smallAverage = vec3(0.0);\n  for (float x = -2.0; x <= 2.0; x += 1.0) {\n    for (float y = -2.0; y <= 2.0; y += 1.0) {\n      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\n      bigAverage += sample;\n      bigTotal += 1.0;\n      if (abs(x) + abs(y) < 2.0) {\n        smallAverage += sample;\n        smallTotal += 1.0;\n      }\n    }\n  }\n  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\n  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;\n  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}"});let{vs:e,fs:t,uniforms:r}=this.shaderModuleService.getModule("ink-pass"),{width:n,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:(0,a.default)((0,a.default)({},r),{},{u_ViewportSize:[n,i]})};}}},ff288658:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("535ff505")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;},ffc01522:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"version",{enumerable:!0,get:function(){return n;}});var n="2.23.1";},ffcd8994:function(e,t,r){"use strict";var n=r("91c615af").default,a=r("1c3732b0").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("54391344")),o=n(r("896e0d47")),u=a(r("878718b1")),l=a(r("4022630a")),f=o.forwardRef(function(e,t){return o.createElement(l.default,(0,i.default)({},e,{ref:t,icon:u.default}));});t.default=f;}}]);
//# sourceMappingURL=vendors_2-async.87740fcf.js.map